{"version":3,"file":"cyberplayer.js","sources":["webpack:///cyberplayer.js"],"sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.cyberplayer=t():e.cyberplayer=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i=window.webpackJsonpcyberplayer;window.webpackJsonpcyberplayer=function(n,a){for(var s,o,l=0,u=[];l<n.length;l++)o=n[l],r[o]&&u.push.apply(u,r[o]),r[o]=0;for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s]);for(i&&i(n,a);u.length;)u.shift().call(null,t)};var n={},r={0:0};return t.e=function(e,i){if(0===r[e])return i.call(null,t);if(void 0!==r[e])r[e].push(i);else{r[e]=[i];var n=document.getElementsByTagName(\"head\")[0],a=document.createElement(\"script\");a.type=\"text/javascript\",a.charset=\"utf-8\",a.async=!0,a.src=t.p+\"\"+({1:\"flv\"}[e]||e)+\".js\",n.appendChild(a)}},t.m=e,t.c=n,t.p=\"\",t(0)}([function(e,t,i){i(39),i(38),i(40),e.exports=i(114)},function(e,t,i){var n,r;n=[],r=function(){var e={},t=Array.prototype,i=Object.prototype,n=Function.prototype,r=t.slice,a=t.concat,s=i.toString,o=i.hasOwnProperty,l=t.map,u=t.reduce,d=t.forEach,c=t.filter,h=t.every,f=t.some,p=t.indexOf,m=Array.isArray,g=Object.keys,_=n.bind,v=function e(t){return t instanceof e?t:this instanceof e?void 0:new e(t)},y=v.each=v.forEach=function(t,i,n){if(null==t)return t;if(d&&t.forEach===d)t.forEach(i,n);else if(t.length===+t.length){for(var r=0,a=t.length;r<a;r++)if(i.call(n,t[r],r,t)===e)return}else for(var s=v.keys(t),r=0,a=s.length;r<a;r++)if(i.call(n,t[s[r]],s[r],t)===e)return;return t};v.map=v.collect=function(e,t,i){var n=[];return null==e?n:l&&e.map===l?e.map(t,i):(y(e,function(e,r,a){n.push(t.call(i,e,r,a))}),n)};var b=\"Reduce of empty array with no initial value\";v.reduce=v.foldl=v.inject=function(e,t,i,n){var r=arguments.length>2;if(null==e&&(e=[]),u&&e.reduce===u)return n&&(t=v.bind(t,n)),r?e.reduce(t,i):e.reduce(t);if(y(e,function(e,a,s){r?i=t.call(n,i,e,a,s):(i=e,r=!0)}),!r)throw new TypeError(b);return i},v.find=v.detect=function(e,t,i){var n;return A(e,function(e,r,a){if(t.call(i,e,r,a))return n=e,!0}),n},v.filter=v.select=function(e,t,i){var n=[];return null==e?n:c&&e.filter===c?e.filter(t,i):(y(e,function(e,r,a){t.call(i,e,r,a)&&n.push(e)}),n)},v.reject=function(e,t,i){return v.filter(e,function(e,n,r){return!t.call(i,e,n,r)},i)},v.compact=function(e){return v.filter(e,v.identity)},v.every=v.all=function(t,i,n){i||(i=v.identity);var r=!0;return null==t?r:h&&t.every===h?t.every(i,n):(y(t,function(t,a,s){if(!(r=r&&i.call(n,t,a,s)))return e}),!!r)};var A=v.some=v.any=function(t,i,n){i||(i=v.identity);var r=!1;return null==t?r:f&&t.some===f?t.some(i,n):(y(t,function(t,a,s){if(r||(r=i.call(n,t,a,s)))return e}),!!r)};v.size=function(e){return null==e?0:e.length===+e.length?e.length:v.keys(e).length},v.last=function(e,t,i){if(null!=e)return null==t||i?e[e.length-1]:r.call(e,Math.max(e.length-t,0))},v.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},v.before=function(e,t){var i;return function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=null),i}};var E=function(e){return null==e?v.identity:v.isFunction(e)?e:v.property(e)},w=function(e){return function(t,i,n){var r={};return i=E(i),y(t,function(a,s){var o=i.call(n,a,s,t);e(r,o,a)}),r}};v.groupBy=w(function(e,t,i){v.has(e,t)?e[t].push(i):e[t]=[i]}),v.indexBy=w(function(e,t,i){e[t]=i}),v.sortedIndex=function(e,t,i,n){i=E(i);for(var r=i.call(n,t),a=0,s=e.length;a<s;){var o=a+s>>>1;i.call(n,e[o])<r?a=o+1:s=o}return a};var A=v.some=v.any=function(t,i,n){i||(i=v.identity);var r=!1;return null==t?r:f&&t.some===f?t.some(i,n):(y(t,function(t,a,s){if(r||(r=i.call(n,t,a,s)))return e}),!!r)};v.contains=v.include=function(e,t){return null!=e&&(e.length!==+e.length&&(e=v.values(e)),v.indexOf(e,t)>=0)},v.pluck=function(e,t){return v.map(e,v.property(t))},v.where=function(e,t){return v.filter(e,v.matches(t))},v.findWhere=function(e,t){return v.find(e,v.matches(t))},v.max=function(e,t,i){if(!t&&v.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var n=-(1/0),r=-(1/0);return y(e,function(e,a,s){var o=t?t.call(i,e,a,s):e;o>r&&(n=e,r=o)}),n},v.difference=function(e){var i=a.apply(t,r.call(arguments,1));return v.filter(e,function(e){return!v.contains(i,e)})},v.without=function(e){return v.difference(e,r.call(arguments,1))},v.indexOf=function(e,t,i){if(null==e)return-1;var n=0,r=e.length;if(i){if(\"number\"!=typeof i)return n=v.sortedIndex(e,t),e[n]===t?n:-1;n=i<0?Math.max(0,r+i):i}if(p&&e.indexOf===p)return e.indexOf(t,i);for(;n<r;n++)if(e[n]===t)return n;return-1};var T=function(){};v.bind=function(e,t){var i,n;if(_&&e.bind===_)return _.apply(e,r.call(arguments,1));if(!v.isFunction(e))throw new TypeError;return i=r.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,i.concat(r.call(arguments)));T.prototype=e.prototype;var a=new T;T.prototype=null;var s=e.apply(a,i.concat(r.call(arguments)));return Object(s)===s?s:a}},v.partial=function(e){var t=r.call(arguments,1);return function(){for(var i=0,n=t.slice(),r=0,a=n.length;r<a;r++)n[r]===v&&(n[r]=arguments[i++]);for(;i<arguments.length;)n.push(arguments[i++]);return e.apply(this,n)}},v.once=v.partial(v.before,2),v.memoize=function(e,t){var i={};return t||(t=v.identity),function(){var n=t.apply(this,arguments);return v.has(i,n)?i[n]:i[n]=e.apply(this,arguments)}},v.delay=function(e,t){var i=r.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},v.defer=function(e){return v.delay.apply(v,[e,1].concat(r.call(arguments,1)))},v.throttle=function(e,t,i){var n,r,a,s=null,o=0;i||(i={});var l=function(){o=i.leading===!1?0:v.now(),s=null,a=e.apply(n,r),n=r=null};return function(){var u=v.now();o||i.leading!==!1||(o=u);var d=t-(u-o);return n=this,r=arguments,d<=0?(clearTimeout(s),s=null,o=u,a=e.apply(n,r),n=r=null):s||i.trailing===!1||(s=setTimeout(l,d)),a}},v.keys=function(e){if(!v.isObject(e))return[];if(g)return g(e);var t=[];for(var i in e)v.has(e,i)&&t.push(i);return t},v.invert=function(e){for(var t={},i=v.keys(e),n=0,r=i.length;n<r;n++)t[e[i[n]]]=i[n];return t},v.defaults=function(e){return y(r.call(arguments,1),function(t){if(t)for(var i in t)void 0===e[i]&&(e[i]=t[i])}),e},v.extend=function(e){return y(r.call(arguments,1),function(t){if(t)for(var i in t)e[i]=t[i]}),e},v.pick=function(e){var i={},n=a.apply(t,r.call(arguments,1));return y(n,function(t){t in e&&(i[t]=e[t])}),i},v.omit=function(e){var i={},n=a.apply(t,r.call(arguments,1));for(var s in e)v.contains(n,s)||(i[s]=e[s]);return i},v.clone=function(e){return v.isObject(e)?v.isArray(e)?e.slice():v.extend({},e):e},v.isArray=m||function(e){return\"[object Array]\"==s.call(e)},v.isObject=function(e){return e===Object(e)},y([\"Arguments\",\"Function\",\"String\",\"Number\",\"Date\",\"RegExp\"],function(e){v[\"is\"+e]=function(t){return s.call(t)==\"[object \"+e+\"]\"}}),v.isArguments(arguments)||(v.isArguments=function(e){return!(!e||!v.has(e,\"callee\"))}),v.isFunction=function(e){return\"function\"==typeof e},v.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},v.isNaN=function(e){return v.isNumber(e)&&e!=+e},v.isBoolean=function(e){return e===!0||e===!1||\"[object Boolean]\"==s.call(e)},v.isNull=function(e){return null===e},v.isUndefined=function(e){return void 0===e},v.has=function(e,t){return o.call(e,t)},v.identity=function(e){return e},v.constant=function(e){return function(){return e}},v.property=function(e){return function(t){return t[e]}},v.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},v.matches=function(e){return function(t){if(t===e)return!0;for(var i in e)if(e[i]!==t[i])return!1;return!0}},v.now=Date.now||function(){return(new Date).getTime()},v.result=function(e,t){if(null!=e){var i=e[t];return v.isFunction(i)?i.call(e):i}};var S=0;return v.uniqueId=function(e){var t=++S+\"\";return e?e+t:t},v}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r,a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};n=[i(8),i(1),i(63),i(24),i(14),i(44),i(65),i(62),i(25),i(130),i(133),i(131)],r=function(e,t,i,n,r,s,o,l,u,d,c,h){var f={};return f.log=function(){window.console&&(\"object\"===a(console.log)?console.log(Array.prototype.slice.call(arguments,0)):console.log.apply(console,arguments))},f.between=function(e,t,i){return Math.max(Math.min(e,i),t)},f.foreach=function(e,t){var i,n;for(i in e)\"function\"===f.typeOf(e.hasOwnProperty)?e.hasOwnProperty(i)&&(n=e[i],t(i,n)):(n=e[i],t(i,n))},f.indexOf=t.indexOf,f.noop=function(){},f.seconds=e.seconds,f.prefix=e.prefix,f.suffix=e.suffix,t.extend(f,s,o,u,i,l,n,r,d,c,h),f}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r,a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};n=[i(1)],r=function(e){var t=[],i=t.slice,n={on:function(e,t,i){if(!s(this,\"on\",e,[t,i])||!t)return this;this._events||(this._events={});var n=this._events[e]||(this._events[e]=[]);return n.push({callback:t,context:i}),this},once:function t(i,n,r){if(!s(this,\"once\",i,[n,r])||!n)return this;var a=this,t=e.once(function(){a.off(i,t),n.apply(this,arguments)});return t._callback=n,this.on(i,t,r)},off:function(t,i,n){var r,a,o,l,u,d,c,h;if(!this._events||!s(this,\"off\",t,[i,n]))return this;if(!t&&!i&&!n)return this._events=void 0,this;for(l=t?[t]:e.keys(this._events),u=0,d=l.length;u<d;u++)if(t=l[u],o=this._events[t]){if(this._events[t]=r=[],i||n)for(c=0,h=o.length;c<h;c++)a=o[c],(i&&i!==a.callback&&i!==a.callback._callback||n&&n!==a.context)&&r.push(a);r.length||delete this._events[t]}return this},trigger:function(e){if(!this._events)return this;var t=i.call(arguments,1);if(!s(this,\"trigger\",e,t))return this;var n=this._events[e],r=this._events.all;return n&&o(n,t,this),r&&o(r,arguments,this),this},triggerSafe:function(e){if(!this._events)return this;var t=i.call(arguments,1);if(!s(this,\"trigger\",e,t))return this;var n=this._events[e],r=this._events.all;return n&&l(n,t,this),r&&l(r,arguments,this),this}},r=/\\s+/,s=function(e,t,i,n){if(!i)return!0;if(\"object\"===(\"undefined\"==typeof i?\"undefined\":a(i))){for(var s in i)e[t].apply(e,[s,i[s]].concat(n));return!1}if(r.test(i)){for(var o=i.split(r),l=0,u=o.length;l<u;l++)e[t].apply(e,[o[l]].concat(n));return!1}return!0},o=function(e,t,i){var n,r=-1,a=e.length,s=t[0],o=t[1],l=t[2];switch(t.length){case 0:for(;++r<a;)(n=e[r]).callback.call(n.context||i);return;case 1:for(;++r<a;)(n=e[r]).callback.call(n.context||i,s);return;case 2:for(;++r<a;)(n=e[r]).callback.call(n.context||i,s,o);return;case 3:for(;++r<a;)(n=e[r]).callback.call(n.context||i,s,o,l);return;default:for(;++r<a;)(n=e[r]).callback.apply(n.context||i,t);return}},l=function(e,t,i){for(var n,r=-1,a=e.length;++r<a;)try{(n=e[r]).callback.apply(n.context||i,t)}catch(e){}};return n}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[],r=function(){var e={DRAG:\"drag\",DRAG_START:\"dragStart\",DRAG_END:\"dragEnd\",CLICK:\"click\",DOUBLE_CLICK:\"doubleClick\",TAP:\"tap\",DOUBLE_TAP:\"doubleTap\",OVER:\"over\",MOVE:\"move\",OUT:\"out\"},t={COMPLETE:\"complete\",ERROR:\"error\",JWPLAYER_AD_CLICK:\"adClick\",JWPLAYER_AD_COMPANIONS:\"adCompanions\",JWPLAYER_AD_COMPLETE:\"adComplete\",JWPLAYER_AD_ERROR:\"adError\",JWPLAYER_AD_IMPRESSION:\"adImpression\",JWPLAYER_AD_META:\"adMeta\",JWPLAYER_AD_PAUSE:\"adPause\",JWPLAYER_AD_PLAY:\"adPlay\",JWPLAYER_AD_SKIPPED:\"adSkipped\",JWPLAYER_AD_TIME:\"adTime\",JWPLAYER_CAST_AD_CHANGED:\"castAdChanged\",JWPLAYER_MEDIA_COMPLETE:\"complete\",JWPLAYER_READY:\"ready\",JWPLAYER_H265WEB_COVERLOADED:\"coverImageLoaded\",JWPLAYER_MEDIA_SEEK:\"seek\",JWPLAYER_MEDIA_BEFOREPLAY:\"beforePlay\",JWPLAYER_MEDIA_BEFORECOMPLETE:\"beforeComplete\",JWPLAYER_MEDIA_BUFFER_FULL:\"bufferFull\",JWPLAYER_DISPLAY_CLICK:\"displayClick\",JWPLAYER_PLAYLIST_COMPLETE:\"playlistComplete\",JWPLAYER_CAST_SESSION:\"cast\",JWPLAYER_MEDIA_ERROR:\"mediaError\",JWPLAYER_MEDIA_FIRST_FRAME:\"firstFrame\",JWPLAYER_MEDIA_PLAY_ATTEMPT:\"playAttempt\",JWPLAYER_MEDIA_LOADED:\"loaded\",JWPLAYER_MEDIA_SEEKED:\"seeked\",JWPLAYER_SETUP_ERROR:\"setupError\",JWPLAYER_ERROR:\"error\",JWPLAYER_PLAYER_STATE:\"state\",JWPLAYER_CAST_AVAILABLE:\"castAvailable\",JWPLAYER_MEDIA_BUFFER:\"bufferChange\",JWPLAYER_MEDIA_TIME:\"time\",JWPLAYER_MEDIA_TYPE:\"mediaType\",JWPLAYER_MEDIA_VOLUME:\"volume\",JWPLAYER_MEDIA_MUTE:\"mute\",JWPLAYER_MEDIA_META:\"meta\",JWPLAYER_MEDIA_LEVELS:\"levels\",JWPLAYER_MEDIA_LEVEL_CHANGED:\"levelsChanged\",JWPLAYER_CONTROLS:\"controls\",JWPLAYER_FULLSCREEN:\"fullscreen\",JWPLAYER_RESIZE:\"resize\",JWPLAYER_PLAYLIST_ITEM:\"playlistItem\",JWPLAYER_PLAYLIST_LOADED:\"playlist\",JWPLAYER_AUDIO_TRACKS:\"audioTracks\",JWPLAYER_AUDIO_TRACK_CHANGED:\"audioTrackChanged\",JWPLAYER_CONNECTING:\"connecting\",JWPLAYER_CONNECT_FAILD:\"connectFaild\",JWPLAYER_NO_LIVE_STREAM:\"noLiveStream\",JWPLAYER_ALIVE:\"alive\",JWPLAYER_LIVE_STOP:\"liveStop\",JWPLAYER_PLAYBACKRATE:\"playbackRate\",JWPLAYER_LOGO_CLICK:\"logoClick\",JWPLAYER_CAPTIONS_LIST:\"captionsList\",JWPLAYER_CAPTIONS_CHANGED:\"captionsChanged\",JWPLAYER_PROVIDER_CHANGED:\"providerChanged\",JWPLAYER_PROVIDER_FIRST_FRAME:\"providerFirstFrame\",JWPLAYER_USER_ACTION:\"userAction\",JWPLAYER_PROVIDER_CLICK:\"providerClick\",JWPLAYER_VIEW_TAB_FOCUS:\"tabFocus\",JWPLAYER_CONTROLBAR_DRAGGING:\"scrubbing\",JWPLAYER_INSTREAM_CLICK:\"instreamClick\",JWPLAYER_CUEPOINT:\"cuepoint\",JWPLAYER_SEEK_FORWARD_FORBIDDEN:\"seekForwardForbidden\"};return t.touchEvents=e,t}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t){\"use strict\";function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function n(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=t.RuntimeException=function(){function e(t){r(this,e),this._message=t}return e.prototype.toString=function(){return this.name+\": \"+this.message},a(e,[{key:\"name\",get:function(){return\"RuntimeException\"}},{key:\"message\",get:function(){return this._message}}]),e}();t.IllegalStateException=function(e){function t(n){return r(this,t),i(this,e.call(this,n))}return n(t,e),a(t,[{key:\"name\",get:function(){return\"IllegalStateException\"}}]),t}(s),t.InvalidArgumentException=function(e){function t(n){return r(this,t),i(this,e.call(this,n))}return n(t,e),a(t,[{key:\"name\",get:function(){return\"InvalidArgumentException\"}}]),t}(s),t.NotImplementedException=function(e){function t(n){return r(this,t),i(this,e.call(this,n))}return n(t,e),a(t,[{key:\"name\",get:function(){return\"NotImplementedException\"}}]),t}(s)},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var a=i(16),s=n(a),o=function(){function e(){r(this,e)}return e.e=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n=\"[\"+t+\"] > \"+i;e.ENABLE_CALLBACK&&e.emitter.emit(\"log\",\"error\",n),e.ENABLE_ERROR&&(console.error?console.error(n):console.warn?console.warn(n):console.log(n))},e.i=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n=\"[\"+t+\"] > \"+i;e.ENABLE_CALLBACK&&e.emitter.emit(\"log\",\"info\",n),e.ENABLE_INFO&&(console.info?console.info(n):console.log(n))},e.w=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n=\"[\"+t+\"] > \"+i;e.ENABLE_CALLBACK&&e.emitter.emit(\"log\",\"warn\",n),e.ENABLE_WARN&&(console.warn?console.warn(n):console.log(n))},e.d=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n=\"[\"+t+\"] > \"+i;e.ENABLE_CALLBACK&&e.emitter.emit(\"log\",\"debug\",n),e.ENABLE_DEBUG&&(console.debug?console.debug(n):console.log(n))},e.v=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n=\"[\"+t+\"] > \"+i;e.ENABLE_CALLBACK&&e.emitter.emit(\"log\",\"verbose\",n),e.ENABLE_VERBOSE&&console.log(n)},e}();o.GLOBAL_TAG=\"flv.js\",o.FORCE_GLOBAL_TAG=!1,o.ENABLE_ERROR=!0,o.ENABLE_INFO=!0,o.ENABLE_WARN=!0,o.ENABLE_DEBUG=!0,o.ENABLE_VERBOSE=!0,o.ENABLE_CALLBACK=!1,o.emitter=new s.default,t.default=o,e.exports=t.default},function(e,t,i){var n,r;n=[],r=function(){return{BUFFERING:\"buffering\",IDLE:\"idle\",COMPLETE:\"complete\",PAUSED:\"paused\",PLAYING:\"playing\",ERROR:\"error\",LOADING:\"loading\",STALLED:\"stalled\"}}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(1)],r=function(e){function t(e){return!!/[\\(,]format=m3u8-/i.test(e)&&\"m3u8\"}var i=function(e){return e.replace(/^\\s+|\\s+$/g,\"\")},n=function(e,t,i){for(e=\"\"+e,i=i||\"0\";e.length<t;)e=i+e;return e},r=function(e,t){for(var i=0;i<e.attributes.length;i++)if(e.attributes[i].name&&e.attributes[i].name.toLowerCase()===t.toLowerCase())return e.attributes[i].value.toString();return\"\"},a=function(e){if(!e||\"rtmp\"===e.substr(0,4))return\"\";var i=t(e);return i?i:(e=e.split(\"?\")[0].split(\"#\")[0],e.lastIndexOf(\".\")>-1?e.substr(e.lastIndexOf(\".\")+1,e.length).toLowerCase():void 0)},s=function(e){var t=parseInt(e/3600),i=parseInt(e/60)%60,r=e%60;return n(t,2)+\":\"+n(i,2)+\":\"+n(r.toFixed(3),6)},o=function(t){if(e.isNumber(t))return t;t=t.replace(\",\",\".\");var i=t.split(\":\"),n=0;return\"s\"===t.slice(-1)?n=parseFloat(t):\"m\"===t.slice(-1)?n=60*parseFloat(t):\"h\"===t.slice(-1)?n=3600*parseFloat(t):i.length>1?(n=parseFloat(i[i.length-1]),n+=60*parseFloat(i[i.length-2]),3===i.length&&(n+=3600*parseFloat(i[i.length-3]))):n=parseFloat(t),n},l=function(t,i){return e.map(t,function(e){return i+e})},u=function(t,i){return e.map(t,function(e){return e+i})};return{trim:i,pad:n,xmlAttribute:r,extension:a,hms:s,seconds:o,suffix:u,prefix:l}}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(3),i(4),i(1),i(2)],r=function(e,t,i,n){function r(e,t){return/touch/.test(e.type)?(e.originalEvent||e).changedTouches[0][\"page\"+t]:e[\"page\"+t]}function a(e){var t=e||window.event;return!!(n.isPoorIE()||e instanceof MouseEvent)&&(\"which\"in t?3===t.which:\"button\"in t&&2===t.button)}function s(e,t,i){var r;r=!n.isPoorIE()&&t instanceof MouseEvent||!t.touches&&!t.changedTouches?t:t.touches&&t.touches.length?t.touches[0]:t.changedTouches[0];var a=document.documentElement.scrollLeft||document.body.scrollLeft,s=document.documentElement.scrollTop||document.body.scrollTop;return{type:e,target:t.target||t.srcElement,currentTarget:i,pageX:r.pageX||r.clientX+a,pageY:r.pageY||r.clientY+s}}function o(e){(n.isPoorIE()||e instanceof MouseEvent||e instanceof window.TouchEvent)&&(e.preventManipulation&&e.preventManipulation(),e.cancelable&&e.preventDefault&&e.preventDefault())}var l=!i.isUndefined(window.PointerEvent),u=!l&&n.isMobile(),d=!l&&!u,c=n.isFF()&&n.isOSX(),h=function(e,u){function h(e){(d||l&&\"touch\"!==e.pointerType)&&v(t.touchEvents.OVER,e)}function f(e){(d||l&&\"touch\"!==e.pointerType)&&v(t.touchEvents.MOVE,e)}function p(i){(d||l&&\"touch\"!==i.pointerType&&!e.contains(document.elementFromPoint(i.x,i.y)))&&v(t.touchEvents.OUT,i)}function m(t){y=t.target,w=r(t,\"X\"),T=r(t,\"Y\"),a(t)||(l?t.isPrimary&&(u.preventScrolling&&(b=t.pointerId,e.setPointerCapture(b)),n.addEventListener(e,\"pointermove\",g),n.addEventListener(e,\"pointercancel\",_),n.addEventListener(e,\"pointerup\",_)):d&&(n.addEventListener(document,\"mousemove\",g),c&&\"object\"===t.target.nodeName.toLowerCase()?n.addEventListener(e,\"click\",_):n.addEventListener(document,\"mouseup\",_)),y&&(n.addEventListener(y,\"touchmove\",g),n.addEventListener(y,\"touchcancel\",_),n.addEventListener(y,\"touchend\",_)))}function g(e){var i=t.touchEvents,n=6;if(E)v(i.DRAG,e);else{var a=r(e,\"X\"),s=r(e,\"Y\"),l=a-w,d=s-T;l*l+d*d>n*n&&(v(i.DRAG_START,e),E=!0,v(i.DRAG,e))}u.preventScrolling&&o(e)}function _(i){var r=t.touchEvents;l?(u.preventScrolling&&e.releasePointerCapture(b),n.removeEventListener(e,\"pointermove\",g),n.removeEventListener(e,\"pointercancel\",_),n.removeEventListener(e,\"pointerup\",_)):d&&(n.removeEventListener(document,\"mousemove\",g),n.removeEventListener(document,\"mouseup\",_)),y&&(n.removeEventListener(y,\"touchmove\",g),n.removeEventListener(y,\"touchcancel\",_),n.removeEventListener(y,\"touchend\",_)),E?v(r.DRAG_END,i):u.directSelect&&i.target!==e||i.type.indexOf(\"cancel\")!==-1||(l&&i instanceof window.PointerEvent?\"touch\"===i.pointerType?v(r.TAP,i):v(r.CLICK,i):d?v(r.CLICK,i):(v(r.TAP,i),o(i))),y=null,E=!1}function v(e,n){var r;if(u.enableDoubleTap&&(e===t.touchEvents.CLICK||e===t.touchEvents.TAP))if(i.now()-S<C){var a=e===t.touchEvents.CLICK?t.touchEvents.DOUBLE_CLICK:t.touchEvents.DOUBLE_TAP;r=s(a,n,A),k.trigger(a,r),S=0}else S=i.now();r=s(e,n,A),k.trigger(e,r)}var y,b,A=e,E=!1,w=0,T=0,S=0,C=300;u=u||{},l?(n.addEventListener(e,\"pointerdown\",m),u.useHover&&(n.addEventListener(e,\"pointerover\",h),n.addEventListener(e,\"pointerout\",p)),u.useMove&&n.addEventListener(e,\"pointermove\",f)):d&&(n.addEventListener(e,\"mousedown\",m),u.useHover&&(n.addEventListener(e,\"mouseover\",h),n.addEventListener(e,\"mouseout\",p)),u.useMove&&n.addEventListener(e,\"mousemove\",f)),n.addEventListener(e,\"touchstart\",m);var k=this;return this.triggerEvent=v,this.destroy=function(){n.removeEventListener(e,\"touchstart\",m),n.removeEventListener(e,\"mousedown\",m),y&&(n.removeEventListener(y,\"touchmove\",g),n.removeEventListener(y,\"touchcancel\",_),n.removeEventListener(y,\"touchend\",_)),l&&(u.preventScrolling&&e.releasePointerCapture(b),n.removeEventListener(e,\"pointerover\",h),n.removeEventListener(e,\"pointerdown\",m),n.removeEventListener(e,\"pointermove\",g),n.removeEventListener(e,\"pointermove\",f),n.removeEventListener(e,\"pointercancel\",_),n.removeEventListener(e,\"pointerout\",p),n.removeEventListener(e,\"pointerup\",_)),n.removeEventListener(e,\"click\",_),n.removeEventListener(e,\"mouseover\",h),n.removeEventListener(e,\"mousemove\",f),n.removeEventListener(e,\"mouseout\",p),n.removeEventListener(document,\"mousemove\",g),n.removeEventListener(document,\"mouseup\",_)},this};return i.extend(h.prototype,e),h}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){e.exports=i(157).default},,function(e,t){\"use strict\";function i(e){return d[e]}function n(e){for(var t=1;t<arguments.length;t++)for(var i in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],i)&&(e[i]=arguments[t][i]);return e}function r(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}function a(e){if(\"string\"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return\"\";if(!e)return e+\"\";e=\"\"+e}return h.test(e)?e.replace(c,i):e}function s(e){return!e&&0!==e||!(!m(e)||0!==e.length)}function o(e){var t=n({},e);return t._parent=e,t}function l(e,t){return e.path=t,e}function u(e,t){return(e?e+\".\":\"\")+t}t.__esModule=!0,t.extend=n,t.indexOf=r,t.escapeExpression=a,t.isEmpty=s,t.createFrame=o,t.blockParams=l,t.appendContextPath=u;var d={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#x27;\",\"`\":\"&#x60;\",\"=\":\"&#x3D;\"},c=/[&<>\"'`=]/g,h=/[&<>\"'`=]/,f=Object.prototype.toString;t.toString=f;var p=function(e){return\"function\"==typeof e};p(/x/)&&(t.isFunction=p=function(e){return\"function\"==typeof e&&\"[object Function]\"===f.call(e)}),t.isFunction=p;var m=Array.isArray||function(e){return!(!e||\"object\"!=typeof e)&&\"[object Array]\"===f.call(e)};t.isArray=m},function(e,t,i){\"use strict\";function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0,t.BaseLoader=t.LoaderErrors=t.LoaderStatus=void 0;var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(5),s=t.LoaderStatus={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4};t.LoaderErrors={OK:\"OK\",EXCEPTION:\"Exception\",HTTP_STATUS_CODE_INVALID:\"HttpStatusCodeInvalid\",CONNECTING_TIMEOUT:\"ConnectingTimeout\",EARLY_EOF:\"EarlyEof\",UNRECOVERABLE_EARLY_EOF:\"UnrecoverableEarlyEof\"},t.BaseLoader=function(){function e(t){n(this,e),this._type=t||\"undefined\",this._status=s.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return e.prototype.destroy=function(){this._status=s.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},e.prototype.isWorking=function(){return this._status===s.kConnecting||this._status===s.kBuffering},e.prototype.open=function(e,t){throw new a.NotImplementedException(\"Unimplemented abstract function!\")},e.prototype.abort=function(){throw new a.NotImplementedException(\"Unimplemented abstract function!\")},r(e,[{key:\"type\",get:function(){return this._type}},{key:\"status\",get:function(){return this._status}},{key:\"needStashBuffer\",get:function(){return this._needStash}},{key:\"onContentLengthKnown\",get:function(){return this._onContentLengthKnown},set:function(e){this._onContentLengthKnown=e}},{key:\"onURLRedirect\",get:function(){return this._onURLRedirect},set:function(e){this._onURLRedirect=e}},{key:\"onDataArrival\",get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e}},{key:\"onError\",get:function(){return this._onError},set:function(e){this._onError=e}},{key:\"onComplete\",get:function(){return this._onComplete},set:function(e){this._onComplete=e}}]),e}()},function(e,t,i){var n,r,a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};n=[i(8),i(71)],r=function(e,t){function i(e){e=e.split(\"-\");for(var t=1;t<e.length;t++)e[t]=e[t].charAt(0).toUpperCase()+e[t].slice(1);return e.join(\"\")}function n(t,i,n){if(\"\"===i||void 0===i||null===i)return\"\";var r=n?\" !important\":\"\";return\"string\"==typeof i&&isNaN(i)?/png|gif|jpe?g/i.test(i)&&i.indexOf(\"url\")<0?\"url(\"+i+\")\":i+r:0===i||\"z-index\"===t||\"opacity\"===t?\"\"+i+r:/color/i.test(t)?\"#\"+e.pad(i.toString(16).replace(/^0x/i,\"\"),6)+r:Math.ceil(i)+\"px\"+r}var r=function(e,i,n){n=n||\"all-players\";var r=\"\";if(\"object\"===(\"undefined\"==typeof i?\"undefined\":a(i))){var o=document.createElement(\"div\");s(o,i),r=\"{\"+o.style.cssText+\"}\"}else\"string\"==typeof i&&(r=i);t.style([[e,e+r]],n)},s=function(e,t){if(void 0!==e&&null!==e){void 0===e.length&&(e=[e]);var r,a={};for(r in t)a[r]=n(r,t[r]);for(var s=0;s<e.length;s++){var o,l=e[s];if(void 0!==l&&null!==l)for(r in a)o=i(r),l.style[o]!==a[r]&&(l.style[o]=a[r])}}},o=function(e,t){s(e,{transform:t,webkitTransform:t,msTransform:t,mozTransform:t,oTransform:t})},l=function(e,t){s(e,{animation:t,webkitAnimation:t,msAnimation:t,mozAnimation:t,oAnimation:t})},u=function(e,t){var i=\"rgb\";e?(e=String(e).replace(\"#\",\"\"),3===e.length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2))):e=\"000000\";var n=[parseInt(e.substr(0,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(4,2),16)];return void 0!==t&&100!==t&&(i+=\"a\",n.push(t/100)),i+\"(\"+n.join(\",\")+\")\"};return{css:r,style:s,clearCss:t.clear,transform:o,animation:l,hexToRgba:u}}.apply(t,n),!(void 0!==r&&(e.exports=r))},,function(e,t){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return\"function\"==typeof e}function r(e){return\"number\"==typeof e}function a(e){return\"object\"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!r(e)||e<0||isNaN(e))throw TypeError(\"n must be a positive number\");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,i,r,o,l,u;if(this._events||(this._events={}),\"error\"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var d=new Error('Uncaught, unspecified \"error\" event. ('+t+\")\");throw d.context=t,d}if(i=this._events[e],s(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),i.apply(this,o)}else if(a(i))for(o=Array.prototype.slice.call(arguments,1),u=i.slice(),r=u.length,l=0;l<r;l++)u[l].apply(this,o);return!0},i.prototype.addListener=function(e,t){var r;if(!n(t))throw TypeError(\"listener must be a function\");return this._events||(this._events={}),this._events.newListener&&this.emit(\"newListener\",e,n(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(r=s(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\",this._events[e].length),\"function\"==typeof console.trace&&console.trace())),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}if(!n(t))throw TypeError(\"listener must be a function\");var r=!1;return i.listener=t,this.on(e,i),this},i.prototype.removeListener=function(e,t){var i,r,s,o;if(!n(t))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[e])return this;if(i=this._events[e],s=i.length,r=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit(\"removeListener\",e,t);else if(a(i)){for(o=s;o-- >0;)if(i[o]===t||i[o].listener&&i[o].listener===t){r=o;break}if(r<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(r,1),this._events.removeListener&&this.emit(\"removeListener\",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)\"removeListener\"!==t&&this.removeAllListeners(t);return this.removeAllListeners(\"removeListener\"),this._events={},this}if(i=this._events[e],n(i))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){\"use strict\";function i(e,t){var r=t&&t.loc,a=void 0,s=void 0,o=void 0,l=void 0;r&&(a=r.start.line,s=r.end.line,o=r.start.column,l=r.end.column,e+=\" - \"+a+\":\"+o);for(var u=Error.prototype.constructor.call(this,e),d=0;d<n.length;d++)this[n[d]]=u[n[d]];Error.captureStackTrace&&Error.captureStackTrace(this,i);try{r&&(this.lineNumber=a,this.endLineNumber=s,Object.defineProperty?(Object.defineProperty(this,\"column\",{value:o,enumerable:!0}),Object.defineProperty(this,\"endColumn\",{value:l,enumerable:!0})):(this.column=o,this.endColumn=l))}catch(e){}}t.__esModule=!0;var n=[\"description\",\"fileName\",\"lineNumber\",\"endLineNumber\",\"message\",\"name\",\"number\",\"stack\"];i.prototype=new Error,t.default=i,e.exports=t.default},function(e,t,i){var n,r;\nn=[],r=function(){return\"3.5.6\"}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t){\"use strict\";function i(){var e=self.navigator.userAgent.toLowerCase(),t=/(edge)\\/([\\w.]+)/.exec(e)||/(opr)[\\/]([\\w.]+)/.exec(e)||/(chrome)[ \\/]([\\w.]+)/.exec(e)||/(iemobile)[\\/]([\\w.]+)/.exec(e)||/(version)(applewebkit)[ \\/]([\\w.]+).*(safari)[ \\/]([\\w.]+)/.exec(e)||/(webkit)[ \\/]([\\w.]+).*(version)[ \\/]([\\w.]+).*(safari)[ \\/]([\\w.]+)/.exec(e)||/(webkit)[ \\/]([\\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec(e)||/(msie) ([\\w.]+)/.exec(e)||e.indexOf(\"trident\")>=0&&/(rv)(?::| )([\\w.]+)/.exec(e)||e.indexOf(\"compatible\")<0&&/(firefox)[ \\/]([\\w.]+)/.exec(e)||[],i=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],r={browser:t[5]||t[3]||t[1]||\"\",version:t[2]||t[4]||\"0\",majorVersion:t[4]||t[2]||\"0\",platform:i[0]||\"\"},a={};if(r.browser){a[r.browser]=!0;var s=r.majorVersion.split(\".\");a.version={major:parseInt(r.majorVersion,10),string:r.version},s.length>1&&(a.version.minor=parseInt(s[1],10)),s.length>2&&(a.version.build=parseInt(s[2],10))}if(r.platform&&(a[r.platform]=!0),(a.chrome||a.opr||a.safari)&&(a.webkit=!0),a.rv||a.iemobile){a.rv&&delete a.rv;var o=\"msie\";r.browser=o,a[o]=!0}if(a.edge){delete a.edge;var l=\"msedge\";r.browser=l,a[l]=!0}if(a.opr){var u=\"opera\";r.browser=u,a[u]=!0}if(a.safari&&a.android){var d=\"android\";r.browser=d,a[d]=!0}a.name=r.browser,a.platform=r.platform;for(var c in n)n.hasOwnProperty(c)&&delete n[c];Object.assign(n,a)}t.__esModule=!0;var n={};i(),t.default=n,e.exports=t.default},function(e,t,i){var n,r;n=[i(8)],r=function(e){return{localName:function(e){return e?e.localName?e.localName:e.baseName?e.baseName:\"\":\"\"},textContent:function(t){return t?t.textContent?e.trim(t.textContent):t.text?e.trim(t.text):\"\":\"\"},getChildNode:function(e,t){return e.childNodes[t]},numChildren:function(e){return e.childNodes?e.childNodes.length:0}}}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(2),i(4),i(7),i(1)],r=function(e,t,i,n){var r=e.noop,a=n.constant(!1),s={supports:a,play:r,load:r,stop:r,volume:r,mute:r,seek:r,resize:r,remove:r,destroy:r,setVisibility:r,setFullscreen:a,getFullscreen:r,getContainer:r,setContainer:a,getName:r,getQualityLevels:r,getCurrentQuality:r,setCurrentQuality:r,getAudioTracks:r,getCurrentAudioTrack:r,setCurrentAudioTrack:r,checkComplete:r,setControls:r,attachMedia:r,detachMedia:r,setState:function(e){var n=this.state||i.IDLE;this.state=e,e!==n&&this.trigger(t.JWPLAYER_PLAYER_STATE,{newstate:e})},sendMediaType:function(e){var i=e[0].type,n=\"oga\"===i||\"aac\"===i||\"mp3\"===i||\"mpeg\"===i||\"vorbis\"===i;this.trigger(t.JWPLAYER_MEDIA_TYPE,{mediaType:n?\"audio\":\"video\"})}};return s}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(21),i(61),i(125),i(1)],r=function(e,t,n,r){function a(e){this.providers=t.slice(),this.config=e||{},this.reorderProviders()}return a.registerProvider=function(i){var a=i.getName().name;if(!n[a]){if(!r.find(t,r.matches({name:a}))){if(!r.isFunction(i.supports))throw{message:\"Tried to register a provider with an invalid object\"};t.unshift({name:a,supports:i.supports})}var s=function(){};s.prototype=e,i.prototype=new s,n[a]=i}},a.load=function(e){return Promise.all(r.map(e,function(e){return new Promise(function(t){switch(e.name){case\"html5\":!function(require){t(i(42))}(i);break;case\"flash\":!function(require){t(i(41))}(i);break;default:t()}}).then(function(e){e&&a.registerProvider(e)})}))},r.extend(a.prototype,{reorderProviders:function(){var e,t,i,n;\"flash\"===this.config.primary&&(e=r.indexOf(this.providers,r.findWhere(this.providers,{name:\"flash\"})),t=this.providers.splice(e,1)[0],i=r.indexOf(this.providers,r.findWhere(this.providers,{name:\"html5\"})),this.providers.splice(i,0,t)),\"videojs\"===this.config.primary&&(e=r.indexOf(this.providers,r.findWhere(this.providers,{name:\"flash\"})),t=this.providers.splice(e,1)[0],i=r.indexOf(this.providers,r.findWhere(this.providers,{name:\"html5\"})),n=this.providers.splice(i,1)[0],this.providers.push(n),this.providers.push(t)),\"justflash\"===this.config.primary&&(e=r.indexOf(this.providers,r.findWhere(this.providers,{name:\"flash\"})),t=this.providers.splice(e,1)[0],this.providers=[],this.providers.push(t))},providerSupports:function(e,t){return e.supports(t)},required:function(e,t){return e=e.slice(),r.compact(r.map(this.providers,function(i){for(var n=!1,r=e.length;r--;){var a=e[r],s=i.supports(a.sources[0],t);s&&e.splice(r,1),n=n||s}if(n)return i}))},choose:function(e){e=r.isObject(e)?e:{};for(var t=this.providers.length,i=0;i<t;i++){var a=this.providers[i];if(this.providerSupports(a,e)){var s=t-i-1;return{priority:s,name:a.name,type:e.type,provider:n[a.name]}}}return null}}),a}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[],r=function(){return{repo:\"https://cdn.bdstatic.com/jwplayer/\",SkinsIncluded:[\"bce\"],SkinsLoadable:[\"beelden\",\"bekle\",\"five\",\"glow\",\"roundster\",\"six\",\"seven\",\"stormtrooper\",\"vapor\"],dvrSeekLimit:-25}}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(8),i(1),i(129),i(127)],r=function(e,t,i,n){var r={};r.createElement=function(e){var t=document.createElement(\"div\");return t.innerHTML=e,t.firstChild},r.styleDimension=function(e){return e+(e.toString().indexOf(\"%\")>0?\"\":\"px\")};var a=function(e){return t.isString(e.className)?e.className.split(\" \"):[]},s=function(t,i){i=e.trim(i),t.className!==i&&(t.className=i)};return r.classList=function(e){return e.classList?e.classList:a(e)},r.hasClass=i.hasClass,r.addClass=function(e,i){var n=a(e),r=t.isArray(i)?i:i.split(\" \");t.each(r,function(e){t.contains(n,e)||n.push(e)}),s(e,n.join(\" \"))},r.removeClass=function(e,i){var n=a(e),r=t.isArray(i)?i:i.split(\" \");s(e,t.difference(n,r).join(\" \"))},r.replaceClass=function(e,t,i){var n=e.className||\"\";t.test(n)?n=n.replace(t,i):i&&(n+=\" \"+i),s(e,n)},r.toggleClass=function(e,i,n){var a=r.hasClass(e,i);n=t.isBoolean(n)?n:!a,n!==a&&(n?r.addClass(e,i):r.removeClass(e,i))},r.emptyElement=function(e){if(e)for(var t=0;e.childElementCount-t>0;){if(e.children[t].hasAttribute(\"remove-ignore\")){var i=e.children[t].getAttribute(\"remove-ignore\");if(i===n.DOM_REMOVE_IGNORE){t++;continue}}e.removeChild(e.children[t])}},r.addStyleSheet=function(e){var t=document.createElement(\"link\");t.rel=\"stylesheet\",t.href=e,document.getElementsByTagName(\"head\")[0].appendChild(t)},r.empty=function(e){if(e)for(var t=0;e.childElementCount-t>0;){if(e.children[t].hasAttribute(\"remove-ignore\")){var i=e.children[t].getAttribute(\"remove-ignore\");if(i===n.DOM_REMOVE_IGNORE){t++;continue}}e.removeChild(e.children[t])}},r.bounds=function(e){var t={left:0,right:0,width:0,height:0,top:0,bottom:0};if(!e||!document.body.contains(e))return t;var i=e.getBoundingClientRect(e),n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,r=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft;return i.width||i.height||i.left||i.top?(t.left=i.left+r,t.right=i.right+r,t.top=i.top+n,t.bottom=i.bottom+n,t.width=i.right-i.left,t.height=i.bottom-i.top,t):t},r}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r,a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};n=[i(1),i(8)],r=function(e,t){var i={};return i.exists=function(e){switch(\"undefined\"==typeof e?\"undefined\":a(e)){case\"string\":return e.length>0;case\"object\":return null!==e;case\"undefined\":return!1}return!0},i.isHTTPS=function(){return 0===window.location.href.indexOf(\"https\")},i.isRtmp=function(e,t){return e&&(0===e.indexOf(\"rtmp\")||\"rtmp\"===t)},i.isHls=function(e,i){return e&&(\"m3u8\"===t.extension(e)||\"hls\"===t.extension(e)||\"hls\"===i)},i.isFlv=function(e,i){return e&&(\"flv\"===t.extension(e)||\"flv\"===i)},i.isMp4=function(e,i){return e&&(\"mp4\"===t.extension(e)||\"mp4\"===i)},i.isMpegTs=function(e,i){return e&&(\"ts\"===t.extension(e)||\"ts\"===i)},i.isHtml5Flv=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";return i.isFlv(e,t)&&i.isFlvjsSupported()},i.isFlvjsSupported=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"')},i.isMutipleHls=function(t){if(e.isArray(t)&&t.length>1){var n=0;if(e.each(t,function(e){i.isHls(e.file,e.type)&&n++}),n===t.length)return!0}return!1},i.typeOf=function(t){if(null===t)return\"null\";var i=\"undefined\"==typeof t?\"undefined\":a(t);return\"object\"===i&&e.isArray(t)?\"array\":i},i}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(64),i(2)],r=function(e,t){var i=e.extend({constructor:function(e){if(this.el=document.createElement(\"div\"),this.el.className=\"jw-icon jw-icon-tooltip \"+e+\" jw-button-color jw-reset jw-hidden\",this.container=document.createElement(\"div\"),this.container.className=\"jw-overlay jw-reset\",this.openClass=\"jw-open\",this.componentType=\"tooltip\",\"jw-icon-hd\"===e){var t=document.createElement(\"span\");t.className=\"jw-hd-label\",this.el.appendChild(t)}else if(\"jw-icon-playrate\"===e){var i=document.createElement(\"span\");i.className=\"jw-playrate-label\",this.el.appendChild(i)}else if(\"jw-icon-cc\"===e){var n=document.createElement(\"span\");n.className=\"jw-cc-label\",this.el.appendChild(n)}this.el.appendChild(this.container)},addContent:function(e){this.content&&this.removeContent(),this.content=e,this.container.appendChild(e)},removeContent:function(){this.content&&(this.container.removeChild(this.content),this.content=null)},hasContent:function(){return!!this.content},element:function(){return this.el},openTooltip:function(e){this.trigger(\"open-\"+this.componentType,e,{isOpen:!0}),this.isOpen=!0,t.toggleClass(this.el,this.openClass,this.isOpen)},closeTooltip:function(e){this.trigger(\"close-\"+this.componentType,e,{isOpen:!1}),this.isOpen=!1,t.toggleClass(this.el,this.openClass,this.isOpen)},toggleOpenState:function(e){this.isOpen?this.closeTooltip(e):this.openTooltip(e)}});return i}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t){\"use strict\";t.__esModule=!0;var i={IO_ERROR:\"io_error\",DEMUX_ERROR:\"demux_error\",INIT_SEGMENT:\"init_segment\",MEDIA_SEGMENT:\"media_segment\",LOADING_COMPLETE:\"loading_complete\",RECOVERED_EARLY_EOF:\"recovered_early_eof\",MEDIA_INFO:\"media_info\",METADATA_ARRIVED:\"metadata_arrived\",SCRIPTDATA_ARRIVED:\"scriptdata_arrived\",STATISTICS_INFO:\"statistics_info\",RECOMMEND_SEEKPOINT:\"recommend_seekpoint\"};t.default=i,e.exports=t.default},function(e,t,i){var n,r;n=[i(8)],r=function(e){var t={},i=t.pluginPathType={ABSOLUTE:0,RELATIVE:1,CDN:2};return t.getPluginPathType=function(t){if(\"string\"==typeof t){t=t.split(\"?\")[0];var n=t.indexOf(\"://\");if(n>0)return i.ABSOLUTE;var r=t.indexOf(\"/\"),a=e.extension(t);return!(n<0&&r<0)||a&&isNaN(a)?i.RELATIVE:i.CDN}},t.getPluginName=function(e){return e.replace(/^(.*\\/)?([^-]*)-?.*\\.(swf|js)$/,\"$2\")},t.getPluginVersion=function(e){return e.replace(/[^-]*-?([^\\.]*).*$/,\"$1\")},t}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(2),i(22),i(48),i(88),i(1),i(3),i(132),i(4),i(7),i(79)],r=function(e,t,i,n,r,a,s,o,l,u){var d=function(){function s(e,t){var i=r.extend({},t,{type:e});switch(e){case\"flashThrottle\":var n=\"resume\"!==t.state;this.set(\"flashThrottle\",n),this.set(\"flashBlocked\",n);break;case\"flashBlocked\":return void this.set(\"flashBlocked\",!0);case\"flashUnblocked\":return void this.set(\"flashBlocked\",!1);case\"volume\":case\"mute\":return void this.set(e,t[e]);case o.JWPLAYER_MEDIA_TYPE:return void(this.mediaModel.get(\"mediaType\")!==t.mediaType&&(this.mediaModel.set(\"mediaType\",t.mediaType),this.mediaController.trigger(e,i)));case o.JWPLAYER_PLAYER_STATE:return void this.mediaModel.set(\"state\",t.newstate);case o.JWPLAYER_MEDIA_BUFFER:this.set(\"buffer\",t.bufferPercent);case o.JWPLAYER_MEDIA_META:var a=t.duration;r.isNumber(a)&&(this.mediaModel.set(\"duration\",a),this.set(\"duration\",a)),t.duration===1/0&&this.trigger(\"alive\");break;case o.JWPLAYER_MEDIA_BUFFER_FULL:this.mediaModel.get(\"playAttempt\")?this.playVideo():this.mediaModel.on(\"change:playAttempt\",function(){this.playVideo()},this);break;case o.JWPLAYER_MEDIA_TIME:this.mediaModel.set(\"position\",t.position),this.set(\"position\",t.position),r.isNumber(t.duration)&&(this.mediaModel.set(\"duration\",t.duration),this.set(\"duration\",t.duration),t.duration>0&&this.recordMediaPosition(t.position,t.duration),t.duration===1/0&&this.trigger(\"alive\")),this.advManage&&this.get(\"imageAdvs\").advs&&this.advManage.refreshProcessAdv(t.position);break;case o.JWPLAYER_PROVIDER_CHANGED:this.set(\"provider\",h.getName());break;case o.JWPLAYER_MEDIA_LEVELS:this.setQualityLevel(t.currentQuality,t.levels),this.mediaModel.set(\"levels\",t.levels);break;case o.JWPLAYER_MEDIA_LEVEL_CHANGED:this.setQualityLevel(t.currentQuality,t.levels),this.persistQualityLevel(t.currentQuality,t.levels);break;case o.JWPLAYER_AUDIO_TRACKS:this.setCurrentAudioTrack(t.currentTrack,t.tracks),this.mediaModel.set(\"audioTracks\",t.tracks);break;case o.JWPLAYER_AUDIO_TRACK_CHANGED:this.setCurrentAudioTrack(t.currentTrack,t.tracks);break;case o.JWPLAYER_CONNECTING:this.trigger(\"connecting\");break;case o.JWPLAYER_CONNECT_FAILD:this.trigger(\"connectFaild\");break;case o.JWPLAYER_ALIVE:this.trigger(\"alive\");break;case o.JWPLAYER_NO_LIVE_STREAM:this.trigger(\"noLiveStream\");break;case o.JWPLAYER_LIVE_STOP:this.trigger(\"liveStop\");break;case\"stop\":this.set(\"duration\",0);break;case\"subtitlesTrackChanged\":this.setVideoSubtitleTrack(t.currentTrack,t.tracks);break;case\"visualQuality\":var s=r.extend({},t);this.mediaModel.set(\"visualQuality\",s);break;case o.JWPLAYER_PLAYBACKRATE:this.set(\"playbackRate\",t.playbackRate),this.mediaModel.set(\"playbackRate\",t.playbackRate)}this.mediaController.trigger(e,i)}var d,h,f,p,m=this,g=e.noop;this.mediaController=r.extend({},a),this.mediaModel=new c,this.advManage=null,n.model(this),this.set(\"mediaModel\",this.mediaModel),this.setup=function(t){return p=new i,r.extend(this.attributes,t,{item:0,state:l.IDLE,flashBlocked:!1,fullscreen:!1,compactUI:!1,scrubbing:!1,duration:0,position:0,buffer:0}),e.isMobile()&&!t.mobileSdk&&this.set(\"autostart\",!1),this.get(\"imageAdvs\")&&(this.advManage=new u(this.get(\"imageAdvs\"))),this.updateProviders(),this},this.getConfiguration=function(){return r.omit(this.clone(),[\"mediaModel\"])},this.updateProviders=function(){d=new t(this.getConfiguration())},this.recordMediaPosition=function(e,t){var i=f&&f.sources&&f.sources[0];i&&i.file&&!isNaN(e)&&!isNaN(t)&&t>0&&isFinite(t)!==!1&&r.each(f.sources,function(i){e<t&&e>2?p.setItem(\"filePostion.\"+i.file,e):e>=t&&p.clearItem(\"filePostion.\"+i.file)})},this.getLastPosition=function(t){var i=0;return t&&\"array\"===e.typeOf(t.sources)&&t.sources.length>0&&p.getItem(\"filePostion.\"+t.sources[0].file)&&(i=p.getItem(\"filePostion.\"+t.sources[0].file)),i},this.setQualityLevel=function(e,t){e>-1&&t.length>1&&this.mediaModel.set(\"currentLevel\",parseInt(e))},this.setCurrentQuality=function(e){h.setCurrentQuality(e)},this.persistQualityLevel=function(e,t){var i=t[e]||{},n=i.label;this.set(\"qualityLabel\",n)},this.setCurrentAudioTrack=function(e,t){e>-1&&t.length>0&&e<t.length&&this.mediaModel.set(\"currentAudioTrack\",parseInt(e))},this.onMediaContainer=function(){var e=this.get(\"mediaContainer\");g.setContainer(e)},this.changeVideoProvider=function(e){var t=function(){this.setVolume(this.get(\"volume\"))};if(this.off(\"change:mediaContainer\",this.onMediaContainer),h&&(h.off(null,null,this),h.getContainer()&&h.remove()),!e)return h=g=e,void this.set(\"provider\",void 0);g=new e(m.get(\"id\"),m.getConfiguration());var i=this.get(\"mediaContainer\");i?g.setContainer(i):this.once(\"change:mediaContainer\",this.onMediaContainer),this.once(\"change:provider\",t,this),this.set(\"provider\",g.getName()),g.getName().name.indexOf(\"flash\")===-1&&(this.set(\"flashThrottle\",void 0),this.set(\"flashBlocked\",!1)),h=g,h.volume(m.get(\"volume\")),h.mute(m.get(\"mute\")),h.on(\"all\",s,this)},this.destroy=function(){h&&(h.off(null,null,this),h.destroy())},this.getVideo=function(){return h},this.setFullscreen=function(e){e=!!e,e!==m.get(\"fullscreen\")&&m.set(\"fullscreen\",e)},this.chooseProvider=function(e){return d.choose(e).provider},this.setActiveItem=function(e){this.mediaModel.off(),this.mediaModel=new c,this.set(\"mediaModel\",this.mediaModel),this.set(\"position\",e.starttime||0),this.set(\"duration\",e.duration||0),this.setProvider(e)},this.setProvider=function(e){var t=e&&e.sources&&e.sources[0];if(void 0!==t){f=e;var i=this.chooseProvider(t);i&&g instanceof i||m.changeVideoProvider(i),g&&(g.init&&g.init(e,this.attributes),this.trigger(\"itemReady\",e))}},this.getCurrentItem=function(){return f},this.getProviders=function(){return d},this.resetProvider=function(){g=null},this.setVolume=function(e){e=Math.round(e),e=h&&\"html5\"===h.getName().name?Math.min(e,100):Math.min(e,500),m.set(\"volume\",e),h&&h.volume(e);var t=0===e;t!==m.get(\"mute\")&&m.setMute(t)},this.enableGPU=function(){h.enableGPU()},this.disableGPU=function(){h.disableGPU()},this.setToken=function(e){var t=[];\"string\"==typeof arguments[0]&&\"string\"==typeof arguments[1]&&(t[0]={file:arguments[0],tokenText:arguments[1]},e=t),h.setToken&&h.setToken(e)},this.setMute=function(t){if(e.exists(t)||(t=!this.get(\"mute\")),this.set(\"mute\",t),h&&h.mute(t),!t){var i=Math.max(10,this.get(\"volume\"));this.setVolume(i)}},this.loadVideo=function(e){if(!e){var t=this.get(\"item\");e=this.get(\"playlist\")[t]}e.starttime=this.getLastPosition(e),void 0!==this.get(\"starttime\")&&(e.starttime=this.get(\"starttime\")),this.set(\"position\",e.starttime||0),this.set(\"duration\",e.duration||0),this.mediaModel.set(\"playAttempt\",!0),this.mediaController.trigger(o.JWPLAYER_MEDIA_PLAY_ATTEMPT,{playReason:this.get(\"playReason\")}),h.load(e)},this.stopVideo=function(){h&&h.stop()},this.playVideo=function(){h.play()},this.persistCaptionsTrack=function(){var e=this.get(\"captionsTrack\");e?this.set(\"captionLabel\",e.label):this.set(\"captionLabel\",\"Off\")},this.setVideoSubtitleTrack=function(e,t){this.set(\"captionsIndex\",e),e&&t&&e<=t.length&&t[e-1].data&&this.set(\"captionsTrack\",t[e-1]),h&&h.setSubtitlesTrack&&h.setSubtitlesTrack(e)},this.persistVideoSubtitleTrack=function(e){this.setVideoSubtitleTrack(e),this.persistCaptionsTrack()},this.setPlaybackRate=function(e){h.setPlaybackRate(e)}},c=d.MediaModel=function(){this.set(\"state\",l.IDLE)};return r.extend(d.prototype,s),r.extend(c.prototype,s),d}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(7)],r=function(e){function t(t){return t===e.COMPLETE||t===e.ERROR?e.IDLE:t}return function(e,i,n){if(i=t(i),n=t(n),i!==n){var r=i.replace(/(?:ing|d)$/,\"\"),a={type:r,newstate:i,oldstate:n,reason:e.mediaModel.get(\"state\")};\"play\"===r&&(a.playReason=e.get(\"playReason\")),this.trigger(r,a)}}}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t){\"use strict\";function i(){return Object.assign({},n)}t.__esModule=!0,t.createDefaultConfig=i;var n=t.defaultConfig={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:\"range\",seekParamStart:\"bstart\",seekParamEnd:\"bend\",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0}},function(e,t){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var n=function(){function e(){i(this,e),this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return e.prototype.isComplete=function(){var e=this.hasAudio===!1||this.hasAudio===!0&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,t=this.hasVideo===!1||this.hasVideo===!0&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.refFrames&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen;return null!=this.mimeType&&null!=this.duration&&null!=this.metadata&&null!=this.hasKeyframesIndex&&e&&t},e.prototype.isSeekable=function(){return this.hasKeyframesIndex===!0},e.prototype.getNearestKeyframe=function(e){if(null==this.keyframesIndex)return null;var t=this.keyframesIndex,i=this._search(t.times,e);return{index:i,milliseconds:t.times[i],fileposition:t.filepositions[i]}},e.prototype._search=function(e,t){var i=0,n=e.length-1,r=0,a=0,s=n;for(t<e[0]&&(i=0,a=s+1);a<=s;){if(r=a+Math.floor((s-a)/2),r===n||t>=e[r]&&t<e[r+1]){i=r;break}e[r]<t?a=r+1:s=r-1}return i},e}();t.default=n,e.exports=t.default},function(e,t){\"use strict\";t.__esModule=!0;var i={OK:\"OK\",FORMAT_ERROR:\"FormatError\",FORMAT_UNSUPPORTED:\"FormatUnsupported\",CODEC_UNSUPPORTED:\"CodecUnsupported\"};t.default=i,e.exports=t.default},function(e,t){\"use strict\";t.__esModule=!0;var i={ERROR:\"error\",LOADING_COMPLETE:\"loading_complete\",RECOVERED_EARLY_EOF:\"recovered_early_eof\",MEDIA_INFO:\"media_info\",METADATA_ARRIVED:\"metadata_arrived\",SCRIPTDATA_ARRIVED:\"scriptdata_arrived\",STATISTICS_INFO:\"statistics_info\"};t.default=i,e.exports=t.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(16),o=n(s),l=i(6),u=n(l),d=function(){function e(){r(this,e)}return e.getConfig=function(){return{globalTag:u.default.GLOBAL_TAG,forceGlobalTag:u.default.FORCE_GLOBAL_TAG,enableVerbose:u.default.ENABLE_VERBOSE,enableDebug:u.default.ENABLE_DEBUG,enableInfo:u.default.ENABLE_INFO,enableWarn:u.default.ENABLE_WARN,enableError:u.default.ENABLE_ERROR,enableCallback:u.default.ENABLE_CALLBACK}},e.applyConfig=function(e){u.default.GLOBAL_TAG=e.globalTag,u.default.FORCE_GLOBAL_TAG=e.forceGlobalTag,u.default.ENABLE_VERBOSE=e.enableVerbose,u.default.ENABLE_DEBUG=e.enableDebug,u.default.ENABLE_INFO=e.enableInfo,u.default.ENABLE_WARN=e.enableWarn,u.default.ENABLE_ERROR=e.enableError,u.default.ENABLE_CALLBACK=e.enableCallback},e._notifyChange=function(){var t=e.emitter;if(t.listenerCount(\"change\")>0){var i=e.getConfig();t.emit(\"change\",i)}},e.registerListener=function(t){e.emitter.addListener(\"change\",t)},e.removeListener=function(t){e.emitter.removeListener(\"change\",t)},e.addLogListener=function(t){u.default.emitter.addListener(\"log\",t),u.default.emitter.listenerCount(\"log\")>0&&(u.default.ENABLE_CALLBACK=!0,e._notifyChange())},e.removeLogListener=function(t){u.default.emitter.removeListener(\"log\",t),0===u.default.emitter.listenerCount(\"log\")&&(u.default.ENABLE_CALLBACK=!1,e._notifyChange())},a(e,null,[{key:\"forceGlobalTag\",get:function(){return u.default.FORCE_GLOBAL_TAG},set:function(t){u.default.FORCE_GLOBAL_TAG=t,e._notifyChange()}},{key:\"globalTag\",get:function(){return u.default.GLOBAL_TAG},set:function(t){u.default.GLOBAL_TAG=t,e._notifyChange()}},{key:\"enableAll\",get:function(){return u.default.ENABLE_VERBOSE&&u.default.ENABLE_DEBUG&&u.default.ENABLE_INFO&&u.default.ENABLE_WARN&&u.default.ENABLE_ERROR},set:function(t){u.default.ENABLE_VERBOSE=t,u.default.ENABLE_DEBUG=t,u.default.ENABLE_INFO=t,u.default.ENABLE_WARN=t,u.default.ENABLE_ERROR=t,e._notifyChange()}},{key:\"enableDebug\",get:function(){return u.default.ENABLE_DEBUG},set:function(t){u.default.ENABLE_DEBUG=t,e._notifyChange()}},{key:\"enableVerbose\",get:function(){return u.default.ENABLE_VERBOSE},set:function(t){u.default.ENABLE_VERBOSE=t,e._notifyChange()}},{key:\"enableInfo\",get:function(){return u.default.ENABLE_INFO},set:function(t){u.default.ENABLE_INFO=t,e._notifyChange()}},{key:\"enableWarn\",get:function(){return u.default.ENABLE_WARN},set:function(t){u.default.ENABLE_WARN=t,e._notifyChange()}},{key:\"enableError\",get:function(){return u.default.ENABLE_ERROR},set:function(t){u.default.ENABLE_ERROR=t,e._notifyChange()}}]),e}();d.emitter=new o.default,t.default=d,e.exports=t.default},function(e,t,i){var n,r;n=[i(2),i(8)],r=function(e,t){function i(e){var t={},i=e.split(\"\\r\\n\");1===i.length&&(i=e.split(\"\\n\"));var r=1;if(i[0].indexOf(\" --> \")>0&&(r=0),i.length>r+1&&i[r+1]){var a=i[r],s=a.indexOf(\" --> \");s>0&&(t.begin=n(a.substr(0,s)),t.end=n(a.substr(s+5)),t.text=i.slice(r+1).join(\"<br/>\"))}return t}var n=e.seconds;return function(e){var n=[];e=t.trim(e);var r=e.split(\"\\r\\n\\r\\n\");1===r.length&&(r=e.split(\"\\n\\n\"));for(var a=0;a<r.length;a++)if(\"WEBVTT\"!==r[a]){var s=i(r[a]);s.text&&n.push(s)}return n}}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(121),i(123),i(60),i(28)],r=function(e,t,i,n){var r={},a={},s=function(i,n){return a[i]=new e(new t(r),n),a[i]},o=function(e,t,a,s){var o=n.getPluginName(e);r[o]||(r[o]=new i(e)),r[o].registerPlugin(e,t,a,s)};return{loadPlugins:s,registerPlugin:o}}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[],r=function(){function e(e){this.message=e}var t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";e.prototype=new Error,e.prototype.name=\"InvalidCharacterError\",window.btoa||(window.btoa=function(i){for(var n,r,a=String(i),s=0,o=t,l=\"\";a.charAt(0|s)||(o=\"=\",s%1);l+=o.charAt(63&n>>8-s%1*8)){if(r=a.charCodeAt(s+=.75),r>255)throw new e(\"'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\");n=n<<8|r}return l}),window.atob||(window.atob=function(i){var n=String(i).replace(/=+$/,\"\");if(n.length%4==1)throw new e(\"'atob' failed: The string to be decoded is not correctly encoded.\");for(var r,a,s=0,o=0,l=\"\";a=n.charAt(o++);~a&&(r=s%4?64*r+a:a,s++%4)?l+=String.fromCharCode(255&r>>(-2*s&6)):0)a=t.indexOf(a);return l})}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r,a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};n=[],r=function(){\"object\"!==(\"undefined\"==typeof JSON?\"undefined\":a(JSON))&&(JSON={}),function(){\"use strict\";function e(e){return e<10?\"0\"+e:e}function t(e){return r.lastIndex=0,r.test(e)?'\"'+e.replace(r,function(e){var t=l[e];return\"string\"==typeof t?t:\"\\\\u\"+(\"0000\"+e.charCodeAt(0).toString(16)).slice(-4)})+'\"':'\"'+e+'\"'}function i(e,n){var r,l,d,c,h,f=s,p=n[e];switch(p&&\"object\"===(\"undefined\"==typeof p?\"undefined\":a(p))&&\"function\"==typeof p.toJSON&&(p=p.toJSON(e)),\"function\"==typeof u&&(p=u.call(n,e,p)),\"undefined\"==typeof p?\"undefined\":a(p)){case\"string\":return t(p);case\"number\":return isFinite(p)?String(p):\"null\";case\"boolean\":case\"null\":return String(p);case\"object\":if(!p)return\"null\";if(s+=o,h=[],\"[object Array]\"===Object.prototype.toString.apply(p)){for(c=p.length,r=0;r<c;r+=1)h[r]=i(r,p)||\"null\";return d=0===h.length?\"[]\":s?\"[\\n\"+s+h.join(\",\\n\"+s)+\"\\n\"+f+\"]\":\"[\"+h.join(\",\")+\"]\",s=f,d}if(u&&\"object\"===(\"undefined\"==typeof u?\"undefined\":a(u)))for(c=u.length,r=0;r<c;r+=1)\"string\"==typeof u[r]&&(l=u[r],d=i(l,p),d&&h.push(t(l)+(s?\": \":\":\")+d));else for(l in p)Object.prototype.hasOwnProperty.call(p,l)&&(d=i(l,p),d&&h.push(t(l)+(s?\": \":\":\")+d));return d=0===h.length?\"{}\":s?\"{\\n\"+s+h.join(\",\\n\"+s)+\"\\n\"+f+\"}\":\"{\"+h.join(\",\")+\"}\",s=f,d}}\"function\"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+\"-\"+e(this.getUTCMonth()+1)+\"-\"+e(this.getUTCDate())+\"T\"+e(this.getUTCHours())+\":\"+e(this.getUTCMinutes())+\":\"+e(this.getUTCSeconds())+\"Z\":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var n,r,s,o,l,u;\"function\"!=typeof JSON.stringify&&(r=/[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,l={\"\\b\":\"\\\\b\",\"\\t\":\"\\\\t\",\"\\n\":\"\\\\n\",\"\\f\":\"\\\\f\",\"\\r\":\"\\\\r\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\"},JSON.stringify=function(e,t,n){var r;if(s=\"\",o=\"\",\"number\"==typeof n)for(r=0;r<n;r+=1)o+=\" \";else\"string\"==typeof n&&(o=n);if(u=t,t&&\"function\"!=typeof t&&(\"object\"!==(\"undefined\"==typeof t?\"undefined\":a(t))||\"number\"!=typeof t.length))throw new Error(\"JSON.stringify\");return i(\"\",{\"\":e})}),\"function\"!=typeof JSON.parse&&(n=/[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,JSON.parse=function(e,t){function i(e,n){var r,s,o=e[n];if(o&&\"object\"===(\"undefined\"==typeof o?\"undefined\":a(o)))for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(s=i(o,r),void 0!==s?o[r]=s:delete o[r]);return t.call(e,n,o)}var r;if(e=String(e),n.lastIndex=0,n.test(e)&&(e=e.replace(n,function(e){return\"\\\\u\"+(\"0000\"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\\],:{}\\s]*$/.test(e.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,\"@\").replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,\"]\").replace(/(?:^|:|,)(?:\\s*\\[)+/g,\"\")))return r=eval(\"(\"+e+\")\"),\"function\"==typeof t?i({\"\":r},\"\"):r;throw new SyntaxError(\"JSON.parse\")})}(),window.JSON||(window.JSON=JSON)}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r,a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};n=[i(1)],r=function(e){function t(e,t){return function(){e.apply(t,arguments)}}function i(e){if(\"object\"!==a(this))throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof e)throw new TypeError(\"not a function\");this._state=null,this._value=null,this._deferreds=[],u(e,t(r,this),t(s,this))}function n(e){var t=this;return null===this._state?void this._deferreds.push(e):void d(function(){var i=t._state?e.onFulfilled:e.onRejected;if(null===i)return void(t._state?e.resolve:e.reject)(t._value);var n;try{n=i(t._value)}catch(t){return void e.reject(t)}e.resolve(n)})}function r(e){try{if(e===this)throw new TypeError(\"A promise cannot be resolved with itself.\");if(e&&(\"object\"===(\"undefined\"==typeof e?\"undefined\":a(e))||\"function\"==typeof e)){var i=e.then;if(\"function\"==typeof i)return void u(t(i,e),t(r,this),t(s,this))}this._state=!0,this._value=e,o.call(this)}catch(e){s.call(this,e)}}function s(e){this._state=!1,this._value=e,o.call(this)}function o(){for(var e=0,t=this._deferreds.length;e<t;e++)n.call(this,this._deferreds[e]);this._deferreds=null}function l(e,t,i,n){this.onFulfilled=\"function\"==typeof e?e:null,this.onRejected=\"function\"==typeof t?t:null,this.resolve=i,this.reject=n}function u(e,t,i){var n=!1;try{e(function(e){n||(n=!0,t(e))},function(e){n||(n=!0,i(e))})}catch(e){if(n)return;n=!0,i(e)}}var d=e.defer,c=Array.isArray||function(e){return\"[object Array]\"===Object.prototype.toString.call(e)};i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var r=this;return new i(function(i,a){n.call(r,new l(e,t,i,a))})},i.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new i(function(t,i){function n(s,o){try{if(o&&(\"object\"===(\"undefined\"==typeof o?\"undefined\":a(o))||\"function\"==typeof o)){var l=o.then;if(\"function\"==typeof l)return void l.call(o,function(e){n(s,e)},i)}e[s]=o,0===--r&&t(e)}catch(e){i(e)}}if(0===e.length)return t([]);for(var r=e.length,s=0;s<e.length;s++)n(s,e[s]);\n})},i.resolve=function(e){return e&&\"object\"===(\"undefined\"==typeof e?\"undefined\":a(e))&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,i){i(e)})},i.race=function(e){return new i(function(t,i){for(var n=0,r=e.length;n<r;n++)e[n].then(t,i)})},i._setImmediateFn=function(e){d=e},window.Promise||(window.Promise=i)}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(2),i(1),i(4),i(7),i(128),i(21),i(3)],r=function(e,t,i,n,r,a,s){function o(e){return e+\"_swf_\"+d++}function l(t){var i=document.createElement(\"a\");i.href=t.flashplayer;var n=i.hostname===window.location.host;return e.isChrome()&&!n}function u(u,d){function c(e){if(D)for(var t=0;t<e.length;t++){var i=e[t];if(i.bitrate){var n=Math.round(i.bitrate/1e3);i.label=h(n)}}}function h(e){var t=D[e];if(!t){for(var i=1/0,n=D.bitrates.length;n--;){var r=Math.abs(D.bitrates[n]-e);if(r>i)break;i=r}t=D.labels[D.bitrates[n+1]],D[e]=t}return t}function f(){var e=d.hlslabels;if(!e)return null;var t={},i=[];for(var n in e){var r=parseFloat(n);if(!isNaN(r)){var a=Math.round(r);t[a]=e[n],i.push(a)}}return 0===i.length?null:(i.sort(function(e,t){return e-t}),{labels:t,bitrates:i})}function p(){A=setTimeout(function(){s.trigger.call(I,\"flashBlocked\")},3e4),v.once(\"embedded\",function(){g(),s.trigger.call(I,\"flashUnblocked\")},I)}function m(){g(),p()}function g(){clearTimeout(A),e.removeEventListener(window,\"focus\",m,!1)}var _,v,y,b=null,A=-1,E=!1,w=-1,T=null,S=-1,C=null,k=!0,L=!1,x=null,I=this,P=function(){return v&&v.__ready},R=function(){v&&v.triggerFlash.apply(v,arguments)},D=f();t.extend(this,s,{init:function(e){e.preload&&\"none\"!==e.preload&&!d.autostart&&(b=e)},load:function(e){b=e,E=!1,this.setState(n.LOADING),R(\"load\",e),e.sources.length&&\"hls\"!==e.sources[0].type&&this.sendMediaType(e.sources)},play:function(){R(\"play\")},pause:function(){R(\"pause\"),this.setState(n.PAUSED)},stop:function(){R(\"stop\"),w=-1,b=null,x=null,this.setState(n.IDLE),this.trigger(\"stop\")},seek:function(e){R(\"seek\",e)},volume:function e(i){if(t.isNumber(i)){var e=Math.min(Math.max(0,i),100);P()&&R(\"volume\",e)}},enableGPU:function(){R(\"enableGPU\")},disableGPU:function(){R(\"disableGPU\")},setToken:function(e){R(\"setToken\",e)},mute:function(e){P()&&R(\"mute\",e)},setState:function(){return a.setState.apply(this,arguments)},checkComplete:function(){return E},attachMedia:function(){k=!0,E&&(this.setState(n.COMPLETE),this.trigger(i.JWPLAYER_MEDIA_COMPLETE),E=!1)},detachMedia:function(){return k=!1,null},getSwfObject:function(e){var t=e.getElementsByTagName(\"object\")[0];return t?(t.off(null,null,this),t):r.embed(d.flashplayer,e,o(u),d.wmode,d.playlistItem,d.flashUI)},getContainer:function(){return _},setContainer:function(r){if(_!==r){_=r,v=this.getSwfObject(r),document.hasFocus()?p():e.addEventListener(window,\"focus\",m,!1),v.once(\"ready\",function(){g(),v.once(\"pluginsLoaded\",function(){v.queueCommands=!1,R(\"setupCommandQueue\",v.__commandQueue),v.__commandQueue=[]});var e=t.extend({},d),n=v.triggerFlash(\"setup\",e);n===v?v.__ready=!0:this.trigger(i.JWPLAYER_MEDIA_ERROR,n),b&&R(\"init\",b)},this);var a=[i.JWPLAYER_MEDIA_META,i.JWPLAYER_MEDIA_ERROR,i.JWPLAYER_MEDIA_SEEK,i.JWPLAYER_MEDIA_SEEKED,\"subtitlesTracks\",\"subtitlesTrackChanged\",\"subtitlesTrackData\",\"mediaType\"],o=[i.JWPLAYER_MEDIA_BUFFER,i.JWPLAYER_MEDIA_TIME],u=[i.JWPLAYER_MEDIA_BUFFER_FULL];v.on(i.JWPLAYER_MEDIA_LEVELS,function(e){c(e.levels),w=e.currentQuality,T=e.levels,this.trigger(e.type,e)},this),v.on(i.JWPLAYER_MEDIA_LEVEL_CHANGED,function(e){c(e.levels),w=e.currentQuality,T=e.levels,this.trigger(e.type,e)},this),v.on(i.JWPLAYER_AUDIO_TRACKS,function(e){S=e.currentTrack,C=e.tracks,this.trigger(e.type,e)},this),v.on(i.JWPLAYER_AUDIO_TRACK_CHANGED,function(e){S=e.currentTrack,C=e.tracks,this.trigger(e.type,e)},this),v.on(i.JWPLAYER_PLAYER_STATE,function(e){var t=e.newstate;t!==n.IDLE&&this.setState(t)},this),v.on(o.join(\" \"),function(e){\"Infinity\"===e.duration&&(e.duration=1/0),this.trigger(e.type,e)},this),v.on(a.join(\" \"),function(e){this.trigger(e.type,e)},this),v.on(u.join(\" \"),function(e){this.trigger(e.type)},this),v.on(i.JWPLAYER_CONNECTING,function(e){s.trigger.call(I,\"connecting\",e)},this),v.on(i.JWPLAYER_CONNECT_FAILD,function(e){s.trigger.call(I,\"connectFaild\",e),s.trigger.call(I,i.JWPLAYER_MEDIA_ERROR,{message:\"连接已断开，请稍后重试\"})},this),v.on(i.JWPLAYER_ALIVE,function(e){s.trigger.call(I,\"alive\",e)},this),v.on(i.JWPLAYER_NO_LIVE_STREAM,function(e){s.trigger.call(I,\"noLiveStream\",e)},this),v.on(i.JWPLAYER_LIVE_STOP,function(e){s.trigger.call(I,\"liveStop\",e)},this),v.on(i.JWPLAYER_CUEPOINT,function(e){s.trigger.call(I,e.name,e.args)},this),v.on(i.JWPLAYER_MEDIA_BEFORECOMPLETE,function(e){E=!0,this.trigger(e.type),k===!0&&(E=!1)},this),v.on(i.JWPLAYER_MEDIA_COMPLETE,function(e){E||(this.setState(n.COMPLETE),this.trigger(e.type))},this),v.on(\"visualQuality\",function(e){e.reason=e.reason||\"api\",this.trigger(\"visualQuality\",e),this.trigger(i.JWPLAYER_PROVIDER_FIRST_FRAME,{})},this),v.on(i.JWPLAYER_PROVIDER_CHANGED,function(e){y=e.message,this.trigger(i.JWPLAYER_PROVIDER_CHANGED,e)},this),v.on(i.JWPLAYER_ERROR,function(t){e.log(\"Error playing media: %o %s\",t.code,t.message,t),this.trigger(i.JWPLAYER_MEDIA_ERROR,t)},this),l(d)&&v.on(\"throttle\",function(e){g(),\"resume\"===e.state?s.trigger.call(I,\"flashThrottle\",e):A=setTimeout(function(){s.trigger.call(I,\"flashThrottle\",e)},250)},this)}},remove:function(){w=-1,T=null,r.remove(v)},setVisibility:function(e){e=!!e,_.style.opacity=e?1:0},resize:function(e,t,i){i&&R(\"stretch\",i)},setControls:function(e){R(\"setControls\",e)},setFullscreen:function(e){L=e,R(\"fullscreen\",e)},getFullScreen:function(){return L},setCurrentQuality:function(e){R(\"setCurrentQuality\",e)},getCurrentQuality:function(){return w},setSubtitlesTrack:function(e){R(\"setSubtitlesTrack\",e)},getName:function(){return y?{name:\"flash_\"+y}:{name:\"flash\"}},getQualityLevels:function(){return T||b.sources},getAudioTracks:function(){return C},getCurrentAudioTrack:function(){return S},setCurrentAudioTrack:function(e){R(\"setCurrentAudioTrack\",e)},destroy:function(){g(),this.remove(),v&&(v.off(),v=null),_=null,b=null,this.off()}}),this.trigger=function(e,t){if(k)return s.trigger.call(this,e,t)}}var d=0,c=function(){};return c.prototype=a,u.prototype=new c,u.getName=function(){return{name:\"flash\"}},u}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(14),i(2),i(24),i(1),i(4),i(7),i(21),i(3),i(43),i(52)],r=function(e,t,i,n,r,a,s,o,l,u){function d(e,i){t.foreach(e,function(e,n){t.addEventListener(i,e,n,!1)})}function c(e,i){t.foreach(e,function(e,n){t.removeEventListener(i,e,n,!1)})}function h(e){if(\"hls\"===e.type)if(e.androidhls!==!1){var i=t.isAndroidNative;if(i(2)||i(3)||i(\"4.0\"))return!1;if(t.isAndroid())return!0}else if(t.isAndroid())return!1;return null}function f(f,T){function S(){Se&&(ue(Ne.audioTracks),ye.setTextTracks(Ne.textTracks),Ne.setAttribute(\"jw-loaded\",\"data\"),je.isLive&&U())}function C(){Se&&Ne.setAttribute(\"jw-loaded\",\"started\")}function k(e){ye.trigger(\"click\",e)}function L(){Se&&!ke&&(M(O()),R(ie(),ge,me))}function x(){Se&&R(ie(),ge,me)}function I(){p(we),Ae=!0,Se&&(ye.state===a.STALLED?ye.setState(a.PLAYING):ye.state===a.PLAYING&&(we=setTimeout(te,m)),ke&&Ne.duration===1/0&&0===Ne.currentTime||(M(O()),D(Ne.currentTime),R(ie(),ge,me),ye.state===a.PLAYING&&(ye.trigger(r.JWPLAYER_MEDIA_TIME,{position:ge,duration:me}),P())))}function P(){var e=Me.level;if(e.width!==Ne.videoWidth||e.height!==Ne.videoHeight){if(e.width=Ne.videoWidth,e.height=Ne.videoHeight,fe(),!e.width||!e.height)return;Me.reason=Me.reason||\"auto\",Me.mode=\"hls\"===ve[Ce].type?\"auto\":\"manual\",Me.bitrate=0,e.index=Ce,e.label=ve[Ce].label,ye.trigger(\"visualQuality\",Me),Me.reason=\"\"}}function R(e,t,i){e===Te&&i===me||(Te=e,ye.trigger(r.JWPLAYER_MEDIA_BUFFER,{bufferPercent:100*e,position:t,duration:i}))}function D(e){me<0&&(e=-(Z()-e)),ge=e}function O(){var e=Ne.duration,t=Z();if(e===1/0&&t){var i=t-Ne.seekable.start(0);i!==1/0&&i>120&&(e=-i)}return e}function M(e){me=e,Ee&&e&&e!==1/0&&ye.seek(Ee)}function U(){var e=O();ke&&e===1/0&&(e=0);var t={duration:e,height:Ne.videoHeight,width:Ne.videoWidth};ye.trigger(r.JWPLAYER_MEDIA_META,t),M(e)}function j(){Se&&(Ae=!0,ke||fe(),N())}function B(){Se&&(Ne.muted&&(Ne.muted=!1,Ne.muted=!0),Ne.setAttribute(\"jw-loaded\",\"meta\"),U())}function N(){_e||(_e=!0,ye.trigger(r.JWPLAYER_MEDIA_BUFFER_FULL))}function F(){ye.setState(a.PLAYING),Ne.hasAttribute(\"jw-played\")||Ne.setAttribute(\"jw-played\",\"\"),ye.trigger(r.JWPLAYER_PROVIDER_FIRST_FRAME,{})}function V(){ye.state!==a.COMPLETE&&Ne.currentTime!==Ne.duration&&ye.setState(a.PAUSED)}function H(){ke||Ne.paused||Ne.ended||ye.state!==a.LOADING&&ye.state!==a.ERROR&&(ye.seeking||ye.setState(a.STALLED))}function z(){if(Se){t.log(\"Error playing media: %o %s\",Ne.error,Ne.src);var e=\"加载失败: 不能播放当前文件\";t.isMobile()&&t.isHls(Ne.src)&&je.tokenEncrypt&&!t.isFlvjsSupported()&&(e=\"当前系统及浏览器环境不支持“token加密”的hls视频播放\"),ye.trigger(r.JWPLAYER_MEDIA_ERROR,{message:e,code:\"111\",detail:Ne.error,videoSrc:Ne.src})}}function G(e){var i;return\"array\"===t.typeOf(e)&&e.length>0&&(i=n.map(e,function(e,t){return{label:e.label||t}})),i}function Y(e){ve=e,Ce=W(e);var t=G(e);t&&ye.trigger(r.JWPLAYER_MEDIA_LEVELS,{levels:t,currentQuality:Ce})}function W(e){var t=Math.max(0,Ce),i=T.qualityLabel;if(e)for(var n=0;n<e.length;n++)if(e[n].default&&(t=n),i&&e[n].label===i)return n;return Me.reason=\"initial choice\",Me.level={},t}function q(){return Ne.play()}function Q(e,i){Ee=0,p(we);var n=document.createElement(\"source\");n.src=ve[Ce].file;var r=Ne.src!==n.src,s=Ne.getAttribute(\"jw-loaded\"),o=Ne.hasAttribute(\"jw-played\");r||\"none\"===s||\"started\"===s?(me=i,ye.setupSideloadedTracks(Oe),t.isHtml5Flv(ve[Ce].file,ve[Ce].type)&&Ue?(Ue.load(),Ue.play()):(J(ve[Ce]),Ne.load()),y&&Ne.paused&&q()):(0===e&&Ne.currentTime>0&&(Ee=-1,ye.seek(e)),t.isHtml5Flv(ve[Ce].file,ve[Ce].type)&&Ue?Ue.play():q()),ge=Ne.currentTime,v&&!o&&(N(),Ne.paused||ye.state===a.PLAYING||ye.setState(a.LOADING)),t.isIOS()&&ye.getFullScreen()&&(Ne.controls=!0),e>0&&ye.seek(e),je.playbackRate>1&&ye.setPlaybackRate(je.playbackRate)}function J(e){Pe=null,Re=-1,De=-1,Me.reason||(Me.reason=\"initial choice\",Me.level={}),Ae=!1,_e=!1,ke=h(e);var t=e.preload||\"metadata\";\"none\"!==t&&Ne.setAttribute(\"preload\",t);var i=document.createElement(\"source\");i.src=e.file;var n=Ne.src!==i.src;n&&(Ne.setAttribute(\"jw-loaded\",\"none\"),Ne.src=e.file)}function K(){Ne&&(ye.disableTextTrack(),Ne.removeAttribute(\"crossorigin\"),Ne.removeAttribute(\"preload\"),Ne.removeAttribute(\"src\"),Ne.removeAttribute(\"jw-loaded\"),Ne.removeAttribute(\"jw-played\"),i.emptyElement(Ne),Ce=-1,Oe=null,!_&&\"load\"in Ne&&Ne.load(),ye.trigger(\"stop\"))}function X(){for(var e=Ne.seekable?Ne.seekable.length:0,t=1/0;e--;)t=Math.min(t,Ne.seekable.start(e));return t}function Z(){for(var e=Ne.seekable?Ne.seekable.length:0,t=0;e--;)t=Math.max(t,Ne.seekable.end(e));return t}function $(){ye.seeking=!1,ye.trigger(r.JWPLAYER_MEDIA_SEEKED)}function ee(){ye.trigger(\"volume\",{volume:Math.round(100*Ne.volume)}),ye.trigger(\"mute\",{mute:Ne.muted})}function te(){Ne.currentTime===ge&&H()}function ie(){var e=Ne.buffered,i=Ne.duration;return!e||0===e.length||i<=0||i===1/0?0:t.between(e.end(e.length-1)/i,0,1)}function ne(){if(Se&&ye.state!==a.IDLE&&ye.state!==a.COMPLETE){if(p(we),Ce=-1,xe=!0,ye.trigger(r.JWPLAYER_MEDIA_BEFORECOMPLETE),!Se)return;re()}}function re(){p(we),ye.setState(a.COMPLETE),xe=!1,ye.trigger(r.JWPLAYER_MEDIA_COMPLETE)}function ae(e){Ie=!0,le(e),t.isIOS()&&(Ne.controls=!1)}function se(){for(var e=-1,t=0;t<Ne.audioTracks.length;t++)if(Ne.audioTracks[t].enabled){e=t;break}de(e)}function oe(e){Ie=!1,le(e),t.isIOS()&&(Ne.controls=!1)}function le(e){ye.trigger(\"fullscreenchange\",{target:e.target,jwstate:Ie})}function ue(e){if(Pe=null,e){if(e.length){for(var t=0;t<e.length;t++)if(e[t].enabled){Re=t;break}Re===-1&&(Re=0,e[Re].enabled=!0),Pe=n.map(e,function(e){var t={name:e.label||e.language,language:e.language};return t})}ye.addTracksListener(e,\"change\",se),Pe&&ye.trigger(\"audioTracks\",{currentTrack:Re,tracks:Pe})}}function de(e){Ne&&Ne.audioTracks&&Pe&&e>-1&&e<Ne.audioTracks.length&&e!==Re&&(Ne.audioTracks[Re].enabled=!1,Re=e,Ne.audioTracks[Re].enabled=!0,ye.trigger(\"audioTrackChanged\",{currentTrack:Re,tracks:Pe}))}function ce(){return Pe||[]}function he(){return Re}function fe(){if(\"hls\"===ve[0].type){var e=\"video\";0===Ne.videoHeight&&(e=\"audio\"),ye.trigger(\"mediaType\",{mediaType:e})}}this.state=a.IDLE,this.seeking=!1,n.extend(this,o,l),this.trigger=function(e,t){if(Se)return o.trigger.call(this,e,t)},this.setState=function(e){if(Se)return s.setState.call(this,e)};var pe,me,ge,_e,ve,ye=this,be={click:k,durationchange:L,ended:ne,error:z,loadstart:C,loadeddata:S,loadedmetadata:B,canplay:j,playing:F,progress:x,pause:V,seeked:$,timeupdate:I,volumechange:ee,webkitbeginfullscreen:ae,webkitendfullscreen:oe},Ae=!1,Ee=0,we=-1,Te=-1,Se=!0,Ce=-1,ke=null,Le=!!T.sdkplatform,xe=!1,Ie=!1,Pe=null,Re=-1,De=-1,Oe=null,Me={level:{}},Ue=null,je=null,Be=document.getElementById(f),Ne=Be?Be.querySelector(\"video\"):void 0;Ne=Ne||document.createElement(\"video\"),Ne.className=\"jw-video jw-reset\",this.isSDK=Le,this.itemTracks=Oe,this.video=Ne,n.isObject(T.cast)&&T.cast.appid&&Ne.setAttribute(\"disableRemotePlayback\",\"\"),d(be,Ne),A||(Ne.controls=!0,Ne.controls=!1),Ne.setAttribute(\"disableRemotePlayback\",\"\"),Ne.setAttribute(\"x-webkit-airplay\",\"allow\"),Ne.setAttribute(\"webkit-playsinline\",\"\"),Ne.setAttribute(\"playsinline\",\"\"),Ne.setAttribute(\"x5-video-player-type\",\"h5-page\"),Ne.setAttribute(\"x5-video-player-fullscreen\",\"true\"),this.stop=function(){p(we),Se&&(K(),t.isIETrident()&&Ne.pause(),this.setState(a.IDLE))},this.destroy=function(){c(be,Ne),this.removeTracksListener(Ne.audioTracks,\"change\",se),this.removeTracksListener(Ne.textTracks,\"change\",ye.textTrackChangeHandler),this.remove(),this.off(),Ue&&(Ue.destroy(),Ue=null)},this.init=function(e,i){Se&&(Oe=null,ve=e.sources,Ce=W(e.sources),e.sources.length&&\"hls\"!==e.sources[0].type&&this.sendMediaType(e.sources),ge=e.starttime||0,me=e.duration||0,Me.reason=\"\",J(ve[Ce]),this.setupSideloadedTracks(e.tracks),Oe=this.itemTracks,je=i,t.isHtml5Flv(ve[Ce].file,ve[Ce].type)&&this.initFlvPlayer(),je.crossoriginAnonymous&&Ne.setAttribute(\"crossorigin\",\"anonymous\"))},this.initFlvPlayer=function(){var e=this;Ue&&Ue.destroy();var t={enableWorker:!1,lazyLoadMaxDuration:180,seekType:\"range\"};je.minBufferLength>0&&(t.lazyLoadMaxDuration=je.minBufferLength,je.minBufferLength<30&&(t.lazyLoadRecoverDuration=je.minBufferLength));var i=n.extend({hasAudio:!0,hasVideo:!0,isLive:je.isLive,type:\"flv\",url:ve[Ce].file,withCredentials:!1},je.flvjs||{});Ue=u.createPlayer(i,t),Ue.attachMediaElement(Ne),Ue.on(r.JWPLAYER_ERROR,function(t,i,n){\"CodecUnsupported\"===i&&(Ue.unload(),Ue.detachMediaElement()),e.trigger(r.JWPLAYER_MEDIA_ERROR,{type:t,detail:i+\",\"+n.msg,code:\"111\",message:\"加载失败: 不能播放当前文件\"})}),Ue.on(r.JWPLAYER_ALIVE,function(){e.trigger(r.JWPLAYER_ALIVE)}),Ue.on(r.JWPLAYER_NO_LIVE_STREAM,function(){e.trigger(r.JWPLAYER_NO_LIVE_STREAM)})},this.load=function(e){Se&&(Y(e.sources),e.sources.length&&\"hls\"!==e.sources[0].type&&this.sendMediaType(e.sources),v&&!Ne.hasAttribute(\"jw-played\")||ye.setState(a.LOADING),Q(e.starttime||0,e.duration||0))},this.play=function(){return ye.seeking?(ye.setState(a.LOADING),void ye.once(r.JWPLAYER_MEDIA_SEEKED,ye.play)):void q()},this.pause=function(){p(we),Ne.pause(),this.setState(a.PAUSED)},this.seek=function(e){if(Se)if(e<0&&(e+=X()+Z()),0===Ee&&this.trigger(r.JWPLAYER_MEDIA_SEEK,{position:Ne.currentTime,offset:e}),Ae||(Ae=!!Z()),Ae){Ee=0;try{ye.seeking=!0,Ne.currentTime=e}catch(t){ye.seeking=!1,Ee=e}}else Ee=e,y&&Ne.paused&&q()},this.volume=function(e){e=t.between(e/100,0,1),Ne.volume=e},this.enableGPU=function(){throw\"只有使用Flash播放才支持开启GPU\"},this.disableGPU=function(){throw\"只有使用Flash播放才支持开启GPU\"},this.mute=function(e){Ne.muted=!!e},this.checkComplete=function(){return xe},this.detachMedia=function(){return p(we),this.disableTextTrack(),Se=!1,Ne},this.attachMedia=function(){Se=!0,Ae=!1,this.seeking=!1,Ne.loop=!1,xe&&re()},this.setContainer=function(e){pe=e,e.appendChild(Ne)},this.getContainer=function(){return pe},this.remove=function(){K(),p(we),pe===Ne.parentNode&&pe.removeChild(Ne),Ue&&(Ue.pause(),Ue.unload(),Ue.detachMediaElement())},this.setVisibility=function(t){t=!!t,t||b?e.style(pe,{visibility:\"visible\",opacity:1}):e.style(pe,{visibility:\"\",opacity:0})},this.resize=function(t,i,n){if(!(t&&i&&Ne.videoWidth&&Ne.videoHeight))return!1;var r={objectFit:\"\"};if(\"uniform\"===n){var a=t/i,s=Ne.videoWidth/Ne.videoHeight;Math.abs(a-s)<.09&&(r.objectFit=\"fill\",n=\"exactfit\")}var o=g||b||A||E;if(o){var l=-Math.floor(Ne.videoWidth/2+1),u=-Math.floor(Ne.videoHeight/2+1),d=Math.ceil(100*t/Ne.videoWidth)/100,c=Math.ceil(100*i/Ne.videoHeight)/100;\"none\"===n?d=c=1:\"fill\"===n?d=c=Math.max(d,c):\"uniform\"===n&&(d=c=Math.min(d,c)),r.width=Ne.videoWidth,r.height=Ne.videoHeight,r.top=r.left=\"50%\",r.margin=0,e.transform(Ne,\"translate(\"+l+\"px, \"+u+\"px) scale(\"+d.toFixed(2)+\", \"+c.toFixed(2)+\")\")}return e.style(Ne,r),!1},this.setFullscreen=function(e){if(e=!!e){var i=t.tryCatch(function(){var e=Ne.webkitEnterFullscreen||Ne.webkitEnterFullScreen;e&&e.apply(Ne)});return!(i instanceof t.Error)&&ye.getFullScreen()}var n=Ne.webkitExitFullscreen||Ne.webkitExitFullScreen;return n&&n.apply(Ne),e},ye.getFullScreen=function(){return Ie||!!Ne.webkitDisplayingFullscreen},this.setCurrentQuality=function(e){if(Ce!==e&&e>=0&&ve&&ve.length>e){Ce=e,Me.reason=\"api\",Me.level={},this.trigger(r.JWPLAYER_MEDIA_LEVEL_CHANGED,{currentQuality:e,levels:G(ve)}),T.qualityLabel=ve[e].label;var i=Ne.currentTime||0,n=Ne.duration||0;n<=0&&(n=me),ye.setState(a.LOADING),t.isHtml5Flv(ve[Ce].file,ve[Ce].type)&&this.initFlvPlayer(),Q(i,n)}},this.getCurrentQuality=function(){return Ce},this.getQualityLevels=function(){return G(ve)},this.getName=function(){return{name:w}},this.setCurrentAudioTrack=de,this.getAudioTracks=ce,this.getCurrentAudioTrack=he,this.setPlaybackRate=function(e){je.isLive||(Ne.playbackRate=e,this.trigger(r.JWPLAYER_PLAYBACKRATE,{playbackRate:e}))}}var p=window.clearTimeout,m=256,g=t.isIE(),_=t.isMSIE(),v=t.isMobile(),y=t.isFF(),b=t.isAndroidNative(),A=t.isIOS(7),E=t.isIOS(8),w=\"html5\",T=function(){};return T.prototype=s,f.prototype=new T,f.getName=function(){return{name:\"html5\"}},f}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(1),i(65),i(2),i(24)],r=function(e,t,i,n){function r(i){var n=i.currentTarget.activeCues;if(n&&n.length){var r=n[n.length-1].startTime,a=[];if(e.each(n,function(e){e.startTime<r||(e.data?a.push(e):e.text&&this.trigger(\"meta\",{metadataTime:r,metadata:JSON.parse(e.text)}))},this),a.length){var s=t.parseID3(a);this.trigger(\"meta\",{metadataTime:r,metadata:s})}}}function a(){var e=this.video.textTracks;if(A=-1,e){if(y||d(),e.length){var t=0,i=e.length;for(E=0,t;t<i;t++){var n=e[t];if(!b[t+n.kind])if(\"metadata\"===n.kind)n.oncuechange=r.bind(this),n.mode=\"showing\",b[t+n.kind]=n,\"ID3 Metadata\"===n.label&&E++;else if(\"subtitles\"===n.kind||\"captions\"===n.kind){var a=n.mode;if(n.mode=\"hidden\",!n.cues.length&&\"caterpillar\"===this.getName().name&&\"Unknown CC\"===n.label)continue;n.mode=a,y.push(n),b[t+n.kind]=n,\"Unknown CC\"===n.label&&E++}}}this.addTracksListener(e,\"change\",m),y&&y.length&&this.trigger(\"subtitlesTracks\",{tracks:y})}}function s(e){var t=i.isChrome()||i.isIOS()||i.isSafari();!this._isSDK&&t&&e&&(o.call(this,e)||(_(),n.emptyElement(this.video),l(),this.itemTracks=e,u.call(this,e)))}function o(e){return e===this.itemTracks&&y&&y.length===E+this.itemTracks.length}function l(){if(y){var t=e.filter(y,function(e){return\"Unknown CC\"===e.label||\"ID3 Metadata\"===e.label});d(),e.each(t,function(e,t){b[t+e]=e}),y=t}}function u(e){if(e){var t=!1;y||d();for(var n=0;n<e.length;n++){var r=e[n];if(/\\.(?:web)?vtt(?:\\?.*)?$/i.test(r.file)){if(/subtitles|captions|descriptions|chapters|metadata/i.test(r.kind)){t||!this.video.hasAttribute(\"crossorigin\")&&i.crossdomain(r.file)&&(this.video.setAttribute(\"crossorigin\",\"anonymous\"),t=!0);var a=document.createElement(\"track\");a.src=r.file,a.kind=r.kind,a.srclang=r.language||\"\",a.label=r.label,a.mode=\"disabled\",a.id=r.defaulttrack?\"default\":\"\",this.video.appendChild(a)}}else y.push(r),b[n+r.kind]=a}}}function d(){y=[],b={}}function c(t){y&&(0===t&&e.each(y,function(e){e.mode=\"disabled\"}),A!==t-1&&(_(),A=t-1,y[A]&&(y[A].mode=\"showing\"),this.trigger(\"subtitlesTrackChanged\",{currentTrack:A+1,tracks:y})))}function h(){return A}function f(e,t,i){i=i.bind(this),e.addEventListener?e.addEventListener(t,i):e[\"on\"+t]=i}function p(e,t,i){e&&(e.removeEventListener?e.removeEventListener(t,i):e[\"on\"+t]=null)}function m(){if(y){var e=-1,t=0;for(t;t<y.length;t++)if(\"showing\"===y[t].mode){e=t;break}this.setSubtitlesTrack(e+1)}else this.setTextTracks()}function g(){y=null,b=null,E=0}function _(){y&&y[A]&&(y[A].mode=\"disabled\")}var v={addTracksListener:f,clearTracks:g,disableTextTrack:_,getSubtitlesTrack:h,removeTracksListener:p,setTextTracks:a,setupSideloadedTracks:s,setSubtitlesTrack:c,textTrackChangeHandler:m},y=null,b=null,A=-1,E=0;return v}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(1),i(25)],r=function(e,t){function i(e){return/^(?:(?:https?|file)\\:)?\\/\\//.test(e)}function n(t){return e.some(t,function(e){return\"parsererror\"===e.nodeName})}var r={};return r.getAbsolutePath=function(e,n){if(t.exists(n)||(n=document.location.href),t.exists(e)){if(i(e))return e;var r,a=n.substring(0,n.indexOf(\"://\")+3),s=n.substring(a.length,n.indexOf(\"/\",a.length+1));if(0===e.indexOf(\"/\"))r=e.split(\"/\");else{var o=n.split(\"?\")[0];o=o.substring(a.length+s.length+1,o.lastIndexOf(\"/\")),r=o.split(\"/\").concat(e.split(\"/\"))}for(var l=[],u=0;u<r.length;u++)r[u]&&t.exists(r[u])&&\".\"!==r[u]&&(\"..\"===r[u]?l.pop():l.push(r[u]));return a+s+\"/\"+l.join(\"/\")}},r.getScriptPath=e.memoize(function(e){for(var t=document.getElementsByTagName(\"script\"),i=0;i<t.length;i++){var n=t[i].src;if(n&&n.indexOf(e)>=0)return n.substr(0,n.indexOf(e))}return\"\"}),r.parseXML=function(e){var t=null;try{\"DOMParser\"in window?(t=(new window.DOMParser).parseFromString(e,\"text/xml\"),(n(t.childNodes)||t.childNodes&&n(t.childNodes[0].childNodes))&&(t=null)):(t=new window.ActiveXObject(\"Microsoft.XMLDOM\"),t.async=\"false\",t.loadXML(e))}catch(e){}return t},r.serialize=function(e){if(void 0===e)return null;if(\"string\"==typeof e&&e.length<6){var t=e.toLowerCase();if(\"true\"===t)return!0;if(\"false\"===t)return!1;if(!isNaN(Number(e))&&!isNaN(parseFloat(e)))return Number(e)}return e},r.parseDimension=function(e){return\"string\"==typeof e?\"\"===e?0:e.lastIndexOf(\"%\")>-1?e:parseInt(e.replace(\"px\",\"\"),10):e},r.timeFormat=function(e,t){if(e<=0&&!t)return\"00:00\";var i=e<0?\"-\":\"\";e=Math.abs(e);var n=Math.floor(e/3600),r=Math.floor((e-3600*n)/60),a=Math.floor(e%60);return i+(n?n+\":\":\"\")+(r<10?\"0\":\"\")+r+\":\"+(a<10?\"0\":\"\")+a},r.adaptiveType=function(e){if(0!==e){var t=-120;if(e<=t)return\"DVR\";if(e<0||e===1/0)return\"LIVE\"}return\"VOD\"},r}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(4),i(3),i(1)],r=function(e,t,i){var n={},r={NEW:0,LOADING:1,ERROR:2,COMPLETE:3},a=function(a,s){function o(t){d=r.ERROR,u.trigger(e.ERROR,t)}function l(t){d=r.COMPLETE,u.trigger(e.COMPLETE,t)}var u=i.extend(this,t),d=r.NEW;this.addEventListener=this.on,this.removeEventListener=this.off,this.makeStyleLink=function(e){var t=document.createElement(\"link\");return t.type=\"text/css\",t.rel=\"stylesheet\",t.href=e,t},this.makeScriptTag=function(e){var t=document.createElement(\"script\");return t.src=e,t},this.makeTag=s?this.makeStyleLink:this.makeScriptTag,this.load=function(){if(d===r.NEW){var t=n[a];if(t&&(d=t.getStatus(),d<2))return t.on(e.ERROR,o),void t.on(e.COMPLETE,l);var i=document.getElementsByTagName(\"head\")[0]||document.documentElement,u=this.makeTag(a),c=!1;u.onload=u.onreadystatechange=function(e){c||this.readyState&&\"loaded\"!==this.readyState&&\"complete\"!==this.readyState||(c=!0,l(e),u.onload=u.onreadystatechange=null,i&&u.parentNode&&!s&&i.removeChild(u))},u.onerror=o,i.insertBefore(u,i.firstChild),d=r.LOADING,n[a]=this}},this.getStatus=function(){return d}};return a.loaderstatus=r,a}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(64),i(9),i(184),i(2)],r=function(e,t,i,n){var r=e.extend({constructor:function(e,t){this.className=e+\" jw-background-color jw-reset\",this.orientation=t,this.dragStartListener=this.dragStart.bind(this),this.dragMoveListener=this.dragMove.bind(this),this.dragEndListener=this.dragEnd.bind(this),this.tapListener=this.tap.bind(this),this.setup()},setup:function(){var e={default:this.default,className:this.className,orientation:\"jw-slider-\"+this.orientation};this.el=n.createElement(i(e)),this.elementRail=n.getElementsByClassName(\"jw-slider-container\",this.el)[0],this.elementBuffer=n.getElementsByClassName(\"jw-buffer\",this.el)[0],this.elementProgress=n.getElementsByClassName(\"jw-progress\",this.el)[0],this.elementThumb=n.getElementsByClassName(\"jw-knob\",this.el)[0],this.userInteract=new t(this.element(),{preventScrolling:!0}),this.userInteract.on(\"dragStart\",this.dragStartListener),this.userInteract.on(\"drag\",this.dragMoveListener),this.userInteract.on(\"dragEnd\",this.dragEndListener),this.userInteract.on(\"tap click\",this.tapListener)},dragStart:function(){this.trigger(\"dragStart\"),this.railBounds=n.bounds(this.elementRail)},dragEnd:function(e){this.dragMove(e),this.trigger(\"dragEnd\")},dragMove:function(e){var t,i,r=this.railBounds=this.railBounds?this.railBounds:n.bounds(this.elementRail);\"horizontal\"===this.orientation?(t=e.pageX,i=t<r.left?0:t>r.right?100:100*n.between((t-r.left)/r.width,0,1)):(t=e.pageY,i=t>=r.bottom?0:t<=r.top?100:100*n.between((r.height-(t-r.top))/r.height,0,1));var a=this.limit(i);return this.render(a),\"drag\"===e.type&&n.hasClass(e.currentTarget,\"jw-slider-time\")||this.update(a),!1},tap:function(e){this.railBounds=n.bounds(this.elementRail),this.dragMove(e)},limit:function(e){return e},update:function(e){this.trigger(\"update\",{percentage:e})},render:function(e){e=Math.max(0,Math.min(e,100)),\"horizontal\"===this.orientation?(this.elementThumb.style.left=e+\"%\",this.elementProgress.style.width=e+\"%\"):(this.elementThumb.style.bottom=e+\"%\",this.elementProgress.style.height=e+\"%\")},updateBuffer:function(e){e&&(this.elementBuffer.style.width=e+\"%\")},element:function(){return this.el}});return r}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(76),i(1),i(22),i(61),i(37)],r=function(e,t,i,n,r){var a=[],s=0,o=function(t){var i,n;return t?\"string\"==typeof t?(i=l(t),i||(n=document.getElementById(t))):\"number\"==typeof t?i=a[t]:t.nodeType&&(n=t,i=l(n.id)):i=a[0],i?i:n?u(new e(n,d)):{registerPlugin:r.registerPlugin}},l=function(e){for(var t=0;t<a.length;t++)if(a[t].id===e)return a[t];return null},u=function(e){return s++,e.uniqueId=s,a.push(e),e},d=function(e){for(var t=a.length;t--;)if(a[t].uniqueId===e.uniqueId){a.splice(t,1);break}},c={selectPlayer:o,registerProvider:i.registerProvider,availableProviders:n,registerPlugin:r.registerPlugin};return o.api=c,_hmt=[],function(){try{if(navigator.onLine){var e=document.createElement(\"script\");e.onerror=function(){_hmt=null},e.src=\"https://hm.baidu.com/hm.js?20ba3a41aeedac500c94bdef787f57e6\";var t=document.getElementsByTagName(\"script\")[0];t.parentNode.insertBefore(e,t),_hmt.push([\"_setAutoPageview\",!1])}else _hmt=null}catch(e){_hmt=null}}(),c}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(1),i(2)],r=function(e,t){function i(e){var t=\"baiducyberplayer.\"+e;return t.toString()}function n(){return e.reduce(this.persistItems,function(e,n){var r=d[i(n)];return r&&(e[n]=t.serialize(r)),e},{})}function r(e,t){try{d[i(e)]=t}catch(e){}}function a(e){return d[i(e)]}function s(e){return d.removeItem(i(e))}function o(){e.each(this.persistItems,function(e){d.removeItem(i(e))})}function l(){this.persistItems=[\"volume\",\"mute\",\"captionLabel\",\"qualityLabel\",\"playbackRate\"]}function u(t){e.each(this.persistItems,function(e){t.on(\"change:\"+e,function(t,i){r(e,i)})})}var d={getItem:t.noop,setItem:t.noop,removeItem:t.noop};try{d=window.localStorage}catch(e){}return e.extend(l.prototype,{getAllItems:n,track:u,clear:o,setItem:r,getItem:a,clearItem:s}),l}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.SampleInfo=function e(t,n,r,a,s){i(this,e),this.dts=t,this.pts=n,this.duration=r,this.originalDts=a,this.isSyncPoint=s,this.fileposition=null},t.MediaSegmentInfo=function(){function e(){i(this,e),this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return e.prototype.appendSyncPoint=function(e){e.isSyncPoint=!0,this.syncPoints.push(e)},e}(),t.IDRSampleList=function(){function e(){i(this,e),this._list=[]}return e.prototype.clear=function(){this._list=[]},e.prototype.appendArray=function(e){var t=this._list;0!==e.length&&(t.length>0&&e[0].originalDts<t[t.length-1].originalDts&&this.clear(),Array.prototype.push.apply(t,e))},e.prototype.getLastSyncPointBeforeDts=function(e){if(0==this._list.length)return null;var t=this._list,i=0,n=t.length-1,r=0,a=0,s=n;for(e<t[0].dts&&(i=0,a=s+1);a<=s;){if(r=a+Math.floor((s-a)/2),r===n||e>=t[r].dts&&e<t[r+1].dts){i=r;break}t[r].dts<e?a=r+1:s=r-1}return this._list[i]},e}(),t.MediaSegmentInfoList=function(){function e(t){i(this,e),this._type=t,this._list=[],this._lastAppendLocation=-1}return e.prototype.isEmpty=function(){return 0===this._list.length},e.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},e.prototype._searchNearestSegmentBefore=function(e){var t=this._list;if(0===t.length)return-2;var i=t.length-1,n=0,r=0,a=i,s=0;if(e<t[0].originalBeginDts)return s=-1;for(;r<=a;){if(n=r+Math.floor((a-r)/2),n===i||e>t[n].lastSample.originalDts&&e<t[n+1].originalBeginDts){s=n;break}t[n].originalBeginDts<e?r=n+1:a=n-1}return s},e.prototype._searchNearestSegmentAfter=function(e){return this._searchNearestSegmentBefore(e)+1},e.prototype.append=function(e){var t=this._list,i=e,n=this._lastAppendLocation,r=0;n!==-1&&n<t.length&&i.originalBeginDts>=t[n].lastSample.originalDts&&(n===t.length-1||n<t.length-1&&i.originalBeginDts<t[n+1].originalBeginDts)?r=n+1:t.length>0&&(r=this._searchNearestSegmentBefore(i.originalBeginDts)+1),this._lastAppendLocation=r,this._list.splice(r,0,i)},e.prototype.getLastSegmentBefore=function(e){var t=this._searchNearestSegmentBefore(e);return t>=0?this._list[t]:null},e.prototype.getLastSampleBefore=function(e){var t=this.getLastSegmentBefore(e);return null!=t?t.lastSample:null},e.prototype.getLastSyncPointBefore=function(e){for(var t=this._searchNearestSegmentBefore(e),i=this._list[t].syncPoints;0===i.length&&t>0;)t--,i=this._list[t].syncPoints;return i.length>0?i[i.length-1]:null},n(e,[{key:\"type\",get:function(){return this._type}},{key:\"length\",get:function(){return this._list.length}}]),e}()},function(e,t){\"use strict\";t.__esModule=!0;var i={ERROR:\"error\",SOURCE_OPEN:\"source_open\",UPDATE_END:\"update_end\",BUFFER_FULL:\"buffer_full\"};t.default=i,e.exports=t.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var a=i(16),s=n(a),o=i(6),l=n(o),u=i(19),d=n(u),c=i(32),h=n(c),f=i(96),p=n(f),m=i(110),g=n(m),_=i(33),v=n(_),y=i(53),b=n(y),A=i(27),E=n(A),w=(i(13),function(){function e(t,i){r(this,e),this.TAG=\"TransmuxingController\",this._emitter=new s.default,this._config=i,t.segments||(t.segments=[{duration:t.duration,filesize:t.filesize,url:t.url}]),\n\"boolean\"!=typeof t.cors&&(t.cors=!0),\"boolean\"!=typeof t.withCredentials&&(t.withCredentials=!1),this._mediaDataSource=t,this._currentSegmentIndex=0;var n=0;this._mediaDataSource.segments.forEach(function(e){e.timestampBase=n,n+=e.duration,e.cors=t.cors,e.withCredentials=t.withCredentials,i.referrerPolicy&&(e.referrerPolicy=i.referrerPolicy)}),isNaN(n)||this._mediaDataSource.duration===n||(this._mediaDataSource.duration=n),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return e.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},e.prototype._loadSegment=function(e,t){this._currentSegmentIndex=e;var i=this._mediaDataSource.segments[e],n=this._ioctl=new b.default(i,this._config,e);n.onError=this._onIOException.bind(this),n.onSeeked=this._onIOSeeked.bind(this),n.onComplete=this._onIOComplete.bind(this),n.onRedirect=this._onIORedirect.bind(this),n.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),t?this._demuxer.bindDataSource(this._ioctl):n.onDataArrival=this._onInitChunkArrival.bind(this),n.open(t)},e.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},e.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},e.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},e.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},e.prototype.seek=function(e){if(null!=this._mediaInfo&&this._mediaInfo.isSeekable()){var t=this._searchSegmentIndexContains(e);if(t===this._currentSegmentIndex){var i=this._mediaInfo.segments[t];if(void 0==i)this._pendingSeekTime=e;else{var n=i.getNearestKeyframe(e);this._remuxer.seek(n.milliseconds),this._ioctl.seek(n.fileposition),this._pendingResolveSeekPoint=n.milliseconds}}else{var r=this._mediaInfo.segments[t];if(void 0==r)this._pendingSeekTime=e,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(t);else{var a=r.getNearestKeyframe(e);this._internalAbort(),this._remuxer.seek(e),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[t].timestampBase,this._loadSegment(t,a.fileposition),this._pendingResolveSeekPoint=a.milliseconds,this._reportSegmentMediaInfo(t)}}this._enableStatisticsReporter()}},e.prototype._searchSegmentIndexContains=function(e){for(var t=this._mediaDataSource.segments,i=t.length-1,n=0;n<t.length;n++)if(e<t[n].timestampBase){i=n-1;break}return i},e.prototype._onInitChunkArrival=function(e,t){var i=this,n=null,r=0;if(t>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,r=this._demuxer.parseChunks(e,t);else if((n=p.default.probe(e)).match){this._demuxer=new p.default(n,this._config),this._remuxer||(this._remuxer=new g.default(this._config));var a=this._mediaDataSource;void 0==a.duration||isNaN(a.duration)||(this._demuxer.overridedDuration=a.duration),\"boolean\"==typeof a.hasAudio&&(this._demuxer.overridedHasAudio=a.hasAudio),\"boolean\"==typeof a.hasVideo&&(this._demuxer.overridedHasVideo=a.hasVideo),this._demuxer.timestampBase=a.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),r=this._demuxer.parseChunks(e,t)}else n=null,l.default.e(this.TAG,\"Non-FLV, Unsupported media type!\"),Promise.resolve().then(function(){i._internalAbort()}),this._emitter.emit(E.default.DEMUX_ERROR,v.default.FORMAT_UNSUPPORTED,\"Non-FLV, Unsupported media type\"),r=0;return r},e.prototype._onMediaInfo=function(e){var t=this;null==this._mediaInfo&&(this._mediaInfo=Object.assign({},e),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,h.default.prototype));var i=Object.assign({},e);Object.setPrototypeOf(i,h.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=i,this._reportSegmentMediaInfo(this._currentSegmentIndex),null!=this._pendingSeekTime&&Promise.resolve().then(function(){var e=t._pendingSeekTime;t._pendingSeekTime=null,t.seek(e)})},e.prototype._onMetaDataArrived=function(e){this._emitter.emit(E.default.METADATA_ARRIVED,e)},e.prototype._onScriptDataArrived=function(e){this._emitter.emit(E.default.SCRIPTDATA_ARRIVED,e)},e.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},e.prototype._onIOComplete=function(e){var t=e,i=t+1;i<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(i)):(this._remuxer.flushStashedSamples(),this._emitter.emit(E.default.LOADING_COMPLETE),this._disableStatisticsReporter())},e.prototype._onIORedirect=function(e){var t=this._ioctl.extraData;this._mediaDataSource.segments[t].redirectedURL=e},e.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(E.default.RECOVERED_EARLY_EOF)},e.prototype._onIOException=function(e,t){l.default.e(this.TAG,\"IOException: type = \"+e+\", code = \"+t.code+\", msg = \"+t.msg),this._emitter.emit(E.default.IO_ERROR,e,t),this._disableStatisticsReporter()},e.prototype._onDemuxException=function(e,t){l.default.e(this.TAG,\"DemuxException: type = \"+e+\", info = \"+t),this._emitter.emit(E.default.DEMUX_ERROR,e,t)},e.prototype._onRemuxerInitSegmentArrival=function(e,t){this._emitter.emit(E.default.INIT_SEGMENT,e,t)},e.prototype._onRemuxerMediaSegmentArrival=function(e,t){if(null==this._pendingSeekTime&&(this._emitter.emit(E.default.MEDIA_SEGMENT,e,t),null!=this._pendingResolveSeekPoint&&\"video\"===e)){var i=t.info.syncPoints,n=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,d.default.safari&&i.length>0&&i[0].originalDts===n&&(n=i[0].pts),this._emitter.emit(E.default.RECOMMEND_SEEKPOINT,n)}},e.prototype._enableStatisticsReporter=function(){null==this._statisticsReporter&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},e.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype._reportSegmentMediaInfo=function(e){var t=this._mediaInfo.segments[e],i=Object.assign({},t);i.duration=this._mediaInfo.duration,i.segmentCount=this._mediaInfo.segmentCount,delete i.segments,delete i.keyframesIndex,this._emitter.emit(E.default.MEDIA_INFO,i)},e.prototype._reportStatisticsInfo=function(){var e={};e.url=this._ioctl.currentURL,e.hasRedirect=this._ioctl.hasRedirect,e.hasRedirect&&(e.redirectedURL=this._ioctl.currentRedirectedURL),e.speed=this._ioctl.currentSpeed,e.loaderType=this._ioctl.loaderType,e.currentSegmentIndex=this._currentSegmentIndex,e.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(E.default.STATISTICS_INFO,e)},e}());t.default=w,e.exports=t.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=e;if(null==i||\"object\"!==(\"undefined\"==typeof i?\"undefined\":o(i)))throw new E.InvalidArgumentException(\"MediaDataSource must be an javascript object!\");if(!i.hasOwnProperty(\"type\"))throw new E.InvalidArgumentException(\"MediaDataSource must has type field to indicate video file type!\");switch(i.type){case\"flv\":return new p.default(i,t);default:return new g.default(i,t)}}function a(){return c.default.supportMSEH264Playback()}function s(){return c.default.getFeatureList()}t.__esModule=!0;var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},l=i(56),u=n(l),d=i(90),c=n(d),h=i(13),f=i(106),p=n(f),m=i(107),g=n(m),_=i(34),v=n(_),y=i(55),b=i(35),A=n(b),E=i(5);u.default.install();var w={};w.createPlayer=r,w.isSupported=a,w.getFeatureList=s,w.BaseLoader=h.BaseLoader,w.LoaderStatus=h.LoaderStatus,w.LoaderErrors=h.LoaderErrors,w.Events=v.default,w.ErrorTypes=y.ErrorTypes,w.ErrorDetails=y.ErrorDetails,w.FlvPlayer=p.default,w.NativePlayer=g.default,w.LoggingControl=A.default,window.flvjs||(window.flvjs=w),t.default=w,e.exports=t.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(6),o=n(s),l=i(54),u=n(l),d=i(13),c=i(99),h=n(c),f=i(103),p=n(f),m=i(104),g=(n(m),i(105)),_=n(g),v=i(102),y=n(v),b=i(101),A=n(b),E=i(100),w=n(E),T=i(5),S=function(){function e(t,i,n){r(this,e),this.TAG=\"IOController\",this._config=i,this._extraData=n,this._stashInitialSize=393216,void 0!=i.stashInitialSize&&i.stashInitialSize>0&&(this._stashInitialSize=i.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,i.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=t,this._isWebSocketURL=/wss?:\\/\\/(.+?)/.test(t.url),this._refTotalLength=t.filesize?t.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new u.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return e.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},e.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},e.prototype.isPaused=function(){return this._paused},e.prototype._selectSeekHandler=function(){var e=this._config;if(\"range\"===e.seekType)this._seekHandler=new A.default(this._config.rangeLoadZeroStart);else if(\"param\"===e.seekType){var t=e.seekParamStart||\"bstart\",i=e.seekParamEnd||\"bend\";this._seekHandler=new w.default(t,i)}else{if(\"custom\"!==e.seekType)throw new T.InvalidArgumentException(\"Invalid seekType in config: \"+e.seekType);if(\"function\"!=typeof e.customSeekHandler)throw new T.InvalidArgumentException(\"Custom seekType specified in config but invalid customSeekHandler!\");this._seekHandler=new e.customSeekHandler}},e.prototype._selectLoader=function(){if(null!=this._config.customLoader)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=y.default;else if(h.default.isSupported())this._loaderClass=h.default;else if(p.default.isSupported())this._loaderClass=p.default;else{if(!_.default.isSupported())throw new T.RuntimeException(\"Your browser doesn't support xhr with arraybuffer responseType!\");this._loaderClass=_.default}},e.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},e.prototype.open=function(e){this._currentRange={from:0,to:-1},e&&(this._currentRange.from=e),this._speedSampler.reset(),e||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},e.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},e.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),0!==this._stashUsed?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},e.prototype.resume=function(){if(this._paused){this._paused=!1;var e=this._resumeFrom;this._resumeFrom=0,this._internalSeek(e,!0)}},e.prototype.seek=function(e){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(e,!0)},e.prototype._internalSeek=function(e,t){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(t),this._loader.destroy(),this._loader=null;var i={from:e,to:-1};this._currentRange={from:i.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,i),this._onSeeked&&this._onSeeked()},e.prototype.updateUrl=function(e){if(!e||\"string\"!=typeof e||0===e.length)throw new T.InvalidArgumentException(\"Url must be a non-empty string!\");this._dataSource.url=e},e.prototype._expandBuffer=function(e){for(var t=this._stashSize;t+1048576<e;)t*=2;if(t+=1048576,t!==this._bufferSize){var i=new ArrayBuffer(t);if(this._stashUsed>0){var n=new Uint8Array(this._stashBuffer,0,this._stashUsed),r=new Uint8Array(i,0,t);r.set(n,0)}this._stashBuffer=i,this._bufferSize=t}},e.prototype._normalizeSpeed=function(e){var t=this._speedNormalizeList,i=t.length-1,n=0,r=0,a=i;if(e<t[0])return t[0];for(;r<=a;){if(n=r+Math.floor((a-r)/2),n===i||e>=t[n]&&e<t[n+1])return t[n];t[n]<e?r=n+1:a=n-1}},e.prototype._adjustStashSize=function(e){var t=0;t=this._config.isLive?e:e<512?e:e>=512&&e<=1024?Math.floor(1.5*e):2*e,t>8192&&(t=8192);var i=1024*t+1048576;this._bufferSize<i&&this._expandBuffer(i),this._stashSize=1024*t},e.prototype._dispatchChunks=function(e,t){return this._currentRange.to=t+e.byteLength-1,this._onDataArrival(e,t)},e.prototype._onURLRedirect=function(e){this._redirectedURL=e,this._onRedirect&&this._onRedirect(e)},e.prototype._onContentLengthKnown=function(e){e&&this._fullRequestFlag&&(this._totalLength=e,this._fullRequestFlag=!1)},e.prototype._onLoaderChunkArrival=function(e,t,i){if(!this._onDataArrival)throw new T.IllegalStateException(\"IOController: No existing consumer (onDataArrival) callback!\");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(e.byteLength);var n=this._speedSampler.lastSecondKBps;if(0!==n){var r=this._normalizeSpeed(n);this._speedNormalized!==r&&(this._speedNormalized=r,this._adjustStashSize(r))}if(this._enableStash)if(0===this._stashUsed&&0===this._stashByteStart&&(this._stashByteStart=t),this._stashUsed+e.byteLength<=this._stashSize){var a=new Uint8Array(this._stashBuffer,0,this._stashSize);a.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else{var s=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var o=this._stashBuffer.slice(0,this._stashUsed),l=this._dispatchChunks(o,this._stashByteStart);if(l<o.byteLength){if(l>0){var u=new Uint8Array(o,l);s.set(u,0),this._stashUsed=u.byteLength,this._stashByteStart+=l}}else this._stashUsed=0,this._stashByteStart+=l;this._stashUsed+e.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+e.byteLength),s=new Uint8Array(this._stashBuffer,0,this._bufferSize)),s.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else{var d=this._dispatchChunks(e,t);if(d<e.byteLength){var c=e.byteLength-d;c>this._bufferSize&&(this._expandBuffer(c),s=new Uint8Array(this._stashBuffer,0,this._bufferSize)),s.set(new Uint8Array(e,d),0),this._stashUsed+=c,this._stashByteStart=t+d}}}else if(0===this._stashUsed){var h=this._dispatchChunks(e,t);if(h<e.byteLength){var f=e.byteLength-h;f>this._bufferSize&&this._expandBuffer(f);var p=new Uint8Array(this._stashBuffer,0,this._bufferSize);p.set(new Uint8Array(e,h),0),this._stashUsed+=f,this._stashByteStart=t+h}}else{this._stashUsed+e.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+e.byteLength);var m=new Uint8Array(this._stashBuffer,0,this._bufferSize);m.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;var g=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(g<this._stashUsed&&g>0){var _=new Uint8Array(this._stashBuffer,g);m.set(_,0)}this._stashUsed-=g,this._stashByteStart+=g}}},e.prototype._flushStashBuffer=function(e){if(this._stashUsed>0){var t=this._stashBuffer.slice(0,this._stashUsed),i=this._dispatchChunks(t,this._stashByteStart),n=t.byteLength-i;if(i<t.byteLength){if(!e){if(i>0){var r=new Uint8Array(this._stashBuffer,0,this._bufferSize),a=new Uint8Array(t,i);r.set(a,0),this._stashUsed=a.byteLength,this._stashByteStart+=i}return 0}o.default.w(this.TAG,n+\" bytes unconsumed data remain when flush buffer, dropped\")}return this._stashUsed=0,this._stashByteStart=0,n}return 0},e.prototype._onLoaderComplete=function(e,t){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},e.prototype._onLoaderError=function(e,t){switch(o.default.e(this.TAG,\"Loader error, code = \"+t.code+\", msg = \"+t.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,e=d.LoaderErrors.UNRECOVERABLE_EARLY_EOF),e){case d.LoaderErrors.EARLY_EOF:if(!this._config.isLive&&this._totalLength){var i=this._currentRange.to+1;return void(i<this._totalLength&&(o.default.w(this.TAG,\"Connection lost, trying reconnect...\"),this._isEarlyEofReconnecting=!0,this._internalSeek(i,!1)))}e=d.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break;case d.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case d.LoaderErrors.CONNECTING_TIMEOUT:case d.LoaderErrors.HTTP_STATUS_CODE_INVALID:case d.LoaderErrors.EXCEPTION:}if(!this._onError)throw new T.RuntimeException(\"IOException: \"+t.msg);this._onError(e,t)},a(e,[{key:\"status\",get:function(){return this._loader.status}},{key:\"extraData\",get:function(){return this._extraData},set:function(e){this._extraData=e}},{key:\"onDataArrival\",get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e}},{key:\"onSeeked\",get:function(){return this._onSeeked},set:function(e){this._onSeeked=e}},{key:\"onError\",get:function(){return this._onError},set:function(e){this._onError=e}},{key:\"onComplete\",get:function(){return this._onComplete},set:function(e){this._onComplete=e}},{key:\"onRedirect\",get:function(){return this._onRedirect},set:function(e){this._onRedirect=e}},{key:\"onRecoveredEarlyEof\",get:function(){return this._onRecoveredEarlyEof},set:function(e){this._onRecoveredEarlyEof=e}},{key:\"currentURL\",get:function(){return this._dataSource.url}},{key:\"hasRedirect\",get:function(){return null!=this._redirectedURL||void 0!=this._dataSource.redirectedURL}},{key:\"currentRedirectedURL\",get:function(){return this._redirectedURL||this._dataSource.redirectedURL}},{key:\"currentSpeed\",get:function(){return this._loaderClass===_.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps}},{key:\"loaderType\",get:function(){return this._loader.type}}]),e}();t.default=S,e.exports=t.default},function(e,t){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){i(this,e),this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return e.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},e.prototype.addBytes=function(e){0===this._firstCheckpoint?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=e,this._totalBytes+=e):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=e,this._totalBytes+=e):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=e,this._totalBytes+=e,this._lastCheckpoint=this._now())},n(e,[{key:\"currentKBps\",get:function(){this.addBytes(0);var e=(this._now()-this._lastCheckpoint)/1e3;return 0==e&&(e=1),this._intervalBytes/e/1024}},{key:\"lastSecondKBps\",get:function(){return this.addBytes(0),0!==this._lastSecondBytes?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0}},{key:\"averageKBps\",get:function(){var e=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/e/1024}}]),e}();t.default=r,e.exports=t.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.ErrorDetails=t.ErrorTypes=void 0;var r=i(13),a=i(33),s=n(a);t.ErrorTypes={NETWORK_ERROR:\"NetworkError\",MEDIA_ERROR:\"MediaError\",OTHER_ERROR:\"OtherError\"},t.ErrorDetails={NETWORK_EXCEPTION:r.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:r.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:r.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:r.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:\"MediaMSEError\",MEDIA_FORMAT_ERROR:s.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:s.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:s.default.CODEC_UNSUPPORTED}},function(e,t,i){\"use strict\";function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var r=function(){function e(){n(this,e)}return e.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Object.assign=Object.assign||function(e){if(void 0===e||null===e)throw new TypeError(\"Cannot convert undefined or null to object\");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(void 0!==n&&null!==n)for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t},\"function\"!=typeof self.Promise&&i(156).polyfill()},e}();r.install(),t.default=r,e.exports=t.default},function(e,t,i){var n,r;n=[i(1),i(59),i(120)],r=function(e,t,i){var n={sources:[],tracks:[]},r=function(r){r=r||{},e.isArray(r.tracks)||delete r.tracks;var a=e.extend({},n,r);e.isObject(a.sources)&&!e.isArray(a.sources)&&(a.sources=[t(a.sources)]),e.isArray(a.sources)&&0!==a.sources.length||(r.levels?a.sources=r.levels:a.sources=[t(r)]);for(var s=0;s<a.sources.length;s++){var o=a.sources[s];if(o){var l=o.default;l?o.default=\"true\"===l.toString():o.default=!1,a.sources[s].label||(a.sources[s].label=s.toString()),a.sources[s]=t(a.sources[s])}}return a.sources=e.compact(a.sources),e.isArray(a.tracks)||(a.tracks=[]),e.isArray(a.captions)&&(a.tracks=a.tracks.concat(a.captions),delete a.captions),a.tracks=e.compact(e.map(a.tracks,i)),a};return r}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(20),i(118),i(2),i(4),i(3),i(1)],r=function(e,t,i,n,r,a){var s=function(){function s(r){var s=i.tryCatch(function(){var i,s=r.responseXML?r.responseXML.childNodes:null,o=\"\";if(s){for(var d=0;d<s.length&&(o=s[d],8===o.nodeType);d++);\"xml\"===e.localName(o)&&(o=o.nextSibling),\"rss\"===e.localName(o)&&(i={playlist:t.parse(o)})}if(!i)try{var c=JSON.parse(r.responseText);if(a.isArray(c))i={playlist:c};else{if(!a.isArray(c.playlist))throw null;i=c}}catch(e){return void l(\"Not a valid RSS/JSON feed\")}u.trigger(n.JWPLAYER_PLAYLIST_LOADED,i)});s instanceof i.Error&&l()}function o(e){l(\"Playlist load error: \"+e)}function l(e){u.trigger(n.JWPLAYER_ERROR,{message:e?e:\"文件加载失败\"})}var u=a.extend(this,r);this.load=function(e){i.ajax(e,s,o)},this.destroy=function(){this.off()}};return s}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(2),i(8),i(1)],r=function(e,t,i){var n={default:!1,isHEVC:!1},r=function(r){if(r&&r.file){(e.isRtmp(r.file)||e.isFlv(r.file))&&e.isMobile()&&r.fallbackfile&&e.isHls(r.fallbackfile)&&(r.file=r.fallbackfile),e.isMobile()||e.isFlvjsSupported()||!e.isHls(r.file)&&!e.isFlv(r.file)||!r.fallbackfile||(r.file=r.fallbackfile);var a=i.extend({},n,r);a.file=t.trim(\"\"+a.file);var s=/^[^\\/]+\\/(?:x-)?([^\\/]+)$/;if(e.isRtmp(a.file)?a.type=\"rtmp\":s.test(a.type)?a.type=a.type.replace(s,\"$1\"):a.type||(a.type=t.extension(a.file)),a.type){switch(a.type){case\"m3u8\":case\"vnd.apple.mpegurl\":a.type=\"hls\";break;case\"dash+xml\":a.type=\"dash\";break;case\"smil\":a.type=\"rtmp\";break;case\"m4a\":a.type=\"aac\"}return i.each(a,function(e,t){\"\"===e&&delete a[t]}),a}}};return r}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r,a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};n=[i(2),i(28),i(4),i(3),i(45),i(1)],r=function(e,t,i,n,r,s){var o={FLASH:0,JAVASCRIPT:1,HYBRID:2},l=function(l){function u(){switch(t.getPluginPathType(l)){case t.pluginPathType.ABSOLUTE:return l;case t.pluginPathType.RELATIVE:return e.getAbsolutePath(l,window.location.href)}}function d(){s.defer(function(){_=r.loaderstatus.COMPLETE,g.trigger(i.COMPLETE)})}function c(){_=r.loaderstatus.ERROR,g.trigger(i.ERROR,{url:l})}var h,f,p,m,g=s.extend(this,n),_=r.loaderstatus.NEW;this.load=function(){if(_===r.loaderstatus.NEW){if(l.lastIndexOf(\".swf\")>0)return h=l,_=r.loaderstatus.COMPLETE,void g.trigger(i.COMPLETE);if(t.getPluginPathType(l)===t.pluginPathType.CDN)return _=r.loaderstatus.COMPLETE,void g.trigger(i.COMPLETE);_=r.loaderstatus.LOADING;var e=new r(u());e.on(i.COMPLETE,d),e.on(i.ERROR,c),e.load()}},this.registerPlugin=function(e,t,n,a){m&&(clearTimeout(m),m=void 0),p=t,n&&a?(h=a,f=n):\"string\"==typeof n?h=n:\"function\"==typeof n?f=n:n||a||(h=e),_=r.loaderstatus.COMPLETE,g.trigger(i.COMPLETE)},this.getStatus=function(){return _},this.getPluginName=function(){return t.getPluginName(l)},this.getFlashPath=function(){if(h)switch(t.getPluginPathType(h)){case t.pluginPathType.ABSOLUTE:return h;case t.pluginPathType.RELATIVE:return l.lastIndexOf(\".swf\")>0?e.getAbsolutePath(h,window.location.href):e.getAbsolutePath(h,u())}return null},this.getJS=function(){return f},this.getTarget=function(){return p},this.getPluginmode=function(){return void 0!==(\"undefined\"==typeof h?\"undefined\":a(h))&&void 0!==(\"undefined\"==typeof f?\"undefined\":a(f))?o.HYBRID:void 0!==(\"undefined\"==typeof h?\"undefined\":a(h))?o.FLASH:void 0!==(\"undefined\"==typeof f?\"undefined\":a(f))?o.JAVASCRIPT:void 0},this.getNewInstance=function(e,t,i){return new f(e,t,i)},this.getURL=function(){return l}};return l}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(2),i(1),i(134)],r=function(e,t,i){function n(t){if(\"hls\"===t.type)if(t.androidhls!==!1){var i=e.isAndroidNative;if(i(2)||i(3)||i(\"4.0\"))return!1;if(e.isAndroid())return!0}else if(e.isAndroid())return!1;return null}var r=[{name:\"h265web\",supports:function(e){return e.isHEVC}},{name:\"html5\",supports:function(t){var r={aac:\"audio/mp4\",mp4:\"video/mp4\",f4v:\"video/mp4\",m4v:\"video/mp4\",mov:\"video/mp4\",mkv:\"video/mp4\",mp3:\"audio/mpeg\",wav:\"audio/wav\",mpeg:\"audio/mpeg\",ogv:\"video/ogg\",ogg:\"video/ogg\",oga:\"video/ogg\",vorbis:\"video/ogg\",webm:\"video/webm\",f4a:\"video/aac\",m3u8:\"application/vnd.apple.mpegurl\",m3u:\"application/vnd.apple.mpegurl\",hls:\"application/vnd.apple.mpegurl\"};e.isFlvjsSupported()&&(r.flv=\"video/mp4\");var a=t.file,s=t.type,o=n(t);if(null!==o)return o;if(e.isRtmp(a,s))return!1;if(!r[s])return!1;if(e.isEdge()&&e.isHls(a,s))return!1;if(e.isPoorIE())return!1;if(e.isHls(a,s)&&e.isSafari()&&!e.isMobile())return!1;if(i.canPlayType){var l=i.canPlayType(r[s]);return!!l}return!1}},{name:\"videojs\",supports:function(t){return!(e.isChrome()&&parseInt(e.getChromeVersion())<50)&&(window.videojs&&window.videojs.MediaSource&&window.videojs.MediaSource.supportsNativeMediaSources()&&e.isHls(t.file,t.type))}},{name:\"flash\",supports:function(i){var n={flv:\"video\",f4v:\"video\",mov:\"video\",m4a:\"video\",m4v:\"video\",mp4:\"video\",aac:\"video\",f4a:\"video\",mp3:\"sound\",mpeg:\"sound\",smil:\"rtmp\",m3u8:\"hls\",hls:\"hls\"},r=t.keys(n);if(!e.isFlashSupported())return!1;var a=i.file,s=i.type;return!!e.isRtmp(a,s)||t.contains(r,s)}}];return r}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(1),i(44)],r=function(e,t){function i(e){e.onload=null,e.onprogress=null,e.onreadystatechange=null,e.onerror=null,\"abort\"in e&&e.abort()}function n(t,n){return function(r){var a=r&&r.currentTarget||n.xhr;if(clearTimeout(n.timeoutId),n.retryWithoutCredentials&&n.xhr.withCredentials){i(a);var s=e.extend({},n,{xhr:null,withCredentials:!1,retryWithoutCredentials:!1});return void c(s)}n.onerror(t,n.url,a)}}function r(e){return function(t){var i=t&&t.currentTarget||e.xhr;if(4===i.readyState){if(clearTimeout(e.timeoutId),i.status>=400){var n;return n=404===i.status?\"File not found\":\"\"+i.status+\"(\"+i.statusText+\")\",e.onerror(n,e.url,i)}if(200===i.status)return a(e)(t)}}}function a(e){return function(i){var n=i&&i.currentTarget||e.xhr;if(clearTimeout(e.timeoutId),e.responseType){if(\"json\"===e.responseType)return s(n,e)}else{var r,a=n.responseXML;if(a)try{r=a.firstChild}catch(e){}if(a&&r)return o(n,a,e);if(u&&n.responseText&&!a&&(a=t.parseXML(n.responseText),a&&a.firstChild))return o(n,a,e);if(e.requireValidXML)return void e.onerror(\"Invalid XML\",e.url,n)}e.oncomplete(n)}}function s(t,i){if(!t.response||e.isString(t.response)&&'\"'!==t.responseText.substr(1))try{t=e.extend({},t,{response:JSON.parse(t.responseText)})}catch(e){return void i.onerror(\"Invalid JSON\",i.url,t)}return i.oncomplete(t)}function o(t,i,n){var r=i.documentElement;return n.requireValidXML&&(\"parsererror\"===r.nodeName||r.getElementsByTagName(\"parsererror\").length)?void n.onerror(\"Invalid XML\",n.url,t):(t.responseXML||(t=e.extend({},t,{responseXML:i})),n.oncomplete(t))}var l=function(){},u=!1,d=function(e){var t=document.createElement(\"a\"),i=document.createElement(\"a\");t.href=location.href;try{return i.href=e,i.href=i.href,t.protocol+\"//\"+t.host!=i.protocol+\"//\"+i.host}catch(e){}return!0},c=function(t,s,o,c){e.isObject(t)&&(c=t,t=c.url);var h,f=e.extend({xhr:null,url:t,withCredentials:!1,retryWithoutCredentials:!1,timeout:6e4,timeoutId:-1,oncomplete:s||l,onerror:o||l,mimeType:c&&!c.responseType?\"text/xml\":\"\",requireValidXML:!1,responseType:c&&c.plainText?\"text\":\"\"},c);if(\"XDomainRequest\"in window&&d(t))h=f.xhr=new window.XDomainRequest,h.onload=a(f),h.ontimeout=h.onprogress=l,u=!0;else{if(!(\"XMLHttpRequest\"in window))return void f.onerror(\"\",t);\nh=f.xhr=new window.XMLHttpRequest,h.onreadystatechange=r(f)}var p=n(\"文件加载失败\",f);h.onerror=p,\"overrideMimeType\"in h?f.mimeType&&h.overrideMimeType(f.mimeType):u=!0;try{t=t.replace(/#.*$/,\"\"),h.open(\"GET\",t,!0)}catch(e){return p(e),h}if(f.responseType)try{h.responseType=f.responseType}catch(e){}f.timeout&&(f.timeoutId=setTimeout(function(){i(h),f.onerror(\"Timeout\",t,h)},f.timeout),h.onabort=function(){clearTimeout(f.timeoutId)});try{f.withCredentials&&\"withCredentials\"in h&&(h.withCredentials=!0),h.send()}catch(e){p(e)}return h};return{ajax:c,crossdomain:d}}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(1)],r=function(e){function t(e){return function(){return n(e)}}var i={},n=e.memoize(function(e){var t=navigator.userAgent.toLowerCase();return null!==t.match(e)}),r=i.isInt=function(e){return parseFloat(e)%1===0};i.isFlashSupported=function(){var e=i.flashVersion();return e&&e>=31},i.isFF=t(/firefox/i),i.isIPod=t(/iP(hone|od)/i),i.isIPad=t(/iPad/i),i.isSafari602=t(/Macintosh.*Mac OS X 10_8.*6\\.0\\.\\d* Safari/i),i.isOSX=t(/Mac OS X/i),i.isEdge=t(/\\sedge\\/\\d+/i);var a=i.isIETrident=function(e){return!!i.isEdge()||(e?(e=parseFloat(e).toFixed(1),n(new RegExp(\"trident/.+rv:\\\\s*\"+e,\"i\"))):n(/trident/i))},s=i.isMSIE=function(e){return e?(e=parseFloat(e).toFixed(1),n(new RegExp(\"msie\\\\s*\"+e,\"i\"))):n(/msie/i)},o=t(/chrome/i);i.isChrome=function(){return o()&&!i.isEdge()},i.isChrome66=function(){var e=window.navigator.userAgent.toLowerCase(),t=e.match(/chrome\\/([\\d.]+)/);return!!(this.isChrome()&&t&&t[1]&&parseInt(t[1])>=66)},i.isIE=function(e){return e?(e=parseFloat(e).toFixed(1),e>=11?a(e):s(e)):s()||a()},i.isSafari=function(){return n(/safari/i)&&!n(/chrome/i)&&!n(/chromium/i)&&!n(/android/i)};var l=i.isIOS=function(e){return n(e?new RegExp(\"iP(hone|ad|od).+\\\\s(OS\\\\s\"+e+\"|.*\\\\sVersion/\"+e+\")\",\"i\"):/iP(hone|ad|od)/i)};i.isAndroidNative=function(e){return u(e,!0)};var u=i.isAndroid=function(e,t){return!(t&&n(/chrome\\/[123456789]/i)&&!n(/chrome\\/18/))&&(e?(r(e)&&!/\\./.test(e)&&(e=\"\"+e+\".\"),n(new RegExp(\"Android\\\\s*\"+e,\"i\"))):n(/Android/i))};return i.isMobile=function(){return l()||u()},i.isIframe=function(){return window.frameElement&&\"IFRAME\"===window.frameElement.nodeName},i.flashVersion=function(){if(i.isAndroid())return 0;var e,t=navigator.plugins;if(t&&(e=t[\"Shockwave Flash\"],e&&e.description))return parseFloat(e.description.replace(/\\D+(\\d+\\.?\\d*).*/,\"$1\"));if(\"undefined\"!=typeof window.ActiveXObject){try{if(e=new window.ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\"))return parseFloat(e.GetVariable(\"$version\").split(\" \")[1].replace(/\\s*,\\s*/,\".\"))}catch(e){return 0}return e}return 0},i.getBrowserInfo=function(){var e=window.navigator.userAgent.toLowerCase(),t=\"\";if(this.isIE())t=e.match(/msie ([\\d.]+)/)?\"IE-\"+e.match(/msie ([\\d.]+)/)[1]:\"IE-unknown\";else if(this.isChrome()){var i=e.match(/chrome\\/([\\d.]+)/);t=i&&i.length>1?\"Chrome-\"+i[1]:\"Chrome-unknown\"}else if(this.isFF())t=\"Firefox-\"+e.match(/firefox\\/([\\d.]+)/)[1];else if(this.isSafari()){var n=e.match(/version\\/([\\d.]+)/);t=\"Safari\"+(n&&n.length?\"-\"+e.match(/version\\/([\\d.]+)/)[1]:\"\")}else t=l()?\"ios\":u()?\"android\":\"other\";return t},i.isPoorIE=function(){return this.isIE()&&(s(8)||s(7)||s(6)||document.documentMode&&document.documentMode<=8)},i.getChromeVersion=function(){var e=window.navigator.userAgent.toLowerCase();if(this.isChrome()){var t=e.match(/chrome\\/([\\d.]+)/);return t&&t.length>1?t[1]:-1}return-1},i}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(3),i(1)],r=function(e,t){function i(){}var n=function(e,i){var n,r=this;n=e&&t.has(e,\"constructor\")?e.constructor:function(){return r.apply(this,arguments)},t.extend(n,r,i);var a=function(){this.constructor=n};return a.prototype=r.prototype,n.prototype=new a,e&&t.extend(n.prototype,e),n.__super__=r.prototype,n};return i.extend=n,t.extend(i.prototype,e),i}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(1)],r=function(e){var t={},i={TIT2:\"title\",TT2:\"title\",WXXX:\"url\",TPE1:\"artist\",TP1:\"artist\",TALB:\"album\",TAL:\"album\"};return t.utf8ArrayToStr=function(e,t){var i,n,r,a,s,o;for(i=\"\",r=e.length,n=t||0;n<r;)if(a=e[n++],0!==a&&3!==a)switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:i+=String.fromCharCode(a);break;case 12:case 13:s=e[n++],i+=String.fromCharCode((31&a)<<6|63&s);break;case 14:s=e[n++],o=e[n++],i+=String.fromCharCode((15&a)<<12|(63&s)<<6|(63&o)<<0)}return i},t.utf16BigEndianArrayToStr=function(e,t){var i,n,r;for(i=\"\",r=e.length-1,n=t||0;n<r;)254===e[n]&&255===e[n+1]||(i+=String.fromCharCode((e[n]<<8)+e[n+1])),n+=2;return i},t.syncSafeInt=function(e){var i=t.arrayToInt(e);return 127&i|(32512&i)>>1|(8323072&i)>>2|(2130706432&i)>>3},t.arrayToInt=function(e){for(var t=\"0x\",i=0;i<e.length;i++)t+=e[i].toString(16);return parseInt(t)},t.parseID3=function(n){return e.reduce(n,function(n,r){if(!(\"value\"in r)&&\"data\"in r&&r.data instanceof ArrayBuffer){var a=r,s=new Uint8Array(a.data),o=s.length;r={value:{key:\"\",data:\"\"}};for(var l=10;l<14&&l<s.length&&0!==s[l];)r.value.key+=String.fromCharCode(s[l]),l++;var u=19,d=s[u];3!==d&&0!==d||(d=s[++u],o--);var c=0;if(1!==d&&2!==d)for(var h=u+1;h<o;h++)if(0===s[h]){c=h-u;break}if(c>0){var f=t.utf8ArrayToStr(s.subarray(u,u+=c),0);if(\"PRIV\"===r.value.key){if(\"com.apple.streaming.transportStreamTimestamp\"===f){var p=1&t.syncSafeInt(s.subarray(u,u+=4)),m=t.syncSafeInt(s.subarray(u,u+=4));p&&(m+=4294967296),r.value.data=m}else r.value.data=t.utf8ArrayToStr(s,u+1);r.value.info=f}else r.value.info=f,r.value.data=t.utf8ArrayToStr(s,u+1)}else{var g=s[u];1===g||2===g?r.value.data=t.utf16BigEndianArrayToStr(s,u+1):r.value.data=t.utf8ArrayToStr(s,u+1)}}if(i.hasOwnProperty(r.value.key)&&(n[i[r.value.key]]=r.value.data),r.value.info){var _=n[r.value.key];e.isObject(_)||(_={},n[r.value.key]=_),_[r.value.info]=r.value.data}else n[r.value.key]=r.value.data;return n},{})},t}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(1)],r=function(e){var t=function(){var t={},i={},n={},r={};return{start:function(i){t[i]=e.now(),n[i]=n[i]+1||1},end:function(n){if(t[n]){var r=e.now()-t[n];i[n]=i[n]+r||r}},dump:function(){return{counts:n,sums:i,events:r}},tick:function(t,i){r[t]=i||e.now()},between:function(e,t){return r[t]&&r[e]?r[t]-r[e]:-1}}};return t}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i){this.helpers=e||{},this.partials=t||{},this.decorators=i||{},l.registerDefaultHelpers(this),u.registerDefaultDecorators(this)}t.__esModule=!0,t.HandlebarsEnvironment=r;var a=i(12),s=i(17),o=n(s),l=i(68),u=i(158),d=i(70),c=n(d),h=i(69),f=\"4.7.7\";t.VERSION=f;var p=8;t.COMPILER_REVISION=p;var m=7;t.LAST_COMPATIBLE_COMPILER_REVISION=m;var g={1:\"<= 1.0.rc.2\",2:\"== 1.0.0-rc.3\",3:\"== 1.0.0-rc.4\",4:\"== 1.x.x\",5:\"== 2.0.0-alpha.x\",6:\">= 2.0.0-beta.1\",7:\">= 4.0.0 <4.3.0\",8:\">= 4.3.0\"};t.REVISION_CHANGES=g;var _=\"[object Object]\";r.prototype={constructor:r,logger:c.default,log:c.default.log,registerHelper:function(e,t){if(a.toString.call(e)===_){if(t)throw new o.default(\"Arg not supported with multiple helpers\");a.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(a.toString.call(e)===_)a.extend(this.partials,e);else{if(\"undefined\"==typeof t)throw new o.default('Attempting to register a partial called \"'+e+'\" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(a.toString.call(e)===_){if(t)throw new o.default(\"Arg not supported with multiple decorators\");a.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){h.resetLoggedProperties()}};var v=c.default.log;t.log=v,t.createFrame=a.createFrame,t.logger=c.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){o.default(e),u.default(e),c.default(e),f.default(e),m.default(e),_.default(e),y.default(e)}function a(e,t,i){e.helpers[t]&&(e.hooks[t]=e.helpers[t],i||delete e.helpers[t])}t.__esModule=!0,t.registerDefaultHelpers=r,t.moveHelperToHooks=a;var s=i(160),o=n(s),l=i(161),u=n(l),d=i(162),c=n(d),h=i(163),f=n(h),p=i(164),m=n(p),g=i(165),_=n(g),v=i(166),y=n(v)},function(e,t,i){\"use strict\";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){var t=Object.create(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var i=Object.create(null);return i.__proto__=!1,{properties:{whitelist:u.createNewLookupObject(i,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:u.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}}function a(e,t,i){return\"function\"==typeof e?s(t.methods,i):s(t.properties,i)}function s(e,t){return void 0!==e.whitelist[t]?e.whitelist[t]===!0:void 0!==e.defaultValue?e.defaultValue:(o(t),!1)}function o(e){h[e]!==!0&&(h[e]=!0,c.log(\"error\",'Handlebars: Access has been denied to resolve the property \"'+e+'\" because it is not an \"own property\" of its parent.\\nYou can add a runtime option to disable the check or this warning:\\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}function l(){Object.keys(h).forEach(function(e){delete h[e]})}t.__esModule=!0,t.createProtoAccessControl=r,t.resultIsAllowed=a,t.resetLoggedProperties=l;var u=i(167),d=i(70),c=n(d),h=Object.create(null)},function(e,t,i){\"use strict\";t.__esModule=!0;var n=i(12),r={methodMap:[\"debug\",\"info\",\"warn\",\"error\"],level:\"info\",lookupLevel:function(e){if(\"string\"==typeof e){var t=n.indexOf(r.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=r.lookupLevel(e),\"undefined\"!=typeof console&&r.lookupLevel(r.level)<=e){var t=r.methodMap[e];console[t]||(t=\"log\");for(var i=arguments.length,n=Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];console[t].apply(console,n)}}};t.default=r,e.exports=t.default},function(e,t,i){var n;n=function(require,e,t){function i(e,t){r(t,a(e))}function n(e){var t=d[e];if(t){for(var i=Object.keys(t),n=0;n<i.length;n+=1)for(var r=t[i[n]],a=0;a<r.parts.length;a+=1)r.parts[a]();delete d[e]}}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i],r=(d[e]||{})[n.id];if(r){for(var a=0;a<r.parts.length;a++)r.parts[a](n.parts[a]);for(;a<n.parts.length;a++)r.parts.push(l(e,n.parts[a]))}else{for(var s=[],a=0;a<n.parts.length;a++)s.push(l(e,n.parts[a]));d[e]=d[e]||{},d[e][n.id]={id:n.id,parts:s}}}}function a(e){for(var t=[],i={},n=0;n<e.length;n++){var r=e[n],a=r[0],s=r[1],o=r[2],l={css:s,media:o};i[a]?i[a].parts.push(l):t.push(i[a]={id:a,parts:[l]})}return t}function s(e){f().appendChild(e)}function o(e){var t=document.createElement(\"style\");return t.type=\"text/css\",t.setAttribute(\"data-jwplayer-id\",e),s(t),t}function l(e,t){var i,n,r,a=c[e];a||(a=c[e]={element:o(e),counter:0});var s=a.counter++;return i=a.element,n=u.bind(null,i,s,!1),r=u.bind(null,i,s,!0),n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media)return;n(t=e)}else r()}}function u(e,t,i,n){var r=i?\"\":n.css;if(e.styleSheet)e.styleSheet.cssText=p(t,r);else{var a=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}var d={},c={},h=function(e){var t;return function(){return\"undefined\"==typeof t&&(t=e.apply(this,arguments)),t}},f=h(function(){return document.head||document.getElementsByTagName(\"head\")[0]});t.exports={style:i,clear:n};var p=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join(\"\\n\")}}()}.call(t,i,t,e),!(void 0!==n&&(e.exports=n))},,function(e,t,i){t=e.exports=i(155)(),t.push([e.id,\".jw-reset{color:inherit;background-color:transparent;padding:0;margin:0;float:none;font-family:Arial,Helvetica,sans-serif;font-size:1em;line-height:1em;list-style:none;text-align:left;text-transform:none;vertical-align:baseline;border:0;direction:ltr;font-variant:inherit;font-stretch:inherit;-webkit-tap-highlight-color:rgba(255,255,255,0)}@font-face{font-family:jw-icons;src:url(\"+i(186)+') format(\"woff\"),url('+i(187)+') format(\"truetype\");font-weight:400;font-style:normal}.jw-controlbar .jw-menu .jw-option:before,.jw-icon-display,.jw-icon-inline,.jw-icon-tooltip{font-family:jw-icons;-webkit-font-smoothing:antialiased;font-style:normal;font-weight:400;text-transform:none;background-color:transparent;font-variant:normal;-ms-font-feature-settings:\"liga\" 1;-o-font-feature-settings:\"liga\";font-feature-settings:\"liga\";-moz-osx-font-smoothing:grayscale}.jw-icon-audio-tracks:before{content:\"\\\\E600\"}.jw-icon-buffer:before{content:\"\\\\E601\"}.jw-icon-cast:before{content:\"\\\\E603\"}.jw-icon-cast.jw-off:before{content:\"\\\\E602\"}.jw-icon-cc:before{content:\"\\\\E605\"}.jw-icon-cue:before,.jw-icon-menu-bullet:before{content:\"\\\\E606\"}.jw-icon-error:before{content:\"\\\\E607\"}.jw-icon-fullscreen:before{content:\"\\\\E608\"}.jw-icon-fullscreen.jw-off:before{content:\"\\\\E613\"}.jw-icon-hd:before{content:none}.jw-rightclick-logo:before,.jw-watermark:before{content:\"\\\\E60B\"}.jw-icon-next:before{content:\"\\\\E60C\"}.jw-icon-pause:before{content:\"\\\\E60D\"}.jw-icon-play:before{content:\"\\\\E60E\"}.jw-icon-prev:before{content:\"\\\\E60F\"}.jw-icon-replay:before{content:\"\\\\E610\"}.jw-icon-volume:before{content:\"\\\\E612\"}.jw-icon-volume.jw-off:before{content:\"\\\\E611\"}.jw-icon-more:before{content:\"\\\\E614\"}.jw-icon-close:before{content:\"\\\\E615\"}.jw-icon-playlist:before{content:\"\\\\E616\"}.jw-icon-barlogo:before{content:\"\\\\E617\"}.jw-icon-barlogo-new:before{content:\"\\\\E618\"}.jwplayer{width:100%;font-size:16px;position:relative;display:block;min-height:0;overflow:visible;box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;background-color:#000;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.jwplayer *{box-sizing:inherit}.jwplayer.jw-flag-aspect-mode{height:auto!important}.jwplayer.jw-flag-aspect-mode .jw-aspect{display:block}.jwplayer .jw-aspect{display:none}.jwplayer.jw-no-focus:focus,.jwplayer .jw-swf{outline:none}.jwplayer.jw-ie:focus{outline:1px dotted #585858}.jwplayer:hover .jw-display-icon-container{background-color:#333;background:#333;background-size:#333}.jw-adv,.jw-controls,.jw-media,.jw-overlays,.jw-preview{position:absolute;width:100%;height:100%;top:0;left:0;bottom:0;right:0}.jwplayer .jw-adv{background-size:100% 100%;cursor:pointer}.jwplayer .jw-adv .adv-countdown{position:absolute;width:95px;padding-left:10px;height:30px;line-height:30px;background-color:#202020;opacity:.7;color:#ee6002;font-size:14px;top:0;right:0;display:none}.jwplayer .jw-adv .adv-close{position:absolute;height:22px;line-height:22px;color:#fff;font-weight:700;font-size:14px;width:20px;top:0;right:5px;display:none;text-align:center}.jw-media{overflow:hidden;cursor:pointer}.jw-overlays{cursor:auto}.jw-media.jw-media-show{visibility:visible;opacity:1}.jw-controls.jw-controls-disabled{display:none}.jw-controls .jw-controls-right{position:absolute;top:0;right:0;left:0;bottom:2em}.jw-warning{color:red;top:30px;right:10px;position:absolute;z-index:10000;width:320px;display:none}.jw-warning a{color:#108cee}.jw-marquee{opacity:0;color:#fff;width:auto;font-size:16px;font-weight:700;white-space:nowrap;position:absolute}@keyframes marquee1{0%{left:100%}to{left:-110px}}@keyframes marquee2{0%{left:100%}to{left:-110px}}.jw-text{height:1em;font-family:Arial,Helvetica,sans-serif;font-size:.75em;font-style:normal;font-weight:400;color:#fff;text-align:center;font-variant:normal;font-stretch:normal}.jw-plugin{position:absolute;bottom:2.5em}.jw-plugin .jw-banner{max-width:100%;opacity:0;cursor:pointer;position:absolute;margin:auto auto 0;left:0;right:0;bottom:0;display:block}.jw-cast-screen{width:100%;height:100%}.jw-instream{position:absolute;top:0;right:0;bottom:0;left:0;display:none}.jw-icon-playback:before{content:\"\\\\E60E\"}.jw-captions,.jw-controls,.jw-overlays,.jw-preview,.jw-title{pointer-events:none}.jw-controlbar,.jw-display-icon-container,.jw-dock,.jw-logo,.jw-media,.jw-overlays>div,.jw-skip{pointer-events:all}.jwplayer video{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;margin:auto;background:transparent}.jwplayer video::-webkit-media-controls-start-playback-button{display:none}.jwplayer.jw-stretch-uniform video{-o-object-fit:contain;object-fit:contain}.jwplayer.jw-stretch-none video{-o-object-fit:none;object-fit:none}.jwplayer.jw-stretch-fill video{-o-object-fit:cover;object-fit:cover}.jwplayer.jw-stretch-exactfit video{-o-object-fit:fill;object-fit:fill}.jw-adv,.jw-click,.jw-preview{position:absolute;width:100%;height:100%}.jw-adv,.jw-preview{display:none;opacity:1;visibility:visible;background:#000 no-repeat 50% 50%}.jw-error .jw-preview,.jw-stretch-uniform .jw-preview,.jwplayer .jw-preview{background-size:100% 100%}.jw-stretch-none .jw-preview{background-size:auto auto}.jw-stretch-fill .jw-preview{background-size:cover}.jw-stretch-exactfit .jw-preview{background-size:100% 100%}.jw-display-icon-container{position:relative;top:50%;display:table;height:3.5em;width:3.5em;margin:-1.75em auto 0;cursor:pointer}.jw-display-icon-container .jw-icon-display{position:relative;display:table-cell;text-align:center;vertical-align:middle!important;background-position:50% 50%;background-repeat:no-repeat;font-size:2em}.jw-flag-audio-player .jw-display-icon-container,.jw-flag-dragging .jw-display-icon-container{display:none}.jw-icon{font-family:jw-icons;-webkit-font-smoothing:antialiased;font-style:normal;font-weight:400;text-transform:none;background-color:transparent;font-variant:normal;-ms-font-feature-settings:\"liga\" 1;-o-font-feature-settings:\"liga\";font-feature-settings:\"liga\";-moz-osx-font-smoothing:grayscale}.jw-controlbar{display:table;position:absolute;right:0;left:0;bottom:0;height:2em;padding:0 .25em}.jw-controlbar .jw-hidden{display:none}.jw-controlbar.jw-drawer-expanded .jw-controlbar-center-group,.jw-controlbar.jw-drawer-expanded .jw-controlbar-left-group{opacity:0}.jw-controlbar-textshow .jw-controlbar-center-group .jw-slider-time,.jw-controlbar-textshow .jw-controlbar-center-group .jw-text-duration,.jw-controlbar-textshow .jw-controlbar-center-group .jw-text-elapsed{display:none}.jw-controlbar-textshow .jw-controlbar-center-group .jw-text-alt{display:inline}.jw-background-color{background-color:#414040}.jw-group{display:table-cell}.jw-controlbar-center-group{width:100%;padding:0 .25em}.jw-controlbar-center-group .jw-slider-time,.jw-controlbar-center-group .jw-text-alt{padding:0}.jw-controlbar-center-group .jw-text-alt{display:none}.jw-controlbar-left-group,.jw-controlbar-right-group{white-space:nowrap}.jw-icon-display:hover,.jw-icon-inline:hover,.jw-icon-tooltip:hover,.jw-knob:hover,.jw-option:before:hover{color:#eee}.jw-icon-inline,.jw-icon-tooltip,.jw-slider-horizontal,.jw-text-duration,.jw-text-elapsed{display:inline-block;height:2em;position:relative;line-height:2em;vertical-align:middle;cursor:pointer}.jw-icon-inline,.jw-icon-tooltip{min-width:1.25em;text-align:center}.jw-icon-playback{min-width:2.25em}.jw-icon-barlogo{font-size:19px;min-width:1.75em}.jw-icon-barlogo-new{font-size:20px;min-width:1.5em;height:1em;line-height:1em}.jw-icon-volume{min-width:1.75em;text-align:left}.jw-time-tip{line-height:1em;pointer-events:none}.jw-icon-inline:after,.jw-icon-tooltip:after{width:100%;height:100%;font-size:1em}.jw-icon-cast,.jw-icon-inline.jw-icon-volume,.jw-slider-volume.jw-slider-horizontal{display:none}.jw-icon-hd .jw-hd-label{font-size:12px;vertical-align:text-top;display:inline-block;height:14px;line-height:14px}.jw-controlbar .jw-icon-playrate .jw-overlay{bottom:1.5em}.jw-controlbar .jw-icon-playrate .jw-playrate-label{font-size:.75em;border-left:1px solid #666;padding:0 .7em;display:inline-block;line-height:16px;height:16px;vertical-align:text-top}.jw-controlbar .jw-icon-cc:before{content:none}.jw-controlbar .jw-icon-cc .jw-cc-label{font-size:.75em;padding:0 .7em;display:inline-block;line-height:16px;height:16px;vertical-align:text-top}.jw-dock{margin:.75em;display:block;opacity:1;clear:right}.jw-dock:after{content:\"\";clear:both;display:block}.jw-dock-button{cursor:pointer;float:right;position:relative;width:2.5em;height:2.5em;margin:.5em}.jw-dock-button .jw-arrow{display:none;position:absolute;bottom:-.2em;width:.5em;height:.2em;left:50%;margin-left:-.25em}.jw-dock-button .jw-overlay{display:none;position:absolute;top:2.5em;right:0;margin-top:.25em;padding:.5em;white-space:nowrap}.jw-dock-button:hover .jw-arrow,.jw-dock-button:hover .jw-overlay{display:block}.jw-dock-image{width:100%;height:100%;background-position:50% 50%;background-repeat:no-repeat;opacity:.75}.jw-title{display:none;position:absolute;top:0;width:100%;font-size:.875em;height:8em;background:linear-gradient(180deg,#000 0,#000 18%,transparent)}.jw-title-primary,.jw-title-secondary{padding:.75em 1.5em;min-height:2.5em;color:#fff;white-space:nowrap;text-overflow:ellipsis;overflow-x:hidden}.jw-title-primary{font-weight:700}.jw-title-secondary{margin-top:-.5em}.jw-slider-container{display:inline-block;height:1em;position:relative;touch-action:none}.jw-buffer,.jw-progress,.jw-rail{position:absolute;cursor:pointer}.jw-progress{background-color:#fff}.jw-rail{background-color:#aaa}.jw-buffer{background-color:#202020}.jw-cue,.jw-knob{position:absolute;cursor:pointer}.jw-cue{background-color:#fff;width:.1em;height:.4em}.jw-knob{background-color:#aaa;width:.4em;height:.4em}.jw-slider-horizontal{width:4em;height:1em}.jw-slider-horizontal.jw-slider-volume{margin-right:5px}.jw-slider-horizontal .jw-buffer,.jw-slider-horizontal .jw-progress,.jw-slider-horizontal .jw-rail{width:100%;height:.4em}.jw-slider-horizontal .jw-buffer,.jw-slider-horizontal .jw-progress{width:0}.jw-slider-horizontal .jw-progress,.jw-slider-horizontal .jw-rail,.jw-slider-horizontal .jw-slider-container{width:100%}.jw-slider-horizontal .jw-knob{left:0;margin-left:-.325em}.jw-slider-vertical{width:.75em;height:4em;bottom:0;position:absolute;padding:1em}.jw-slider-vertical .jw-buffer,.jw-slider-vertical .jw-progress,.jw-slider-vertical .jw-rail{bottom:0;height:100%}.jw-slider-vertical .jw-buffer,.jw-slider-vertical .jw-progress{height:0}.jw-slider-vertical .jw-progress,.jw-slider-vertical .jw-rail,.jw-slider-vertical .jw-slider-container{bottom:0;width:.75em;height:100%;left:0;right:0;margin:0 auto}.jw-slider-vertical .jw-slider-container{height:4em;position:relative}.jw-slider-vertical .jw-knob{bottom:0;left:0;right:0;margin:0 auto}.jw-slider-time{right:0;left:0;width:100%}.jw-tooltip-time{position:absolute}.jw-slider-volume .jw-buffer{display:none}.jwplayer .jw-process-adv{position:absolute;top:0;left:0;display:none}.jwplayer .jw-process-adv img{border:none}.jw-captions{position:absolute;display:none;margin:0 auto;width:100%;left:0;bottom:3em;right:0;max-width:90%;text-align:center}.jw-captions.jw-captions-enabled{display:block}.jw-captions-window{display:none;padding:.25em;border-radius:.25em}.jw-captions-text,.jw-captions-window.jw-captions-window-active{display:inline-block}.jw-captions-text{color:#fff;background-color:#000;word-wrap:break-word;white-space:pre-line;font-style:normal;font-weight:400;text-align:center;text-decoration:none;line-height:1.3em;padding:.1em .8em}.jwplayer video::-webkit-media-controls{justify-content:flex-start}.jwplayer video::-webkit-media-text-track-container{max-height:84.5%;line-height:1.3em}.jwplayer.jw-flag-compact-player video::-webkit-media-text-track-container{max-height:82%}.jwplayer .jw-rightclick{display:none;position:absolute;white-space:nowrap}.jwplayer .jw-rightclick.jw-open{display:block}.jwplayer .jw-rightclick ul{list-style:none;font-weight:700;border-radius:.15em;margin:0;border:1px solid #444;padding:0}.jwplayer .jw-rightclick ul li{background-color:#000;border-bottom:1px solid #444;margin:0}.jwplayer .jw-rightclick ul li .jw-rightclick-logo{font-size:2em;color:#ff0147;vertical-align:middle;padding-right:.3em;margin-right:.3em;border-right:1px solid #444}.jwplayer .jw-rightclick ul li a{color:#fff;text-decoration:none;padding:1em;display:block;font-size:.6875em;line-height:1em}.jwplayer .jw-rightclick ul li:last-child{border-bottom:none}.jwplayer .jw-rightclick ul li:hover{background-color:#1a1a1a;cursor:pointer}.jwplayer .jw-rightclick ul .jw-featured{background-color:#252525;vertical-align:middle}.jwplayer .jw-rightclick ul .jw-featured a{color:#777}.jw-logo{position:absolute;margin:.75em;cursor:pointer;pointer-events:all;background-repeat:no-repeat;background-size:contain;top:auto;right:auto;left:auto;bottom:auto}.jw-logo .jw-flag-audio-player{display:none}.jw-logo-top-right{top:0;right:0}.jw-logo-top-left{top:0;left:0}.jw-logo-bottom-left{bottom:0;left:0}.jw-logo-bottom-right,.jw-watermark{bottom:0;right:0}.jw-watermark{position:absolute;top:50%;left:0;text-align:center;font-size:14em;color:#eee;opacity:.33;pointer-events:none}.jw-icon-tooltip.jw-open .jw-overlay{opacity:1;visibility:visible}.jw-icon-tooltip.jw-hidden,.jw-icon-tooltip.jw-open-drawer:before,.jw-overlay-horizontal{display:none}.jw-icon-tooltip.jw-open-drawer .jw-overlay-horizontal{opacity:1;display:inline-block;vertical-align:top}.jw-overlay:before{position:absolute;top:0;bottom:0;left:-50%;width:100%;background-color:transparent;content:\" \"}.jw-slider-time .jw-overlay:before{height:1em;top:auto}.jw-menu,.jw-time-tip,.jw-volume-tip{position:relative;left:-50%;border:1px solid #000;margin:0}.jw-volume-value-tip{font-size:12px;position:absolute;top:-26px;right:20px;background-color:#000;line-height:20px;border-radius:3px;padding:0 3px;color:#fff}.jw-volume-tip{width:100%;height:100%;display:block}.jw-time-tip{text-align:center;font-family:inherit;color:#aaa;bottom:1em;border:4px solid #000}.jw-time-tip .jw-text{line-height:1em}.jw-controlbar .jw-overlay{margin:0;position:absolute;bottom:2em;left:50%;opacity:0;visibility:hidden}.jw-controlbar .jw-overlay .jw-contents{position:relative}.jw-controlbar .jw-option{position:relative;white-space:nowrap;cursor:pointer;list-style:none;height:1.5em;font-family:inherit;line-height:1.5em;color:#aaa;padding:0 .5em;font-size:.8em}.jw-controlbar .jw-option:before:hover,.jw-controlbar .jw-option:hover{color:#eee}.jw-controlbar .jw-option:before{padding-right:.125em}.jw-playlist-container ::-webkit-scrollbar-track{background-color:#333;border-radius:10px}.jw-playlist-container ::-webkit-scrollbar{width:5px;border:10px solid #000;border-bottom:0;border-top:0}.jw-playlist-container ::-webkit-scrollbar-thumb{background-color:#fff;border-radius:5px}.jw-tooltip-title{border-bottom:1px solid #444;text-align:left;padding-left:.7em}.jw-playlist{max-height:11em;min-height:4.5em;overflow-x:hidden;overflow-y:scroll;width:calc(100% - 4px)}.jw-playlist .jw-option{height:3em;margin-right:5px;color:#fff;padding-left:1em;font-size:.8em}.jw-playlist .jw-label,.jw-playlist .jw-name{display:inline-block;line-height:3em;text-align:left;overflow:hidden;white-space:nowrap}.jw-playlist .jw-label{width:1em}.jw-playlist .jw-name{width:11em}.jw-skip{cursor:default;position:absolute;float:right;display:inline-block;right:.75em;bottom:3em}.jw-skip.jw-skippable{cursor:pointer}.jw-skip.jw-hidden{visibility:hidden}.jw-skip .jw-skip-icon{display:none;margin-left:-.75em}.jw-skip .jw-skip-icon:before{content:\"\\\\E60C\"}.jw-skip .jw-skip-icon,.jw-skip .jw-text{color:#aaa;vertical-align:middle;line-height:1.5em;font-size:.7em}.jw-skip.jw-skippable:hover{cursor:pointer}.jw-skip.jw-skippable:hover .jw-skip-icon,.jw-skip.jw-skippable:hover .jw-text{color:#eee}.jw-skip.jw-skippable .jw-skip-icon{display:inline;margin:0}.jwplayer.jw-state-paused.jw-flag-casting .jw-display-icon-container,.jwplayer.jw-state-playing.jw-flag-casting .jw-display-icon-container{display:table}.jwplayer.jw-flag-casting .jw-display-icon-container{border-radius:0;border:1px solid #fff;position:absolute;top:auto;left:.5em;right:.5em;bottom:50%;margin-bottom:-12.5%;height:50%;width:50%;padding:0;background-repeat:no-repeat;background-position:50%}.jwplayer.jw-flag-casting .jw-display-icon-container .jw-icon{font-size:3em}.jwplayer.jw-flag-casting.jw-state-complete .jw-preview{display:none}.jw-cast{position:absolute;width:100%;height:100%;background-repeat:no-repeat;background-size:auto;background-position:50% 50%}.jw-cast-label{position:absolute;left:.5em;right:.5em;bottom:75%;margin-bottom:1.5em;text-align:center}.jw-cast-name{color:#ccc}.jw-state-idle .jw-preview{display:block}.jw-state-idle .jw-icon-display:before{content:\"\\\\E60E\"}.jw-state-idle .jw-captions,.jw-state-idle .jw-controlbar{display:none}.jw-state-idle .jw-title{display:block}.jwplayer.jw-state-playing .jw-display-icon-container{display:none}.jwplayer.jw-state-playing .jw-display-icon-container .jw-icon-display:before,.jwplayer.jw-state-playing .jw-icon-playback:before{content:\"\\\\E60D\"}.jwplayer.jw-state-paused .jw-display-icon-container{display:none}.jwplayer.jw-state-paused .jw-display-icon-container .jw-icon-display:before,.jwplayer.jw-state-paused .jw-icon-playback:before{content:\"\\\\E60E\"}.jwplayer.jw-state-buffering .jw-display-icon-container .jw-icon-display{animation:spin 2s linear infinite}.jwplayer.jw-state-buffering .jw-display-icon-container .jw-icon-display:before{content:\"\\\\E601\"}@keyframes spin{to{transform:rotate(1turn)}}.jwplayer.jw-state-buffering .jw-display-icon-container .jw-text{display:none}.jwplayer.jw-state-buffering .jw-icon-playback:before{content:\"\\\\E60D\"}.jwplayer.jw-state-complete .jw-preview{display:block}.jwplayer.jw-state-complete .jw-display-icon-container{z-index:10}.jwplayer.jw-state-complete .jw-display-icon-container .jw-icon-display:before{content:\"\\\\E610\"}.jwplayer.jw-state-complete .jw-display-icon-container .jw-text{display:none}.jwplayer.jw-state-complete .jw-icon-playback:before{content:\"\\\\E60E\"}.jwplayer.jw-state-complete .jw-captions{display:none}.jwplayer.jw-state-error .jw-title,body .jw-error .jw-title{display:block;z-index:1;pointer-events:auto}.jwplayer.jw-state-error .jw-title .jw-title-primary,body .jw-error .jw-title .jw-title-primary{white-space:normal}.jwplayer.jw-state-error .jw-title .jw-title-primary a,body .jw-error .jw-title .jw-title-primary a{cursor:pointer;color:#699f00;pointer-events:auto}.jwplayer.jw-state-error .jw-preview,body .jw-error .jw-preview{display:block}.jwplayer.jw-state-error .jw-captions,.jwplayer.jw-state-error .jw-controlbar,body .jw-error .jw-captions,body .jw-error .jw-controlbar{display:none}.jwplayer.jw-state-error:hover .jw-display-icon-container,body .jw-error:hover .jw-display-icon-container{cursor:default;color:#fff;background:#000}.jwplayer.jw-state-error .jw-icon-display,body .jw-error .jw-icon-display{cursor:default;font-family:jw-icons;-webkit-font-smoothing:antialiased;font-style:normal;font-weight:400;text-transform:none;background-color:transparent;font-variant:normal;-ms-font-feature-settings:\"liga\" 1;-o-font-feature-settings:\"liga\";font-feature-settings:\"liga\";-moz-osx-font-smoothing:grayscale}.jwplayer.jw-state-error .jw-icon-display:before,body .jw-error .jw-icon-display:before{content:\"\\\\E607\"}.jwplayer.jw-state-error .jw-icon-display:hover,body .jw-error .jw-icon-display:hover{color:#fff}body .jw-error{font-size:16px;background-color:#000;color:#eee;width:100%;height:100%;display:table;opacity:1;position:relative}body .jw-error .jw-icon-container{position:absolute;width:100%;height:100%;top:0;left:0;bottom:0;right:0}.jwplayer.jw-flag-cast-available .jw-controlbar{display:table}.jwplayer.jw-flag-cast-available .jw-icon-cast{display:inline-block}.jwplayer.jw-flag-skin-loading .jw-captions,.jwplayer.jw-flag-skin-loading .jw-controls,.jwplayer.jw-flag-skin-loading .jw-title{display:none}.jwplayer.jw-flag-fullscreen{width:100%!important;height:100%!important;top:0;right:0;bottom:0;left:0;z-index:1000;margin:0;position:fixed}.jwplayer.jw-flag-live .jw-controlbar{border-top:1px solid #333}.jwplayer.jw-flag-live .jw-controlbar .jw-icon-playrate,.jwplayer.jw-flag-live .jw-controlbar .jw-slider-time,.jwplayer.jw-flag-live .jw-controlbar .jw-text-duration,.jwplayer.jw-flag-live .jw-controlbar .jw-text-elapsed,.jwplayer.jw-flag-live .jw-controlbar .jw-text-split{display:none}.jwplayer.jw-flag-live .jw-controlbar .jw-text-alt{display:inline}.jwplayer.jw-flag-user-inactive.jw-state-playing .jw-controlbar,.jwplayer.jw-flag-user-inactive.jw-state-playing .jw-dock,.jwplayer.jw-flag-user-inactive.jw-state-playing .jw-logo.jw-hide{display:none}.jwplayer.jw-flag-user-inactive.jw-state-playing .jw-captions,.jwplayer.jw-flag-user-inactive.jw-state-playing .jw-plugin{bottom:.5em}.jwplayer.jw-flag-user-inactive.jw-state-playing .jw-media{cursor:none;-webkit-cursor-visibility:auto-hide}.jwplayer.jw-flag-user-inactive.jw-state-playing video::-webkit-media-text-track-container{max-height:none}.jwplayer.jw-flag-user-inactive.jw-state-buffering .jw-controlbar{display:none}.jwplayer.jw-flag-media-audio .jw-controlbar,.jwplayer.jw-flag-media-audio.jw-flag-user-inactive .jw-controlbar{display:table}.jwplayer.jw-flag-media-audio.jw-flag-user-inactive.jw-state-playing .jw-captions,.jwplayer.jw-flag-media-audio.jw-flag-user-inactive.jw-state-playing .jw-plugin{bottom:3em}.jwplayer.jw-flag-media-audio.jw-flag-user-inactive.jw-state-playing video::-webkit-media-text-track-container{max-height:84.5%}.jw-flag-media-audio .jw-preview{display:block}.jwplayer.jw-flag-ads .jw-captions.jw-captions-enabled,.jwplayer.jw-flag-ads .jw-dock,.jwplayer.jw-flag-ads .jw-logo,.jwplayer.jw-flag-ads .jw-preview{display:none}.jwplayer.jw-flag-ads video::-webkit-media-text-track-container{display:none}.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-inline,.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-tooltip,.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-horizontal,.jwplayer.jw-flag-ads .jw-controlbar .jw-text{display:none}.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-fullscreen,.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-playback,.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-volume,.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-volume{display:inline-block}.jwplayer.jw-flag-ads .jw-controlbar .jw-text-alt{display:inline}.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-inline.jw-icon-volume,.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-volume.jw-slider-horizontal{display:inline-block}.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-tooltip.jw-icon-volume{display:none}.jwplayer.jw-flag-ads-googleima .jw-controlbar{display:table;bottom:0}.jwplayer.jw-flag-ads-googleima.jw-flag-touch .jw-controlbar{font-size:1em}.jwplayer.jw-flag-ads-googleima.jw-flag-touch.jw-state-paused .jw-display-icon-container{display:none}.jwplayer.jw-flag-ads-googleima.jw-skin-seven .jw-controlbar{font-size:.9em}.jwplayer.jw-flag-ads-vpaid .jw-controlbar{display:none}.jwplayer.jw-flag-ads-hide-controls .jw-controls{display:none!important}.jwplayer.jw-flag-ads.jw-flag-touch .jw-controlbar{display:table}.jwplayer.jw-flag-overlay-open-related .jw-controls,.jwplayer.jw-flag-overlay-open-related .jw-title,.jwplayer.jw-flag-overlay-open-sharing .jw-controls,.jwplayer.jw-flag-overlay-open-sharing .jw-title,.jwplayer.jw-flag-overlay-open .jw-controls-right .jw-logo,.jwplayer.jw-flag-overlay-open .jw-title{display:none}.jwplayer.jw-flag-rightclick-open{overflow:visible}.jwplayer.jw-flag-rightclick-open .jw-rightclick{z-index:16777215}.jw-flag-controls-disabled .jw-controls{visibility:hidden}.jw-flag-controls-disabled .jw-logo{visibility:visible}.jw-flag-controls-disabled .jw-media{cursor:auto}body .jwplayer.jw-flag-flash-blocked .jw-title{display:block}body .jwplayer.jw-flag-flash-blocked .jw-controls,body .jwplayer.jw-flag-flash-blocked .jw-overlays,body .jwplayer.jw-flag-flash-blocked .jw-preview{display:none}.jw-flag-touch .jw-controlbar,.jw-flag-touch .jw-plugin,.jw-flag-touch .jw-skip{font-size:1.5em}.jw-flag-touch .jw-captions{bottom:4.25em}.jw-flag-touch video::-webkit-media-text-track-container{max-height:70%}.jw-flag-touch .jw-icon-tooltip.jw-open-drawer:before{display:inline;content:\"\\\\E615\"}.jw-flag-touch .jw-display-icon-container{pointer-events:none}.jw-flag-touch.jw-state-paused .jw-display-icon-container{display:table}.jw-flag-compact-player .jw-icon-playlist,.jw-flag-compact-player .jw-text-duration,.jw-flag-compact-player .jw-text-elapsed,.jw-flag-touch.jw-state-paused.jw-flag-dragging .jw-display-icon-container{display:none}.jwplayer.jw-flag-audio-player{background-color:transparent}.jwplayer.jw-flag-audio-player .jw-media{visibility:hidden}.jwplayer.jw-flag-audio-player .jw-media object{width:1px;height:1px}.jwplayer.jw-flag-audio-player .jw-display-icon-container,.jwplayer.jw-flag-audio-player .jw-preview{display:none}.jwplayer.jw-flag-audio-player .jw-controlbar{display:table;height:auto;left:0;bottom:0;margin:0;width:100%;min-width:100%;opacity:1}.jwplayer.jw-flag-audio-player .jw-controlbar .jw-icon-fullscreen,.jwplayer.jw-flag-audio-player .jw-controlbar .jw-icon-tooltip{display:none}.jwplayer.jw-flag-audio-player .jw-controlbar .jw-icon-inline.jw-icon-volume,.jwplayer.jw-flag-audio-player .jw-controlbar .jw-slider-volume.jw-slider-horizontal{display:inline-block}.jwplayer.jw-flag-audio-player .jw-controlbar .jw-icon-tooltip.jw-icon-volume{display:none}.jwplayer.jw-flag-audio-player.jw-flag-user-inactive .jw-controlbar{display:table}.jw-ie-poorie.jw-flag-media-audio .jw-preview{display:none}.jw-ie-poorie .jw-display-icon-container .jw-icon-display{background-image:url(\"http://cyberplayer.bcelive.com/resource/img/display_play.png\");width:56px;height:56px}.jw-ie-poorie.jw-state-complete .jw-icon-display,.jw-ie-poorie.jw-state-idle .jw-icon-display,.jw-ie-poorie.jwplayer.jw-flag-audio-player .jw-media{visibility:visible}.jw-ie-poorie.jwplayer.jw-flag-audio-player .jw-media object{width:100%;height:100%}.background-base{background-repeat:no-repeat;background-position:50%}.jw-ie-poorie .jw-playlist-container .jw-label .jw-icon-play{background-image:url(\"http://cyberplayer.bcelive.com/resource/img/play_small.png\");background-repeat:no-repeat;background-position:0}.jw-ie-poorie .jw-controlbar .jw-icon-barlogo{background-image:url(\"http://cyberplayer.bcelive.com/resource/img/baiduLogo.png\");background-repeat:no-repeat;background-position:50%;width:15px;height:15px}.jw-ie-poorie .jw-controlbar .jw-icon-barlogo-new{background-image:url(\"http://cyberplayer.bcelive.com/resource/img/bce.png\");background-repeat:no-repeat;background-position:50%;width:13px;height:14px}.jw-ie-poorie .jw-controlbar .jw-icon-playback{background-image:url(\"http://cyberplayer.bcelive.com/resource/img/play.png\");background-repeat:no-repeat;background-position:50%;width:15px;height:15px}.jw-ie-poorie .jw-controlbar .jw-icon-prev{background-image:url(\"http://cyberplayer.bcelive.com/resource/img/prev.png\");background-repeat:no-repeat;background-position:50%;width:26px;height:21px}.jw-ie-poorie .jw-controlbar .jw-icon-next{background-image:url(\"http://cyberplayer.bcelive.com/resource/img/next.png\");background-repeat:no-repeat;background-position:50%}.jw-ie-poorie .jw-controlbar .jw-icon-playlist{background-image:url(\"http://cyberplayer.bcelive.com/resource/img/playlist.png\");background-repeat:no-repeat;background-position:50%}.jw-ie-poorie .jw-controlbar .jw-knob{background-image:url(\"http://cyberplayer.bcelive.com/resource/img/cue.png\");background-repeat:no-repeat;background-position:50%;width:10px;height:10px;background-color:inherit}.jw-ie-poorie .jw-controlbar .jw-icon-cc{background-image:url(\"http://cyberplayer.bcelive.com/resource/img/cc.png\");background-repeat:no-repeat;background-position:50%}.jw-ie-poorie .jw-controlbar .jw-icon-volume{background-image:url(\"http://cyberplayer.bcelive.com/resource/img/volume.png\");background-repeat:no-repeat;background-position:50%}.jw-ie-poorie .jw-controlbar .jw-icon-fullscreen{background-image:url(\"http://cyberplayer.bcelive.com/resource/img/fullscreen.png\");background-repeat:no-repeat;background-position:50%}.jw-ie-poorie .jw-controls-right{display:none}.jw-ie-poorie .jw-display-icon-container{text-align:center}.jw-ie-poorie.jw-state-buffering .jw-icon-playback,.jw-ie-poorie.jw-state-playing .jw-icon-playback{background-image:url(\"http://cyberplayer.bcelive.com/resource/img/pause.png\");background-repeat:no-repeat;background-position:50%}.jw-ie-poorie.jw-state-buffering .jw-icon-display{background-image:url(\"http://cyberplayer.bcelive.com/resource/img/loading.gif\");background-repeat:no-repeat;background-position:50%;width:56px;height:56px}.jw-ie-poorie.jw-state-error .jw-icon-display{background-image:url(\"http://cyberplayer.bcelive.com/resource/img/error.png\");background-repeat:no-repeat;background-position:50%;width:36px;height:32px}.jw-ie-poorie.jw-state-complete .jw-icon-display{background-image:url(\"http://cyberplayer.bcelive.com/resource/img/replay.png\");background-repeat:no-repeat;background-position:50%;width:28px;height:32px}.jw-flashui .jw-controlbar,.jw-flashui.jw-state-buffering .jw-display-icon-container{display:none}.jw-skin-bce{outline:none}.jw-skin-bce .jw-background-color{background:#000}.jw-skin-bce .jw-controlbar{border:none;height:2.5em}.jw-skin-bce .jw-group{vertical-align:middle}.jw-skin-bce .jw-playlist{background-color:rgba(0,0,0,.5)}.jw-skin-bce .jw-playlist-container{left:-43%;background-color:rgba(0,0,0,.5)}.jw-skin-bce .jw-playlist-container .jw-option{border-bottom:1px solid #444}.jw-skin-bce .jw-playlist-container .jw-option.jw-active-option,.jw-skin-bce .jw-playlist-container .jw-option:hover{background-color:#000}.jw-skin-bce .jw-playlist-container .jw-option:hover .jw-label{color:#108cee}.jw-skin-bce .jw-playlist-container .jw-icon-playlist{margin-left:0}.jw-skin-bce .jw-playlist-container .jw-label .jw-icon-play{color:#108cee}.jw-skin-bce .jw-playlist-container .jw-label .jw-icon-play:before{padding-left:0}.jw-skin-bce .jw-icon-playlist .jw-overlay{z-index:100;bottom:1.6em}.jw-skin-bce .jw-tooltip-title{background-color:#000;color:#fff}.jw-skin-bce .jw-button-color,.jw-skin-bce .jw-text{color:#fff}.jw-skin-bce .jw-button-color:hover,.jw-skin-bce .jw-toggle{color:#108cee}.jw-skin-bce .jw-toggle.jw-off{color:#fff}.jw-skin-bce .jw-controlbar .jw-icon:before,.jw-skin-bce .jw-text-duration,.jw-skin-bce .jw-text-elapsed{padding:0 .7em}.jw-skin-bce .jw-controlbar .jw-icon-barlogo-new:before{padding:0}.jw-skin-bce .jw-controlbar .jw-icon-prev:before{padding-right:.25em}.jw-skin-bce .jw-controlbar .jw-icon-playlist:before{padding:0 .45em}.jw-skin-bce .jw-controlbar .jw-icon-next:before{padding-left:.25em}.jw-skin-bce .jw-controlbar .jw-icon-hd:before{content:none}.jw-skin-bce .jw-controlbar .jw-icon-hd .jw-hd-label{color:#000;background:#fff;padding:0 4px;border-radius:2px;margin:0 .7em;margin-top:1px}.jw-skin-bce .jw-controlbar .jw-icon-hd .jw-hd-label:hover{background:#108cee}.jw-skin-bce .jw-icon-next,.jw-skin-bce .jw-icon-prev{font-size:.7em}.jw-skin-bce .jw-icon-prev:before{border-left:1px solid #666}.jw-skin-bce .jw-icon-next:before{border-right:1px solid #666}.jw-skin-bce .jw-icon-display{color:#fff}.jw-skin-bce .jw-icon-display:before{padding-left:0}.jw-skin-bce .jw-display-icon-container{border-radius:50%;border:1px solid #333}.jw-skin-bce .jw-rail{background-color:#333;box-shadow:none}.jw-skin-bce .jw-buffer{background-color:#666f82}.jw-skin-bce .jw-progress{background:#108cee}.jw-skin-bce .jw-knob{width:.6em;height:.6em;background-color:#fff;border-radius:1em;display:none}.jw-skin-bce .jw-slider-volume .jw-knob{display:inline-block}.jw-skin-bce .jw-slider-horizontal .jw-slider-container{position:relative;height:.95em;vertical-align:top}.jw-skin-bce .jw-slider-horizontal .jw-buffer,.jw-skin-bce .jw-slider-horizontal .jw-progress,.jw-skin-bce .jw-slider-horizontal .jw-rail{height:.2em;top:5px;border-radius:0}.jw-skin-bce .jw-slider-horizontal .jw-knob{top:-.2em;top:0}.jw-skin-bce .jw-slider-horizontal .jw-cue{top:.2em;width:.4em;height:.4em;background-color:#fff;border-radius:50%;margin-left:-.325em}.jw-skin-bce .jw-slider-vertical .jw-buffer,.jw-skin-bce .jw-slider-vertical .jw-progress,.jw-skin-bce .jw-slider-vertical .jw-rail{width:.2em}.jw-skin-bce .jw-slider-vertical .jw-knob{margin-bottom:-.3em}.jw-skin-bce .jw-volume-tip{width:100%;left:-45%;padding-bottom:.7em}.jw-skin-bce .jw-text-duration{color:#666f82}.jw-skin-bce .jw-controlbar-right-group .jw-icon-inline:first-child:before{border:none}.jw-skin-bce .jw-dock .jw-dock-button{border-radius:50%;border:1px solid #333}.jw-skin-bce .jw-dock .jw-overlay{border-radius:2.5em}.jw-skin-bce .jw-icon-tooltip .jw-active-option{background-color:#108cee;color:#fff}.jw-skin-bce .jw-icon-volume{min-width:2.6em}.jw-skin-bce .jw-menu,.jw-skin-bce .jw-skip,.jw-skin-bce .jw-time-tip,.jw-skin-bce .jw-volume-tip{border:1px solid #333}.jw-skin-bce .jw-time-tip{padding:.2em;bottom:-18px}.jw-skin-bce .jw-menu,.jw-skin-bce .jw-volume-tip{bottom:.24em}.jw-skin-bce .jw-skip{padding:.4em;border-radius:1.75em}.jw-skin-bce .jw-skip .jw-icon-inline,.jw-skin-bce .jw-skip .jw-text{color:#fff;line-height:1.75em}.jw-skin-bce .jw-skip.jw-skippable:hover .jw-icon-inline,.jw-skin-bce .jw-skip.jw-skippable:hover .jw-text{color:#108cee}.jw-skin-bce.jw-flag-touch .jw-controlbar .jw-icon:before,.jw-skin-bce.jw-flag-touch .jw-text-duration,.jw-skin-bce.jw-flag-touch .jw-text-elapsed{padding:0 .35em}.jw-skin-bce.jw-flag-touch .jw-controlbar .jw-icon-prev:before{padding:0 .125em 0 .7em}.jw-skin-bce.jw-flag-touch .jw-controlbar .jw-icon-next:before{padding:0 .7em 0 .125em}.jw-skin-bce.jw-flag-touch .jw-controlbar .jw-icon-playlist:before{padding:0 .225em}.jw-skin-bce .jw-slider-time{background:0 0;position:absolute;top:-8px;height:8px;line-height:1em}.jw-skin-bce .jw-slider-time .jw-slider-container{height:8px;vertical-align:top}.jw-skin-bce .jw-slider-time:hover .jw-knob{display:block}.jw-skin-bce .jw-slider-time:hover .jw-slider-container{vertical-align:top}.jw-skin-bce .jw-slider-time:hover .jw-slider-container .jw-buffer,.jw-skin-bce .jw-slider-time:hover .jw-slider-container .jw-progress,.jw-skin-bce .jw-slider-time:hover .jw-slider-container .jw-rail{height:.6em;border-radius:0;top:0}.jw-skin-bce .jw-slider-time:hover .jw-cue{top:0;width:.6em;height:.6em}.jw-skin-bce .jw-controlbar-left-group .jw-text-elapsed{padding-right:0;cursor:default}.jw-skin-bce .jw-controlbar-left-group .jw-text-split{padding:0 2px;cursor:default}.jw-skin-bce .jw-controlbar-left-group .jw-text-duration{padding-left:0;color:#fff;cursor:default}.jw-skin-bce .jw-controlbar-center-group .jw-tooltip-time{top:-7px;height:1em}.jw-skin-bce .jw-controlbar-center-group .jw-overlay{z-index:100}.jw-skin-bce .jw-controlbar-right-group .jw-icon-playrate{height:24px;line-height:24px;margin-top:-2px}.jw-skin-bce .jw-controlbar-right-group .jw-icon-playrate .jw-playrate-label{border:1px solid #333;line-height:24px;height:24px;vertical-align:bottom}.jw-skin-bce .jw-media{width:100%;height:100%}',\"\"]);\n},function(e,t,i){var n,r;n=[i(37),i(1)],r=function(e,t){return function(i,n){var r=[\"seek\",\"skipAd\",\"stop\",\"playlistNext\",\"playlistPrev\",\"playlistItem\",\"resize\",\"addButton\",\"removeButton\",\"registerPlugin\",\"attachMedia\"];t.each(r,function(e){i[e]=function(){return n[e].apply(n,arguments),i}}),i.registerPlugin=e.registerPlugin}}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(1)],r=function(e){return function(t,i){var n=[\"buffer\",\"controls\",\"position\",\"duration\",\"fullscreen\",\"volume\",\"mute\",\"item\",\"stretching\",\"playlist\",\"captions\",\"playbackRate\"];e.each(n,function(e){var n=e.slice(0,1).toUpperCase()+e.slice(1);t[\"get\"+n]=function(){return i._model.get(e)}});var r=[\"getAudioTracks\",\"getCaptionsList\",\"getWidth\",\"getHeight\",\"getCurrentAudioTrack\",\"setCurrentAudioTrack\",\"getCurrentCaptions\",\"setCurrentCaptions\",\"getCurrentQuality\",\"setCurrentQuality\",\"getQualityLevels\",\"getVisualQuality\",\"getConfig\",\"getState\",\"getSafeRegion\",\"isBeforeComplete\",\"isBeforePlay\",\"getProvider\",\"detachMedia\"],a=[\"setControls\",\"setKeyControls\",\"setFullscreen\",\"setVolume\",\"enableGPU\",\"disableGPU\",\"setMute\",\"setCues\",\"setCaptions\",\"setToken\",\"setThumbnails\",\"setPlaybackRate\"];e.each(r,function(e){t[e]=function(){return i[e]?i[e].apply(i,arguments):null}}),e.each(a,function(e){t[e]=function(){return i[e].apply(i,arguments),t}}),t.getPlaylistIndex=t.getItem}}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(4),i(7),i(3),i(2),i(66),i(1),i(84),i(74),i(75),i(77),i(81),i(18)],r=function(e,t,i,n,r,a,s,o,l,u,d,c){var h=function(h,f){var p,m=this,g=!1,_={};a.extend(this,i),this.utils=n,this._=a,this.Events=i,this.version=c,this.trigger=function(e,t){return t=a.isObject(t)?a.extend({},t):{},t.type=e,window.jwplayer&&window.jwplayer.debug?i.trigger.call(m,e,t):i.triggerSafe.call(m,e,t)},this.dispatchEvent=this.trigger,this.removeEventListener=this.off.bind(this);var v=function(){p=new s(h),o(m,p),l(m,p),p.on(e.JWPLAYER_PLAYLIST_ITEM,function(){_={}}),p.on(e.JWPLAYER_MEDIA_META,function(e){a.extend(_,e)}),p.on(e.JWPLAYER_READY,function(e){g=!0,y.tick(\"ready\"),e.setupTime=y.between(\"setup\",\"ready\");var t=new d(m.getConfig(),m);t.userCertify()}),p.on(\"all\",m.trigger),p.on(e.JWPLAYER_ERROR,function(e){if(\"mediaError\"===e.type&&n.isMp4(e.videoSrc)&&e.detail&&(\"DEMUXER_ERROR_COULD_NOT_OPEN: FFmpegDemuxer: open context failed\"===e.detail.message||4===e.detail.code)){var t=m.getConfig().options;t.primary=\"justflash\",p.setup(t,m)}})};v(),u(this),this.id=h.id;var y=this._qoe=new r;y.tick(\"init\");var b=function(){g=!1,_={},m.off(),p&&p.off(),p&&p.playerDestroy&&p.playerDestroy()};return this.getPlugin=function(e){return m.plugins&&m.plugins[e]},this.addPlugin=function(e,t){this.plugins=this.plugins||{},this.plugins[e]=t,this.onReady(t.addToPlayer),t.resize&&this.onResize(t.resizeHandler)},this.setup=function(e){return y.tick(\"setup\"),b(),v(),n.foreach(e.events,function(e,t){var i=m[e];\"function\"==typeof i&&i.call(m,t)}),e.id=m.id,p.setup(e,this),m},this.qoe=function(){var t=p.getItemQoe(),i=y.between(\"setup\",\"ready\"),n=t.between(e.JWPLAYER_MEDIA_PLAY_ATTEMPT,e.JWPLAYER_MEDIA_FIRST_FRAME);return{setupTime:i,firstFrame:n,player:y.dump(),item:t.dump()}},this.getContainer=function(){return p.getContainer?p.getContainer():h},this.getMeta=this.getItemMeta=function(){return _},this.getPlaylistItem=function(e){if(!n.exists(e))return p._model.get(\"playlistItem\");var t=m.getPlaylist();return t?t[e]:null},this.getRenderingMode=function(){return\"html5\"},this.load=function(e){var t=this.getPlugin(\"vast\")||this.getPlugin(\"googima\");return t&&t.destroy(),p.load(e),m},this.play=function(e,i){if(a.isBoolean(e)||(i=e),i||(i={reason:\"external\"}),e===!0)return p.play(i),m;if(e===!1)return p.pause(),m;switch(e=m.getState()){case t.PLAYING:p.pause();break;default:p.play(i)}return m},this.pause=function(e){return a.isBoolean(e)?this.play(!e):this.play()},this.createInstream=function(){return p.createInstream()},this.castToggle=function(){p&&p.castToggle&&p.castToggle()},this.playAd=this.pauseAd=n.noop,this.remove=function(){return f(m),m.trigger(\"remove\"),b(),m},this};return h}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(1),i(4)],r=function(e,t){return function(i){var n={onBufferChange:t.JWPLAYER_MEDIA_BUFFER,onBufferFull:t.JWPLAYER_MEDIA_BUFFER_FULL,onError:t.JWPLAYER_ERROR,onSetupError:t.JWPLAYER_SETUP_ERROR,onFullscreen:t.JWPLAYER_FULLSCREEN,onMeta:t.JWPLAYER_MEDIA_META,onMute:t.JWPLAYER_MEDIA_MUTE,onPlaylist:t.JWPLAYER_PLAYLIST_LOADED,onPlaylistItem:t.JWPLAYER_PLAYLIST_ITEM,onPlaylistComplete:t.JWPLAYER_PLAYLIST_COMPLETE,onReady:t.JWPLAYER_READY,onCoverImageReady:t.JWPLAYER_H265WEB_COVERLOADED,onResize:t.JWPLAYER_RESIZE,onComplete:t.JWPLAYER_MEDIA_COMPLETE,onSeek:t.JWPLAYER_MEDIA_SEEK,onTime:t.JWPLAYER_MEDIA_TIME,onVolume:t.JWPLAYER_MEDIA_VOLUME,onBeforePlay:t.JWPLAYER_MEDIA_BEFOREPLAY,onBeforeComplete:t.JWPLAYER_MEDIA_BEFORECOMPLETE,onDisplayClick:t.JWPLAYER_DISPLAY_CLICK,onControls:t.JWPLAYER_CONTROLS,onQualityLevels:t.JWPLAYER_MEDIA_LEVELS,onQualityChange:t.JWPLAYER_MEDIA_LEVEL_CHANGED,onCaptionsList:t.JWPLAYER_CAPTIONS_LIST,onCaptionsChange:t.JWPLAYER_CAPTIONS_CHANGED,onAdError:t.JWPLAYER_AD_ERROR,onAdClick:t.JWPLAYER_AD_CLICK,onAdImpression:t.JWPLAYER_AD_IMPRESSION,onAdTime:t.JWPLAYER_AD_TIME,onAdComplete:t.JWPLAYER_AD_COMPLETE,onAdCompanions:t.JWPLAYER_AD_COMPANIONS,onAdSkipped:t.JWPLAYER_AD_SKIPPED,onAdPlay:t.JWPLAYER_AD_PLAY,onAdPause:t.JWPLAYER_AD_PAUSE,onAdMeta:t.JWPLAYER_AD_META,onCast:t.JWPLAYER_CAST_SESSION,onAudioTrackChange:t.JWPLAYER_AUDIO_TRACK_CHANGED,onAudioTracks:t.JWPLAYER_AUDIO_TRACKS,onCuepoint:t.JWPLAYER_CUEPOINT,onSeekForwardForbidden:t.JWPLAYER_SEEK_FORWARD_FORBIDDEN,onConnection:t.JWPLAYER_CONNECTING,onAlive:t.JWPLAYER_ALIVE,onNoLiveStream:t.JWPLAYER_NO_LIVE_STREAM,onLiveStop:t.JWPLAYER_LIVE_STOP,onPlaybackRate:t.JWPLAYER_PLAYBACKRATE},r={onBuffer:\"buffer\",onPause:\"pause\",onPlay:\"play\",onIdle:\"idle\",onStop:\"stop\"};e.each(r,function(t,n){i[n]=e.partial(i.on,t,e)}),e.each(n,function(t,n){i[n]=e.partial(i.on,t,e)})}}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(2),i(1)],r=function(e,t){function n(i){t.each(i,function(t,n){i[n]=e.serialize(t)})}function r(e){return e.slice&&\"px\"===e.slice(-2)&&(e=e.slice(0,-2)),e}function a(t){return(e.isMSIE(7)||e.isMSIE(6))&&(t.flashUI=!0),t.skin=\"bce\",t.startseek=!1,delete t.skinColorInactive,delete t.skinColorActive,delete t.skinColorBackground,t}function s(t,i){if(i.toString().indexOf(\"%\")===-1)return 0;if(\"string\"!=typeof t||!e.exists(t))return 0;if(/^\\d*\\.?\\d+%$/.test(t))return t;var n=t.indexOf(\":\");if(n===-1)return 0;var r=parseFloat(t.substr(0,n)),a=parseFloat(t.substr(n+1));return r<=0||a<=0?0:a/r*100+\"%\"}var o={autostart:!1,controls:!0,keyControls:!0,displaytitle:!0,displaydescription:!0,mobilecontrols:!1,repeat:!1,castAvailable:!1,skin:\"bce\",stretching:\"uniform\",mute:!1,volume:100,width:480,height:270,controlbar:{barLogo:!1,barLogoUrl:\"https://cloud.baidu.com/solution/media.html\",canDrag:!0},marquee:{show:!1,text:\"百度云\",fontSize:12,color:\"#FFF\"},startseek:!0,flashUI:!1,playRate:!0,playbackRate:1,playRateConfig:[{label:\"×1\"},{label:\"×1.5\"},{label:\"×2\"},{label:\"×3\"},{label:\"×4\"},{label:\"×5\"}],isLive:!1,allowDoubleClickFullscreen:!0,allowClickToDisplay:!0,retryCount:0,tokenEncrypt:!1,crossoriginAnonymous:!1,withLog:!0},l=function l(u,d){u.autoStart&&(u.autostart=!0),\"over\"!==u.controls&&\"none\"!==u.controls||(u.controls=\"over\"===u.controls),u.startParam&&(u.startparam=u.startParam);var c=d&&d.getAllItems(),h=t.extend({},(window.jwplayer||{}).defaults,c,u);n(h);var l=t.extend({},o,h);if(l.options=u,void 0===l.controlbar.canDrag&&(l.controlbar.canDrag=!0),\".\"===l.base&&(l.base=e.getScriptPath(\"cyberplayer.js\")),l.playRate||(l.playbackRate=1),l.base=(l.base||e.loadFrom()).replace(/\\/?$/,\"/\"),i.p=l.base,l.width=r(l.width),l.height=r(l.height),l.flashplayer=l.flashplayer||e.getScriptPath(\"cyberplayer.js\")+\"cyberplayer.flash.swf\",\"http:\"===window.location.protocol&&(l.flashplayer=l.flashplayer.replace(\"https\",\"http\")),l.aspectratio=s(l.aspectratio,l.width),t.isObject(l.skin)&&(l.skinUrl=l.skin.url,l.skinColorInactive=l.skin.inactive,l.skinColorActive=l.skin.active,l.skinColorBackground=l.skin.background,l.skin=t.isString(l.skin.name)?l.skin.name:o.skin),t.isString(l.skin)&&l.skin.indexOf(\".xml\")>0&&(console.log(\"JW Player does not support XML skins, please update your config\"),l.skin=l.skin.replace(\".xml\",\"\")),l.aspectratio||delete l.aspectratio,!l.playlist){var f=t.pick(l,[\"title\",\"description\",\"type\",\"mediaid\",\"image\",\"file\",\"sources\",\"tracks\",\"preload\",\"fallbackfile\"]);l.playlist=[f]}return e.isPoorIE()&&(l=a(l)),e.isChrome66()&&(l.originVolume=l.volume,l.volume=0),l};return l}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var a=i(182),s=n(a),o=i(1),l=n(o),u=i(2),d=n(u),c=i(14),h=n(c),f=function(){function e(t){r(this,e),this.api=null,t&&t.advs&&l.default.isArray(t.advs)&&t.advs.length?(this.processAdvs=t.advs,this.hasProcessAdv=!0,this.el=d.default.createElement((0,s.default)())):this.hasProcessAdv=!1,this.activeAdv=null}return e.prototype.setApi=function(e){this.api=e},e.prototype.refreshProcessAdv=function(e){var t=l.default.find(this.processAdvs,function(t){return e>=t.begin&&e<=t.end});t?t!==this.activeAdv&&(this.showAdv(t),this.activeAdv=t):this.hideAllProcessAdvs()},e.prototype.showAdv=function(e){var t=this.element().getElementsByTagName(\"a\")[0],i=t.getElementsByTagName(\"img\")[0];t.setAttribute(\"href\",e.material.landingPage),i.setAttribute(\"src\",e.material.image);var n={display:\"block\",\"z-index\":500,opacity:.9,left:\"auto\",right:\"auto\",top:\"auto\",bottom:\"auto\"};\"left\"===e.material.horizontalPosition?n.left=10:n.right=10,\"top\"===e.material.verticalPosition?n.top=10:n.bottom=50,h.default.style(this.element(),n)},e.prototype.hideAllProcessAdvs=function(){this.element().style.display=\"none\",this.activeAdv=null},e.prototype.element=function(){if(this.api){var e=this.api.getContainer();if(d.default.getElementsByClassName(\"jw-process-adv\",e).length>0)return d.default.getElementsByClassName(\"jw-process-adv\",e)[0]}return this.el},e}();t.default=f,e.exports=t.default},function(e,t,i){var n,r,a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};n=[i(47),i(1)],r=function(e,t){function i(e){for(var i={},n=e.substr(e.indexOf(\"?\")+1).split(\"&\"),s=0;s<n.length;s++){var o=n[s],l=o.indexOf(\"=\");if(l>-1){var u=o.substr(0,l),d=decodeURIComponent(o.substr(l+1));t.contains(r,u)&&(d=d.replace(/'/g,'\"'),d=\"object\"===(\"undefined\"==typeof JSON?\"undefined\":a(JSON))&&\"function\"==typeof JSON.parse?JSON.parse(d):eval(\"(\"+d+\")\")),i[u]=d}}return i}function n(){for(var n=document.getElementsByTagName(\"script\"),r=n.length;r--;){var a=n[r],s=a.src;if(s.indexOf(\"cyberplayer.js\")>-1){var o=i(s);if(t.size(o)>3&&\"DIV\"===a.parentNode.nodeName)return e.selectPlayer(a.parentNode).setup(o)}}}var r=[\"imageAdvs\",\"playlist\",\"listbar\",\"tracks\",\"captions\",\"controlbar\",\"logo\",\"skin\",\"marquee\"];return n(),{getParams:i,loadPlayer:n}}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(18),i(2)],r=function(e,t){function i(){for(var e=t.getElementsByClassName(\"jw-warning\"),i=0;i<e.length;i++){var n=e[i];n.style.display=\"block\"}}var n=\"https://drm.media.baidubce.com/v1/playerAuth\",r=function(e){!e.code||\"UNAUTHORIZED\"!==e.code&&\"BAD_REQUEST\"!==e.code||i()},a=function(e,t){this.config=e,this.api=t};return a.prototype={userCertify:function(){if(this.config.withLog===!1)return!1;var r=this.config.ak?this.config.ak:\"\";if(!/^[a-zA-Z0-9]{32}$/.test(r))return i(),!1;var a=\"web-html5-\"+e,s=t.getBrowserInfo(),o=n+\"?ak=\"+r+\"&player=\"+a+\"&platform=\"+s+\"&callback=\"+this._getCallback();o=encodeURI(o);var l=document.createElement(\"script\");l.type=\"text/javascript\",l.src=o,document.getElementsByTagName(\"head\")[0].appendChild(l)},_getCallback:function(){var e=(new Date).getTime(),t=1e9*Math.random()>>>0,i=\"jwplayer_\"+e+\"_\"+t;return window[i]=function(e){try{r(e),delete window[i]}catch(e){window[i]=null}},i}},a}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(89),i(3),i(1),i(4)],r=function(e,t,i,n){var r=function(t,r,a,s){function o(){h(\"安装超时\",\"安装时间大于\"+g+\"秒，视频不能播放\")}function l(){i.each(m,function(e){e.complete!==!0&&e.running!==!0&&null!==t&&d(e.depends)&&(e.running=!0,u(e))})}function u(e){var i=function(t){t=t||{},c(e,t)};e.method(i,r,t,a,s)}function d(e){return i.all(e,function(e){return m[e].complete})}function c(e,t){\"error\"===t.type?h(t.msg,t.reason,t.code||\"\"):\"complete\"===t.type?(clearTimeout(f),p.trigger(n.JWPLAYER_READY)):(e.complete=!0,l())}function h(e,t,i){clearTimeout(f),p.trigger(n.JWPLAYER_SETUP_ERROR,{message:e+\": \"+t,code:i}),p.destroy()}var f,p=this,m=e.getQueue(),g=30;this.start=function(){f=setTimeout(o,1e3*g),l()},this.destroy=function(){clearTimeout(f),this.off(),m.length=0,t=null,r=null,a=null}};return r.prototype=t,r}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(20),i(36),i(115),i(2)],r=function(e,t,i,n){var r=function(r,a){function s(e){if(e.tracks.length){a.mediaController.off(\"meta\",o),b=[],A={},E={},w=0;for(var t=e.tracks||[],i=0;i<t.length;i++){var n=t[i];n.id=n.name,n.label=n.name||n.language,h(n)}var r=m();this.setCaptionsList(r),g()}}function o(e){var t=e.metadata;if(t&&\"textdata\"===t.type){if(!t.text)return;var i=A[t.trackid];if(!i){i={kind:\"captions\",id:t.trackid,data:[]},h(i);var n=m();this.setCaptionsList(n)}var r,s;t.useDTS?(i.source||(i.source=t.source||\"mpegts\"),r=t.begin,s=t.begin+\"_\"+t.text):(r=e.position||a.get(\"position\"),s=\"\"+Math.round(10*r)+\"_\"+t.text);var o=E[s];o||(o={begin:r,text:t.text},t.end&&(o.end=t.end),E[s]=o,i.data.push(o))}}function l(e){n.log(\"CAPTIONS(\"+e+\")\")}function u(e,t){y=t,b=[],A={},E={},w=0}function d(e){u(a,e),a.mediaController.off(\"meta\",o),a.mediaController.off(\"subtitlesTracks\",s);var t,i,r,l,d=e.tracks,c=\"flash\"===a.get(\"provider\").name,p=n.isChrome()||n.isIOS()||n.isSafari();for(l=0;l<d.length;l++)t=d[l],r=t.file&&/\\.(?:web)?vtt(?:\\?.*)?$/i.test(t.file),!c&&r&&!v&&p||(i=t.kind.toLowerCase(),\"captions\"!==i&&\"subtitles\"!==i||(t.file?(h(t),f(t)):t.data&&h(t)));b.length||(a.mediaController.on(\"meta\",o,this),a.mediaController.on(\"subtitlesTracks\",s,this));var _=m();this.setCaptionsList(_),g()}function c(e,t){var i=null;0!==t&&(i=b[t-1]),e.set(\"captionsTrack\",i)}function h(e){\"number\"!=typeof e.id&&(e.id=e.name||e.file||\"cc\"+b.length),e.data=e.data||[],e.label||(e.label=\"Unknown CC\",w++,w>1&&(e.label+=\" (\"+w+\")\")),b.push(e),A[e.id]=e}function f(e){n.ajax(e.file,function(t){p(t,e)},l)}function p(n,r){var a=n.responseXML?n.responseXML.firstChild:null;if(a)for(\"xml\"===e.localName(a)&&(a=a.nextSibling);a.nodeType===a.COMMENT_NODE;)a=a.nextSibling;try{a&&\"tt\"===e.localName(a)?r.data=i(n.responseXML):r.data=t(n.responseText)}catch(e){l(e.message+\": \"+r.file)}}function m(){for(var e=[{id:\"off\",label:\"Off\"}],t=0;t<b.length;t++)e.push({id:b[t].id,label:b[t].label||\"Unknown CC\"});return e}function g(){var e=0,t=a.get(\"captionLabel\");if(\"Off\"===t)return void a.set(\"captionsIndex\",0);for(var i=0;i<b.length;i++){var n=b[i];if(t&&t===n.label){e=i+1;break}n.default||n.defaulttrack||\"default\"===n.id?e=i+1:n.autoselect}_(e)}function _(e){b.length?a.setVideoSubtitleTrack(e,b):a.set(\"captionsIndex\",e)}a.on(\"change:playlistItem\",u,this),a.on(\"change:captionsIndex\",c,this),a.on(\"itemReady\",d,this),a.mediaController.on(\"subtitlesTracks\",s,this),a.mediaController.on(\"subtitlesTrackData\",function(e){var t=A[e.name];if(t){t.source=e.source;for(var i=e.captions||[],n=!1,r=0;r<i.length;r++){var a=i[r],s=e.name+\"_\"+a.begin+\"_\"+a.end;E[s]||(E[s]=a,t.data.push(a),n=!0)}n&&t.data.sort(function(e,t){return e.begin-t.begin})}},this),a.mediaController.on(\"meta\",o,this);var v=!!a.get(\"sdkplatform\"),y={},b=[],A={},E={},w=0;this.getCurrentIndex=function(){return a.get(\"captionsIndex\")},this.getCaptionsList=function(){return a.get(\"captionsList\")},this.setCaptionsList=function(e){a.set(\"captionsList\",e)}};return r}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r,a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};n=[i(78),i(85),i(1),i(82),i(83),i(29),i(48),i(119),i(58),i(2),i(154),i(22),i(3),i(30),i(7),i(4),i(148),i(122),i(25)],r=function(e,t,i,n,r,s,o,l,u,d,c,h,f,p,m,g,_,v,y){function b(e){return function(){var t=Array.prototype.slice.call(arguments,0);this._model.getVideo()?this[\"_\"+e].apply(this,t):this.eventsQueue.push([e,t])}}function A(e){return e===m.LOADING||e===m.STALLED?m.BUFFERING:e}var E=function(e){this.originalContainer=this.currentContainer=e,this.eventsQueue=[],i.extend(this,f),this._model=new s};return E.prototype={play:b(\"play\"),pause:b(\"pause\"),setVolume:b(\"setVolume\"),enableGPU:b(\"enableGPU\"),disableGPU:b(\"disableGPU\"),setToken:b(\"setToken\"),setMute:b(\"setMute\"),seek:b(\"seek\"),stop:b(\"stop\"),load:b(\"load\"),playlistNext:b(\"next\"),playlistPrev:b(\"prev\"),playlistItem:b(\"item\"),setFullscreen:b(\"setFullscreen\"),setCurrentCaptions:b(\"setCurrentCaptions\"),setCurrentQuality:b(\"setCurrentQuality\"),setup:function(s,f){function _(){ne.mediaModel.on(\"change:state\",function(e,t){\"playing\"===t&&d.isChrome66()&&0===f.getVolume()&&ne.setVolume(ue.originVolume);var i=A(t);ne.set(\"state\",i)})}function y(){ee=null,D(ne.get(\"item\")),ne.on(\"change:state\",p,this),ne.on(\"change:castState\",function(e,t){se.trigger(g.JWPLAYER_CAST_SESSION,t)}),ne.on(\"change:fullscreen\",function(e,t){se.trigger(g.JWPLAYER_FULLSCREEN,{fullscreen:t})}),ne.on(\"itemReady\",function(){se.trigger(g.JWPLAYER_PLAYLIST_ITEM,{index:ne.get(\"item\"),item:ne.get(\"playlistItem\")})}),ne.on(\"change:playlist\",function(e,t){t.length&&se.trigger(g.JWPLAYER_PLAYLIST_LOADED,{playlist:t})}),ne.on(\"change:volume\",function(e,t){se.trigger(g.JWPLAYER_MEDIA_VOLUME,{volume:t})}),ne.on(\"change:mute\",function(e,t){se.trigger(g.JWPLAYER_MEDIA_MUTE,{mute:t})}),ne.on(\"change:controls\",function(e,t){se.trigger(g.JWPLAYER_CONTROLS,{controls:t})}),ne.on(\"change:scrubbing\",function(e,t){t?L():C()}),ne.on(\"change:captionsList\",function(e,t){se.trigger(g.JWPLAYER_CAPTIONS_LIST,{tracks:t,track:W()})}),ne.mediaModel.set(\"mediaType\",null),ne.mediaController.on(\"all\",se.trigger.bind(se)),X.on(\"all\",se.trigger.bind(se)),this.showView(X.element()),i.defer(b)}function b(){se.trigger(g.JWPLAYER_READY,{setupTime:0}),se.trigger(g.JWPLAYER_PLAYLIST_LOADED,{playlist:ne.get(\"playlist\")}),se.trigger(g.JWPLAYER_PLAYLIST_ITEM,{index:ne.get(\"item\"),item:ne.get(\"playlistItem\")}),se.trigger(g.JWPLAYER_CAPTIONS_LIST,{tracks:ne.get(\"captionsList\"),track:ne.get(\"captionsIndex\")}),ne.get(\"autostart\")&&(!d.isPoorIE()&&ne.get(\"imageAdvs\")&&ne.get(\"imageAdvs\").start?X.beginStartAdv():C({reason:\"autostart\"})),E()}function E(){for(;se.eventsQueue.length>0;){var e=se.eventsQueue.shift(),t=e[0],i=e[1]||[];se[\"_\"+t].apply(se,i)}}function w(e){switch(ne.get(\"state\")===m.ERROR&&ne.set(\"state\",m.IDLE),k(!0),ne.get(\"autostart\")&&ne.once(\"itemReady\",C),\"undefined\"==typeof e?\"undefined\":a(e)){case\"string\":T(e);break;case\"object\":var t=l(e),i=ne.get(\"edition\"),n=ne.getProviders(),r=n.required(t,i);h.load(r,i).then(function(){se.getProvider()||(ne.setProvider(ne.get(\"playlistItem\")),E())});var s=R(e);s&&D(0);break;case\"number\":D(e)}}function T(e){var t=new u;t.on(g.JWPLAYER_PLAYLIST_LOADED,function(e){w(e.playlist)}),t.on(g.JWPLAYER_ERROR,function(e){e.message=\"播放列表加载失败: \"+e.message,this.triggerError(e)},this),t.load(e)}function S(){var e=se._instreamAdapter&&se._instreamAdapter.getState();return i.isString(e)?e:ne.get(\"state\")}function C(e){var t;if(e&&ne.set(\"playReason\",e.reason),ne.get(\"state\")!==m.ERROR){var n=se._instreamAdapter&&se._instreamAdapter.getState();if(i.isString(n))return f.pauseAd(!1);if(ne.get(\"state\")===m.COMPLETE&&(k(!0),D(0)),!re){re=!0;var r=ne.getVideo().getCurrentQuality(),a=ne.get(\"playlistItem\"),s=!1;if(r<0&&a&&ne.get(\"qualityLabel\")){for(var o=0;o<a.sources.length;o++)a.sources[o].label.toString()===ne.get(\"qualityLabel\").toString()&&(r=o);\"flash\"===ne.getVideo().getName().name&&(s=!0)}if(r<0&&(r=0),se.trigger(g.JWPLAYER_MEDIA_BEFOREPLAY,{file:ne.get(\"file\")||ne.get(\"playlistItem\").sources[r].file,currentQuality:s?++r:r}),re=!1,ie)return ie=!1,void(te=null)}if(ne.get(\"hevc\")===!0)t=d.tryCatch(function(){ne.playVideo()});else if(x()){if(0===ne.get(\"playlist\").length)return!1;!d.isPoorIE()&&ne.get(\"imageAdvs\")&&ne.get(\"imageAdvs\").start?X.beginStartAdv():t=d.tryCatch(function(){ne.loadVideo()})}else ne.get(\"state\")===m.PAUSED&&(t=d.tryCatch(function(){ne.playVideo()}));return!(t instanceof d.Error)||(se.triggerError(t),te=null,!1)}}function k(e){ne.off(\"itemReady\",C);var t=!e;te=null;var i=d.tryCatch(function(){ne.stopVideo()},se);return i instanceof d.Error?(se.triggerError(i),!1):(t&&(ae=!0),re&&(ie=!0),!0)}function L(){te=null;var e=se._instreamAdapter&&se._instreamAdapter.getState();if(i.isString(e))return f.pauseAd(!0);switch(ne.get(\"state\")){case m.ERROR:return!1;case m.PLAYING:case m.BUFFERING:var t=d.tryCatch(function(){oe().pause()},this);if(t instanceof d.Error)return se.triggerError(t),!1;break;default:re&&(ie=!0)}return!0}function x(){var e=ne.get(\"state\");return e===m.IDLE||e===m.COMPLETE||e===m.ERROR}function I(e){if(ne.get(\"state\")!==m.ERROR){var t=this.getConfig();if(t.disableSeekForward&&e>this._model.get(\"position\"))return void se.trigger(g.JWPLAYER_SEEK_FORWARD_FORBIDDEN);ne.get(\"scrubbing\")||ne.get(\"state\")===m.PLAYING||C(!0),oe().seek(e)}}function P(e,t){k(!0),D(e),C(t)}function R(e){var t=l(e);return t=l.filterPlaylist(t,ne.getProviders(),ne.get(\"androidhls\"),ne.get(\"drm\"),ne.get(\"preload\"),ne.get(\"feedid\"),ne.get(\"withCredentials\"),ne.get(\"hevc\")),ne.set(\"playlist\",t),!(!i.isArray(t)||0===t.length)}function D(e){void 0!==_hmt&&null!==_hmt&&_hmt.push([\"_trackPageview\",\"/init/playerItem/hevc/\"+(ne.get(\"hevc\")===!0)]);var t=ne.get(\"playlist\");e=parseInt(e,10)||0,e=(e+t.length)%t.length,ne.set(\"item\",e),ne.set(\"playlistItem\",t[e]),ne.setActiveItem(t[e])}function O(e){P(ne.get(\"item\")-1,e||{reason:\"external\"})}function M(e){P(ne.get(\"item\")+1,e||{reason:\"external\"})}function U(){if(x()){if(ae)return void(ae=!1);te=U;var e=ne.get(\"item\");return e===ne.get(\"playlist\").length-1?void(ne.get(\"repeat\")?M({reason:\"repeat\"}):(ne.set(\"state\",m.COMPLETE),se.trigger(g.JWPLAYER_PLAYLIST_COMPLETE,{}))):void M({reason:\"playlist\"})}}function j(e){oe()&&(e=parseInt(e,10)||0,oe().setCurrentQuality(e))}function B(){return oe()?oe().getCurrentQuality():-1}function N(){if(this._model)return this._model.getConfiguration()}function F(){if(this._model.mediaModel)return this._model.mediaModel.get(\"visualQuality\");var e=V();if(e){var t=B(),n=e[t];if(n)return{level:i.extend({index:t},n),mode:\"\",reason:\"\"}}return null}function V(){return oe()?oe().getQualityLevels():null}function H(e){oe()&&(e=parseInt(e,10)||0,oe().setCurrentAudioTrack(e))}function z(){return oe()?oe().getCurrentAudioTrack():-1}function G(){return oe()?oe().getAudioTracks():null}function Y(e){e=parseInt(e,10)||0,ne.persistVideoSubtitleTrack(e),se.trigger(g.JWPLAYER_CAPTIONS_CHANGED,{tracks:q(),track:e})}function W(){return $.getCurrentIndex()}function q(){return $.getCaptionsList()}function Q(){var e=ne.getVideo();if(e){var t=e.detachMedia();if(t instanceof HTMLVideoElement)return t}return null}function J(){var e=d.tryCatch(function(){ne.getVideo().attachMedia()});return e instanceof d.Error?void d.log(\"Error calling _attachMedia\",e):void(\"function\"==typeof te&&te())}function K(e){i.isBoolean(e)||(e=!ne.get(\"fullscreen\")),ne.set(\"fullscreen\",e),this._instreamAdapter&&this._instreamAdapter._adModel&&this._instreamAdapter._adModel.set(\"fullscreen\",e)}var X,Z,$,ee,te,ie,ne=this._model,re=!1,ae=!1,se=this,oe=function(){return ne.getVideo()},le=new o;le.track(ne);var ue=new e(s,le);ne.setup(ue,le),ne.advManage&&ne.advManage.setApi(f),X=this._view=new c(f,ne),Z=new v(f,ne),$=new r(f,ne),ee=new n(f,ne,X,R),ee.on(g.JWPLAYER_READY,y,this),ee.on(g.JWPLAYER_SETUP_ERROR,this.setupError,this),ne.mediaController.on(g.JWPLAYER_MEDIA_COMPLETE,function(){i.defer(U)}),ne.mediaController.on(g.JWPLAYER_MEDIA_ERROR,this.triggerError,this),ne.on(\"change:flashBlocked\",function(e,t){if(!t)return void this._model.set(\"errorEvent\",void 0);var i=!!e.get(\"flashThrottle\"),n={message:i?\"Click to run Flash\":\"Flash plugin failed to load\"};i||this.trigger(g.JWPLAYER_ERROR,n),this._model.set(\"errorEvent\",n)},this),_(),ne.on(\"change:mediaModel\",_),this._play=C,this._pause=L,this._seek=I,this._stop=k,this._load=w,this._next=M,this._prev=O,this._item=P,this._setCurrentCaptions=Y,this._setCurrentQuality=j,this._setFullscreen=K,this.detachMedia=Q,this.attachMedia=J,this.getCurrentQuality=B,this.getQualityLevels=V,this.setCurrentAudioTrack=H,this.getCurrentAudioTrack=z,this.getAudioTracks=G,this.getCurrentCaptions=W,this.getCaptionsList=q,this.getVisualQuality=F,this.getConfig=N,this.getState=S,this.setVolume=ne.setVolume.bind(ne),this.setMute=ne.setMute.bind(ne),this.enableGPU=ne.enableGPU,this.disableGPU=ne.disableGPU,this.setToken=ne.setToken,this.setPlaybackRate=ne.setPlaybackRate,this.getProvider=function(){return ne.get(\"provider\")},this.getWidth=function(){return ne.get(\"containerWidth\")},this.getHeight=function(){return ne.get(\"containerHeight\")},this.getContainer=function(){return this.currentContainer},this.resize=X.resize,this.getSafeRegion=X.getSafeRegion,this.setCues=X.addCues,this.setThumbnails=X.addThumbnails,this.setCaptions=X.setCaptions,this.addButton=function(e,t,n,r,a){var s={img:e,tooltip:t,callback:n,id:r,btnClass:a},o=ne.get(\"dock\");o=o?o.slice(0):[],o=i.reject(o,i.matches({id:s.id})),o.push(s),ne.set(\"dock\",o)},this.removeButton=function(e){var t=ne.get(\"dock\")||[];t=i.reject(t,i.matches({id:e})),ne.set(\"dock\",t)},this.checkBeforePlay=function(){return re},this.getItemQoe=function(){return ne._qoeItem},this.setControls=function(e){i.isBoolean(e)||(e=!ne.get(\"controls\")),ne.set(\"controls\",e);var t=ne.getVideo();t&&t.setControls(e)},this.setKeyControls=function(e){ne.set(\"keyControls\",e)},this.playerDestroy=function(){this.stop(),this.showView(this.originalContainer),X&&X.destroy(),ne&&ne.destroy(),ee&&(ee.destroy(),ee=null)},this.isBeforePlay=this.checkBeforePlay,this.isBeforeComplete=function(){return ne.getVideo().checkComplete()},this.createInstream=function(){return this.instreamDestroy(),this._instreamAdapter=new t(this,ne,X),this._instreamAdapter},this.skipAd=function(){this._instreamAdapter&&this._instreamAdapter.skipAd()},this.instreamDestroy=function(){se._instreamAdapter&&se._instreamAdapter.destroy()},ee.start()},showView:function(e){(document.documentElement.contains(this.currentContainer)||(this.currentContainer=document.getElementById(this._model.get(\"id\")),this.currentContainer))&&(this.currentContainer.parentElement&&this.currentContainer.parentElement.replaceChild(e,this.currentContainer),this.currentContainer=e)},triggerError:function(e){this._model.set(\"errorEvent\",e),this._model.set(\"state\",m.ERROR),this._model.once(\"change:state\",function(){this._model.set(\"errorEvent\",void 0)},this),this.trigger(g.JWPLAYER_ERROR,e)},setupError:function(e){var t=e.message,n=d.createElement(_(this._model.get(\"id\"),this._model.get(\"skin\"),t)),r=this._model.get(\"width\"),a=this._model.get(\"height\");d.style(n,{width:r.toString().indexOf(\"%\")>0?r:r+\"px\",height:a.toString().indexOf(\"%\")>0?a:a+\"px\"}),this.showView(n);var s=this;i.defer(function(){s.trigger(g.JWPLAYER_SETUP_ERROR,{message:t,code:e.code})})}},E}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(87),i(86),i(4),i(7),i(2),i(3),i(1)],r=function(e,t,i,n,r,a,s){function o(i){var n=i.get(\"provider\").name||\"\";return n.indexOf(\"flash\")>=0?t:e}var l={skipoffset:null,tag:null},u=function(e,t,a){function u(e,t){\"complete\"!==e&&(t=t||{},b.tag&&!t.tag&&(t.tag=b.tag),this.trigger(e,t))}function d(e){v._adModel.set(\"duration\",e.duration),v._adModel.set(\"position\",e.position)}function c(e){var n={};if(b.tag&&(n.tag=b.tag),h&&y+1<h.length){this.trigger(i.JWPLAYER_MEDIA_COMPLETE,n),v._adModel.set(\"state\",\"buffering\"),t.set(\"skipButton\",!1),y++;var r,a=h[y];f&&(r=f[y]),this.loadItem(a,r)}else e.type===i.JWPLAYER_MEDIA_COMPLETE&&(this.trigger(i.JWPLAYER_MEDIA_COMPLETE,n),this.trigger(i.JWPLAYER_PLAYLIST_COMPLETE,{})),this.destroy()}var h,f,p,m,g,_=o(t),v=new _(e,t),y=0,b={},A=s.bind(function(e){e=e||{},e.hasControls=!!t.get(\"controls\"),this.trigger(i.JWPLAYER_INSTREAM_CLICK,e),v&&v._adModel&&(v._adModel.get(\"state\")===n.PAUSED?e.hasControls&&v.instreamPlay():v.instreamPause())},this),E=s.bind(function(){v&&v._adModel&&v._adModel.get(\"state\")===n.PAUSED&&t.get(\"controls\")&&(e.setFullscreen(),e.play())},this);this.type=\"instream\",this.init=function(){p=t.getVideo(),m=t.get(\"position\"),g=t.get(\"playlist\")[t.get(\"item\")],v.on(\"all\",u,this),v.on(i.JWPLAYER_MEDIA_TIME,d,this),v.on(i.JWPLAYER_MEDIA_COMPLETE,c,this),v.init(),p.detachMedia(),t.mediaModel.set(\"state\",n.BUFFERING),e.checkBeforePlay()||0===m&&!p.checkComplete()?(m=0,t.set(\"preInstreamState\",\"instream-preroll\")):p&&p.checkComplete()||t.get(\"state\")===n.COMPLETE?t.set(\"preInstreamState\",\"instream-postroll\"):t.set(\"preInstreamState\",\"instream-midroll\");var s=t.get(\"state\");return s!==n.PLAYING&&s!==n.BUFFERING||p.pause(),a.setupInstream(v._adModel),v._adModel.set(\"state\",n.BUFFERING),a.clickHandler().setAlternateClickHandlers(r.noop,null),this.setText(\"Loading ad\"),this},this.loadItem=function(e,n){if(r.isAndroid(2.3))return void this.trigger({type:i.JWPLAYER_ERROR,message:\"流加载失败：在Android 2.3上不能加载流\"});s.isArray(e)&&(h=e,f=n,e=h[y],f&&(n=f[y])),this.trigger(i.JWPLAYER_PLAYLIST_ITEM,{index:y,item:e}),b=s.extend({},l,n),v.load(e),this.addClickHandler();var a=e.skipoffset||b.skipoffset;a&&(v._adModel.set(\"skipMessage\",b.skipMessage),v._adModel.set(\"skipText\",b.skipText),v._adModel.set(\"skipOffset\",a),t.set(\"skipButton\",!0))},this.applyProviderListeners=function(e){v.applyProviderListeners(e),this.addClickHandler()},this.play=function(){v.instreamPlay()},this.pause=function(){v.instreamPause()},this.hide=function(){v.hide()},this.addClickHandler=function(){a.clickHandler().setAlternateClickHandlers(A,E),v.on(i.JWPLAYER_MEDIA_META,this.metaHandler,this)},this.skipAd=function(e){var t=i.JWPLAYER_AD_SKIPPED;this.trigger(t,e),c.call(this,{type:t})},this.metaHandler=function(e){e.width&&e.height&&a.resizeMedia()},this.destroy=function(){if(this.off(),t.set(\"skipButton\",!1),v){a.clickHandler()&&a.clickHandler().revertAlternateClickHandlers(),v.instreamDestroy(),a.destroyInstream(),v=null,e.attachMedia();var i=t.get(\"preInstreamState\");switch(i){case\"instream-preroll\":case\"instream-midroll\":var o=s.extend({},g);o.starttime=m,t.loadVideo(o),r.isMobile()&&t.mediaModel.get(\"state\")===n.BUFFERING&&p.setState(n.BUFFERING),p.play();break;case\"instream-postroll\":case\"instream-idle\":p.stop()}}},this.getState=function(){return!(!v||!v._adModel)&&v._adModel.get(\"state\")},this.setText=function(e){a.setAltText(e?e:\"\")},this.hide=function(){a.useExternalControls()}};return s.extend(u.prototype,a),u}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(3),i(29),i(30),i(4),i(7),i(2),i(1)],r=function(e,t,i,n,r,a,s){var o=function(e,n){this.model=n,this._adModel=(new t).setup({id:n.get(\"id\"),volume:n.get(\"volume\"),fullscreen:n.get(\"fullscreen\"),mute:n.get(\"mute\")}),this._adModel.on(\"change:state\",i,this);var r=e.getContainer();this.swf=r.querySelector(\"object\")};return o.prototype=s.extend({init:function(){if(a.isChrome()){var e=-1,t=!1;this.swf.on(\"throttle\",function(i){if(clearTimeout(e),\"resume\"===i.state)t&&(t=!1,this.instreamPlay());else{var n=this;e=setTimeout(function(){n._adModel.get(\"state\")===r.PLAYING&&(t=!0,\nn.instreamPause())},250)}},this)}this.swf.on(\"instream:state\",function(e){switch(e.newstate){case r.PLAYING:this._adModel.set(\"state\",e.newstate);break;case r.PAUSED:this._adModel.set(\"state\",e.newstate)}},this).on(\"instream:time\",function(e){this._adModel.set(\"position\",e.position),this._adModel.set(\"duration\",e.duration),this.trigger(n.JWPLAYER_MEDIA_TIME,e)},this).on(\"instream:complete\",function(e){this.trigger(n.JWPLAYER_MEDIA_COMPLETE,e)},this).on(\"instream:error\",function(e){this.trigger(n.JWPLAYER_MEDIA_ERROR,e)},this),this.swf.triggerFlash(\"instream:init\"),this.applyProviderListeners=function(e){this.model.on(\"change:volume\",function(t,i){e.volume(i)},this),this.model.on(\"change:mute\",function(t,i){e.mute(i)},this)}},instreamDestroy:function(){this._adModel&&(this.off(),this.swf.off(null,null,this),this.swf.triggerFlash(\"instream:destroy\"),this.swf=null,this._adModel.off(),this._adModel=null,this.model=null)},load:function(e){this.swf.triggerFlash(\"instream:load\",e)},instreamPlay:function(){this.swf.triggerFlash(\"instream:play\")},instreamPause:function(){this.swf.triggerFlash(\"instream:pause\")}},e),o}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(1),i(3),i(30),i(4),i(7),i(29)],r=function(e,t,i,n,r,a){var s=function(s,o){function l(t){var r=t||h.getVideo();if(f!==r){if(f=r,!r)return;r.off(),r.on(\"all\",function(t,i){i=e.extend({},i,{type:t}),this.trigger(t,i)},p),r.on(n.JWPLAYER_MEDIA_BUFFER_FULL,c),r.on(n.JWPLAYER_PLAYER_STATE,u),r.attachMedia(),r.volume(o.get(\"volume\")),r.mute(o.get(\"mute\")),h.on(\"change:state\",i,p)}}function u(e){switch(e.newstate){case r.PLAYING:h.set(\"state\",e.newstate);break;case r.PAUSED:h.set(\"state\",e.newstate)}}function d(e){o.trigger(e.type,e),p.trigger(n.JWPLAYER_FULLSCREEN,{fullscreen:e.jwstate})}function c(){h.getVideo().play()}var h,f,p=e.extend(this,t);return s.on(n.JWPLAYER_FULLSCREEN,function(e){this.trigger(n.JWPLAYER_FULLSCREEN,e)},p),this.init=function(){h=(new a).setup({id:o.get(\"id\"),volume:o.get(\"volume\"),fullscreen:o.get(\"fullscreen\"),mute:o.get(\"mute\")}),h.on(\"fullscreenchange\",d),this._adModel=h},p.load=function(e){h.set(\"item\",0),h.set(\"playlistItem\",e),h.setActiveItem(e),l(),h.off(n.JWPLAYER_ERROR),h.on(n.JWPLAYER_ERROR,function(e){this.trigger(n.JWPLAYER_ERROR,e)},p),h.loadVideo(e)},p.applyProviderListeners=function(e){l(e),e.off(n.JWPLAYER_ERROR),e.on(n.JWPLAYER_ERROR,function(e){this.trigger(n.JWPLAYER_ERROR,e)},p),o.on(\"change:volume\",function(e,t){f.volume(t)},p),o.on(\"change:mute\",function(e,t){f.mute(t)},p)},this.instreamDestroy=function(){h&&(h.off(),this.off(),f&&(f.detachMedia(),f.off(),h.getVideo()&&f.destroy()),h=null,s.off(null,null,this),s=null)},p.instreamPlay=function(){h.getVideo()&&h.getVideo().play(!0)},p.instreamPause=function(){h.getVideo()&&h.getVideo().pause(!0)},p};return s}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(66),i(4),i(1)],r=function(e,t,i){function n(e){e.mediaController.off(t.JWPLAYER_MEDIA_PLAY_ATTEMPT,e._onPlayAttempt),e.mediaController.off(t.JWPLAYER_PROVIDER_FIRST_FRAME,e._triggerFirstFrame),e.mediaController.off(t.JWPLAYER_MEDIA_TIME,e._onTime)}function r(e){n(e),e._triggerFirstFrame=i.once(function(){var i=e._qoeItem;i.tick(t.JWPLAYER_MEDIA_FIRST_FRAME);var r=i.between(t.JWPLAYER_MEDIA_PLAY_ATTEMPT,t.JWPLAYER_MEDIA_FIRST_FRAME);e.mediaController.trigger(t.JWPLAYER_MEDIA_FIRST_FRAME,{loadTime:r}),n(e)}),e._onTime=s(e._triggerFirstFrame),e._onPlayAttempt=function(){e._qoeItem.tick(t.JWPLAYER_MEDIA_PLAY_ATTEMPT)},e.mediaController.on(t.JWPLAYER_MEDIA_PLAY_ATTEMPT,e._onPlayAttempt),e.mediaController.once(t.JWPLAYER_PROVIDER_FIRST_FRAME,e._triggerFirstFrame),e.mediaController.on(t.JWPLAYER_MEDIA_TIME,e._onTime)}function a(i){function n(i,n,a){i._qoeItem&&a&&i._qoeItem.end(a.get(\"state\")),i._qoeItem=new e,i._qoeItem.tick(t.JWPLAYER_PLAYLIST_ITEM),i._qoeItem.start(n.get(\"state\")),r(i),n.on(\"change:state\",function(e,t,n){i._qoeItem.end(n),i._qoeItem.start(t)})}i.on(\"change:mediaModel\",n)}var s=function(e){var t=Number.MIN_VALUE;return function(i){i.position>t&&e(),t=i.position}};return{model:a}}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(22),i(37),i(58),i(45),i(23),i(1),i(2),i(4),i(8),i(18)],r=function(e,t,n,r,a,s,o,l,u,d){function c(){var e={LOAD_PROMISE_POLYFILL:{method:h,depends:[]},LOAD_BASE64_POLYFILL:{method:f,depends:[]},LOAD_JSON2:{method:p,depends:[]},LOADED_POLYFILLS:{method:b,depends:[\"LOAD_PROMISE_POLYFILL\",\"LOAD_BASE64_POLYFILL\",\"LOAD_JSON2\"]},LOAD_PLUGINS:{method:A,depends:[\"LOADED_POLYFILLS\"]},INIT_PLUGINS:{method:E,depends:[\"LOAD_PLUGINS\",\"SETUP_VIEW\"]},LOAD_FLVJS:{method:m,depends:[]},LOAD_VIDEOJS_LEVELS:{method:_,depends:[\"LOAD_VIDEOJS_HLS\"]},LOAD_VIDEOJS_HLS:{method:v,depends:[\"LOAD_VIDEOJS\"]},LOAD_VIDEOJS:{method:y,depends:[]},LOAD_PROVIDERS:{method:D,depends:[\"FILTER_PLAYLIST\"]},LOAD_SKIN:{method:R,depends:[\"LOADED_POLYFILLS\"]},LOAD_PLAYLIST:{method:T,depends:[\"LOADED_POLYFILLS\"]},FILTER_PLAYLIST:{method:S,depends:[\"LOAD_PLAYLIST\",\"LOAD_FLVJS\",\"LOAD_VIDEOJS_LEVELS\"]},SETUP_VIEW:{method:O,depends:[\"LOAD_SKIN\"]},SEND_READY:{method:M,depends:[\"INIT_PLUGINS\",\"LOAD_PROVIDERS\",\"SETUP_VIEW\"]}};return e}function h(e){window.Promise?e():!function(require){i(40),e()}(i)}function f(e){window.btoa&&window.atob?e():!function(require){i(38),e()}(i)}function p(e){window.JSON?e():!function(require){i(39),e()}(i)}function m(e,t){var n=t.get(\"playlist\");t.get(\"hevc\")!==!0&&o.isFlvjsSupported()&&(o.isFlv(n[0].file)||n[0].sources&&o.isFlv(n[0].sources[0].file))?i.e(1,function(require){e()}):e()}function g(e){return o.isFlvjsSupported()&&!o.isMobile()&&(o.isHls(e[0].file)||e[0].sources&&o.isHls(e[0].sources[0].file))}function _(e,t){var i=t.get(\"playlist\");if(g(i)&&window.videojs&&!window.videojs.getPlugin(\"qualityLevels\")&&!t.get(\"isLive\")){var n=new r(\"\"+a.repo+d+\"/videojs/videojs-contrib-quality-levels.min.js\",!1);n.addEventListener(l.COMPLETE,function(){e()}),n.load()}else e()}function v(e,t){var i=t.get(\"playlist\");if(g(i)&&window.videojs&&!window.videojs.m3u8){var n=new r(\"\"+a.repo+d+\"/videojs/videojs-contrib-hls.min.js\",!1);n.addEventListener(l.COMPLETE,function(){e()}),n.load()}else e()}function y(e,t){var i=t.get(\"playlist\");if(g(i)&&!window.videojs){var n=new r(\"\"+a.repo+d+\"/videojs/video.min.js\",!1);n.addEventListener(l.COMPLETE,function(){e()}),n.load()}else e()}function b(e){e()}function A(e,i){j=t.loadPlugins(i.get(\"id\"),i.get(\"plugins\")),j.on(l.COMPLETE,e),j.on(l.ERROR,s.partial(w,e)),j.load()}function E(e,t,i){j.setupPlugins(i,t),e()}function w(e,t){U(e,\"Could not load plugin\",t.message)}function T(e,t){var i=t.get(\"playlist\");s.isString(i)?(B=new n,B.on(l.JWPLAYER_PLAYLIST_LOADED,function(i){t.set(\"playlist\",i.playlist),t.set(\"feedid\",i.feedid),e()}),B.on(l.JWPLAYER_ERROR,s.partial(x,e)),B.load(i)):e()}function S(e,t,i,n,r){var a=t.get(\"playlist\"),s=r(a);if(s)e();else{var o={},l=C(a);o.message=l.errorMessage,o.code=l.errorCode,\"111\"===o.code?k(e,o):L(e,o)}}function C(e){var t=\"\",i=\"\";return o.flashVersion()||o.isMobile()?o.flashVersion()&&o.flashVersion()<11.2?(t='Flash Player版本必须大于11.2, <a href=\"https://get.adobe.com/cn/flashplayer/\" target=\"_blank\">更新Flash Player</a>',i=\"102\"):o.isMobile()&&(o.isRtmp(e[0].file)||o.isFlv(e[0].file))&&(t=\"手机上不能播放rtmp或flv格式的视频\",i=\"111\"):(t='未检测到Flash Player，请到<a href=\"https://get.adobe.com/cn/flashplayer/\" target=\"_blank\">安装</a>',i=\"101\"),{errorMessage:t,errorCode:i}}function k(e,t){t&&t.message&&U(e,\"视频加载失败\",t.message,t.code||\"\")}function L(e,t){t&&t.message&&U(e,\"播放器加载失败\",t.message,t.code||\"\")}function x(e,t){t&&t.message?U(e,\"播放列表加载失败\",t.message):U(e,\"播放器加载失败\",\"未发现可播放的资源\")}function I(e,t){if(s.contains(a.SkinsLoadable,e))return t+\"skins/\"+e+\".css\"}function P(e){for(var t=document.styleSheets,i=0,n=t.length;i<n;i++)if(t[i].href===e)return!0;return!1}function R(e,t){var i=t.get(\"skin\"),n=t.get(\"skinUrl\");if(s.contains(a.SkinsIncluded,i))return void e();if(!n){var o=a.repo;n=I(i,o)}if(s.isString(n)&&!P(n)){t.set(\"skin-loading\",!0);var u=!0,d=new r(n,u);d.addEventListener(l.COMPLETE,function(){t.set(\"skin-loading\",!1)}),d.addEventListener(l.ERROR,function(){t.set(\"skin\",\"bce\"),t.set(\"skin-loading\",!1)}),d.load()}s.defer(function(){e()})}function D(t,i){var n=i.getProviders(),r=i.get(\"playlist\"),a=n.required(r);e.load(a).then(t)}function O(e,t,i,n){n.setup(),e()}function M(e){e({type:\"complete\"})}function U(e,t,i,n){e({type:\"error\",msg:t,reason:i,code:n||\"\"})}var j,B;return{getQueue:c,error:U}}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var a=i(53),s=n(a),o=i(31),l=function(){function e(){r(this,e)}return e.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"')},e.supportNetworkStreamIO=function(){var e=new s.default({},(0,o.createDefaultConfig)()),t=e.loaderType;return e.destroy(),\"fetch-stream-loader\"==t||\"xhr-moz-chunked-loader\"==t},e.getNetworkLoaderTypeName=function(){var e=new s.default({},(0,o.createDefaultConfig)()),t=e.loaderType;return e.destroy(),t},e.supportNativeMediaPlayback=function(t){void 0==e.videoElement&&(e.videoElement=window.document.createElement(\"video\"));var i=e.videoElement.canPlayType(t);return\"probably\"===i||\"maybe\"==i},e.getFeatureList=function(){var t={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:\"\",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return t.mseFlvPlayback=e.supportMSEH264Playback(),t.networkStreamIO=e.supportNetworkStreamIO(),t.networkLoaderName=e.getNetworkLoaderTypeName(),t.mseLiveFlvPlayback=t.mseFlvPlayback&&t.networkStreamIO,t.nativeMP4H264Playback=e.supportNativeMediaPlayback('video/mp4; codecs=\"avc1.42001E, mp4a.40.2\"'),t.nativeWebmVP8Playback=e.supportNativeMediaPlayback('video/webm; codecs=\"vp8.0, vorbis\"'),t.nativeWebmVP9Playback=e.supportNativeMediaPlayback('video/webm; codecs=\"vp9\"'),t},e}();t.default=l,e.exports=t.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var a=i(16),s=n(a),o=i(6),l=n(o),u=i(19),d=n(u),c=i(50),h=n(c),f=i(49),p=i(5),m=function(){function e(t){r(this,e),this.TAG=\"MSEController\",this._config=t,this._emitter=new s.default,this._config.isLive&&void 0==this._config.autoCleanupSourceBuffer&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new f.IDRSampleList}return e.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){if(this._mediaSource)throw new p.IllegalStateException(\"MediaSource has been attached to an HTMLMediaElement!\");var t=this._mediaSource=new window.MediaSource;t.addEventListener(\"sourceopen\",this.e.onSourceOpen),t.addEventListener(\"sourceended\",this.e.onSourceEnded),t.addEventListener(\"sourceclose\",this.e.onSourceClose),this._mediaElement=e,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),e.src=this._mediaSourceObjectURL},e.prototype.detachMediaElement=function(){if(this._mediaSource){var e=this._mediaSource;for(var t in this._sourceBuffers){var i=this._pendingSegments[t];i.splice(0,i.length),this._pendingSegments[t]=null,this._pendingRemoveRanges[t]=null,this._lastInitSegments[t]=null;var n=this._sourceBuffers[t];if(n){if(\"closed\"!==e.readyState){try{e.removeSourceBuffer(n)}catch(e){l.default.e(this.TAG,e.message)}n.removeEventListener(\"error\",this.e.onSourceBufferError),n.removeEventListener(\"updateend\",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[t]=null,this._sourceBuffers[t]=null}}if(\"open\"===e.readyState)try{e.endOfStream()}catch(e){l.default.e(this.TAG,e.message)}e.removeEventListener(\"sourceopen\",this.e.onSourceOpen),e.removeEventListener(\"sourceended\",this.e.onSourceEnded),e.removeEventListener(\"sourceclose\",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src=\"\",this._mediaElement.removeAttribute(\"src\"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},e.prototype.appendInitSegment=function(e,t){if(!this._mediaSource||\"open\"!==this._mediaSource.readyState)return this._pendingSourceBufferInit.push(e),void this._pendingSegments[e.type].push(e);var i=e,n=\"\"+i.container;i.codec&&i.codec.length>0&&(n+=\";codecs=\"+i.codec);var r=!1;if(l.default.v(this.TAG,\"Received Initialization Segment, mimeType: \"+n),this._lastInitSegments[i.type]=i,n!==this._mimeTypes[i.type]){if(this._mimeTypes[i.type])l.default.v(this.TAG,\"Notice: \"+i.type+\" mimeType changed, origin: \"+this._mimeTypes[i.type]+\", target: \"+n);else{r=!0;try{var a=this._sourceBuffers[i.type]=this._mediaSource.addSourceBuffer(n);a.addEventListener(\"error\",this.e.onSourceBufferError),a.addEventListener(\"updateend\",this.e.onSourceBufferUpdateEnd)}catch(e){return l.default.e(this.TAG,e.message),void this._emitter.emit(h.default.ERROR,{code:e.code,msg:e.message})}}this._mimeTypes[i.type]=n}t||this._pendingSegments[i.type].push(i),r||this._sourceBuffers[i.type]&&!this._sourceBuffers[i.type].updating&&this._doAppendSegments(),d.default.safari&&\"audio/mpeg\"===i.container&&i.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=i.mediaDuration/1e3,this._updateMediaSourceDuration())},e.prototype.appendMediaSegment=function(e){var t=e;this._pendingSegments[t.type].push(t),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var i=this._sourceBuffers[t.type];!i||i.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()},e.prototype.seek=function(e){for(var t in this._sourceBuffers)if(this._sourceBuffers[t]){var i=this._sourceBuffers[t];if(\"open\"===this._mediaSource.readyState)try{i.abort()}catch(e){l.default.e(this.TAG,e.message)}this._idrList.clear();var n=this._pendingSegments[t];if(n.splice(0,n.length),\"closed\"!==this._mediaSource.readyState){for(var r=0;r<i.buffered.length;r++){var a=i.buffered.start(r),s=i.buffered.end(r);this._pendingRemoveRanges[t].push({start:a,end:s})}if(i.updating||this._doRemoveRanges(),d.default.safari){var o=this._lastInitSegments[t];o&&(this._pendingSegments[t].push(o),i.updating||this._doAppendSegments())}}}},e.prototype.endOfStream=function(){var e=this._mediaSource,t=this._sourceBuffers;return e&&\"open\"===e.readyState?void(t.video&&t.video.updating||t.audio&&t.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,e.endOfStream())):void(e&&\"closed\"===e.readyState&&this._hasPendingSegments()&&(this._hasPendingEos=!0))},e.prototype.getNearestKeyframe=function(e){return this._idrList.getLastSyncPointBeforeDts(e)},e.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var i=this._sourceBuffers[t];if(i){var n=i.buffered;if(n.length>=1&&e-n.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},e.prototype._doCleanupSourceBuffer=function(){var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var i=this._sourceBuffers[t];if(i){for(var n=i.buffered,r=!1,a=0;a<n.length;a++){var s=n.start(a),o=n.end(a);if(s<=e&&e<o+3){if(e-s>=this._config.autoCleanupMaxBackwardDuration){r=!0;var l=e-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[t].push({start:s,end:l})}}else o<e&&(r=!0,this._pendingRemoveRanges[t].push({start:s,end:o}))}r&&!i.updating&&this._doRemoveRanges()}}},e.prototype._updateMediaSourceDuration=function(){var e=this._sourceBuffers;if(0!==this._mediaElement.readyState&&\"open\"===this._mediaSource.readyState&&!(e.video&&e.video.updating||e.audio&&e.audio.updating)){var t=this._mediaSource.duration,i=this._pendingMediaDuration;i>0&&(isNaN(t)||i>t)&&(l.default.v(this.TAG,\"Update MediaSource duration from \"+t+\" to \"+i),this._mediaSource.duration=i),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},e.prototype._doRemoveRanges=function(){for(var e in this._pendingRemoveRanges)if(this._sourceBuffers[e]&&!this._sourceBuffers[e].updating)for(var t=this._sourceBuffers[e],i=this._pendingRemoveRanges[e];i.length&&!t.updating;){var n=i.shift();t.remove(n.start,n.end)}},e.prototype._doAppendSegments=function(){var e=this._pendingSegments;for(var t in e)if(this._sourceBuffers[t]&&!this._sourceBuffers[t].updating&&e[t].length>0){var i=e[t].shift();if(i.timestampOffset){var n=this._sourceBuffers[t].timestampOffset,r=i.timestampOffset/1e3,a=Math.abs(n-r);a>.1&&(l.default.v(this.TAG,\"Update MPEG audio timestampOffset from \"+n+\" to \"+r),this._sourceBuffers[t].timestampOffset=r),delete i.timestampOffset}if(!i.data||0===i.data.byteLength)continue;try{this._sourceBuffers[t].appendBuffer(i.data),this._isBufferFull=!1,\"video\"===t&&i.hasOwnProperty(\"info\")&&this._idrList.appendArray(i.info.syncPoints)}catch(e){this._pendingSegments[t].unshift(i),22===e.code?(this._isBufferFull||this._emitter.emit(h.default.BUFFER_FULL),this._isBufferFull=!0):(l.default.e(this.TAG,e.message),this._emitter.emit(h.default.ERROR,{code:e.code,msg:e.message}))}}},e.prototype._onSourceOpen=function(){if(l.default.v(this.TAG,\"MediaSource onSourceOpen\"),this._mediaSource.removeEventListener(\"sourceopen\",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var e=this._pendingSourceBufferInit;e.length;){var t=e.shift();this.appendInitSegment(t,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(h.default.SOURCE_OPEN)},e.prototype._onSourceEnded=function(){l.default.v(this.TAG,\"MediaSource onSourceEnded\")},e.prototype._onSourceClose=function(){l.default.v(this.TAG,\"MediaSource onSourceClose\"),this._mediaSource&&null!=this.e&&(this._mediaSource.removeEventListener(\"sourceopen\",this.e.onSourceOpen),this._mediaSource.removeEventListener(\"sourceended\",this.e.onSourceEnded),this._mediaSource.removeEventListener(\"sourceclose\",this.e.onSourceClose))},e.prototype._hasPendingSegments=function(){var e=this._pendingSegments;return e.video.length>0||e.audio.length>0},e.prototype._hasPendingRemoveRanges=function(){var e=this._pendingRemoveRanges;return e.video.length>0||e.audio.length>0},e.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(h.default.UPDATE_END)},e.prototype._onSourceBufferError=function(e){l.default.e(this.TAG,\"SourceBuffer Error: \"+e)},e}();t.default=m,e.exports=t.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var a=i(16),s=n(a),o=i(6),l=n(o),u=i(35),d=n(u),c=i(51),h=n(c),f=i(27),p=n(f),m=i(93),g=n(m),_=i(32),v=n(_),y=function(){function e(t,n){if(r(this,e),this.TAG=\"Transmuxer\",this._emitter=new s.default,n.enableWorker&&\"undefined\"!=typeof Worker)try{var a=i(173);this._worker=a(g.default),this._workerDestroying=!1,this._worker.addEventListener(\"message\",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:\"init\",param:[t,n]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},d.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:\"logging_config\",param:d.default.getConfig()})}catch(e){l.default.e(this.TAG,\"Error while initialize transmuxing worker, fallback to inline transmuxing\"),this._worker=null,this._controller=new h.default(t,n)}else this._controller=new h.default(t,n);if(this._controller){var o=this._controller;o.on(p.default.IO_ERROR,this._onIOError.bind(this)),o.on(p.default.DEMUX_ERROR,this._onDemuxError.bind(this)),o.on(p.default.INIT_SEGMENT,this._onInitSegment.bind(this)),o.on(p.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),o.on(p.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),o.on(p.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),o.on(p.default.MEDIA_INFO,this._onMediaInfo.bind(this)),o.on(p.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),o.on(p.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),o.on(p.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),o.on(p.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return e.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:\"destroy\"}),d.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.hasWorker=function(){return null!=this._worker},e.prototype.open=function(){this._worker?this._worker.postMessage({cmd:\"start\"}):this._controller.start()},e.prototype.close=function(){this._worker?this._worker.postMessage({cmd:\"stop\"}):this._controller.stop()},e.prototype.seek=function(e){this._worker?this._worker.postMessage({cmd:\"seek\",param:e}):this._controller.seek(e)},e.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:\"pause\"}):this._controller.pause()},e.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:\"resume\"}):this._controller.resume()},e.prototype._onInitSegment=function(e,t){var i=this;Promise.resolve().then(function(){i._emitter.emit(p.default.INIT_SEGMENT,e,t)})},e.prototype._onMediaSegment=function(e,t){var i=this;Promise.resolve().then(function(){i._emitter.emit(p.default.MEDIA_SEGMENT,e,t)})},e.prototype._onLoadingComplete=function(){var e=this;Promise.resolve().then(function(){e._emitter.emit(p.default.LOADING_COMPLETE)})},e.prototype._onRecoveredEarlyEof=function(){var e=this;Promise.resolve().then(function(){e._emitter.emit(p.default.RECOVERED_EARLY_EOF)})},e.prototype._onMediaInfo=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(p.default.MEDIA_INFO,e)})},e.prototype._onMetaDataArrived=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(p.default.METADATA_ARRIVED,e)})},e.prototype._onScriptDataArrived=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(p.default.SCRIPTDATA_ARRIVED,e)})},e.prototype._onStatisticsInfo=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(p.default.STATISTICS_INFO,e)})},e.prototype._onIOError=function(e,t){var i=this;Promise.resolve().then(function(){i._emitter.emit(p.default.IO_ERROR,e,t)})},e.prototype._onDemuxError=function(e,t){var i=this;Promise.resolve().then(function(){i._emitter.emit(p.default.DEMUX_ERROR,e,t)})},e.prototype._onRecommendSeekpoint=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(p.default.RECOMMEND_SEEKPOINT,e)})},e.prototype._onLoggingConfigChanged=function(e){this._worker&&this._worker.postMessage({cmd:\"logging_config\",param:e})},e.prototype._onWorkerMessage=function(e){var t=e.data,i=t.data;if(\"destroyed\"===t.msg||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(t.msg){case p.default.INIT_SEGMENT:case p.default.MEDIA_SEGMENT:this._emitter.emit(t.msg,i.type,i.data);break;case p.default.LOADING_COMPLETE:case p.default.RECOVERED_EARLY_EOF:this._emitter.emit(t.msg);break;case p.default.MEDIA_INFO:Object.setPrototypeOf(i,v.default.prototype),this._emitter.emit(t.msg,i);break;case p.default.METADATA_ARRIVED:case p.default.SCRIPTDATA_ARRIVED:case p.default.STATISTICS_INFO:this._emitter.emit(t.msg,i);break;case p.default.IO_ERROR:case p.default.DEMUX_ERROR:this._emitter.emit(t.msg,i.type,i.info);break;case p.default.RECOMMEND_SEEKPOINT:this._emitter.emit(t.msg,i);break;case\"logcat_callback\":l.default.emitter.emit(\"log\",i.type,i.logcat)}},e}();t.default=y,e.exports=t.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=i(6),a=(n(r),i(35)),s=n(a),o=i(56),l=n(o),u=i(51),d=n(u),c=i(27),h=n(c),f=function(e){function t(t,i){var n={msg:h.default.INIT_SEGMENT,data:{type:t,data:i}};e.postMessage(n,[i.data])}function i(t,i){var n={msg:h.default.MEDIA_SEGMENT,data:{type:t,data:i}};e.postMessage(n,[i.data])}function n(){var t={msg:h.default.LOADING_COMPLETE};e.postMessage(t)}function r(){var t={msg:h.default.RECOVERED_EARLY_EOF};e.postMessage(t)}function a(t){var i={msg:h.default.MEDIA_INFO,data:t};e.postMessage(i)}function o(t){var i={msg:h.default.METADATA_ARRIVED,data:t};e.postMessage(i)}function u(t){var i={msg:h.default.SCRIPTDATA_ARRIVED,data:t};e.postMessage(i)}function c(t){var i={msg:h.default.STATISTICS_INFO,data:t};e.postMessage(i)}function f(t,i){e.postMessage({msg:h.default.IO_ERROR,data:{type:t,info:i}})}function p(t,i){e.postMessage({msg:h.default.DEMUX_ERROR,data:{type:t,info:i}})}function m(t){e.postMessage({msg:h.default.RECOMMEND_SEEKPOINT,data:t})}function g(t,i){e.postMessage({msg:\"logcat_callback\",data:{type:t,logcat:i}})}var _=null,v=g.bind(this);l.default.install(),e.addEventListener(\"message\",function(l){switch(l.data.cmd){case\"init\":_=new d.default(l.data.param[0],l.data.param[1]),_.on(h.default.IO_ERROR,f.bind(this)),_.on(h.default.DEMUX_ERROR,p.bind(this)),_.on(h.default.INIT_SEGMENT,t.bind(this)),_.on(h.default.MEDIA_SEGMENT,i.bind(this)),_.on(h.default.LOADING_COMPLETE,n.bind(this)),_.on(h.default.RECOVERED_EARLY_EOF,r.bind(this)),_.on(h.default.MEDIA_INFO,a.bind(this)),_.on(h.default.METADATA_ARRIVED,o.bind(this)),_.on(h.default.SCRIPTDATA_ARRIVED,u.bind(this)),_.on(h.default.STATISTICS_INFO,c.bind(this)),_.on(h.default.RECOMMEND_SEEKPOINT,m.bind(this));break;case\"destroy\":_&&(_.destroy(),_=null),e.postMessage({msg:\"destroyed\"});break;case\"start\":_.start();break;case\"stop\":_.stop();break;case\"seek\":_.seek(l.data.param);break;case\"pause\":_.pause();break;case\"resume\":_.resume();break;case\"logging_config\":var g=l.data.param;s.default.applyConfig(g),g.enableCallback===!0?s.default.addLogListener(v):s.default.removeLogListener(v)}})};t.default=f,e.exports=t.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var a=i(6),s=n(a),o=i(111),l=n(o),u=i(5),d=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}(),c=function(){function e(){r(this,e)}return e.parseScriptData=function(t,i,n){var r={};try{var a=e.parseValue(t,i,n),o=e.parseValue(t,i+a.size,n-a.size);r[a.data]=o.data}catch(e){s.default.e(\"AMF\",e.toString())}return r},e.parseObject=function(t,i,n){if(n<3)throw new u.IllegalStateException(\"Data not enough when parse ScriptDataObject\");var r=e.parseString(t,i,n),a=e.parseValue(t,i+r.size,n-r.size),s=a.objectEnd;return{data:{name:r.data,value:a.data},size:r.size+a.size,objectEnd:s}},e.parseVariable=function(t,i,n){return e.parseObject(t,i,n)},e.parseString=function(e,t,i){if(i<2)throw new u.IllegalStateException(\"Data not enough when parse String\");var n=new DataView(e,t,i),r=n.getUint16(0,!d),a=void 0;return a=r>0?(0,l.default)(new Uint8Array(e,t+2,r)):\"\",{data:a,size:2+r}},e.parseLongString=function(e,t,i){if(i<4)throw new u.IllegalStateException(\"Data not enough when parse LongString\");var n=new DataView(e,t,i),r=n.getUint32(0,!d),a=void 0;return a=r>0?(0,l.default)(new Uint8Array(e,t+4,r)):\"\",{data:a,size:4+r}},e.parseDate=function(e,t,i){if(i<10)throw new u.IllegalStateException(\"Data size invalid when parse Date\");var n=new DataView(e,t,i),r=n.getFloat64(0,!d),a=n.getInt16(8,!d);return r+=60*a*1e3,{data:new Date(r),size:10}},e.parseValue=function(t,i,n){if(n<1)throw new u.IllegalStateException(\"Data not enough when parse Value\");var r=new DataView(t,i,n),a=1,o=r.getUint8(0),l=void 0,c=!1;try{switch(o){case 0:l=r.getFloat64(1,!d),a+=8;break;case 1:var h=r.getUint8(1);l=!!h,a+=1;break;case 2:var f=e.parseString(t,i+1,n-1);l=f.data,a+=f.size;break;case 3:l={};var p=0;for(9===(16777215&r.getUint32(n-4,!d))&&(p=3);a<n-4;){var m=e.parseObject(t,i+a,n-a-p);if(m.objectEnd)break;l[m.data.name]=m.data.value,a+=m.size}if(a<=n-3){var g=16777215&r.getUint32(a-1,!d);9===g&&(a+=3)}break;case 8:l={},a+=4;var _=0;for(9===(16777215&r.getUint32(n-4,!d))&&(_=3);a<n-8;){var v=e.parseVariable(t,i+a,n-a-_);if(v.objectEnd)break;l[v.data.name]=v.data.value,a+=v.size}if(a<=n-3){var y=16777215&r.getUint32(a-1,!d);9===y&&(a+=3)}break;case 9:l=void 0,a=1,c=!0;break;case 10:l=[];var b=r.getUint32(1,!d);a+=4;for(var A=0;A<b;A++){var E=e.parseValue(t,i+a,n-a);l.push(E.data),a+=E.size}break;case 11:var w=e.parseDate(t,i+1,n-1);l=w.data,a+=w.size;break;case 12:var T=e.parseString(t,i+1,n-1);l=T.data,a+=T.size;break;default:a=n,s.default.w(\"AMF\",\"Unsupported AMF value type \"+o)}}catch(e){s.default.e(\"AMF\",e.toString())}return{data:l,size:a,objectEnd:c}},e}();t.default=c,e.exports=t.default},function(e,t,i){\"use strict\";function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var r=i(5),a=function(){function e(t){n(this,e),this.TAG=\"ExpGolomb\",this._buffer=t,this._buffer_index=0,this._total_bytes=t.byteLength,this._total_bits=8*t.byteLength,this._current_word=0,this._current_word_bits_left=0}return e.prototype.destroy=function(){this._buffer=null},e.prototype._fillCurrentWord=function(){var e=this._total_bytes-this._buffer_index;if(e<=0)throw new r.IllegalStateException(\"ExpGolomb: _fillCurrentWord() but no bytes available\");var t=Math.min(4,e),i=new Uint8Array(4);i.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=new DataView(i.buffer).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t},e.prototype.readBits=function(e){if(e>32)throw new r.InvalidArgumentException(\"ExpGolomb: readBits() bits exceeded max 32bits!\");if(e<=this._current_word_bits_left){var t=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t}var i=this._current_word_bits_left?this._current_word:0;i>>>=32-this._current_word_bits_left;var n=e-this._current_word_bits_left;this._fillCurrentWord();var a=Math.min(n,this._current_word_bits_left),s=this._current_word>>>32-a;return this._current_word<<=a,this._current_word_bits_left-=a,i=i<<a|s},e.prototype.readBool=function(){return 1===this.readBits(1)},e.prototype.readByte=function(){return this.readBits(8)},e.prototype._skipLeadingZero=function(){var e=void 0;for(e=0;e<this._current_word_bits_left;e++)if(0!==(this._current_word&2147483648>>>e))return this._current_word<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this._skipLeadingZero()},e.prototype.readUEG=function(){var e=this._skipLeadingZero();\nreturn this.readBits(e+1)-1},e.prototype.readSEG=function(){var e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)},e}();t.default=a,e.exports=t.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}t.__esModule=!0;var s=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(6),u=n(l),d=i(94),c=n(d),h=i(97),f=n(h),p=i(33),m=n(p),g=i(32),_=n(g),v=i(5),y=function(){function e(t,i){r(this,e),this.TAG=\"FLVDemuxer\",this._config=i,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=t.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=t.hasAudioTrack,this._hasVideo=t.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new _.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:\"video\",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:\"audio\",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}()}return e.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},e.probe=function(e){var t=new Uint8Array(e),i={match:!1};if(70!==t[0]||76!==t[1]||86!==t[2]||1!==t[3])return i;var n=(4&t[4])>>>2!==0,r=0!==(1&t[4]),s=a(t,5);return s<9?i:{match:!0,consumed:s,dataOffset:s,hasAudioTrack:n,hasVideoTrack:r}},e.prototype.bindDataSource=function(e){return e.onDataArrival=this.parseChunks.bind(this),this},e.prototype.resetMediaInfo=function(){this._mediaInfo=new _.default},e.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched},e.prototype.parseChunks=function(t,i){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new v.IllegalStateException(\"Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified\");var n=0,r=this._littleEndian;if(0===i){if(!(t.byteLength>13))return 0;var a=e.probe(t);n=a.dataOffset,this.overridedHasVideo=a.hasVideoTrack,this.overridedHasAudio=a.hasAudioTrack}if(this._firstParse){this._firstParse=!1,i+n!==this._dataOffset&&u.default.w(this.TAG,\"First time parsing but chunk byteStart invalid!\");var s=new DataView(t,n),o=s.getUint32(0,!r);0!==o&&u.default.w(this.TAG,\"PrevTagSize0 !== 0 !!!\"),n+=4}for(;n<t.byteLength;){this._dispatch=!0;var l=new DataView(t,n);if(n+11+4>t.byteLength)break;var d=l.getUint8(0),c=16777215&l.getUint32(0,!r);if(n+11+c+4>t.byteLength)break;if(8===d||9===d||18===d){var h=l.getUint8(4),f=l.getUint8(5),p=l.getUint8(6),m=l.getUint8(7),g=p|f<<8|h<<16|m<<24,_=16777215&l.getUint32(7,!r);0!==_&&u.default.w(this.TAG,\"Meet tag which has StreamID != 0!\");var y=n+11;switch(d){case 8:this._parseAudioData(t,y,c,g);break;case 9:this._parseVideoData(t,y,c,g,i+n);break;case 18:this._parseScriptData(t,y,c)}var b=l.getUint32(11+c,!r);b!==11+c&&u.default.w(this.TAG,\"Invalid PrevTagSize \"+b),n+=11+c+4}else u.default.w(this.TAG,\"Unsupported tag type \"+d+\", skipped\"),n+=11+c+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),n},e.prototype._parseScriptData=function(e,t,i){var n=c.default.parseScriptData(e,t,i);if(n.hasOwnProperty(\"onMetaData\")){if(null==n.onMetaData||\"object\"!==s(n.onMetaData))return void u.default.w(this.TAG,\"Invalid onMetaData structure!\");this._metadata&&u.default.w(this.TAG,\"Found another onMetaData tag!\"),this._metadata=n;var r=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},r)),\"boolean\"==typeof r.hasAudio&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=r.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),\"boolean\"==typeof r.hasVideo&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=r.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),\"number\"==typeof r.audiodatarate&&(this._mediaInfo.audioDataRate=r.audiodatarate),\"number\"==typeof r.videodatarate&&(this._mediaInfo.videoDataRate=r.videodatarate),\"number\"==typeof r.width&&(this._mediaInfo.width=r.width),\"number\"==typeof r.height&&(this._mediaInfo.height=r.height),\"number\"==typeof r.duration){if(!this._durationOverrided){var a=Math.floor(r.duration*this._timescale);this._duration=a,this._mediaInfo.duration=a}}else this._mediaInfo.duration=0;if(\"number\"==typeof r.framerate){var o=Math.floor(1e3*r.framerate);if(o>0){var l=o/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=l,this._referenceFrameRate.fps_num=o,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=l}}if(\"object\"===s(r.keyframes)){this._mediaInfo.hasKeyframesIndex=!0;var d=r.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(d),r.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=r,u.default.v(this.TAG,\"Parsed onMetaData\"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(n).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},n))},e.prototype._parseKeyframesIndex=function(e){for(var t=[],i=[],n=1;n<e.times.length;n++){var r=this._timestampBase+Math.floor(1e3*e.times[n]);t.push(r),i.push(e.filepositions[n])}return{times:t,filepositions:i}},e.prototype._parseAudioData=function(e,t,i,n){if(i<=1)return void u.default.w(this.TAG,\"Flv: Invalid audio packet, missing SoundData payload!\");if(this._hasAudioFlagOverrided!==!0||this._hasAudio!==!1){var r=(this._littleEndian,new DataView(e,t,i)),a=r.getUint8(0),s=a>>>4;if(2!==s&&10!==s)return void this._onError(m.default.CODEC_UNSUPPORTED,\"Flv: Unsupported audio codec idx: \"+s);var o=0,l=(12&a)>>>2;if(!(l>=0&&l<=4))return void this._onError(m.default.FORMAT_ERROR,\"Flv: Invalid audio sample rate idx: \"+l);o=this._flvSoundRateTable[l];var d=1&a,c=this._audioMetadata,h=this._audioTrack;if(c||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),c=this._audioMetadata={},c.type=\"audio\",c.id=h.id,c.timescale=this._timescale,c.duration=this._duration,c.audioSampleRate=o,c.channelCount=0===d?1:2),10===s){var f=this._parseAACAudioData(e,t+1,i-1);if(void 0==f)return;if(0===f.packetType){c.config&&u.default.w(this.TAG,\"Found another AudioSpecificConfig!\");var p=f.data;c.audioSampleRate=p.samplingRate,c.channelCount=p.channelCount,c.codec=p.codec,c.originalCodec=p.originalCodec,c.config=p.config,c.refSampleDuration=1024/c.audioSampleRate*c.timescale,u.default.v(this.TAG,\"Parsed AudioSpecificConfig\"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata(\"audio\",c);var g=this._mediaInfo;g.audioCodec=c.originalCodec,g.audioSampleRate=c.audioSampleRate,g.audioChannelCount=c.channelCount,g.hasVideo?null!=g.videoCodec&&(g.mimeType='video/x-flv; codecs=\"'+g.videoCodec+\",\"+g.audioCodec+'\"'):g.mimeType='video/x-flv; codecs=\"'+g.audioCodec+'\"',g.isComplete()&&this._onMediaInfo(g)}else if(1===f.packetType){var _=this._timestampBase+n,v={unit:f.data,length:f.data.byteLength,dts:_,pts:_};h.samples.push(v),h.length+=f.data.length}else u.default.e(this.TAG,\"Flv: Unsupported AAC data type \"+f.packetType)}else if(2===s){if(!c.codec){var y=this._parseMP3AudioData(e,t+1,i-1,!0);if(void 0==y)return;c.audioSampleRate=y.samplingRate,c.channelCount=y.channelCount,c.codec=y.codec,c.originalCodec=y.originalCodec,c.refSampleDuration=1152/c.audioSampleRate*c.timescale,u.default.v(this.TAG,\"Parsed MPEG Audio Frame Header\"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata(\"audio\",c);var b=this._mediaInfo;b.audioCodec=c.codec,b.audioSampleRate=c.audioSampleRate,b.audioChannelCount=c.channelCount,b.audioDataRate=y.bitRate,b.hasVideo?null!=b.videoCodec&&(b.mimeType='video/x-flv; codecs=\"'+b.videoCodec+\",\"+b.audioCodec+'\"'):b.mimeType='video/x-flv; codecs=\"'+b.audioCodec+'\"',b.isComplete()&&this._onMediaInfo(b)}var A=this._parseMP3AudioData(e,t+1,i-1,!1);if(void 0==A)return;var E=this._timestampBase+n,w={unit:A,length:A.byteLength,dts:E,pts:E};h.samples.push(w),h.length+=A.length}}},e.prototype._parseAACAudioData=function(e,t,i){if(i<=1)return void u.default.w(this.TAG,\"Flv: Invalid AAC packet, missing AACPacketType or/and Data!\");var n={},r=new Uint8Array(e,t,i);return n.packetType=r[0],0===r[0]?n.data=this._parseAACAudioSpecificConfig(e,t+1,i-1):n.data=r.subarray(1),n},e.prototype._parseAACAudioSpecificConfig=function(e,t,i){var n=new Uint8Array(e,t,i),r=null,a=0,s=0,o=null,l=0,u=null;if(a=s=n[0]>>>3,l=(7&n[0])<<1|n[1]>>>7,l<0||l>=this._mpegSamplingRates.length)return void this._onError(m.default.FORMAT_ERROR,\"Flv: AAC invalid sampling frequency index!\");var d=this._mpegSamplingRates[l],c=(120&n[1])>>>3;if(c<0||c>=8)return void this._onError(m.default.FORMAT_ERROR,\"Flv: AAC invalid channel configuration\");5===a&&(u=(7&n[1])<<1|n[2]>>>7,o=(124&n[2])>>>2);var h=self.navigator.userAgent.toLowerCase();return h.indexOf(\"firefox\")!==-1?l>=6?(a=5,r=new Array(4),u=l-3):(a=2,r=new Array(2),u=l):h.indexOf(\"android\")!==-1?(a=2,r=new Array(2),u=l):(a=5,u=l,r=new Array(4),l>=6?u=l-3:1===c&&(a=2,r=new Array(2),u=l)),r[0]=a<<3,r[0]|=(15&l)>>>1,r[1]=(15&l)<<7,r[1]|=(15&c)<<3,5===a&&(r[1]|=(15&u)>>>1,r[2]=(1&u)<<7,r[2]|=8,r[3]=0),{config:r,samplingRate:d,channelCount:c,codec:\"mp4a.40.\"+a,originalCodec:\"mp4a.40.\"+s}},e.prototype._parseMP3AudioData=function(e,t,i,n){if(i<4)return void u.default.w(this.TAG,\"Flv: Invalid MP3 packet, header missing!\");var r=(this._littleEndian,new Uint8Array(e,t,i)),a=null;if(n){if(255!==r[0])return;var s=r[1]>>>3&3,o=(6&r[1])>>1,l=(240&r[2])>>>4,d=(12&r[2])>>>2,c=r[3]>>>6&3,h=3!==c?2:1,f=0,p=0,m=34,g=\"mp3\";switch(s){case 0:f=this._mpegAudioV25SampleRateTable[d];break;case 2:f=this._mpegAudioV20SampleRateTable[d];break;case 3:f=this._mpegAudioV10SampleRateTable[d]}switch(o){case 1:m=34,l<this._mpegAudioL3BitRateTable.length&&(p=this._mpegAudioL3BitRateTable[l]);break;case 2:m=33,l<this._mpegAudioL2BitRateTable.length&&(p=this._mpegAudioL2BitRateTable[l]);break;case 3:m=32,l<this._mpegAudioL1BitRateTable.length&&(p=this._mpegAudioL1BitRateTable[l])}a={bitRate:p,samplingRate:f,channelCount:h,codec:g,originalCodec:g}}else a=r;return a},e.prototype._parseVideoData=function(e,t,i,n,r){if(i<=1)return void u.default.w(this.TAG,\"Flv: Invalid video packet, missing VideoData payload!\");if(this._hasVideoFlagOverrided!==!0||this._hasVideo!==!1){var a=new Uint8Array(e,t,i)[0],s=(240&a)>>>4,o=15&a;return 7!==o?void this._onError(m.default.CODEC_UNSUPPORTED,\"Flv: Unsupported codec in video frame: \"+o):void this._parseAVCVideoPacket(e,t+1,i-1,n,r,s)}},e.prototype._parseAVCVideoPacket=function(e,t,i,n,r,a){if(i<4)return void u.default.w(this.TAG,\"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime\");var s=this._littleEndian,o=new DataView(e,t,i),l=o.getUint8(0),d=16777215&o.getUint32(0,!s),c=d<<8>>8;if(0===l)this._parseAVCDecoderConfigurationRecord(e,t+4,i-4);else if(1===l)this._parseAVCVideoData(e,t+4,i-4,n,r,a,c);else if(2!==l)return void this._onError(m.default.FORMAT_ERROR,\"Flv: Invalid video packet type \"+l)},e.prototype._parseAVCDecoderConfigurationRecord=function(e,t,i){if(i<7)return void u.default.w(this.TAG,\"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!\");var n=this._videoMetadata,r=this._videoTrack,a=this._littleEndian,s=new DataView(e,t,i);n?\"undefined\"!=typeof n.avcc&&u.default.w(this.TAG,\"Found another AVCDecoderConfigurationRecord!\"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),n=this._videoMetadata={},n.type=\"video\",n.id=r.id,n.timescale=this._timescale,n.duration=this._duration);var o=s.getUint8(0),l=s.getUint8(1);s.getUint8(2),s.getUint8(3);if(1!==o||0===l)return void this._onError(m.default.FORMAT_ERROR,\"Flv: Invalid AVCDecoderConfigurationRecord\");if(this._naluLengthSize=(3&s.getUint8(4))+1,3!==this._naluLengthSize&&4!==this._naluLengthSize)return void this._onError(m.default.FORMAT_ERROR,\"Flv: Strange NaluLengthSizeMinusOne: \"+(this._naluLengthSize-1));var d=31&s.getUint8(5);if(0===d)return void this._onError(m.default.FORMAT_ERROR,\"Flv: Invalid AVCDecoderConfigurationRecord: No SPS\");d>1&&u.default.w(this.TAG,\"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = \"+d);for(var c=6,h=0;h<d;h++){var p=s.getUint16(c,!a);if(c+=2,0!==p){var g=new Uint8Array(e,t+c,p);c+=p;var _=f.default.parseSPS(g);if(0===h){n.codecWidth=_.codec_size.width,n.codecHeight=_.codec_size.height,n.presentWidth=_.present_size.width,n.presentHeight=_.present_size.height,n.profile=_.profile_string,n.level=_.level_string,n.bitDepth=_.bit_depth,n.chromaFormat=_.chroma_format,n.sarRatio=_.sar_ratio,n.frameRate=_.frame_rate,_.frame_rate.fixed!==!1&&0!==_.frame_rate.fps_num&&0!==_.frame_rate.fps_den||(n.frameRate=this._referenceFrameRate);var v=n.frameRate.fps_den,y=n.frameRate.fps_num;n.refSampleDuration=n.timescale*(v/y);for(var b=g.subarray(1,4),A=\"avc1.\",E=0;E<3;E++){var w=b[E].toString(16);w.length<2&&(w=\"0\"+w),A+=w}n.codec=A;var T=this._mediaInfo;T.width=n.codecWidth,T.height=n.codecHeight,T.fps=n.frameRate.fps,T.profile=n.profile,T.level=n.level,T.refFrames=_.ref_frames,T.chromaFormat=_.chroma_format_string,T.sarNum=n.sarRatio.width,T.sarDen=n.sarRatio.height,T.videoCodec=A,T.hasAudio?null!=T.audioCodec&&(T.mimeType='video/x-flv; codecs=\"'+T.videoCodec+\",\"+T.audioCodec+'\"'):T.mimeType='video/x-flv; codecs=\"'+T.videoCodec+'\"',T.isComplete()&&this._onMediaInfo(T)}}}var S=s.getUint8(c);if(0===S)return void this._onError(m.default.FORMAT_ERROR,\"Flv: Invalid AVCDecoderConfigurationRecord: No PPS\");S>1&&u.default.w(this.TAG,\"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = \"+S),c++;for(var C=0;C<S;C++){var k=s.getUint16(c,!a);c+=2,0!==k&&(c+=k)}n.avcc=new Uint8Array(i),n.avcc.set(new Uint8Array(e,t,i),0),u.default.v(this.TAG,\"Parsed AVCDecoderConfigurationRecord\"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata(\"video\",n)},e.prototype._parseAVCVideoData=function(e,t,i,n,r,a,s){for(var o=this._littleEndian,l=new DataView(e,t,i),d=[],c=0,h=0,f=this._naluLengthSize,p=this._timestampBase+n,m=1===a;h<i;){if(h+4>=i){u.default.w(this.TAG,\"Malformed Nalu near timestamp \"+p+\", offset = \"+h+\", dataSize = \"+i);break}var g=l.getUint32(h,!o);if(3===f&&(g>>>=8),g>i-f)return void u.default.w(this.TAG,\"Malformed Nalus near timestamp \"+p+\", NaluSize > DataSize!\");var _=31&l.getUint8(h+f);5===_&&(m=!0);var v=new Uint8Array(e,t+h,f+g),y={type:_,data:v};d.push(y),c+=v.byteLength,h+=f+g}if(d.length){var b=this._videoTrack,A={units:d,length:c,isKeyframe:m,dts:p,cts:s,pts:p+s};m&&(A.fileposition=r),b.samples.push(A),b.length+=c}},o(e,[{key:\"onTrackMetadata\",get:function(){return this._onTrackMetadata},set:function(e){this._onTrackMetadata=e}},{key:\"onMediaInfo\",get:function(){return this._onMediaInfo},set:function(e){this._onMediaInfo=e}},{key:\"onMetaDataArrived\",get:function(){return this._onMetaDataArrived},set:function(e){this._onMetaDataArrived=e}},{key:\"onScriptDataArrived\",get:function(){return this._onScriptDataArrived},set:function(e){this._onScriptDataArrived=e}},{key:\"onError\",get:function(){return this._onError},set:function(e){this._onError=e}},{key:\"onDataAvailable\",get:function(){return this._onDataAvailable},set:function(e){this._onDataAvailable=e}},{key:\"timestampBase\",get:function(){return this._timestampBase},set:function(e){this._timestampBase=e}},{key:\"overridedDuration\",get:function(){return this._duration},set:function(e){this._durationOverrided=!0,this._duration=e,this._mediaInfo.duration=e}},{key:\"overridedHasAudio\",set:function(e){this._hasAudioFlagOverrided=!0,this._hasAudio=e,this._mediaInfo.hasAudio=e}},{key:\"overridedHasVideo\",set:function(e){this._hasVideoFlagOverrided=!0,this._hasVideo=e,this._mediaInfo.hasVideo=e}}]),e}();t.default=y,e.exports=t.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var a=i(95),s=n(a),o=function(){function e(){r(this,e)}return e._ebsp2rbsp=function(e){for(var t=e,i=t.byteLength,n=new Uint8Array(i),r=0,a=0;a<i;a++)a>=2&&3===t[a]&&0===t[a-1]&&0===t[a-2]||(n[r]=t[a],r++);return new Uint8Array(n.buffer,0,r)},e.parseSPS=function(t){var i=e._ebsp2rbsp(t),n=new s.default(i);n.readByte();var r=n.readByte();n.readByte();var a=n.readByte();n.readUEG();var o=e.getProfileString(r),l=e.getLevelString(a),u=1,d=420,c=[0,420,422,444],h=8;if((100===r||110===r||122===r||244===r||44===r||83===r||86===r||118===r||128===r||138===r||144===r)&&(u=n.readUEG(),3===u&&n.readBits(1),u<=3&&(d=c[u]),h=n.readUEG()+8,n.readUEG(),n.readBits(1),n.readBool()))for(var f=3!==u?8:12,p=0;p<f;p++)n.readBool()&&(p<6?e._skipScalingList(n,16):e._skipScalingList(n,64));n.readUEG();var m=n.readUEG();if(0===m)n.readUEG();else if(1===m){n.readBits(1),n.readSEG(),n.readSEG();for(var g=n.readUEG(),_=0;_<g;_++)n.readSEG()}var v=n.readUEG();n.readBits(1);var y=n.readUEG(),b=n.readUEG(),A=n.readBits(1);0===A&&n.readBits(1),n.readBits(1);var E=0,w=0,T=0,S=0,C=n.readBool();C&&(E=n.readUEG(),w=n.readUEG(),T=n.readUEG(),S=n.readUEG());var k=1,L=1,x=0,I=!0,P=0,R=0,D=n.readBool();if(D){if(n.readBool()){var O=n.readByte(),M=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],U=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];O>0&&O<16?(k=M[O-1],L=U[O-1]):255===O&&(k=n.readByte()<<8|n.readByte(),L=n.readByte()<<8|n.readByte())}if(n.readBool()&&n.readBool(),n.readBool()&&(n.readBits(4),n.readBool()&&n.readBits(24)),n.readBool()&&(n.readUEG(),n.readUEG()),n.readBool()){var j=n.readBits(32),B=n.readBits(32);I=n.readBool(),P=B,R=2*j,x=P/R}}var N=1;1===k&&1===L||(N=k/L);var F=0,V=0;if(0===u)F=1,V=2-A;else{var H=3===u?1:2,z=1===u?2:1;F=H,V=z*(2-A)}var G=16*(y+1),Y=(2-A)*(16*(b+1));G-=(E+w)*F,Y-=(T+S)*V;var W=Math.ceil(G*N);return n.destroy(),n=null,{profile_string:o,level_string:l,bit_depth:h,ref_frames:v,chroma_format:d,chroma_format_string:e.getChromaFormatString(d),frame_rate:{fixed:I,fps:x,fps_den:R,fps_num:P},sar_ratio:{width:k,height:L},codec_size:{width:G,height:Y},present_size:{width:W,height:Y}}},e._skipScalingList=function(e,t){for(var i=8,n=8,r=0,a=0;a<t;a++)0!==n&&(r=e.readSEG(),n=(i+r+256)%256),i=0===n?i:n},e.getProfileString=function(e){switch(e){case 66:return\"Baseline\";case 77:return\"Main\";case 88:return\"Extended\";case 100:return\"High\";case 110:return\"High10\";case 122:return\"High422\";case 244:return\"High444\";default:return\"Unknown\"}},e.getLevelString=function(e){return(e/10).toFixed(1)},e.getChromaFormatString=function(e){switch(e){case 420:return\"4:2:0\";case 422:return\"4:2:2\";case 444:return\"4:4:4\";default:return\"Unknown\"}},e}();t.default=o,e.exports=t.default},,function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function s(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},l=i(6),u=(n(l),i(19)),d=n(u),c=i(13),h=i(5),f=function(e){function t(i,n){r(this,t);var s=a(this,e.call(this,\"fetch-stream-loader\"));return s.TAG=\"FetchStreamLoader\",s._seekHandler=i,s._config=n,s._needStash=!0,s._requestAbort=!1,s._contentLength=null,s._receivedLength=0,s}return s(t,e),t.isSupported=function(){try{var e=d.default.msedge&&d.default.version.minor>=15048,t=!d.default.msedge||e;return self.fetch&&self.ReadableStream&&t}catch(e){return!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),e.prototype.destroy.call(this)},t.prototype.open=function(e,t){var i=this;this._dataSource=e,this._range=t;var n=e.url;this._config.reuseRedirectedURL&&void 0!=e.redirectedURL&&(n=e.redirectedURL);var r=this._seekHandler.getConfig(n,t),a=new self.Headers;if(\"object\"===o(r.headers)){var s=r.headers;for(var l in s)s.hasOwnProperty(l)&&a.append(l,s[l])}var u={method:\"GET\",headers:a,mode:\"cors\",cache:\"default\",referrerPolicy:\"no-referrer-when-downgrade\"};if(\"object\"===o(this._config.headers))for(var d in this._config.headers)a.append(d,this._config.headers[d]);e.cors===!1&&(u.mode=\"same-origin\"),e.withCredentials&&(u.credentials=\"include\"),e.referrerPolicy&&(u.referrerPolicy=e.referrerPolicy),this._status=c.LoaderStatus.kConnecting,self.fetch(r.url,u).then(function(e){if(i._requestAbort)return i._requestAbort=!1,void(i._status=c.LoaderStatus.kIdle);if(e.ok&&e.status>=200&&e.status<=299){if(e.url!==r.url&&i._onURLRedirect){var t=i._seekHandler.removeURLParameters(e.url);i._onURLRedirect(t)}var n=e.headers.get(\"Content-Length\");return null!=n&&(i._contentLength=parseInt(n),0!==i._contentLength&&i._onContentLengthKnown&&i._onContentLengthKnown(i._contentLength)),i._pump.call(i,e.body.getReader())}if(i._status=c.LoaderStatus.kError,!i._onError)throw new h.RuntimeException(\"FetchStreamLoader: Http code invalid, \"+e.status+\" \"+e.statusText);i._onError(c.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:e.status,msg:e.statusText})}).catch(function(e){if(i._status=c.LoaderStatus.kError,!i._onError)throw e;i._onError(c.LoaderErrors.EXCEPTION,{code:-1,msg:e.message})})},t.prototype.abort=function(){this._requestAbort=!0},t.prototype._pump=function(e){var t=this;return e.read().then(function(i){if(i.done)if(null!==t._contentLength&&t._receivedLength<t._contentLength){t._status=c.LoaderStatus.kError;var n=c.LoaderErrors.EARLY_EOF,r={code:-1,msg:\"Fetch stream meet Early-EOF\"};if(!t._onError)throw new h.RuntimeException(r.msg);t._onError(n,r)}else t._status=c.LoaderStatus.kComplete,t._onComplete&&t._onComplete(t._range.from,t._range.from+t._receivedLength-1);else{if(t._requestAbort===!0)return t._requestAbort=!1,t._status=c.LoaderStatus.kComplete,e.cancel();t._status=c.LoaderStatus.kBuffering;var a=i.value.buffer,s=t._range.from+t._receivedLength;t._receivedLength+=a.byteLength,t._onDataArrival&&t._onDataArrival(a,s,t._receivedLength),t._pump(e)}}).catch(function(e){if(11!==e.code||!d.default.msedge){t._status=c.LoaderStatus.kError;var i=0,n=null;if(19!==e.code&&\"network error\"!==e.message||!(null===t._contentLength||null!==t._contentLength&&t._receivedLength<t._contentLength)?(i=c.LoaderErrors.EXCEPTION,n={code:e.code,msg:e.message}):(i=c.LoaderErrors.EARLY_EOF,n={code:e.code,msg:\"Fetch stream meet Early-EOF\"}),!t._onError)throw new h.RuntimeException(n.msg);t._onError(i,n)}})},t}(c.BaseLoader);t.default=f,e.exports=t.default},function(e,t){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var n=function(){function e(t,n){i(this,e),this._startName=t,this._endName=n}return e.prototype.getConfig=function(e,t){var i=e;if(0!==t.from||t.to!==-1){var n=!0;i.indexOf(\"?\")===-1&&(i+=\"?\",n=!1),n&&(i+=\"&\"),i+=this._startName+\"=\"+t.from.toString(),t.to!==-1&&(i+=\"&\"+this._endName+\"=\"+t.to.toString())}return{url:i,headers:{}}},e.prototype.removeURLParameters=function(e){var t=e.split(\"?\")[0],i=void 0,n=e.indexOf(\"?\");n!==-1&&(i=e.substring(n+1));var r=\"\";if(void 0!=i&&i.length>0)for(var a=i.split(\"&\"),s=0;s<a.length;s++){var o=a[s].split(\"=\"),l=s>0;o[0]!==this._startName&&o[0]!==this._endName&&(l&&(r+=\"&\"),r+=a[s])}return 0===r.length?t:t+\"?\"+r},e}();t.default=n,e.exports=t.default},function(e,t){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var n=function(){function e(t){i(this,e),this._zeroStart=t||!1}return e.prototype.getConfig=function(e,t){var i={};if(0!==t.from||t.to!==-1){var n=void 0;n=t.to!==-1?\"bytes=\"+t.from.toString()+\"-\"+t.to.toString():\"bytes=\"+t.from.toString()+\"-\",i.Range=n}else this._zeroStart&&(i.Range=\"bytes=0-\");return{url:e,headers:i}},e.prototype.removeURLParameters=function(e){return e},e}();t.default=n,e.exports=t.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function s(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var o=i(6),l=(n(o),i(13)),u=i(5),d=function(e){function t(){r(this,t);var i=a(this,e.call(this,\"websocket-loader\"));return i.TAG=\"WebSocketLoader\",i._needStash=!0,i._ws=null,i._requestAbort=!1,i._receivedLength=0,i}return s(t,e),t.isSupported=function(){try{return\"undefined\"!=typeof self.WebSocket}catch(e){return!1}},t.prototype.destroy=function(){this._ws&&this.abort(),e.prototype.destroy.call(this)},t.prototype.open=function(e){try{var t=this._ws=new self.WebSocket(e.url);t.binaryType=\"arraybuffer\",t.onopen=this._onWebSocketOpen.bind(this),t.onclose=this._onWebSocketClose.bind(this),t.onmessage=this._onWebSocketMessage.bind(this),t.onerror=this._onWebSocketError.bind(this),this._status=l.LoaderStatus.kConnecting}catch(e){this._status=l.LoaderStatus.kError;var i={code:e.code,msg:e.message};if(!this._onError)throw new u.RuntimeException(i.msg);this._onError(l.LoaderErrors.EXCEPTION,i)}},t.prototype.abort=function(){var e=this._ws;!e||0!==e.readyState&&1!==e.readyState||(this._requestAbort=!0,e.close()),this._ws=null,this._status=l.LoaderStatus.kComplete},t.prototype._onWebSocketOpen=function(e){this._status=l.LoaderStatus.kBuffering},t.prototype._onWebSocketClose=function(e){return this._requestAbort===!0?void(this._requestAbort=!1):(this._status=l.LoaderStatus.kComplete,void(this._onComplete&&this._onComplete(0,this._receivedLength-1)))},t.prototype._onWebSocketMessage=function(e){var t=this;if(e.data instanceof ArrayBuffer)this._dispatchArrayBuffer(e.data);else if(e.data instanceof Blob){var i=new FileReader;i.onload=function(){t._dispatchArrayBuffer(i.result)},i.readAsArrayBuffer(e.data)}else{this._status=l.LoaderStatus.kError;var n={code:-1,msg:\"Unsupported WebSocket message type: \"+e.data.constructor.name};if(!this._onError)throw new u.RuntimeException(n.msg);this._onError(l.LoaderErrors.EXCEPTION,n)}},t.prototype._dispatchArrayBuffer=function(e){var t=e,i=this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,i,this._receivedLength)},t.prototype._onWebSocketError=function(e){this._status=l.LoaderStatus.kError;var t={code:e.code,msg:e.message};if(!this._onError)throw new u.RuntimeException(t.msg);this._onError(l.LoaderErrors.EXCEPTION,t)},t}(l.BaseLoader);t.default=d,e.exports=t.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function s(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},l=i(6),u=n(l),d=i(13),c=i(5),h=function(e){function t(i,n){r(this,t);var s=a(this,e.call(this,\"xhr-moz-chunked-loader\"));return s.TAG=\"MozChunkedLoader\",s._seekHandler=i,s._config=n,s._needStash=!0,s._xhr=null,s._requestAbort=!1,s._contentLength=null,s._receivedLength=0,s}return s(t,e),t.isSupported=function(){try{var e=new XMLHttpRequest;return e.open(\"GET\",\"https://example.com\",!0),e.responseType=\"moz-chunked-arraybuffer\",\"moz-chunked-arraybuffer\"===e.responseType}catch(e){return u.default.w(\"MozChunkedLoader\",e.message),!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),e.prototype.destroy.call(this)},t.prototype.open=function(e,t){this._dataSource=e,this._range=t;var i=e.url;this._config.reuseRedirectedURL&&void 0!=e.redirectedURL&&(i=e.redirectedURL);var n=this._seekHandler.getConfig(i,t);this._requestURL=n.url;var r=this._xhr=new XMLHttpRequest;if(r.open(\"GET\",n.url,!0),r.responseType=\"moz-chunked-arraybuffer\",r.onreadystatechange=this._onReadyStateChange.bind(this),r.onprogress=this._onProgress.bind(this),r.onloadend=this._onLoadEnd.bind(this),r.onerror=this._onXhrError.bind(this),e.withCredentials&&(r.withCredentials=!0),\"object\"===o(n.headers)){var a=n.headers;for(var s in a)a.hasOwnProperty(s)&&r.setRequestHeader(s,a[s])}if(\"object\"===o(this._config.headers)){var l=this._config.headers;for(var u in l)l.hasOwnProperty(u)&&r.setRequestHeader(u,l[u]);\n}this._status=d.LoaderStatus.kConnecting,r.send()},t.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=d.LoaderStatus.kComplete},t.prototype._onReadyStateChange=function(e){var t=e.target;if(2===t.readyState){if(void 0!=t.responseURL&&t.responseURL!==this._requestURL&&this._onURLRedirect){var i=this._seekHandler.removeURLParameters(t.responseURL);this._onURLRedirect(i)}if(0!==t.status&&(t.status<200||t.status>299)){if(this._status=d.LoaderStatus.kError,!this._onError)throw new c.RuntimeException(\"MozChunkedLoader: Http code invalid, \"+t.status+\" \"+t.statusText);this._onError(d.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else this._status=d.LoaderStatus.kBuffering}},t.prototype._onProgress=function(e){if(this._status!==d.LoaderStatus.kError){null===this._contentLength&&null!==e.total&&0!==e.total&&(this._contentLength=e.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var t=e.target.response,i=this._range.from+this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,i,this._receivedLength)}},t.prototype._onLoadEnd=function(e){return this._requestAbort===!0?void(this._requestAbort=!1):void(this._status!==d.LoaderStatus.kError&&(this._status=d.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)))},t.prototype._onXhrError=function(e){this._status=d.LoaderStatus.kError;var t=0,i=null;if(this._contentLength&&e.loaded<this._contentLength?(t=d.LoaderErrors.EARLY_EOF,i={code:-1,msg:\"Moz-Chunked stream meet Early-Eof\"}):(t=d.LoaderErrors.EXCEPTION,i={code:-1,msg:e.constructor.name+\" \"+e.type}),!this._onError)throw new c.RuntimeException(i.msg);this._onError(t,i)},t}(d.BaseLoader);t.default=h,e.exports=t.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function s(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},l=i(6),u=n(l),d=i(13),c=i(5),h=function(e){function t(i,n){r(this,t);var s=a(this,e.call(this,\"xhr-msstream-loader\"));return s.TAG=\"MSStreamLoader\",s._seekHandler=i,s._config=n,s._needStash=!0,s._xhr=null,s._reader=null,s._totalRange=null,s._currentRange=null,s._currentRequestURL=null,s._currentRedirectedURL=null,s._contentLength=null,s._receivedLength=0,s._bufferLimit=16777216,s._lastTimeBufferSize=0,s._isReconnecting=!1,s}return s(t,e),t.isSupported=function(){try{if(\"undefined\"==typeof self.MSStream||\"undefined\"==typeof self.MSStreamReader)return!1;var e=new XMLHttpRequest;return e.open(\"GET\",\"https://example.com\",!0),e.responseType=\"ms-stream\",\"ms-stream\"===e.responseType}catch(e){return u.default.w(\"MSStreamLoader\",e.message),!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),this._reader&&(this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr=null),e.prototype.destroy.call(this)},t.prototype.open=function(e,t){this._internalOpen(e,t,!1)},t.prototype._internalOpen=function(e,t,i){this._dataSource=e,i?this._currentRange=t:this._totalRange=t;var n=e.url;this._config.reuseRedirectedURL&&(void 0!=this._currentRedirectedURL?n=this._currentRedirectedURL:void 0!=e.redirectedURL&&(n=e.redirectedURL));var r=this._seekHandler.getConfig(n,t);this._currentRequestURL=r.url;var a=this._reader=new self.MSStreamReader;a.onprogress=this._msrOnProgress.bind(this),a.onload=this._msrOnLoad.bind(this),a.onerror=this._msrOnError.bind(this);var s=this._xhr=new XMLHttpRequest;if(s.open(\"GET\",r.url,!0),s.responseType=\"ms-stream\",s.onreadystatechange=this._xhrOnReadyStateChange.bind(this),s.onerror=this._xhrOnError.bind(this),e.withCredentials&&(s.withCredentials=!0),\"object\"===o(r.headers)){var l=r.headers;for(var u in l)l.hasOwnProperty(u)&&s.setRequestHeader(u,l[u])}if(\"object\"===o(this._config.headers)){var c=this._config.headers;for(var h in c)c.hasOwnProperty(h)&&s.setRequestHeader(h,c[h])}this._isReconnecting?this._isReconnecting=!1:this._status=d.LoaderStatus.kConnecting,s.send()},t.prototype.abort=function(){this._internalAbort(),this._status=d.LoaderStatus.kComplete},t.prototype._internalAbort=function(){this._reader&&(1===this._reader.readyState&&this._reader.abort(),this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.abort(),this._xhr.onreadystatechange=null,this._xhr=null)},t.prototype._xhrOnReadyStateChange=function(e){var t=e.target;if(2===t.readyState)if(t.status>=200&&t.status<=299){if(this._status=d.LoaderStatus.kBuffering,void 0!=t.responseURL){var i=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&i!==this._currentRedirectedURL&&(this._currentRedirectedURL=i,this._onURLRedirect&&this._onURLRedirect(i))}var n=t.getResponseHeader(\"Content-Length\");if(null!=n&&null==this._contentLength){var r=parseInt(n);r>0&&(this._contentLength=r,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength))}}else{if(this._status=d.LoaderStatus.kError,!this._onError)throw new c.RuntimeException(\"MSStreamLoader: Http code invalid, \"+t.status+\" \"+t.statusText);this._onError(d.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else if(3===t.readyState&&t.status>=200&&t.status<=299){this._status=d.LoaderStatus.kBuffering;var a=t.response;this._reader.readAsArrayBuffer(a)}},t.prototype._xhrOnError=function(e){this._status=d.LoaderStatus.kError;var t=d.LoaderErrors.EXCEPTION,i={code:-1,msg:e.constructor.name+\" \"+e.type};if(!this._onError)throw new c.RuntimeException(i.msg);this._onError(t,i)},t.prototype._msrOnProgress=function(e){var t=e.target,i=t.result;if(null==i)return void this._doReconnectIfNeeded();var n=i.slice(this._lastTimeBufferSize);this._lastTimeBufferSize=i.byteLength;var r=this._totalRange.from+this._receivedLength;this._receivedLength+=n.byteLength,this._onDataArrival&&this._onDataArrival(n,r,this._receivedLength),i.byteLength>=this._bufferLimit&&(u.default.v(this.TAG,\"MSStream buffer exceeded max size near \"+(r+n.byteLength)+\", reconnecting...\"),this._doReconnectIfNeeded())},t.prototype._doReconnectIfNeeded=function(){if(null==this._contentLength||this._receivedLength<this._contentLength){this._isReconnecting=!0,this._lastTimeBufferSize=0,this._internalAbort();var e={from:this._totalRange.from+this._receivedLength,to:-1};this._internalOpen(this._dataSource,e,!0)}},t.prototype._msrOnLoad=function(e){this._status=d.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._totalRange.from,this._totalRange.from+this._receivedLength-1)},t.prototype._msrOnError=function(e){this._status=d.LoaderStatus.kError;var t=0,i=null;if(this._contentLength&&this._receivedLength<this._contentLength?(t=d.LoaderErrors.EARLY_EOF,i={code:-1,msg:\"MSStream meet Early-Eof\"}):(t=d.LoaderErrors.EARLY_EOF,i={code:-1,msg:e.constructor.name+\" \"+e.type}),!this._onError)throw new c.RuntimeException(i.msg);this._onError(t,i)},t}(d.BaseLoader);t.default=h,e.exports=t.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function s(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(6),d=n(u),c=i(54),h=n(c),f=i(13),p=i(5),m=function(e){function t(i,n){r(this,t);var s=a(this,e.call(this,\"xhr-range-loader\"));return s.TAG=\"RangeLoader\",s._seekHandler=i,s._config=n,s._needStash=!1,s._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],s._currentChunkSizeKB=384,s._currentSpeedNormalized=0,s._zeroSpeedChunkCount=0,s._xhr=null,s._speedSampler=new h.default,s._requestAbort=!1,s._waitForTotalLength=!1,s._totalLengthReceived=!1,s._currentRequestURL=null,s._currentRedirectedURL=null,s._currentRequestRange=null,s._totalLength=null,s._contentLength=null,s._receivedLength=0,s._lastTimeLoaded=0,s}return s(t,e),t.isSupported=function(){try{var e=new XMLHttpRequest;return e.open(\"GET\",\"https://example.com\",!0),e.responseType=\"arraybuffer\",\"arraybuffer\"===e.responseType}catch(e){return d.default.w(\"RangeLoader\",e.message),!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),e.prototype.destroy.call(this)},t.prototype.open=function(e,t){this._dataSource=e,this._range=t,this._status=f.LoaderStatus.kConnecting;var i=!1;void 0!=this._dataSource.filesize&&0!==this._dataSource.filesize&&(i=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||i?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))},t.prototype._openSubRange=function(){var e=1024*this._currentChunkSizeKB,t=this._range.from+this._receivedLength,i=t+e;null!=this._contentLength&&i-this._range.from>=this._contentLength&&(i=this._range.from+this._contentLength-1),this._currentRequestRange={from:t,to:i},this._internalOpen(this._dataSource,this._currentRequestRange)},t.prototype._internalOpen=function(e,t){this._lastTimeLoaded=0;var i=e.url;this._config.reuseRedirectedURL&&(void 0!=this._currentRedirectedURL?i=this._currentRedirectedURL:void 0!=e.redirectedURL&&(i=e.redirectedURL));var n=this._seekHandler.getConfig(i,t);this._currentRequestURL=n.url;var r=this._xhr=new XMLHttpRequest;if(r.open(\"GET\",n.url,!0),r.responseType=\"arraybuffer\",r.onreadystatechange=this._onReadyStateChange.bind(this),r.onprogress=this._onProgress.bind(this),r.onload=this._onLoad.bind(this),r.onerror=this._onXhrError.bind(this),e.withCredentials&&(r.withCredentials=!0),\"object\"===o(n.headers)){var a=n.headers;for(var s in a)a.hasOwnProperty(s)&&r.setRequestHeader(s,a[s])}if(\"object\"===o(this._config.headers)){var l=this._config.headers;for(var u in l)l.hasOwnProperty(u)&&r.setRequestHeader(u,l[u])}r.send()},t.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=f.LoaderStatus.kComplete},t.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},t.prototype._onReadyStateChange=function(e){var t=e.target;if(2===t.readyState){if(void 0!=t.responseURL){var i=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&i!==this._currentRedirectedURL&&(this._currentRedirectedURL=i,this._onURLRedirect&&this._onURLRedirect(i))}if(t.status>=200&&t.status<=299){if(this._waitForTotalLength)return;this._status=f.LoaderStatus.kBuffering}else{if(this._status=f.LoaderStatus.kError,!this._onError)throw new p.RuntimeException(\"RangeLoader: Http code invalid, \"+t.status+\" \"+t.statusText);this._onError(f.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}}},t.prototype._onProgress=function(e){if(this._status!==f.LoaderStatus.kError){if(null===this._contentLength){var t=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,t=!0;var i=e.total;this._internalAbort(),null!=i&0!==i&&(this._totalLength=i)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,t)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var n=e.loaded-this._lastTimeLoaded;this._lastTimeLoaded=e.loaded,this._speedSampler.addBytes(n)}},t.prototype._normalizeSpeed=function(e){var t=this._chunkSizeKBList,i=t.length-1,n=0,r=0,a=i;if(e<t[0])return t[0];for(;r<=a;){if(n=r+Math.floor((a-r)/2),n===i||e>=t[n]&&e<t[n+1])return t[n];t[n]<e?r=n+1:a=n-1}},t.prototype._onLoad=function(e){if(this._status!==f.LoaderStatus.kError){if(this._waitForTotalLength)return void(this._waitForTotalLength=!1);this._lastTimeLoaded=0;var t=this._speedSampler.lastSecondKBps;if(0===t&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(t=this._speedSampler.currentKBps)),0!==t){var i=this._normalizeSpeed(t);this._currentSpeedNormalized!==i&&(this._currentSpeedNormalized=i,this._currentChunkSizeKB=i)}var n=e.target.response,r=this._range.from+this._receivedLength;this._receivedLength+=n.byteLength;var a=!1;null!=this._contentLength&&this._receivedLength<this._contentLength?this._openSubRange():a=!0,this._onDataArrival&&this._onDataArrival(n,r,this._receivedLength),a&&(this._status=f.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},t.prototype._onXhrError=function(e){this._status=f.LoaderStatus.kError;var t=0,i=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(t=f.LoaderErrors.EARLY_EOF,i={code:-1,msg:\"RangeLoader meet Early-Eof\"}):(t=f.LoaderErrors.EXCEPTION,i={code:-1,msg:e.constructor.name+\" \"+e.type}),!this._onError)throw new p.RuntimeException(i.msg);this._onError(t,i)},l(t,[{key:\"currentSpeed\",get:function(){return this._speedSampler.lastSecondKBps}}]),t}(f.BaseLoader);t.default=m,e.exports=t.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(16),l=n(o),u=i(6),d=n(u),c=i(19),h=n(c),f=i(34),p=n(f),m=i(92),g=n(m),_=i(27),v=n(_),y=i(91),b=n(y),A=i(50),E=n(A),w=i(55),T=i(31),S=i(5),C=function(){function e(t,i){if(r(this,e),this.TAG=\"FlvPlayer\",this._type=\"FlvPlayer\",this._emitter=new l.default,this._config=(0,T.createDefaultConfig)(),\"object\"===(\"undefined\"==typeof i?\"undefined\":a(i))&&Object.assign(this._config,i),\"flv\"!==t.type.toLowerCase())throw new S.InvalidArgumentException(\"FlvPlayer requires an flv MediaDataSource input!\");t.isLive===!0&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=t,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var n=h.default.chrome&&(h.default.version.major<50||50===h.default.version.major&&h.default.version.build<2661);this._alwaysSeekKeyframe=!!(n||h.default.msedge||h.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return e.prototype.destroy=function(){null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){var i=this;e===p.default.MEDIA_INFO?null!=this._mediaInfo&&Promise.resolve().then(function(){i._emitter.emit(p.default.MEDIA_INFO,i.mediaInfo)}):e===p.default.STATISTICS_INFO&&null!=this._statisticsInfo&&Promise.resolve().then(function(){i._emitter.emit(p.default.STATISTICS_INFO,i.statisticsInfo)}),this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){var t=this;if(this._mediaElement=e,e.addEventListener(\"loadedmetadata\",this.e.onvLoadedMetadata),e.addEventListener(\"seeking\",this.e.onvSeeking),e.addEventListener(\"canplay\",this.e.onvCanPlay),e.addEventListener(\"stalled\",this.e.onvStalled),e.addEventListener(\"progress\",this.e.onvProgress),this._msectl=new b.default(this._config),this._msectl.on(E.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(E.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(E.default.SOURCE_OPEN,function(){t._mseSourceOpened=!0,t._hasPendingLoad&&(t._hasPendingLoad=!1,t.load())}),this._msectl.on(E.default.ERROR,function(e){t._emitter.emit(p.default.ERROR,w.ErrorTypes.MEDIA_ERROR,w.ErrorDetails.MEDIA_MSE_ERROR,e)}),this._msectl.attachMediaElement(e),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}},e.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener(\"loadedmetadata\",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener(\"seeking\",this.e.onvSeeking),this._mediaElement.removeEventListener(\"canplay\",this.e.onvCanPlay),this._mediaElement.removeEventListener(\"stalled\",this.e.onvStalled),this._mediaElement.removeEventListener(\"progress\",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},e.prototype.load=function(){var e=this;if(!this._mediaElement)throw new S.IllegalStateException(\"HTMLMediaElement must be attached before load()!\");if(this._transmuxer)throw new S.IllegalStateException(\"FlvPlayer.load() has been called, please call unload() first!\");if(!this._hasPendingLoad){if(this._config.deferLoadAfterSourceOpen&&this._mseSourceOpened===!1)return void(this._hasPendingLoad=!0);this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new g.default(this._mediaDataSource,this._config),this._transmuxer.on(v.default.INIT_SEGMENT,function(t,i){e._msectl.appendInitSegment(i)}),this._transmuxer.on(v.default.MEDIA_SEGMENT,function(t,i){if(e._msectl.appendMediaSegment(i),e._config.lazyLoad&&!e._config.isLive){var n=e._mediaElement.currentTime;i.info.endDts>=1e3*(n+e._config.lazyLoadMaxDuration)&&null==e._progressChecker&&(d.default.v(e.TAG,\"Maximum buffering duration exceeded, suspend transmuxing task\"),e._suspendTransmuxer())}}),this._transmuxer.on(v.default.LOADING_COMPLETE,function(){e._msectl.endOfStream(),e._emitter.emit(p.default.LOADING_COMPLETE)}),this._transmuxer.on(v.default.RECOVERED_EARLY_EOF,function(){e._emitter.emit(p.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(v.default.IO_ERROR,function(t,i){e._emitter.emit(p.default.ERROR,w.ErrorTypes.NETWORK_ERROR,t,i)}),this._transmuxer.on(v.default.DEMUX_ERROR,function(t,i){e._emitter.emit(p.default.ERROR,w.ErrorTypes.MEDIA_ERROR,t,{code:-1,msg:i})}),this._transmuxer.on(v.default.MEDIA_INFO,function(t){e._mediaInfo=t,e._emitter.emit(p.default.MEDIA_INFO,Object.assign({},t))}),this._transmuxer.on(v.default.METADATA_ARRIVED,function(t){e._emitter.emit(p.default.METADATA_ARRIVED,t)}),this._transmuxer.on(v.default.SCRIPTDATA_ARRIVED,function(t){e._emitter.emit(p.default.SCRIPTDATA_ARRIVED,t)}),this._transmuxer.on(v.default.STATISTICS_INFO,function(t){e._statisticsInfo=e._fillStatisticsInfo(t),e._emitter.emit(p.default.STATISTICS_INFO,Object.assign({},e._statisticsInfo))}),this._transmuxer.on(v.default.RECOMMEND_SEEKPOINT,function(t){e._mediaElement&&!e._config.accurateSeek&&(e._requestSetTime=!0,e._mediaElement.currentTime=t/1e3)}),this._transmuxer.open()}},e.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},e.prototype.play=function(){return this._mediaElement.play()},e.prototype.pause=function(){this._mediaElement.pause()},e.prototype._fillStatisticsInfo=function(e){if(e.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,i=0,n=0;if(this._mediaElement.getVideoPlaybackQuality){var r=this._mediaElement.getVideoPlaybackQuality();i=r.totalVideoFrames,n=r.droppedVideoFrames}else void 0!=this._mediaElement.webkitDecodedFrameCount?(i=this._mediaElement.webkitDecodedFrameCount,n=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=i,e.droppedFrames=n),e},e.prototype._onmseUpdateEnd=function(){if(this._config.lazyLoad&&!this._config.isLive){for(var e=this._mediaElement.buffered,t=this._mediaElement.currentTime,i=0,n=0,r=0;r<e.length;r++){var a=e.start(r),s=e.end(r);if(a<=t&&t<s){i=a,n=s;break}}n>=t+this._config.lazyLoadMaxDuration&&null==this._progressChecker&&(d.default.v(this.TAG,\"Maximum buffering duration exceeded, suspend transmuxing task\"),this._suspendTransmuxer())}},e.prototype._onmseBufferFull=function(){d.default.v(this.TAG,\"MSE SourceBuffer is full, suspend transmuxing task\"),null==this._progressChecker&&this._suspendTransmuxer()},e.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),null==this._progressChecker&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},e.prototype._checkProgressAndResume=function(){for(var e=this._mediaElement.currentTime,t=this._mediaElement.buffered,i=!1,n=0;n<t.length;n++){var r=t.start(n),a=t.end(n);if(e>=r&&e<a){e>=a-this._config.lazyLoadRecoverDuration&&(i=!0);break}}i&&(window.clearInterval(this._progressChecker),this._progressChecker=null,i&&(d.default.v(this.TAG,\"Continue loading from paused position\"),this._transmuxer.resume()))},e.prototype._isTimepointBuffered=function(e){for(var t=this._mediaElement.buffered,i=0;i<t.length;i++){var n=t.start(i),r=t.end(i);if(e>=n&&e<r)return!0}return!1},e.prototype._internalSeek=function(e){var t=this._isTimepointBuffered(e),i=!1,n=0;if(e<1&&this._mediaElement.buffered.length>0){var r=this._mediaElement.buffered.start(0);(r<1&&e<r||h.default.safari)&&(i=!0,n=h.default.safari?.1:r)}if(i)this._requestSetTime=!0,this._mediaElement.currentTime=n;else if(t){if(this._alwaysSeekKeyframe){var a=this._msectl.getNearestKeyframe(Math.floor(1e3*e));this._requestSetTime=!0,null!=a?this._mediaElement.currentTime=a.dts/1e3:this._mediaElement.currentTime=e}else this._requestSetTime=!0,this._mediaElement.currentTime=e;null!=this._progressChecker&&this._checkProgressAndResume()}else null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e)},e.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var e=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(e)||(null!=this._progressChecker&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},e.prototype._checkAndResumeStuckPlayback=function(e){var t=this._mediaElement;if(e||!this._receivedCanPlay||t.readyState<2){var i=t.buffered;i.length>0&&t.currentTime<i.start(0)&&(d.default.w(this.TAG,\"Playback seems stuck at \"+t.currentTime+\", seek to \"+i.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=i.start(0),this._mediaElement.removeEventListener(\"progress\",this.e.onvProgress))}else this._mediaElement.removeEventListener(\"progress\",this.e.onvProgress)},e.prototype._onvLoadedMetadata=function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},e.prototype._onvSeeking=function(e){var t=this._mediaElement.currentTime,i=this._mediaElement.buffered;if(this._requestSetTime)return void(this._requestSetTime=!1);if(t<1&&i.length>0){var n=i.start(0);if(n<1&&t<n||h.default.safari)return this._requestSetTime=!0,void(this._mediaElement.currentTime=h.default.safari?.1:n)}if(this._isTimepointBuffered(t)){if(this._alwaysSeekKeyframe){var r=this._msectl.getNearestKeyframe(Math.floor(1e3*t));null!=r&&(this._requestSetTime=!0,this._mediaElement.currentTime=r.dts/1e3)}return void(null!=this._progressChecker&&this._checkProgressAndResume())}this._seekpointRecord={seekPoint:t,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},e.prototype._onvCanPlay=function(e){this._receivedCanPlay=!0,this._mediaElement.removeEventListener(\"canplay\",this.e.onvCanPlay)},e.prototype._onvStalled=function(e){this._checkAndResumeStuckPlayback(!0)},e.prototype._onvProgress=function(e){this._checkAndResumeStuckPlayback()},s(e,[{key:\"type\",get:function(){return this._type}},{key:\"buffered\",get:function(){return this._mediaElement.buffered}},{key:\"duration\",get:function(){return this._mediaElement.duration}},{key:\"volume\",get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e}},{key:\"muted\",get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e}},{key:\"currentTime\",get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._internalSeek(e):this._pendingSeekTime=e}},{key:\"mediaInfo\",get:function(){return Object.assign({},this._mediaInfo)}},{key:\"statisticsInfo\",get:function(){return null==this._statisticsInfo&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)}}]),e}();t.default=C,e.exports=t.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(16),l=n(o),u=i(34),d=n(u),c=i(31),h=i(5),f=function(){function e(t,i){if(r(this,e),this.TAG=\"NativePlayer\",this._type=\"NativePlayer\",this._emitter=new l.default,this._config=(0,c.createDefaultConfig)(),\"object\"===(\"undefined\"==typeof i?\"undefined\":a(i))&&Object.assign(this._config,i),\"flv\"===t.type.toLowerCase())throw new h.InvalidArgumentException(\"NativePlayer does't support flv MediaDataSource input!\");if(t.hasOwnProperty(\"segments\"))throw new h.InvalidArgumentException(\"NativePlayer(\"+t.type+\") doesn't support multipart playback!\");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=t,this._mediaElement=null}return e.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){var i=this;e===d.default.MEDIA_INFO?null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(function(){i._emitter.emit(d.default.MEDIA_INFO,i.mediaInfo)}):e===d.default.STATISTICS_INFO&&null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(function(){i._emitter.emit(d.default.STATISTICS_INFO,i.statisticsInfo)}),this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){if(this._mediaElement=e,e.addEventListener(\"loadedmetadata\",this.e.onvLoadedMetadata),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}},e.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src=\"\",this._mediaElement.removeAttribute(\"src\"),this._mediaElement.removeEventListener(\"loadedmetadata\",this.e.onvLoadedMetadata),this._mediaElement=null),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype.load=function(){if(!this._mediaElement)throw new h.IllegalStateException(\"HTMLMediaElement must be attached before load()!\");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload=\"auto\",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},e.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src=\"\",this._mediaElement.removeAttribute(\"src\")),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype.play=function(){return this._mediaElement.play()},e.prototype.pause=function(){this._mediaElement.pause()},e.prototype._onvLoadedMetadata=function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(d.default.MEDIA_INFO,this.mediaInfo)},e.prototype._reportStatisticsInfo=function(){this._emitter.emit(d.default.STATISTICS_INFO,this.statisticsInfo)},s(e,[{key:\"type\",get:function(){return this._type}},{key:\"buffered\",get:function(){return this._mediaElement.buffered}},{key:\"duration\",get:function(){return this._mediaElement.duration}},{key:\"volume\",get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e}},{key:\"muted\",get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e}},{key:\"currentTime\",get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._mediaElement.currentTime=e:this._pendingSeekTime=e}},{key:\"mediaInfo\",get:function(){var e=this._mediaElement instanceof HTMLAudioElement?\"audio/\":\"video/\",t={mimeType:e+this._mediaDataSource.type};return this._mediaElement&&(t.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(t.width=this._mediaElement.videoWidth,\nt.height=this._mediaElement.videoHeight)),t}},{key:\"statisticsInfo\",get:function(){var e={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,i=0,n=0;if(this._mediaElement.getVideoPlaybackQuality){var r=this._mediaElement.getVideoPlaybackQuality();i=r.totalVideoFrames,n=r.droppedVideoFrames}else void 0!=this._mediaElement.webkitDecodedFrameCount?(i=this._mediaElement.webkitDecodedFrameCount,n=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=i,e.droppedFrames=n),e}}]),e}();t.default=f,e.exports=t.default},function(e,t){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var n=function(){function e(){i(this,e)}return e.getSilentFrame=function(e,t){if(\"mp4a.40.2\"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}();t.default=n,e.exports=t.default},function(e,t){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var n=function(){function e(){i(this,e)}return e.init=function(){e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],\".mp3\":[]};for(var t in e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var i=e.constants={};i.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),i.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),i.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),i.STSC=i.STCO=i.STTS,i.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),i.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),i.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),i.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},e.box=function(e){for(var t=8,i=null,n=Array.prototype.slice.call(arguments,1),r=n.length,a=0;a<r;a++)t+=n[a].byteLength;i=new Uint8Array(t),i[0]=t>>>24&255,i[1]=t>>>16&255,i[2]=t>>>8&255,i[3]=255&t,i.set(e,4);for(var s=8,o=0;o<r;o++)i.set(n[o],s),s+=n[o].byteLength;return i},e.generateInitSegment=function(t){var i=e.box(e.types.ftyp,e.constants.FTYP),n=e.moov(t),r=new Uint8Array(i.byteLength+n.byteLength);return r.set(i,0),r.set(n,i.byteLength),r},e.moov=function(t){var i=e.mvhd(t.timescale,t.duration),n=e.trak(t),r=e.mvex(t);return e.box(e.types.moov,i,n,r)},e.mvhd=function(t,i){return e.box(e.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},e.trak=function(t){return e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.tkhd=function(t){var i=t.id,n=t.duration,r=t.presentWidth,a=t.presentHeight;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>>8&255,255&r,0,0,a>>>8&255,255&a,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t),e.hdlr(t),e.minf(t))},e.mdhd=function(t){var i=t.timescale,n=t.duration;return e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,n>>>24&255,n>>>16&255,n>>>8&255,255&n,85,196,0,0]))},e.hdlr=function(t){var i=null;return i=\"audio\"===t.type?e.constants.HDLR_AUDIO:e.constants.HDLR_VIDEO,e.box(e.types.hdlr,i)},e.minf=function(t){var i=null;return i=\"audio\"===t.type?e.box(e.types.smhd,e.constants.SMHD):e.box(e.types.vmhd,e.constants.VMHD),e.box(e.types.minf,i,e.dinf(),e.stbl(t))},e.dinf=function(){var t=e.box(e.types.dinf,e.box(e.types.dref,e.constants.DREF));return t},e.stbl=function(t){var i=e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.constants.STTS),e.box(e.types.stsc,e.constants.STSC),e.box(e.types.stsz,e.constants.STSZ),e.box(e.types.stco,e.constants.STCO));return i},e.stsd=function(t){return\"audio\"===t.type?\"mp3\"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp3(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp4a(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.avc1(t))},e.mp3=function(t){var i=t.channelCount,n=t.audioSampleRate,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,i,0,16,0,0,0,0,n>>>8&255,255&n,0,0]);return e.box(e.types[\".mp3\"],r)},e.mp4a=function(t){var i=t.channelCount,n=t.audioSampleRate,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,i,0,16,0,0,0,0,n>>>8&255,255&n,0,0]);return e.box(e.types.mp4a,r,e.esds(t))},e.esds=function(t){var i=t.config||[],n=i.length,r=new Uint8Array([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([n]).concat(i).concat([6,1,2]));return e.box(e.types.esds,r)},e.avc1=function(t){var i=t.avcc,n=t.codecWidth,r=t.codecHeight,a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,n>>>8&255,255&n,r>>>8&255,255&r,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.avc1,a,e.box(e.types.avcC,i))},e.mvex=function(t){return e.box(e.types.mvex,e.trex(t))},e.trex=function(t){var i=t.id,n=new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return e.box(e.types.trex,n)},e.moof=function(t,i){return e.box(e.types.moof,e.mfhd(t.sequenceNumber),e.traf(t,i))},e.mfhd=function(t){var i=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t]);return e.box(e.types.mfhd,i)},e.traf=function(t,i){var n=t.id,r=e.box(e.types.tfhd,new Uint8Array([0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n])),a=e.box(e.types.tfdt,new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i])),s=e.sdtp(t),o=e.trun(t,s.byteLength+16+16+8+16+8+8);return e.box(e.types.traf,r,a,o,s)},e.sdtp=function(t){for(var i=t.samples||[],n=i.length,r=new Uint8Array(4+n),a=0;a<n;a++){var s=i[a].flags;r[a+4]=s.isLeading<<6|s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy}return e.box(e.types.sdtp,r)},e.trun=function(t,i){var n=t.samples||[],r=n.length,a=12+16*r,s=new Uint8Array(a);i+=8+a,s.set([0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,i>>>24&255,i>>>16&255,i>>>8&255,255&i],0);for(var o=0;o<r;o++){var l=n[o].duration,u=n[o].size,d=n[o].flags,c=n[o].cts;s.set([l>>>24&255,l>>>16&255,l>>>8&255,255&l,u>>>24&255,u>>>16&255,u>>>8&255,255&u,d.isLeading<<2|d.dependsOn,d.isDependedOn<<6|d.hasRedundancy<<4|d.isNonSync,0,0,c>>>24&255,c>>>16&255,c>>>8&255,255&c],12+16*o)}return e.box(e.types.trun,s)},e.mdat=function(t){return e.box(e.types.mdat,t)},e}();n.init(),t.default=n,e.exports=t.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(6),o=n(s),l=i(109),u=n(l),d=i(108),c=n(d),h=i(19),f=n(h),p=i(49),m=i(5),g=function(){function e(t){r(this,e),this.TAG=\"MP4Remuxer\",this._config=t,this._isLive=t.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new p.MediaSegmentInfoList(\"audio\"),this._videoSegmentInfoList=new p.MediaSegmentInfoList(\"video\"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!f.default.chrome||!(f.default.version.major<50||50===f.default.version.major&&f.default.version.build<2661)),this._fillSilentAfterSeek=f.default.msedge||f.default.msie,this._mp3UseMpegAudio=!f.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return e.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},e.prototype.bindDataSource=function(e){return e.onDataAvailable=this.remux.bind(this),e.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},e.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},e.prototype.seek=function(e){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},e.prototype.remux=function(e,t){if(!this._onMediaSegment)throw new m.IllegalStateException(\"MP4Remuxer: onMediaSegment callback must be specificed!\");this._dtsBaseInited||this._calculateDtsBase(e,t),this._remuxVideo(t),this._remuxAudio(e)},e.prototype._onTrackMetadataReceived=function(e,t){var i=null,n=\"mp4\",r=t.codec;if(\"audio\"===e)this._audioMeta=t,\"mp3\"===t.codec&&this._mp3UseMpegAudio?(n=\"mpeg\",r=\"\",i=new Uint8Array):i=u.default.generateInitSegment(t);else{if(\"video\"!==e)return;this._videoMeta=t,i=u.default.generateInitSegment(t)}if(!this._onInitSegment)throw new m.IllegalStateException(\"MP4Remuxer: onInitSegment callback must be specified!\");this._onInitSegment(e,{type:e,data:i.buffer,codec:r,container:e+\"/\"+n,mediaDuration:t.duration})},e.prototype._calculateDtsBase=function(e,t){this._dtsBaseInited||(e.samples&&e.samples.length&&(this._audioDtsBase=e.samples[0].dts),t.samples&&t.samples.length&&(this._videoDtsBase=t.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},e.prototype.flushStashedSamples=function(){var e=this._videoStashedLastSample,t=this._audioStashedLastSample,i={type:\"video\",id:1,sequenceNumber:0,samples:[],length:0};null!=e&&(i.samples.push(e),i.length=e.length);var n={type:\"audio\",id:2,sequenceNumber:0,samples:[],length:0};null!=t&&(n.samples.push(t),n.length=t.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(i,!0),this._remuxAudio(n,!0)},e.prototype._remuxAudio=function(e,t){if(null!=this._audioMeta){var i=e,n=i.samples,r=void 0,a=-1,s=-1,l=this._audioMeta.refSampleDuration,d=\"mp3\"===this._audioMeta.codec&&this._mp3UseMpegAudio,h=this._dtsBaseInited&&void 0===this._audioNextDts,m=!1;if(n&&0!==n.length&&(1!==n.length||t)){var g=0,_=null,v=0;d?(g=0,v=i.length):(g=8,v=8+i.length);var y=null;if(n.length>1&&(y=n.pop(),v-=y.length),null!=this._audioStashedLastSample){var b=this._audioStashedLastSample;this._audioStashedLastSample=null,n.unshift(b),v+=b.length}null!=y&&(this._audioStashedLastSample=y);var A=n[0].dts-this._dtsBase;if(this._audioNextDts)r=A-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())r=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&\"mp3\"!==this._audioMeta.originalCodec&&(m=!0);else{var E=this._audioSegmentInfoList.getLastSampleBefore(A);if(null!=E){var w=A-(E.originalDts+E.duration);w<=3&&(w=0);var T=E.dts+E.duration+w;r=A-T}else r=0}if(m){var S=A-r,C=this._videoSegmentInfoList.getLastSegmentBefore(A);if(null!=C&&C.beginDts<S){var k=c.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(k){var L=C.beginDts,x=S-C.beginDts;o.default.v(this.TAG,\"InsertPrefixSilentAudio: dts: \"+L+\", duration: \"+x),n.unshift({unit:k,dts:L,pts:L}),v+=k.byteLength}}else m=!1}for(var I=[],P=0;P<n.length;P++){var R=n[P],D=R.unit,O=R.dts-this._dtsBase,M=O-r;a===-1&&(a=M);var U=0;if(P!==n.length-1){var j=n[P+1].dts-this._dtsBase-r;U=j-M}else if(null!=y){var B=y.dts-this._dtsBase-r;U=B-M}else U=I.length>=1?I[I.length-1].duration:Math.floor(l);var N=!1,F=null;if(U>1.5*l&&\"mp3\"!==this._audioMeta.codec&&this._fillAudioTimestampGap&&!f.default.safari){N=!0;var V=Math.abs(U-l),H=Math.ceil(V/l),z=M+l;o.default.w(this.TAG,\"Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.\\n\"+(\"dts: \"+(M+U)+\" ms, expected: \"+(M+Math.round(l))+\" ms, \")+(\"delta: \"+Math.round(V)+\" ms, generate: \"+H+\" frames\"));var G=c.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);null==G&&(o.default.w(this.TAG,\"Unable to generate silent frame for \"+(this._audioMeta.originalCodec+\" with \"+this._audioMeta.channelCount+\" channels, repeat last frame\")),G=D),F=[];for(var Y=0;Y<H;Y++){var W=Math.round(z);if(F.length>0){var q=F[F.length-1];q.duration=W-q.dts}var Q={dts:W,pts:W,cts:0,unit:G,size:G.byteLength,duration:0,originalDts:O,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};F.push(Q),v+=Q.size,z+=l}var J=F[F.length-1];J.duration=M+U-J.dts,U=Math.round(l)}I.push({dts:M,pts:M,cts:0,unit:R.unit,size:R.unit.byteLength,duration:U,originalDts:O,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),N&&I.push.apply(I,F)}d?_=new Uint8Array(v):(_=new Uint8Array(v),_[0]=v>>>24&255,_[1]=v>>>16&255,_[2]=v>>>8&255,_[3]=255&v,_.set(u.default.types.mdat,4));for(var K=0;K<I.length;K++){var X=I[K].unit;_.set(X,g),g+=X.byteLength}var Z=I[I.length-1];s=Z.dts+Z.duration,this._audioNextDts=s;var $=new p.MediaSegmentInfo;$.beginDts=a,$.endDts=s,$.beginPts=a,$.endPts=s,$.originalBeginDts=I[0].originalDts,$.originalEndDts=Z.originalDts+Z.duration,$.firstSample=new p.SampleInfo(I[0].dts,I[0].pts,I[0].duration,I[0].originalDts,!1),$.lastSample=new p.SampleInfo(Z.dts,Z.pts,Z.duration,Z.originalDts,!1),this._isLive||this._audioSegmentInfoList.append($),i.samples=I,i.sequenceNumber++;var ee=null;ee=d?new Uint8Array:u.default.moof(i,a),i.samples=[],i.length=0;var te={type:\"audio\",data:this._mergeBoxes(ee,_).buffer,sampleCount:I.length,info:$};d&&h&&(te.timestampOffset=a),this._onMediaSegment(\"audio\",te)}}},e.prototype._remuxVideo=function(e,t){if(null!=this._videoMeta){var i=e,n=i.samples,r=void 0,a=-1,s=-1,o=-1,l=-1;if(n&&0!==n.length&&(1!==n.length||t)){var d=8,c=null,h=8+e.length,f=null;if(n.length>1&&(f=n.pop(),h-=f.length),null!=this._videoStashedLastSample){var m=this._videoStashedLastSample;this._videoStashedLastSample=null,n.unshift(m),h+=m.length}null!=f&&(this._videoStashedLastSample=f);var g=n[0].dts-this._dtsBase;if(this._videoNextDts)r=g-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())r=0;else{var _=this._videoSegmentInfoList.getLastSampleBefore(g);if(null!=_){var v=g-(_.originalDts+_.duration);v<=3&&(v=0);var y=_.dts+_.duration+v;r=g-y}else r=0}for(var b=new p.MediaSegmentInfo,A=[],E=0;E<n.length;E++){var w=n[E],T=w.dts-this._dtsBase,S=w.isKeyframe,C=T-r,k=w.cts,L=C+k;a===-1&&(a=C,o=L);var x=0;if(E!==n.length-1){var I=n[E+1].dts-this._dtsBase-r;x=I-C}else if(null!=f){var P=f.dts-this._dtsBase-r;x=P-C}else x=A.length>=1?A[A.length-1].duration:Math.floor(this._videoMeta.refSampleDuration);if(S){var R=new p.SampleInfo(C,L,x,w.dts,!0);R.fileposition=w.fileposition,b.appendSyncPoint(R)}A.push({dts:C,pts:L,cts:k,units:w.units,size:w.length,isKeyframe:S,duration:x,originalDts:T,flags:{isLeading:0,dependsOn:S?2:1,isDependedOn:S?1:0,hasRedundancy:0,isNonSync:S?0:1}})}c=new Uint8Array(h),c[0]=h>>>24&255,c[1]=h>>>16&255,c[2]=h>>>8&255,c[3]=255&h,c.set(u.default.types.mdat,4);for(var D=0;D<A.length;D++)for(var O=A[D].units;O.length;){var M=O.shift(),U=M.data;c.set(U,d),d+=U.byteLength}var j=A[A.length-1];if(s=j.dts+j.duration,l=j.pts+j.duration,this._videoNextDts=s,b.beginDts=a,b.endDts=s,b.beginPts=o,b.endPts=l,b.originalBeginDts=A[0].originalDts,b.originalEndDts=j.originalDts+j.duration,b.firstSample=new p.SampleInfo(A[0].dts,A[0].pts,A[0].duration,A[0].originalDts,A[0].isKeyframe),b.lastSample=new p.SampleInfo(j.dts,j.pts,j.duration,j.originalDts,j.isKeyframe),this._isLive||this._videoSegmentInfoList.append(b),i.samples=A,i.sequenceNumber++,this._forceFirstIDR){var B=A[0].flags;B.dependsOn=2,B.isNonSync=0}var N=u.default.moof(i,a);i.samples=[],i.length=0,this._onMediaSegment(\"video\",{type:\"video\",data:this._mergeBoxes(N,c).buffer,sampleCount:A.length,info:b})}}},e.prototype._mergeBoxes=function(e,t){var i=new Uint8Array(e.byteLength+t.byteLength);return i.set(e,0),i.set(t,e.byteLength),i},a(e,[{key:\"onInitSegment\",get:function(){return this._onInitSegment},set:function(e){this._onInitSegment=e}},{key:\"onMediaSegment\",get:function(){return this._onMediaSegment},set:function(e){this._onMediaSegment=e}}]),e}();t.default=g,e.exports=t.default},function(e,t){\"use strict\";function i(e,t,i){var n=e;if(t+i<n.length){for(;i--;)if(128!==(192&n[++t]))return!1;return!0}return!1}function n(e){for(var t=[],n=e,r=0,a=e.length;r<a;)if(n[r]<128)t.push(String.fromCharCode(n[r])),++r;else{if(n[r]<192);else if(n[r]<224){if(i(n,r,1)){var s=(31&n[r])<<6|63&n[r+1];if(s>=128){t.push(String.fromCharCode(65535&s)),r+=2;continue}}}else if(n[r]<240){if(i(n,r,2)){var o=(15&n[r])<<12|(63&n[r+1])<<6|63&n[r+2];if(o>=2048&&55296!==(63488&o)){t.push(String.fromCharCode(65535&o)),r+=3;continue}}}else if(n[r]<248&&i(n,r,3)){var l=(7&n[r])<<18|(63&n[r+1])<<12|(63&n[r+2])<<6|63&n[r+3];if(l>65536&&l<1114112){l-=65536,t.push(String.fromCharCode(l>>>10|55296)),t.push(String.fromCharCode(1023&l|56320)),r+=4;continue}}t.push(String.fromCharCode(65533)),++r}return t.join(\"\")}t.__esModule=!0,t.default=n,e.exports=t.default},function(e,t,i){var require,require,n,r,a,r,a;(function(i){\"use strict\";var s=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};!function e(t,i,n){function r(s,o){if(!i[s]){if(!t[s]){var l=\"function\"==typeof require&&require;if(!o&&l)return require(s,!0);if(a)return a(s,!0);var u=new Error(\"Cannot find module '\"+s+\"'\");throw u.code=\"MODULE_NOT_FOUND\",u}var d=i[s]={exports:{}};t[s][0].call(d.exports,function(e){return r(t[s][1][e]||e)},d,d.exports,e,t,i,n)}return i[s].exports}for(var a=\"function\"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t,i){t.exports=function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}},{}],2:[function(e,t,i){function n(e,i,s){return a()?t.exports=n=Reflect.construct:t.exports=n=function e(t,i,n){var a=[null];a.push.apply(a,i);var e=new(Function.bind.apply(t,a));return n&&r(e,n.prototype),e},n.apply(null,arguments)}var r=e(\"./setPrototypeOf\"),a=e(\"./isNativeReflectConstruct\");t.exports=n},{\"./isNativeReflectConstruct\":7,\"./setPrototypeOf\":8}],3:[function(e,t,i){function n(){return t.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},n.apply(this,arguments)}t.exports=n},{}],4:[function(e,t,i){var n=e(\"./setPrototypeOf\");t.exports=function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},{\"./setPrototypeOf\":8}],5:[function(e,t,i){t.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},{}],6:[function(e,t,i){t.exports=function(e){return e&&e.__esModule?e:{default:e}}},{}],7:[function(e,t,i){t.exports=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}},{}],8:[function(e,t,i){function n(e,i){return t.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,i)}t.exports=n},{}],9:[function(e,t,i){var n=e(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(i,\"__esModule\",{value:!0}),i.reverseBytes=i.sliceBytes=i.bytesMatch=i.concatTypedArrays=i.stringToBytes=i.bytesToString=i.numberToBytes=i.bytesToNumber=i.IS_LITTLE_ENDIAN=i.IS_BIG_ENDIAN=i.ENDIANNESS=i.toBinaryString=i.toHexString=i.toUint8=i.isTypedArray=i.padStart=i.countBytes=i.countBits=void 0;var r=n(e(\"global/window\")),a=function(e){return e.toString(2).length};i.countBits=a;var s=function(e){return Math.ceil(a(e)/8)};i.countBytes=s;var o=function(e,t,i){return void 0===i&&(i=\" \"),(function(e,t){for(var i=\"\";t--;)i+=e;return i}(i,t)+e.toString()).slice(-t)};i.padStart=o;var l=function(e){return ArrayBuffer.isView(e)};i.isTypedArray=l;var u=function(e){return e instanceof Uint8Array?e:(Array.isArray(e)||l(e)||e instanceof ArrayBuffer||(e=\"number\"!=typeof e||\"number\"==typeof e&&e!=e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))};i.toUint8=u,i.toHexString=function(e){e=u(e);for(var t=\"\",i=0;i<e.length;i++)t+=o(e[i].toString(16),2,\"0\");return t},i.toBinaryString=function(e){e=u(e);for(var t=\"\",i=0;i<e.length;i++)t+=o(e[i].toString(2),8,\"0\");return t};var d,c,h=r.default.BigInt||Number,f=[h(\"0x1\"),h(\"0x100\"),h(\"0x10000\"),h(\"0x1000000\"),h(\"0x100000000\"),h(\"0x10000000000\"),h(\"0x1000000000000\"),h(\"0x100000000000000\"),h(\"0x10000000000000000\")],p=(d=new Uint16Array([65484]),255===(c=new Uint8Array(d.buffer,d.byteOffset,d.byteLength))[0]?\"big\":204===c[0]?\"little\":\"unknown\");i.ENDIANNESS=p;var m=\"big\"===p;i.IS_BIG_ENDIAN=m;var g=\"little\"===p;i.IS_LITTLE_ENDIAN=g,i.bytesToNumber=function(e,t){var i=void 0===t?{}:t,n=i.signed,r=void 0!==n&&n,a=i.le,s=void 0!==a&&a;e=u(e);var o=s?\"reduce\":\"reduceRight\",l=(e[o]?e[o]:Array.prototype[o]).call(e,function(t,i,n){var r=s?n:Math.abs(n+1-e.length);return t+h(i)*f[r]},h(0));if(r){var d=f[e.length]/h(2)-h(1);(l=h(l))>d&&(l-=d,l-=d,l-=h(2))}return Number(l)},i.numberToBytes=function(e,t){var i=(void 0===t?{}:t).le,n=void 0!==i&&i;(\"bigint\"!=typeof e&&\"number\"!=typeof e||\"number\"==typeof e&&e!=e)&&(e=0),e=h(e);for(var r=s(e),a=new Uint8Array(new ArrayBuffer(r)),o=0;o<r;o++){var l=n?o:Math.abs(o+1-a.length);a[l]=Number(e/f[o]&h(255)),e<0&&(a[l]=Math.abs(~a[l]),a[l]-=0===o?1:2)}return a},i.bytesToString=function(e){if(!e)return\"\";e=Array.prototype.slice.call(e);var t=String.fromCharCode.apply(null,u(e));try{return decodeURIComponent(escape(t))}catch(e){}return t},i.stringToBytes=function(e,t){if(\"string\"!=typeof e&&e&&\"function\"==typeof e.toString&&(e=e.toString()),\"string\"!=typeof e)return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i},i.concatTypedArrays=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if((t=t.filter(function(e){return e&&(e.byteLength||e.length)&&\"string\"!=typeof e})).length<=1)return u(t[0]);var n=t.reduce(function(e,t,i){return e+(t.byteLength||t.length)},0),r=new Uint8Array(n),a=0;return t.forEach(function(e){e=u(e),r.set(e,a),a+=e.byteLength}),r},i.bytesMatch=function(e,t,i){var n=void 0===i?{}:i,r=n.offset,a=void 0===r?0:r,s=n.mask,o=void 0===s?[]:s;e=u(e);var l=(t=u(t)).every?t.every:Array.prototype.every;return t.length&&e.length-a>=t.length&&l.call(t,function(t,i){return t===(o[i]?o[i]&e[a+i]:e[a+i])})},i.sliceBytes=function(e,t,i){return Uint8Array.prototype.slice?Uint8Array.prototype.slice.call(e,t,i):new Uint8Array(Array.prototype.slice.call(e,t,i))},i.reverseBytes=function(e){return e.reverse?e.reverse():Array.prototype.reverse.call(e)}},{\"@babel/runtime/helpers/interopRequireDefault\":6,\"global/window\":35}],10:[function(e,t,i){Object.defineProperty(i,\"__esModule\",{value:!0}),i.getHvcCodec=i.getAvcCodec=i.getAv1Codec=void 0;var n=e(\"./byte-helpers.js\");i.getAv1Codec=function(e){var t,i=\"\",r=e[1]>>>3,a=31&e[1],s=e[2]>>>7,o=(64&e[2])>>6,l=(32&e[2])>>5,u=(16&e[2])>>4,d=(8&e[2])>>3,c=(4&e[2])>>2,h=3&e[2];return i+=r+\".\"+(0,n.padStart)(a,2,\"0\"),0===s?i+=\"M\":1===s&&(i+=\"H\"),t=2===r&&o?l?12:10:o?10:8,i+=\".\"+(0,n.padStart)(t,2,\"0\"),i+=\".\"+u,i+=\".\"+d+c+h},i.getAvcCodec=function(e){return\"\"+(0,n.toHexString)(e[1])+(0,n.toHexString)(252&e[2])+(0,n.toHexString)(e[3])},i.getHvcCodec=function(e){var t=\"\",i=e[1]>>6,r=31&e[1],a=(32&e[1])>>5,s=e.subarray(2,6),o=e.subarray(6,12),l=e[12];1===i?t+=\"A\":2===i?t+=\"B\":3===i&&(t+=\"C\"),t+=r+\".\";var u=parseInt((0,n.toBinaryString)(s).split(\"\").reverse().join(\"\"),2);u>255&&(u=parseInt((0,n.toBinaryString)(s),2)),t+=u.toString(16)+\".\",t+=0===a?\"L\":\"H\",t+=l;for(var d=\"\",c=0;c<o.length;c++){var h=o[c];h&&(d&&(d+=\".\"),d+=h.toString(16))}return d&&(t+=\".\"+d),t}},{\"./byte-helpers.js\":9}],11:[function(e,t,i){var n=e(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(i,\"__esModule\",{value:!0}),i.DEFAULT_VIDEO_CODEC=i.DEFAULT_AUDIO_CODEC=i.muxerSupportsCodec=i.browserSupportsCodec=i.getMimeForCodec=i.isTextCodec=i.isAudioCodec=i.isVideoCodec=i.codecsFromDefault=i.parseCodecs=i.mapLegacyAvcCodecs=i.translateLegacyCodecs=i.translateLegacyCodec=void 0;var r=n(e(\"global/window\")),a={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},s=[\"video\",\"audio\",\"text\"],o=[\"Video\",\"Audio\",\"Text\"],l=function(e){return e?e.replace(/avc1\\.(\\d+)\\.(\\d+)/i,function(e,t,i){return\"avc1.\"+(\"00\"+Number(t).toString(16)).slice(-2)+\"00\"+(\"00\"+Number(i).toString(16)).slice(-2)}):e};i.translateLegacyCodec=l;var u=function(e){return e.map(l)};i.translateLegacyCodecs=u,i.mapLegacyAvcCodecs=function(e){return e.replace(/avc1\\.(\\d+)\\.(\\d+)/i,function(e){return u([e])[0]})};var d=function(e){void 0===e&&(e=\"\");var t=e.split(\",\"),i=[];return t.forEach(function(e){var t;e=e.trim(),s.forEach(function(n){var r=a[n].exec(e.toLowerCase());if(r&&!(r.length<=1)){t=n;var s=e.substring(0,r[1].length),o=e.replace(s,\"\");i.push({type:s,details:o,mediaType:n})}}),t||i.push({type:e,details:\"\",mediaType:\"unknown\"})}),i};i.parseCodecs=d,i.codecsFromDefault=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var i=e.mediaGroups.AUDIO[t];if(!i)return null;for(var n in i){var r=i[n];if(r.default&&r.playlists)return d(r.playlists[0].attributes.CODECS)}return null},i.isVideoCodec=function(e){return void 0===e&&(e=\"\"),a.video.test(e.trim().toLowerCase())};var c=function(e){return void 0===e&&(e=\"\"),a.audio.test(e.trim().toLowerCase())};i.isAudioCodec=c;var h=function(e){return void 0===e&&(e=\"\"),a.text.test(e.trim().toLowerCase())};i.isTextCodec=h;var f=function(e){if(e&&\"string\"==typeof e){var t=e.toLowerCase().split(\",\").map(function(e){return l(e.trim())}),i=\"video\";1===t.length&&c(t[0])?i=\"audio\":1===t.length&&h(t[0])&&(i=\"application\");var n=\"mp4\";return t.every(function(e){return a.mp4.test(e)})?n=\"mp4\":t.every(function(e){return a.webm.test(e)})?n=\"webm\":t.every(function(e){return a.ogg.test(e)})&&(n=\"ogg\"),i+\"/\"+n+';codecs=\"'+e+'\"'}};i.getMimeForCodec=f,i.browserSupportsCodec=function(e){return void 0===e&&(e=\"\"),r.default.MediaSource&&r.default.MediaSource.isTypeSupported&&r.default.MediaSource.isTypeSupported(f(e))||!1},i.muxerSupportsCodec=function(e){return void 0===e&&(e=\"\"),e.toLowerCase().split(\",\").every(function(e){e=e.trim();for(var t=0;t<o.length;t++)if(a[\"muxer\"+o[t]].test(e))return!0;return!1})},i.DEFAULT_AUDIO_CODEC=\"mp4a.40.2\",i.DEFAULT_VIDEO_CODEC=\"avc1.4d400d\"},{\"@babel/runtime/helpers/interopRequireDefault\":6,\"global/window\":35}],12:[function(e,t,i){Object.defineProperty(i,\"__esModule\",{value:!0}),i.isLikelyFmp4MediaSegment=i.detectContainerForBytes=i.isLikely=void 0;var n=e(\"./byte-helpers.js\"),r=e(\"./mp4-helpers.js\"),a=e(\"./ebml-helpers.js\"),s=e(\"./id3-helpers.js\"),o=e(\"./nal-helpers.js\"),l={webm:(0,n.toUint8)([119,101,98,109]),matroska:(0,n.toUint8)([109,97,116,114,111,115,107,97]),flac:(0,n.toUint8)([102,76,97,67]),ogg:(0,n.toUint8)([79,103,103,83]),ac3:(0,n.toUint8)([11,119]),riff:(0,n.toUint8)([82,73,70,70]),avi:(0,n.toUint8)([65,86,73]),wav:(0,n.toUint8)([87,65,86,69]),\"3gp\":(0,n.toUint8)([102,116,121,112,51,103]),mp4:(0,n.toUint8)([102,116,121,112]),fmp4:(0,n.toUint8)([115,116,121,112]),mov:(0,n.toUint8)([102,116,121,112,113,116]),moov:(0,n.toUint8)([109,111,111,118]),moof:(0,n.toUint8)([109,111,111,102])},u={aac:function(e){var t=(0,s.getId3Offset)(e);return(0,n.bytesMatch)(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=(0,s.getId3Offset)(e);return(0,n.bytesMatch)(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){var t=(0,a.findEbml)(e,[a.EBML_TAGS.EBML,a.EBML_TAGS.DocType])[0];return(0,n.bytesMatch)(t,l.webm)},mkv:function(e){var t=(0,a.findEbml)(e,[a.EBML_TAGS.EBML,a.EBML_TAGS.DocType])[0];return(0,n.bytesMatch)(t,l.matroska)},mp4:function(e){return!u[\"3gp\"](e)&&!u.mov(e)&&(!(!(0,n.bytesMatch)(e,l.mp4,{offset:4})&&!(0,n.bytesMatch)(e,l.fmp4,{offset:4}))||!(!(0,n.bytesMatch)(e,l.moof,{offset:4})&&!(0,n.bytesMatch)(e,l.moov,{offset:4}))||void 0)},mov:function(e){return(0,n.bytesMatch)(e,l.mov,{offset:4})},\"3gp\":function(e){return(0,n.bytesMatch)(e,l[\"3gp\"],{offset:4})},ac3:function(e){var t=(0,s.getId3Offset)(e);return(0,n.bytesMatch)(e,l.ac3,{offset:t})},ts:function(e){if(e.length<189&&e.length>=1)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){var t=(0,s.getId3Offset)(e);return(0,n.bytesMatch)(e,l.flac,{offset:t})},ogg:function(e){return(0,n.bytesMatch)(e,l.ogg)},avi:function(e){return(0,n.bytesMatch)(e,l.riff)&&(0,n.bytesMatch)(e,l.avi,{offset:8})},wav:function(e){return(0,n.bytesMatch)(e,l.riff)&&(0,n.bytesMatch)(e,l.wav,{offset:8})},h264:function(e){return(0,o.findH264Nal)(e,7,3).length},h265:function(e){return(0,o.findH265Nal)(e,[32,33],3).length}},d=Object.keys(u).filter(function(e){return\"ts\"!==e&&\"h264\"!==e&&\"h265\"!==e}).concat([\"ts\",\"h264\",\"h265\"]);d.forEach(function(e){var t=u[e];u[e]=function(e){return t((0,n.toUint8)(e))}});var c=u;i.isLikely=c,i.detectContainerForBytes=function(e){e=(0,n.toUint8)(e);for(var t=0;t<d.length;t++){var i=d[t];if(c[i](e))return i}return\"\"},i.isLikelyFmp4MediaSegment=function(e){return(0,r.findBox)(e,[\"moof\"]).length>0}},{\"./byte-helpers.js\":9,\"./ebml-helpers.js\":14,\"./id3-helpers.js\":15,\"./mp4-helpers.js\":17,\"./nal-helpers.js\":18}],13:[function(e,t,i){(function(n){var r=e(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(i,\"__esModule\",{value:!0}),i.default=function(e){for(var t=(s=e,a.default.atob?a.default.atob(s):n.from(s,\"base64\").toString(\"binary\")),i=new Uint8Array(t.length),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);\nvar s;return i};var a=r(e(\"global/window\"));t.exports=i.default}).call(this,e(\"buffer\").Buffer)},{\"@babel/runtime/helpers/interopRequireDefault\":6,buffer:32,\"global/window\":35}],14:[function(e,t,i){Object.defineProperty(i,\"__esModule\",{value:!0}),i.parseData=i.parseTracks=i.decodeBlock=i.findEbml=i.EBML_TAGS=void 0;var n=e(\"./byte-helpers\"),r=e(\"./codec-helpers.js\"),a={EBML:(0,n.toUint8)([26,69,223,163]),DocType:(0,n.toUint8)([66,130]),Segment:(0,n.toUint8)([24,83,128,103]),SegmentInfo:(0,n.toUint8)([21,73,169,102]),Tracks:(0,n.toUint8)([22,84,174,107]),Track:(0,n.toUint8)([174]),TrackNumber:(0,n.toUint8)([215]),DefaultDuration:(0,n.toUint8)([35,227,131]),TrackEntry:(0,n.toUint8)([174]),TrackType:(0,n.toUint8)([131]),FlagDefault:(0,n.toUint8)([136]),CodecID:(0,n.toUint8)([134]),CodecPrivate:(0,n.toUint8)([99,162]),VideoTrack:(0,n.toUint8)([224]),AudioTrack:(0,n.toUint8)([225]),Cluster:(0,n.toUint8)([31,67,182,117]),Timestamp:(0,n.toUint8)([231]),TimestampScale:(0,n.toUint8)([42,215,177]),BlockGroup:(0,n.toUint8)([160]),BlockDuration:(0,n.toUint8)([155]),Block:(0,n.toUint8)([161]),SimpleBlock:(0,n.toUint8)([163])};i.EBML_TAGS=a;var s=[128,64,32,16,8,4,2,1],o=function e(t,i,r,a){void 0===r&&(r=!0),void 0===a&&(a=!1);var o=function(e){for(var t=1,i=0;i<s.length&&!(e&s[i]);i++)t++;return t}(t[i]),e=t.subarray(i,i+o);return r&&((e=Array.prototype.slice.call(t,i,i+o))[0]^=s[o-1]),{length:o,value:(0,n.bytesToNumber)(e,{signed:a}),bytes:e}},l=function e(t){return\"string\"==typeof t?t.match(/.{1,2}/g).map(function(t){return e(t)}):\"number\"==typeof t?(0,n.numberToBytes)(t):t},u=function e(t,i,r){if(r>=i.length)return i.length;var a=o(i,r,!1);if((0,n.bytesMatch)(t.bytes,a.bytes))return r;var s=o(i,r+a.length);return e(t,i,r+s.length+s.value+a.length)},d=function e(t,i){i=function(e){return Array.isArray(e)?e.map(function(e){return l(e)}):[l(e)]}(i),t=(0,n.toUint8)(t);var r=[];if(!i.length)return r;for(var a=0;a<t.length;){var s=o(t,a,!1),d=o(t,a+s.length),c=a+s.length+d.length;127===d.value&&(d.value=u(s,t,c),d.value!==t.length&&(d.value-=c));var h=c+d.value>t.length?t.length:c+d.value,f=t.subarray(c,h);(0,n.bytesMatch)(i[0],s.bytes)&&(1===i.length?r.push(f):r=r.concat(e(f,i.slice(1)))),a+=s.length+d.length+f.length}return r};i.findEbml=d;var c=function e(t,i,r,s){var l;\"group\"===i&&((l=d(t,[a.BlockDuration])[0])&&(l=1/r*(l=(0,n.bytesToNumber)(l))*r/1e3),t=d(t,[a.Block])[0],i=\"block\");var u=new DataView(t.buffer,t.byteOffset,t.byteLength),c=o(t,0),e=u.getInt16(c.length,!1),h=t[c.length+2],f=t.subarray(c.length+3),p=1/r*(s+e)*r/1e3,m={duration:l,trackNumber:c.value,keyframe:\"simple\"===i&&h>>7==1,invisible:(8&h)>>3==1,lacing:(6&h)>>1,discardable:\"simple\"===i&&1==(1&h),frames:[],pts:p,dts:p,timestamp:e};if(!m.lacing)return m.frames.push(f),m;var g=f[0]+1,_=[],v=1;if(2===m.lacing)for(var y=(f.length-v)/g,b=0;b<g;b++)_.push(y);if(1===m.lacing)for(var A=0;A<g-1;A++){var E=0;do E+=f[v],v++;while(255===f[v-1]);_.push(E)}if(3===m.lacing)for(var w=0,T=0;T<g-1;T++){var S=0===T?o(f,v):o(f,v,!0,!0);w+=S.value,_.push(w),v+=S.length}return _.forEach(function(e){m.frames.push(f.subarray(v,v+e)),v+=e}),m};i.decodeBlock=c;var h=function(e){e=(0,n.toUint8)(e);var t=[],i=d(e,[a.Segment,a.Tracks,a.Track]);return i.length||(i=d(e,[a.Tracks,a.Track])),i.length||(i=d(e,[a.Track])),i.length?(i.forEach(function(e){var i=d(e,a.TrackType)[0];if(i&&i.length){if(1===i[0])i=\"video\";else if(2===i[0])i=\"audio\";else{if(17!==i[0])return;i=\"subtitle\"}var s={rawCodec:(0,n.bytesToString)(d(e,[a.CodecID])[0]),type:i,codecPrivate:d(e,[a.CodecPrivate])[0],number:(0,n.bytesToNumber)(d(e,[a.TrackNumber])[0]),defaultDuration:(0,n.bytesToNumber)(d(e,[a.DefaultDuration])[0]),default:d(e,[a.FlagDefault])[0],rawData:e},o=\"\";if(/V_MPEG4\\/ISO\\/AVC/.test(s.rawCodec))o=\"avc1.\"+(0,r.getAvcCodec)(s.codecPrivate);else if(/V_MPEGH\\/ISO\\/HEVC/.test(s.rawCodec))o=\"hev1.\"+(0,r.getHvcCodec)(s.codecPrivate);else if(/V_MPEG4\\/ISO\\/ASP/.test(s.rawCodec))o=s.codecPrivate?\"mp4v.20.\"+s.codecPrivate[4].toString():\"mp4v.20.9\";else if(/^V_THEORA/.test(s.rawCodec))o=\"theora\";else if(/^V_VP8/.test(s.rawCodec))o=\"vp8\";else if(/^V_VP9/.test(s.rawCodec))if(s.codecPrivate){var l=function(e){for(var t=0,i={};t<e.length;){var n=127&e[t],r=e[t+1],a=void 0;a=1===r?e[t+2]:e.subarray(t+2,t+2+r),1===n?i.profile=a:2===n?i.level=a:3===n?i.bitDepth=a:4===n?i.chromaSubsampling=a:i[n]=a,t+=2+r}return i}(s.codecPrivate),u=l.profile,c=l.level,h=l.bitDepth,f=l.chromaSubsampling;o=\"vp09.\",o+=(0,n.padStart)(u,2,\"0\")+\".\",o+=(0,n.padStart)(c,2,\"0\")+\".\",o+=(0,n.padStart)(h,2,\"0\")+\".\",o+=\"\"+(0,n.padStart)(f,2,\"0\");var p=d(e,[224,[85,176],[85,177]])[0]||[],m=d(e,[224,[85,176],[85,185]])[0]||[],g=d(e,[224,[85,176],[85,186]])[0]||[],_=d(e,[224,[85,176],[85,187]])[0]||[];(p.length||m.length||g.length||_.length)&&(o+=\".\"+(0,n.padStart)(_[0],2,\"0\"),o+=\".\"+(0,n.padStart)(g[0],2,\"0\"),o+=\".\"+(0,n.padStart)(p[0],2,\"0\"),o+=\".\"+(0,n.padStart)(m[0],2,\"0\"))}else o=\"vp9\";else/^V_AV1/.test(s.rawCodec)?o=\"av01.\"+(0,r.getAv1Codec)(s.codecPrivate):/A_ALAC/.test(s.rawCodec)?o=\"alac\":/A_MPEG\\/L2/.test(s.rawCodec)?o=\"mp2\":/A_MPEG\\/L3/.test(s.rawCodec)?o=\"mp3\":/^A_AAC/.test(s.rawCodec)?o=s.codecPrivate?\"mp4a.40.\"+(s.codecPrivate[0]>>>3).toString():\"mp4a.40.2\":/^A_AC3/.test(s.rawCodec)?o=\"ac-3\":/^A_PCM/.test(s.rawCodec)?o=\"pcm\":/^A_MS\\/ACM/.test(s.rawCodec)?o=\"speex\":/^A_EAC3/.test(s.rawCodec)?o=\"ec-3\":/^A_VORBIS/.test(s.rawCodec)?o=\"vorbis\":/^A_FLAC/.test(s.rawCodec)?o=\"flac\":/^A_OPUS/.test(s.rawCodec)&&(o=\"opus\");s.codec=o,t.push(s)}}),t.sort(function(e,t){return e.number-t.number})):t};i.parseTracks=h,i.parseData=function(e,t){var i=[],r=d(e,[a.Segment])[0],s=d(r,[a.SegmentInfo,a.TimestampScale])[0];s=s&&s.length?(0,n.bytesToNumber)(s):1e6;var o=d(r,[a.Cluster]);return t||(t=h(r)),o.forEach(function(e,t){var r=d(e,[a.SimpleBlock]).map(function(e){return{type:\"simple\",data:e}}),o=d(e,[a.BlockGroup]).map(function(e){return{type:\"group\",data:e}}),l=d(e,[a.Timestamp])[0]||0;l&&l.length&&(l=(0,n.bytesToNumber)(l)),r.concat(o).sort(function(e,t){return e.data.byteOffset-t.data.byteOffset}).forEach(function(e,t){var n=c(e.data,e.type,s,l);i.push(n)})}),{tracks:t,blocks:i}}},{\"./byte-helpers\":9,\"./codec-helpers.js\":10}],15:[function(e,t,i){Object.defineProperty(i,\"__esModule\",{value:!0}),i.getId3Offset=i.getId3Size=void 0;var n=e(\"./byte-helpers.js\"),r=(0,n.toUint8)([73,68,51]),a=function(e,t){void 0===t&&(t=0);var i=(e=(0,n.toUint8)(e))[t+5],r=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&i)>>4?r+20:r+10};i.getId3Size=a,i.getId3Offset=function e(t,i){return void 0===i&&(i=0),(t=(0,n.toUint8)(t)).length-i<10||!(0,n.bytesMatch)(t,r,{offset:i})?i:e(t,i+=a(t,i))}},{\"./byte-helpers.js\":9}],16:[function(e,t,i){Object.defineProperty(i,\"__esModule\",{value:!0}),i.simpleTypeFromSourceType=void 0;var n=/^(audio|video|application)\\/(x-|vnd\\.apple\\.)?mpegurl/i,r=/^application\\/dash\\+xml/i;i.simpleTypeFromSourceType=function(e){return n.test(e)?\"hls\":r.test(e)?\"dash\":\"application/vnd.videojs.vhs+json\"===e?\"vhs-json\":null}},{}],17:[function(e,t,i){Object.defineProperty(i,\"__esModule\",{value:!0}),i.parseMediaInfo=i.parseTracks=i.addSampleDescription=i.buildFrameTable=i.findNamedBox=i.findBox=i.parseDescriptors=void 0;var n,r=e(\"./byte-helpers.js\"),a=e(\"./codec-helpers.js\"),s=e(\"./opus-helpers.js\"),o=function(e){return\"string\"==typeof e?(0,r.stringToBytes)(e):e},l=function e(t){t=(0,r.toUint8)(t);for(var i=[],a=0;t.length>a;){var s=t[a],o=0,l=0,e=t[++l];for(l++;128&e;)o=(127&e)<<7,e=t[l],l++;o+=127&e;for(var u=0;u<n.length;u++){var d=n[u],c=d.id,h=d.parser;if(s===c){i.push(h(t.subarray(l,l+o)));break}}a+=o+l}return i};i.parseDescriptors=l,n=[{id:3,parser:function(e){var t={tag:3,id:e[0]<<8|e[1],flags:e[2],size:3,dependsOnEsId:0,ocrEsId:0,descriptors:[],url:\"\"};if(128&t.flags&&(t.dependsOnEsId=e[t.size]<<8|e[t.size+1],t.size+=2),64&t.flags){var i=e[t.size];t.url=(0,r.bytesToString)(e.subarray(t.size+1,t.size+1+i)),t.size+=i}return 32&t.flags&&(t.ocrEsId=e[t.size]<<8|e[t.size+1],t.size+=2),t.descriptors=l(e.subarray(t.size))||[],t}},{id:4,parser:function(e){return{tag:4,oti:e[0],streamType:e[1],bufferSize:e[2]<<16|e[3]<<8|e[4],maxBitrate:e[5]<<24|e[6]<<16|e[7]<<8|e[8],avgBitrate:e[9]<<24|e[10]<<16|e[11]<<8|e[12],descriptors:l(e.subarray(13))}}},{id:5,parser:function(e){return{tag:5,bytes:e}}},{id:6,parser:function(e){return{tag:6,bytes:e}}}];var u=function e(t,i,n){void 0===n&&(n=!1),i=function(e){return Array.isArray(e)?e.map(function(e){return o(e)}):[o(e)]}(i),t=(0,r.toUint8)(t);var a=[];if(!i.length)return a;for(var s=0;s<t.length;){var l=(t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3])>>>0,u=t.subarray(s+4,s+8);if(0===l)break;var d=s+l;if(d>t.length){if(n)break;d=t.length}var c=t.subarray(s+8,d);(0,r.bytesMatch)(u,i[0])&&(1===i.length?a.push(c):a.push.apply(a,e(c,i.slice(1),n))),s=d}return a};i.findBox=u;var d=function(e,t){if(!(t=o(t)).length)return e.subarray(e.length);for(var i=0;i<e.length;){if((0,r.bytesMatch)(e.subarray(i,i+t.length),t)){var n=(e[i-4]<<24|e[i-3]<<16|e[i-2]<<8|e[i-1])>>>0,a=n>1?i+n:e.byteLength;return e.subarray(i+4,a)}i++}return e.subarray(e.length)};i.findNamedBox=d;var c=function(e,t,i){void 0===t&&(t=4),void 0===i&&(i=function(e){return(0,r.bytesToNumber)(e)});var n=[];if(!e||!e.length)return n;for(var a=(0,r.bytesToNumber)(e.subarray(4,8)),s=8;a;s+=t,a--)n.push(i(e.subarray(s,s+t)));return n},h=function e(t,i){for(var n=c(u(t,[\"stss\"])[0]),a=c(u(t,[\"stco\"])[0]),s=c(u(t,[\"stts\"])[0],8,function(e){return{sampleCount:(0,r.bytesToNumber)(e.subarray(0,4)),sampleDelta:(0,r.bytesToNumber)(e.subarray(4,8))}}),o=c(u(t,[\"stsc\"])[0],12,function(e){return{firstChunk:(0,r.bytesToNumber)(e.subarray(0,4)),samplesPerChunk:(0,r.bytesToNumber)(e.subarray(4,8)),sampleDescriptionIndex:(0,r.bytesToNumber)(e.subarray(8,12))}}),l=u(t,[\"stsz\"])[0],d=c(l&&l.length&&l.subarray(4)||null),h=[],e=0;e<a.length;e++){for(var f=void 0,p=0;p<o.length;p++){var m=o[p];if(e+1>=m.firstChunk&&(p+1>=o.length||e+1<o[p+1].firstChunk)){f=m.samplesPerChunk;break}}for(var g=a[e],_=0;_<f;_++){var v=d[h.length],y=!n.length;n.length&&-1!==n.indexOf(h.length+1)&&(y=!0);for(var b={keyframe:y,start:g,end:g+v},A=0;A<s.length;A++){var E=s[A],w=E.sampleCount,T=E.sampleDelta;if(h.length<=w){var S=h.length?h[h.length-1].timestamp:0;b.timestamp=S+T/i*1e3,b.duration=T;break}}h.push(b),g+=v}}return h};i.buildFrameTable=h;var f=function e(t,i){var n=(0,r.bytesToString)(i.subarray(0,4));if(\"video\"===t.type?(t.info=t.info||{},t.info.width=i[28]<<8|i[29],t.info.height=i[30]<<8|i[31]):\"audio\"===t.type&&(t.info=t.info||{},t.info.channels=i[20]<<8|i[21],t.info.bitDepth=i[22]<<8|i[23],t.info.sampleRate=i[28]<<8|i[29]),\"avc1\"===n){var o=d(i,\"avcC\");n+=\".\"+(0,a.getAvcCodec)(o),t.info.avcC=o}else if(\"hvc1\"===n||\"hev1\"===n)n+=\".\"+(0,a.getHvcCodec)(d(i,\"hvcC\"));else if(\"mp4a\"===n||\"mp4v\"===n){var u=d(i,\"esds\"),c=l(u.subarray(4))[0],h=c&&c.descriptors.filter(function(e){return 4===e.tag})[0];h?(n+=\".\"+(0,r.toHexString)(h.oti),64===h.oti?n+=\".\"+(h.descriptors[0].bytes[0]>>3).toString():32===h.oti?n+=\".\"+h.descriptors[0].bytes[4].toString():221===h.oti&&(n=\"vorbis\")):n+=\"audio\"===t.type?\".40.2\":\".20.9\"}else if(\"av01\"===n)n+=\".\"+(0,a.getAv1Codec)(d(i,\"av1C\"));else if(\"vp09\"===n){var f=d(i,\"vpcC\"),e=f[0],p=f[1],m=f[2]>>4,g=(15&f[2])>>1,_=(15&f[2])>>3,v=f[3],y=f[4],b=f[5];n+=\".\"+(0,r.padStart)(e,2,\"0\"),n+=\".\"+(0,r.padStart)(p,2,\"0\"),n+=\".\"+(0,r.padStart)(m,2,\"0\"),n+=\".\"+(0,r.padStart)(g,2,\"0\"),n+=\".\"+(0,r.padStart)(v,2,\"0\"),n+=\".\"+(0,r.padStart)(y,2,\"0\"),n+=\".\"+(0,r.padStart)(b,2,\"0\"),n+=\".\"+(0,r.padStart)(_,2,\"0\")}else if(\"theo\"===n)n=\"theora\";else if(\"spex\"===n)n=\"speex\";else if(\".mp3\"===n)n=\"mp4a.40.34\";else if(\"msVo\"===n)n=\"vorbis\";else if(\"Opus\"===n){n=\"opus\";var A=d(i,\"dOps\");t.info.opus=(0,s.parseOpusHead)(A),t.info.codecDelay=65e5}else n=n.toLowerCase();t.codec=n};i.addSampleDescription=f,i.parseTracks=function(e,t){void 0===t&&(t=!0),e=(0,r.toUint8)(e);var i=u(e,[\"moov\",\"trak\"],!0),n=[];return i.forEach(function(e){var i={bytes:e},a=u(e,[\"mdia\"])[0],s=u(a,[\"hdlr\"])[0],o=(0,r.bytesToString)(s.subarray(8,12));i.type=\"soun\"===o?\"audio\":\"vide\"===o?\"video\":o;var l=u(e,[\"tkhd\"])[0];if(l){var d=new DataView(l.buffer,l.byteOffset,l.byteLength),c=d.getUint8(0);i.number=0===c?d.getUint32(12):d.getUint32(20)}var p=u(a,[\"mdhd\"])[0];if(p){var m=0===p[0]?12:20;i.timescale=(p[m]<<24|p[m+1]<<16|p[m+2]<<8|p[m+3])>>>0}for(var g=u(a,[\"minf\",\"stbl\"])[0],_=u(g,[\"stsd\"])[0],v=(0,r.bytesToNumber)(_.subarray(4,8)),y=8;v--;){var b=(0,r.bytesToNumber)(_.subarray(y,y+4)),A=_.subarray(y+4,y+4+b);f(i,A),y+=4+b}t&&(i.frameTable=h(g,i.timescale)),n.push(i)}),n},i.parseMediaInfo=function(e){var t=u(e,[\"moov\",\"mvhd\"],!0)[0];if(t&&t.length){var i={};return 1===t[0]?(i.timestampScale=(0,r.bytesToNumber)(t.subarray(20,24)),i.duration=(0,r.bytesToNumber)(t.subarray(24,32))):(i.timestampScale=(0,r.bytesToNumber)(t.subarray(12,16)),i.duration=(0,r.bytesToNumber)(t.subarray(16,20))),i.bytes=t,i}}},{\"./byte-helpers.js\":9,\"./codec-helpers.js\":10,\"./opus-helpers.js\":19}],18:[function(e,t,i){Object.defineProperty(i,\"__esModule\",{value:!0}),i.findH265Nal=i.findH264Nal=i.findNal=i.discardEmulationPreventionBytes=i.EMULATION_PREVENTION=i.NAL_TYPE_TWO=i.NAL_TYPE_ONE=void 0;var n=e(\"./byte-helpers.js\"),r=(0,n.toUint8)([0,0,0,1]);i.NAL_TYPE_ONE=r;var a=(0,n.toUint8)([0,0,1]);i.NAL_TYPE_TWO=a;var s=(0,n.toUint8)([0,0,3]);i.EMULATION_PREVENTION=s;var o=function e(t){for(var i=[],r=1;r<t.length-2;)(0,n.bytesMatch)(t.subarray(r,r+3),s)&&(i.push(r+2),r++),r++;if(0===i.length)return t;var a=t.length-i.length,o=new Uint8Array(a),e=0;for(r=0;r<a;e++,r++)e===i[0]&&(e++,i.shift()),o[r]=t[e];return o};i.discardEmulationPreventionBytes=o;var l=function e(t,i,s,l){void 0===l&&(l=1/0),t=(0,n.toUint8)(t),s=[].concat(s);for(var e,u=0,d=0;u<t.length&&(d<l||e);){var c=void 0;if((0,n.bytesMatch)(t.subarray(u),r)?c=4:(0,n.bytesMatch)(t.subarray(u),a)&&(c=3),c){if(d++,e)return o(t.subarray(e,u));var h=void 0;\"h264\"===i?h=31&t[u+c]:\"h265\"===i&&(h=t[u+c]>>1&63),-1!==s.indexOf(h)&&(e=u+c),u+=c+(\"h264\"===i?1:2)}else u++}return t.subarray(0,0)};i.findNal=l,i.findH264Nal=function(e,t,i){return l(e,\"h264\",t,i)},i.findH265Nal=function(e,t,i){return l(e,\"h265\",t,i)}},{\"./byte-helpers.js\":9}],19:[function(e,t,i){Object.defineProperty(i,\"__esModule\",{value:!0}),i.setOpusHead=i.parseOpusHead=i.OPUS_HEAD=void 0;var n=new Uint8Array([79,112,117,115,72,101,97,100]);i.OPUS_HEAD=n,i.parseOpusHead=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i=t.getUint8(0),n=0!==i,r={version:i,channels:t.getUint8(1),preSkip:t.getUint16(2,n),sampleRate:t.getUint32(4,n),outputGain:t.getUint16(8,n),channelMappingFamily:t.getUint8(10)};if(r.channelMappingFamily>0&&e.length>10){r.streamCount=t.getUint8(11),r.twoChannelStreamCount=t.getUint8(12),r.channelMapping=[];for(var a=0;a<r.channels;a++)r.channelMapping.push(t.getUint8(13+a))}return r},i.setOpusHead=function(e){var t=e.channelMappingFamily<=0?11:12+e.channels,i=new DataView(new ArrayBuffer(t)),n=0!==e.version;return i.setUint8(0,e.version),i.setUint8(1,e.channels),i.setUint16(2,e.preSkip,n),i.setUint32(4,e.sampleRate,n),i.setUint16(8,e.outputGain,n),i.setUint8(10,e.channelMappingFamily),e.channelMappingFamily>0&&(i.setUint8(11,e.streamCount),e.channelMapping.foreach(function(e,t){i.setUint8(12+t,e)})),new Uint8Array(i.buffer)}},{}],20:[function(e,t,i){var n=e(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(i,\"__esModule\",{value:!0}),i.default=void 0;var r=n(e(\"url-toolkit\")),a=n(e(\"global/window\")),s=function e(t,i){if(/^[a-z]+:/i.test(i))return i;/^data:/.test(t)&&(t=a.default.location&&a.default.location.href||\"\");var n=\"function\"==typeof a.default.URL,s=/^\\/\\//.test(t),e=!a.default.location&&!/\\/\\//i.test(t);if(n?t=new a.default.URL(t,a.default.location||\"http://example.com\"):/\\/\\//i.test(t)||(t=r.default.buildAbsoluteURL(a.default.location&&a.default.location.href||\"\",t)),n){var o=new URL(i,t);return e?o.href.slice(\"http://example.com\".length):s?o.href.slice(o.protocol.length):o.href}return r.default.buildAbsoluteURL(t,i)};i.default=s,t.exports=i.default},{\"@babel/runtime/helpers/interopRequireDefault\":6,\"global/window\":35,\"url-toolkit\":46}],21:[function(e,t,i){Object.defineProperty(i,\"__esModule\",{value:!0}),i.default=void 0;var n=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(i,1),i>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var i=t.length,n=0;n<i;++n)t[n].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),a=t.length,s=0;s<a;++s)t[s].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on(\"data\",function(t){e.push(t)})},e}();i.default=n,t.exports=i.default},{}],22:[function(e,t,i){var n=e(\"global/window\");t.exports=function(e,t){return void 0===t&&(t=!1),function(i,r,a){if(i)e(i);else if(r.statusCode>=400&&r.statusCode<=599){var s=a;if(t)if(n.TextDecoder){var o=function(e){return void 0===e&&(e=\"\"),e.toLowerCase().split(\";\").reduce(function(e,t){var i=t.split(\"=\"),n=i[0],r=i[1];return\"charset\"===n.trim()?r.trim():e},\"utf-8\")}(r.headers&&r.headers[\"content-type\"]);try{s=new TextDecoder(o).decode(a)}catch(e){}}else s=String.fromCharCode.apply(null,new Uint8Array(a));e({cause:s})}else e(null,a)}}},{\"global/window\":35}],23:[function(e,t,i){function n(e,t,i){var n=e;return l(t)?(i=t,\"string\"==typeof e&&(n={uri:e})):n=o({},t,{uri:e}),n.callback=i,n}function r(e,t,i){return a(t=n(e,t,i))}function a(e){function t(){var e=void 0;if(e=u.response?u.response:u.responseText||function(e){try{if(\"document\"===e.responseType)return e.responseXML;var t=e.responseXML&&\"parsererror\"===e.responseXML.documentElement.nodeName;if(\"\"===e.responseType&&!t)return e.responseXML}catch(e){}return null}(u),g)try{e=JSON.parse(e)}catch(e){}return e}function i(e){return clearTimeout(d),e instanceof Error||(e=new Error(\"\"+(e||\"Unknown XMLHttpRequest Error\"))),e.statusCode=0,l(e,_)}function n(){if(!s){var i;clearTimeout(d),i=e.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var n=_,r=null;return 0!==i?(n={body:t(),statusCode:i,method:h,headers:{},url:c,rawRequest:u},u.getAllResponseHeaders&&(n.headers=function(e){var t={};return e?(e.trim().split(\"\\n\").forEach(function(e){var i=e.indexOf(\":\"),n=e.slice(0,i).trim().toLowerCase(),r=e.slice(i+1).trim();void 0===t[n]?t[n]=r:Array.isArray(t[n])?t[n].push(r):t[n]=[t[n],r]}),t):t}(u.getAllResponseHeaders()))):r=new Error(\"Internal XMLHttpRequest Error\"),l(r,n,n.body)}}if(void 0===e.callback)throw new Error(\"callback argument missing\");var a,s,o=!1,l=function(t,i,n){o||(o=!0,e.callback(t,i,n))},u=e.xhr||null;u||(u=e.cors||e.useXDR?new r.XDomainRequest:new r.XMLHttpRequest);var d,c=u.url=e.uri||e.url,h=u.method=e.method||\"GET\",f=e.body||e.data,p=u.headers=e.headers||{},m=!!e.sync,g=!1,_={body:void 0,headers:{},statusCode:0,method:h,url:c,rawRequest:u};if(\"json\"in e&&!1!==e.json&&(g=!0,p.accept||p.Accept||(p.Accept=\"application/json\"),\"GET\"!==h&&\"HEAD\"!==h&&(p[\"content-type\"]||p[\"Content-Type\"]||(p[\"Content-Type\"]=\"application/json\"),f=JSON.stringify(!0===e.json?f:e.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(n,0)},u.onload=n,u.onerror=i,u.onprogress=function(){},u.onabort=function(){s=!0},u.ontimeout=i,u.open(h,c,!m,e.username,e.password),m||(u.withCredentials=!!e.withCredentials),!m&&e.timeout>0&&(d=setTimeout(function(){if(!s){s=!0,u.abort(\"timeout\");var e=new Error(\"XMLHttpRequest timeout\");e.code=\"ETIMEDOUT\",i(e)}},e.timeout)),u.setRequestHeader)for(a in p)p.hasOwnProperty(a)&&u.setRequestHeader(a,p[a]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error(\"Headers cannot be set on an XDomainRequest object\");return\"responseType\"in e&&(u.responseType=e.responseType),\"beforeSend\"in e&&\"function\"==typeof e.beforeSend&&e.beforeSend(u),u.send(f||null),u}var s=e(\"global/window\"),o=e(\"@babel/runtime/helpers/extends\"),l=e(\"is-function\");r.httpHandler=e(\"./http-handler.js\"),t.exports=r,t.exports.default=r,r.XMLHttpRequest=s.XMLHttpRequest||function(){},r.XDomainRequest=\"withCredentials\"in new r.XMLHttpRequest?r.XMLHttpRequest:s.XDomainRequest,function(e,t){for(var i=0;i<e.length;i++)t(e[i])}([\"get\",\"put\",\"post\",\"patch\",\"head\",\"delete\"],function(e){r[\"delete\"===e?\"del\":e]=function(t,i,r){return(i=n(t,i,r)).method=e.toUpperCase(),a(i)}})},{\"./http-handler.js\":22,\"@babel/runtime/helpers/extends\":3,\"global/window\":35,\"is-function\":37}],24:[function(e,t,i){function n(e,t){return void 0===t&&(t=Object),t&&\"function\"==typeof t.freeze?t.freeze(e):e}var r=n({HTML:\"text/html\",isHTML:function(e){return e===r.HTML},XML_APPLICATION:\"application/xml\",XML_TEXT:\"text/xml\",XML_XHTML_APPLICATION:\"application/xhtml+xml\",XML_SVG_IMAGE:\"image/svg+xml\"}),a=n({HTML:\"http://www.w3.org/1999/xhtml\",isHTML:function(e){return e===a.HTML},SVG:\"http://www.w3.org/2000/svg\",XML:\"http://www.w3.org/XML/1998/namespace\",XMLNS:\"http://www.w3.org/2000/xmlns/\"});i.freeze=n,i.MIME_TYPE=r,i.NAMESPACE=a},{}],25:[function(e,t,i){function n(e){this.options=e||{locator:{}}}function r(){this.cdata=!1}function a(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function s(e){if(e)return\"\\n@\"+(e.systemId||\"\")+\"#[line:\"+e.lineNumber+\",col:\"+e.columnNumber+\"]\"}function o(e,t,i){return\"string\"==typeof e?e.substr(t,i):e.length>=t+i||t?new java.lang.String(e,t,i)+\"\":e}function l(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}var u=e(\"./conventions\"),d=e(\"./dom\"),c=e(\"./entities\"),h=e(\"./sax\"),f=d.DOMImplementation,p=u.NAMESPACE,m=h.ParseError,g=h.XMLReader;n.prototype.parseFromString=function(e,t){var i=this.options,n=new g,a=i.domBuilder||new r,o=i.errorHandler,l=i.locator,u=i.xmlns||{},d=/\\/x?html?$/.test(t),h=d?c.HTML_ENTITIES:c.XML_ENTITIES;return l&&a.setDocumentLocator(l),n.errorHandler=function(e,t,i){function n(t){var n=e[t];!n&&o&&(n=2==e.length?function(i){e(t,i)}:e),a[t]=n&&function(e){n(\"[xmldom \"+t+\"]\\t\"+e+s(i))}||function(){}}if(!e){if(t instanceof r)return t;e=t}var a={},o=e instanceof Function;return i=i||{},n(\"warning\"),n(\"error\"),n(\"fatalError\"),a}(o,a,l),n.domBuilder=i.domBuilder||a,d&&(u[\"\"]=p.HTML),u.xml=u.xml||p.XML,e&&\"string\"==typeof e?n.parse(e,u,h):n.errorHandler.error(\"invalid doc source\"),a.doc},r.prototype={startDocument:function(){this.doc=(new f).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,i,n){var r=this.doc,s=r.createElementNS(e,i||t),o=n.length;l(this,s),this.currentElement=s,this.locator&&a(this.locator,s);for(var u=0;u<o;u++){e=n.getURI(u);var d=n.getValue(u),c=(i=n.getQName(u),r.createAttributeNS(e,i));this.locator&&a(n.getLocator(u),c),c.value=c.nodeValue=d,s.setAttributeNode(c)}},endElement:function(e,t,i){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var i=this.doc.createProcessingInstruction(e,t);this.locator&&a(this.locator,i),l(this,i)},ignorableWhitespace:function(e,t,i){},characters:function(e,t,i){if(e=o.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(e);else n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&a(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,i){e=o.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&a(this.locator,n),l(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,i){var n=this.doc.implementation;if(n&&n.createDocumentType){var r=n.createDocumentType(e,t,i);this.locator&&a(this.locator,r),l(this,r),this.doc.doctype=r}},warning:function(e){s(this.locator)},error:function(e){console.error(\"[xmldom error]\\t\"+e,s(this.locator))},fatalError:function(e){throw new m(e,this.locator)}},\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(e){r.prototype[e]=function(){return null}}),i.__DOMHandler=r,i.DOMParser=n,i.DOMImplementation=d.DOMImplementation,i.XMLSerializer=d.XMLSerializer},{\"./conventions\":24,\"./dom\":26,\"./entities\":27,\"./sax\":29}],26:[function(e,t,i){function n(e){return\"\"!==e}function r(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function a(e){if(!e)return[];var t=function(e){return e?e.split(/[\\t\\n\\f\\r ]+/).filter(n):[]}(e);return Object.keys(t.reduce(r,{}))}function o(e,t){for(var i in e)t[i]=e[i]}function l(e,t){var i=e.prototype;if(!(i instanceof t)){var n=function(){};n.prototype=t.prototype,o(i,n=new n),e.prototype=i=n}i.constructor!=e&&(\"function\"!=typeof e&&console.error(\"unknown Class:\"+e),i.constructor=e)}function u(e,t){if(t instanceof Error)var i=t;else i=this,Error.call(this,ae[e]),this.message=ae[e],Error.captureStackTrace&&Error.captureStackTrace(this,u);return i.code=e,t&&(this.message=this.message+\": \"+t),i}function d(){}function c(e,t){this._node=e,this._refresh=t,h(this)}function h(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var i=e._refresh(e._node);z(e,\"length\",i.length),o(i,e),e._inc=t}}function f(){}function p(e,t){for(var i=e.length;i--;)if(e[i]===t)return i}function m(e,t,i,n){if(n?t[p(t,n)]=i:t[t.length++]=i,e){i.ownerElement=e;var r=e.ownerDocument;r&&(n&&E(r,e,n),function(e,t,i){e&&e._inc++,i.namespaceURI===G.XMLNS&&(t._nsMap[i.prefix?i.localName:\"\"]=i.value)}(r,e,i))}}function g(e,t,i){var n=p(t,i);if(!(n>=0))throw u(oe,new Error(e.tagName+\"@\"+i));for(var r=t.length-1;n<r;)t[n]=t[++n];if(t.length=r,e){var a=e.ownerDocument;a&&(E(a,e,i),i.ownerElement=null)}}function _(){}function v(){}function y(e){return(\"<\"==e?\"&lt;\":\">\"==e&&\"&gt;\")||\"&\"==e&&\"&amp;\"||'\"'==e&&\"&quot;\"||\"&#\"+e.charCodeAt()+\";\"}function b(e,t){if(t(e))return!0;if(e=e.firstChild)do if(b(e,t))return!0;while(e=e.nextSibling)}function A(){}function E(e,t,i,n){e&&e._inc++,i.namespaceURI===G.XMLNS&&delete t._nsMap[i.prefix?i.localName:\"\"]}function w(e,t,i){if(e&&e._inc){e._inc++;var n=t.childNodes;if(i)n[n.length++]=i;else{for(var r=t.firstChild,a=0;r;)n[a++]=r,r=r.nextSibling;n.length=a}}}function T(e,t){var i=t.previousSibling,n=t.nextSibling;return i?i.nextSibling=n:e.firstChild=n,n?n.previousSibling=i:e.lastChild=i,w(e.ownerDocument,e),t}function S(e,t,i){var n=t.parentNode;if(n&&n.removeChild(t),t.nodeType===ie){var r=t.firstChild;if(null==r)return t;var a=t.lastChild}else r=a=t;var s=i?i.previousSibling:e.lastChild;r.previousSibling=s,a.nextSibling=i,s?s.nextSibling=r:e.firstChild=r,null==i?e.lastChild=a:i.previousSibling=a;do r.parentNode=e;while(r!==a&&(r=r.nextSibling));return w(e.ownerDocument||e,e),t.nodeType==ie&&(t.firstChild=t.lastChild=null),t}function C(){this._nsMap={}}function k(){}function L(){}function x(){}function I(){}function P(){}function R(){}function D(){}function O(){}function M(){}function U(){}function j(){}function B(){}function N(e,t){var i=[],n=9==this.nodeType&&this.documentElement||this,r=n.prefix,a=n.namespaceURI;if(a&&null==r&&null==(r=n.lookupPrefix(a)))var s=[{namespace:a,prefix:null}];return H(this,i,e,t,s),i.join(\"\")}function F(e,t,i){var n=e.prefix||\"\",r=e.namespaceURI;if(!r)return!1;if(\"xml\"===n&&r===G.XML||r===G.XMLNS)return!1;for(var a=i.length;a--;){var s=i[a];if(s.prefix===n)return s.namespace!==r}return!0}function V(e,t,i){e.push(\" \",t,'=\"',i.replace(/[<&\"]/g,y),'\"')}function H(e,t,i,n,r){if(r||(r=[]),n){if(!(e=n(e)))return;if(\"string\"==typeof e)return void t.push(e)}switch(e.nodeType){case W:var a=e.attributes,s=a.length,o=e.firstChild,l=e.tagName,u=l;if(!(i=G.isHTML(e.namespaceURI)||i)&&!e.prefix&&e.namespaceURI){for(var d,c=0;c<a.length;c++)if(\"xmlns\"===a.item(c).name){d=a.item(c).value;break}if(!d)for(var h=r.length-1;h>=0;h--)if(\"\"===(f=r[h]).prefix&&f.namespace===e.namespaceURI){d=f.namespace;break}if(d!==e.namespaceURI)for(h=r.length-1;h>=0;h--){var f;if((f=r[h]).namespace===e.namespaceURI){f.prefix&&(u=f.prefix+\":\"+l);break}}}t.push(\"<\",u);for(var p=0;p<s;p++)\"xmlns\"==(m=a.item(p)).prefix?r.push({prefix:m.localName,namespace:m.value}):\"xmlns\"==m.nodeName&&r.push({prefix:\"\",namespace:m.value});for(p=0;p<s;p++){var m,g,_;F(m=a.item(p),0,r)&&(V(t,(g=m.prefix||\"\")?\"xmlns:\"+g:\"xmlns\",_=m.namespaceURI),r.push({prefix:g,namespace:_})),H(m,t,i,n,r)}if(l===u&&F(e,0,r)&&(V(t,(g=e.prefix||\"\")?\"xmlns:\"+g:\"xmlns\",_=e.namespaceURI),r.push({prefix:g,namespace:_})),o||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(\">\"),i&&/^script$/i.test(l))for(;o;)o.data?t.push(o.data):H(o,t,i,n,r.slice()),o=o.nextSibling;else for(;o;)H(o,t,i,n,r.slice()),o=o.nextSibling;t.push(\"</\",u,\">\")}else t.push(\"/>\");return;case ee:case ie:for(o=e.firstChild;o;)H(o,t,i,n,r.slice()),o=o.nextSibling;return;case q:return V(t,e.name,e.value);case Q:return t.push(e.data.replace(/[<&]/g,y).replace(/]]>/g,\"]]&gt;\"));case J:return t.push(\"<![CDATA[\",e.data,\"]]>\");case $:return t.push(\"<!--\",e.data,\"-->\");case te:var v=e.publicId,b=e.systemId;if(t.push(\"<!DOCTYPE \",e.name),v)t.push(\" PUBLIC \",v),b&&\".\"!=b&&t.push(\" \",b),t.push(\">\");else if(b&&\".\"!=b)t.push(\" SYSTEM \",b,\">\");else{var A=e.internalSubset;A&&t.push(\" [\",A,\"]\"),t.push(\">\")}return;case Z:return t.push(\"<?\",e.target,\" \",e.data,\"?>\");case K:return t.push(\"&\",e.nodeName,\";\");default:t.push(\"??\",e.nodeName)}}function z(e,t,i){e[t]=i}var G=e(\"./conventions\").NAMESPACE,Y={},W=Y.ELEMENT_NODE=1,q=Y.ATTRIBUTE_NODE=2,Q=Y.TEXT_NODE=3,J=Y.CDATA_SECTION_NODE=4,K=Y.ENTITY_REFERENCE_NODE=5,X=Y.ENTITY_NODE=6,Z=Y.PROCESSING_INSTRUCTION_NODE=7,$=Y.COMMENT_NODE=8,ee=Y.DOCUMENT_NODE=9,te=Y.DOCUMENT_TYPE_NODE=10,ie=Y.DOCUMENT_FRAGMENT_NODE=11,ne=Y.NOTATION_NODE=12,re={},ae={},se=(re.INDEX_SIZE_ERR=(ae[1]=\"Index size error\",1),re.DOMSTRING_SIZE_ERR=(ae[2]=\"DOMString size error\",2),re.HIERARCHY_REQUEST_ERR=(ae[3]=\"Hierarchy request error\",3)),oe=(re.WRONG_DOCUMENT_ERR=(ae[4]=\"Wrong document\",4),re.INVALID_CHARACTER_ERR=(ae[5]=\"Invalid character\",5),re.NO_DATA_ALLOWED_ERR=(ae[6]=\"No data allowed\",6),re.NO_MODIFICATION_ALLOWED_ERR=(ae[7]=\"No modification allowed\",7),re.NOT_FOUND_ERR=(ae[8]=\"Not found\",8)),le=(re.NOT_SUPPORTED_ERR=(ae[9]=\"Not supported\",9),re.INUSE_ATTRIBUTE_ERR=(ae[10]=\"Attribute in use\",10));re.INVALID_STATE_ERR=(ae[11]=\"Invalid state\",11),re.SYNTAX_ERR=(ae[12]=\"Syntax error\",12),re.INVALID_MODIFICATION_ERR=(ae[13]=\"Invalid modification\",13),re.NAMESPACE_ERR=(ae[14]=\"Invalid namespace\",14),re.INVALID_ACCESS_ERR=(ae[15]=\"Invalid access\",15),u.prototype=Error.prototype,o(re,u),d.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var i=[],n=0;n<this.length;n++)H(this[n],i,e,t);return i.join(\"\")}},c.prototype.item=function(e){return h(this),this[e]},l(c,d),f.prototype={length:0,item:d.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var i=this[t];if(i.nodeName==e)return i}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new u(le);var i=this.getNamedItem(e.nodeName);return m(this._ownerElement,this,e,i),i},setNamedItemNS:function(e){var t,i=e.ownerElement;if(i&&i!=this._ownerElement)throw new u(le);return t=this.getNamedItemNS(e.namespaceURI,e.localName),m(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return g(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var i=this.getNamedItemNS(e,t);return g(this._ownerElement,this,i),i},getNamedItemNS:function(e,t){for(var i=this.length;i--;){var n=this[i];if(n.localName==t&&n.namespaceURI==e)return n}return null}},_.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,i){\nvar n=new A;if(n.implementation=this,n.childNodes=new d,n.doctype=i||null,i&&n.appendChild(i),t){var r=n.createElementNS(e,t);n.appendChild(r)}return n},createDocumentType:function(e,t,i){var n=new R;return n.name=e,n.nodeName=e,n.publicId=t||\"\",n.systemId=i||\"\",n}},v.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return S(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return T(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,i,n){var r=new i.constructor;for(var a in i){var o=i[a];\"object\"!=(\"undefined\"==typeof o?\"undefined\":s(o))&&o!=r[a]&&(r[a]=o)}switch(i.childNodes&&(r.childNodes=new d),r.ownerDocument=t,r.nodeType){case W:var l=i.attributes,u=r.attributes=new f,c=l.length;u._ownerElement=r;for(var h=0;h<c;h++)r.setAttributeNode(e(t,l.item(h),!0));break;case q:n=!0}if(n)for(var p=i.firstChild;p;)r.appendChild(e(t,p,n)),p=p.nextSibling;return r}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==Q&&e.nodeType==Q?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var i=t._nsMap;if(i)for(var n in i)if(i[n]==e)return n;t=t.nodeType==q?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var i=t._nsMap;if(i&&e in i)return i[e];t=t.nodeType==q?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},o(Y,v),o(Y,v.prototype),A.prototype={nodeName:\"#document\",nodeType:ee,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==ie){for(var i=e.firstChild;i;){var n=i.nextSibling;this.insertBefore(i,t),i=n}return e}return null==this.documentElement&&e.nodeType==W&&(this.documentElement=e),S(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),T(this,e)},importNode:function(e,t){return function e(t,i,n){var r;switch(i.nodeType){case W:(r=i.cloneNode(!1)).ownerDocument=t;case ie:break;case q:n=!0}if(r||(r=i.cloneNode(!1)),r.ownerDocument=t,r.parentNode=null,n)for(var a=i.firstChild;a;)r.appendChild(e(t,a,n)),a=a.nextSibling;return r}(this,e,t)},getElementById:function(e){var t=null;return b(this.documentElement,function(i){if(i.nodeType==W&&i.getAttribute(\"id\")==e)return t=i,!0}),t},getElementsByClassName:function(e){var t=a(e);return new c(this,function(i){var n=[];return t.length>0&&b(i.documentElement,function(r){if(r!==i&&r.nodeType===W){var s=r.getAttribute(\"class\");if(s){var o=e===s;if(!o){var l=a(s);o=t.every((u=l,function(e){return u&&-1!==u.indexOf(e)}))}o&&n.push(r)}}var u}),n})},createElement:function(e){var t=new C;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new d,(t.attributes=new f)._ownerElement=t,t},createDocumentFragment:function(){var e=new U;return e.ownerDocument=this,e.childNodes=new d,e},createTextNode:function(e){var t=new x;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new I;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new P;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var i=new j;return i.ownerDocument=this,i.tagName=i.target=e,i.nodeValue=i.data=t,i},createAttribute:function(e){var t=new k;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new M;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var i=new C,n=t.split(\":\"),r=i.attributes=new f;return i.childNodes=new d,i.ownerDocument=this,i.nodeName=t,i.tagName=t,i.namespaceURI=e,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=t,r._ownerElement=i,i},createAttributeNS:function(e,t){var i=new k,n=t.split(\":\");return i.ownerDocument=this,i.nodeName=t,i.name=t,i.namespaceURI=e,i.specified=!0,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=t,i}},l(A,v),C.prototype={nodeType:W,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||\"\"},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var i=this.ownerDocument.createAttribute(e);i.value=i.nodeValue=\"\"+t,this.setAttributeNode(i)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===ie?this.insertBefore(e,null):function(e,t){var i=t.parentNode;if(i){var n=e.lastChild;i.removeChild(t),n=e.lastChild}return n=e.lastChild,t.parentNode=e,t.previousSibling=n,t.nextSibling=null,n?n.nextSibling=t:e.firstChild=t,e.lastChild=t,w(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var i=this.getAttributeNodeNS(e,t);i&&this.removeAttributeNode(i)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var i=this.getAttributeNodeNS(e,t);return i&&i.value||\"\"},setAttributeNS:function(e,t,i){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=\"\"+i,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new c(this,function(t){var i=[];return b(t,function(n){n===t||n.nodeType!=W||\"*\"!==e&&n.tagName!=e||i.push(n)}),i})},getElementsByTagNameNS:function(e,t){return new c(this,function(i){var n=[];return b(i,function(r){r===i||r.nodeType!==W||\"*\"!==e&&r.namespaceURI!==e||\"*\"!==t&&r.localName!=t||n.push(r)}),n})}},A.prototype.getElementsByTagName=C.prototype.getElementsByTagName,A.prototype.getElementsByTagNameNS=C.prototype.getElementsByTagNameNS,l(C,v),k.prototype.nodeType=q,l(k,v),L.prototype={data:\"\",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(ae[se])},deleteData:function(e,t){this.replaceData(e,t,\"\")},replaceData:function(e,t,i){i=this.data.substring(0,e)+i+this.data.substring(e+t),this.nodeValue=this.data=i,this.length=i.length}},l(L,v),x.prototype={nodeName:\"#text\",nodeType:Q,splitText:function(e){var t=this.data,i=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},l(x,L),I.prototype={nodeName:\"#comment\",nodeType:$},l(I,L),P.prototype={nodeName:\"#cdata-section\",nodeType:J},l(P,L),R.prototype.nodeType=te,l(R,v),D.prototype.nodeType=ne,l(D,v),O.prototype.nodeType=X,l(O,v),M.prototype.nodeType=K,l(M,v),U.prototype.nodeName=\"#document-fragment\",U.prototype.nodeType=ie,l(U,v),j.prototype.nodeType=Z,l(j,v),B.prototype.serializeToString=function(e,t,i){return N.call(e,t,i)},v.prototype.toString=N;try{Object.defineProperty&&(Object.defineProperty(c.prototype,\"length\",{get:function(){return h(this),this.$$length}}),Object.defineProperty(v.prototype,\"textContent\",{get:function(){return function e(t){switch(t.nodeType){case W:case ie:var i=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&i.push(e(t)),t=t.nextSibling;return i.join(\"\");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case W:case ie:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),z=function(e,t,i){e[\"$$\"+t]=i})}catch(e){}i.DocumentType=R,i.DOMException=u,i.DOMImplementation=_,i.Element=C,i.Node=v,i.NodeList=d,i.XMLSerializer=B},{\"./conventions\":24}],27:[function(e,t,i){var n=e(\"./conventions\").freeze;i.XML_ENTITIES=n({amp:\"&\",apos:\"'\",gt:\">\",lt:\"<\",quot:'\"'}),i.HTML_ENTITIES=n({lt:\"<\",gt:\">\",amp:\"&\",quot:'\"',apos:\"'\",Agrave:\"À\",Aacute:\"Á\",Acirc:\"Â\",Atilde:\"Ã\",Auml:\"Ä\",Aring:\"Å\",AElig:\"Æ\",Ccedil:\"Ç\",Egrave:\"È\",Eacute:\"É\",Ecirc:\"Ê\",Euml:\"Ë\",Igrave:\"Ì\",Iacute:\"Í\",Icirc:\"Î\",Iuml:\"Ï\",ETH:\"Ð\",Ntilde:\"Ñ\",Ograve:\"Ò\",Oacute:\"Ó\",Ocirc:\"Ô\",Otilde:\"Õ\",Ouml:\"Ö\",Oslash:\"Ø\",Ugrave:\"Ù\",Uacute:\"Ú\",Ucirc:\"Û\",Uuml:\"Ü\",Yacute:\"Ý\",THORN:\"Þ\",szlig:\"ß\",agrave:\"à\",aacute:\"á\",acirc:\"â\",atilde:\"ã\",auml:\"ä\",aring:\"å\",aelig:\"æ\",ccedil:\"ç\",egrave:\"è\",eacute:\"é\",ecirc:\"ê\",euml:\"ë\",igrave:\"ì\",iacute:\"í\",icirc:\"î\",iuml:\"ï\",eth:\"ð\",ntilde:\"ñ\",ograve:\"ò\",oacute:\"ó\",ocirc:\"ô\",otilde:\"õ\",ouml:\"ö\",oslash:\"ø\",ugrave:\"ù\",uacute:\"ú\",ucirc:\"û\",uuml:\"ü\",yacute:\"ý\",thorn:\"þ\",yuml:\"ÿ\",nbsp:\" \",iexcl:\"¡\",cent:\"¢\",pound:\"£\",curren:\"¤\",yen:\"¥\",brvbar:\"¦\",sect:\"§\",uml:\"¨\",copy:\"©\",ordf:\"ª\",laquo:\"«\",not:\"¬\",shy:\"­­\",reg:\"®\",macr:\"¯\",deg:\"°\",plusmn:\"±\",sup2:\"²\",sup3:\"³\",acute:\"´\",micro:\"µ\",para:\"¶\",middot:\"·\",cedil:\"¸\",sup1:\"¹\",ordm:\"º\",raquo:\"»\",frac14:\"¼\",frac12:\"½\",frac34:\"¾\",iquest:\"¿\",times:\"×\",divide:\"÷\",forall:\"∀\",part:\"∂\",exist:\"∃\",empty:\"∅\",nabla:\"∇\",isin:\"∈\",notin:\"∉\",ni:\"∋\",prod:\"∏\",sum:\"∑\",minus:\"−\",lowast:\"∗\",radic:\"√\",prop:\"∝\",infin:\"∞\",ang:\"∠\",and:\"∧\",or:\"∨\",cap:\"∩\",cup:\"∪\",int:\"∫\",there4:\"∴\",sim:\"∼\",cong:\"≅\",asymp:\"≈\",ne:\"≠\",equiv:\"≡\",le:\"≤\",ge:\"≥\",sub:\"⊂\",sup:\"⊃\",nsub:\"⊄\",sube:\"⊆\",supe:\"⊇\",oplus:\"⊕\",otimes:\"⊗\",perp:\"⊥\",sdot:\"⋅\",Alpha:\"Α\",Beta:\"Β\",Gamma:\"Γ\",Delta:\"Δ\",Epsilon:\"Ε\",Zeta:\"Ζ\",Eta:\"Η\",Theta:\"Θ\",Iota:\"Ι\",Kappa:\"Κ\",Lambda:\"Λ\",Mu:\"Μ\",Nu:\"Ν\",Xi:\"Ξ\",Omicron:\"Ο\",Pi:\"Π\",Rho:\"Ρ\",Sigma:\"Σ\",Tau:\"Τ\",Upsilon:\"Υ\",Phi:\"Φ\",Chi:\"Χ\",Psi:\"Ψ\",Omega:\"Ω\",alpha:\"α\",beta:\"β\",gamma:\"γ\",delta:\"δ\",epsilon:\"ε\",zeta:\"ζ\",eta:\"η\",theta:\"θ\",iota:\"ι\",kappa:\"κ\",lambda:\"λ\",mu:\"μ\",nu:\"ν\",xi:\"ξ\",omicron:\"ο\",pi:\"π\",rho:\"ρ\",sigmaf:\"ς\",sigma:\"σ\",tau:\"τ\",upsilon:\"υ\",phi:\"φ\",chi:\"χ\",psi:\"ψ\",omega:\"ω\",thetasym:\"ϑ\",upsih:\"ϒ\",piv:\"ϖ\",OElig:\"Œ\",oelig:\"œ\",Scaron:\"Š\",scaron:\"š\",Yuml:\"Ÿ\",fnof:\"ƒ\",circ:\"ˆ\",tilde:\"˜\",ensp:\" \",emsp:\" \",thinsp:\" \",zwnj:\"‌\",zwj:\"‍\",lrm:\"‎\",rlm:\"‏\",ndash:\"–\",mdash:\"—\",lsquo:\"‘\",rsquo:\"’\",sbquo:\"‚\",ldquo:\"“\",rdquo:\"”\",bdquo:\"„\",dagger:\"†\",Dagger:\"‡\",bull:\"•\",hellip:\"…\",permil:\"‰\",prime:\"′\",Prime:\"″\",lsaquo:\"‹\",rsaquo:\"›\",oline:\"‾\",euro:\"€\",trade:\"™\",larr:\"←\",uarr:\"↑\",rarr:\"→\",darr:\"↓\",harr:\"↔\",crarr:\"↵\",lceil:\"⌈\",rceil:\"⌉\",lfloor:\"⌊\",rfloor:\"⌋\",loz:\"◊\",spades:\"♠\",clubs:\"♣\",hearts:\"♥\",diams:\"♦\"}),i.entityMap=i.HTML_ENTITIES},{\"./conventions\":24}],28:[function(e,t,i){var n=e(\"./dom\");i.DOMImplementation=n.DOMImplementation,i.XMLSerializer=n.XMLSerializer,i.DOMParser=e(\"./dom-parser\").DOMParser},{\"./dom\":26,\"./dom-parser\":25}],29:[function(e,t,i){function n(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,n)}function r(){}function a(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function s(e,t,i,n,r,a){function s(e,t,n){i.attributeNames.hasOwnProperty(e)&&a.fatalError(\"Attribute \"+e+\" redefined\"),i.addValue(e,t,n)}for(var o,l=++t,u=0;;){var d=e.charAt(l);switch(d){case\"=\":if(1===u)o=e.slice(t,l),u=3;else{if(2!==u)throw new Error(\"attribute equal must after attrName\");u=3}break;case\"'\":case'\"':if(3===u||1===u){if(1===u&&(a.warning('attribute value must after \"=\"'),o=e.slice(t,l)),t=l+1,!((l=e.indexOf(d,t))>0))throw new Error(\"attribute value no end '\"+d+\"' match\");s(o,c=e.slice(t,l).replace(/&#?\\w+;/g,r),t-1),u=5}else{if(4!=u)throw new Error('attribute value must after \"=\"');s(o,c=e.slice(t,l).replace(/&#?\\w+;/g,r),t),a.warning('attribute \"'+o+'\" missed start quot('+d+\")!!\"),t=l+1,u=5}break;case\"/\":switch(u){case 0:i.setTagName(e.slice(t,l));case 5:case 6:case 7:u=7,i.closed=!0;case 4:case 1:case 2:break;default:throw new Error(\"attribute invalid close char('/')\")}break;case\"\":return a.error(\"unexpected end of input\"),0==u&&i.setTagName(e.slice(t,l)),l;case\">\":switch(u){case 0:i.setTagName(e.slice(t,l));case 5:case 6:case 7:break;case 4:case 1:\"/\"===(c=e.slice(t,l)).slice(-1)&&(i.closed=!0,c=c.slice(0,-1));case 2:2===u&&(c=o),4==u?(a.warning('attribute \"'+c+'\" missed quot(\")!'),s(o,c.replace(/&#?\\w+;/g,r),t)):(p.isHTML(n[\"\"])&&c.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute \"'+c+'\" missed value!! \"'+c+'\" instead!!'),s(c,c,t));break;case 3:throw new Error(\"attribute value missed!!\")}return l;case\"\":d=\" \";default:if(d<=\" \")switch(u){case 0:i.setTagName(e.slice(t,l)),u=6;break;case 1:o=e.slice(t,l),u=2;break;case 4:var c=e.slice(t,l).replace(/&#?\\w+;/g,r);a.warning('attribute \"'+c+'\" missed quot(\")!!'),s(o,c,t);case 5:u=6}else switch(u){case 2:i.tagName,p.isHTML(n[\"\"])&&o.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute \"'+o+'\" missed value!! \"'+o+'\" instead2!!'),s(o,o,t),t=l,u=1;break;case 5:a.warning('attribute space is required\"'+o+'\"!!');case 6:u=1,t=l;break;case 3:u=4,t=l;break;case 7:throw new Error(\"elements closed character '/' and '>' must be connected to\")}}l++}}function o(e,t,i){for(var n=e.tagName,r=null,a=e.length;a--;){var s=e[a],o=s.qName,l=s.value;if((f=o.indexOf(\":\"))>0)var u=s.prefix=o.slice(0,f),c=o.slice(f+1),h=\"xmlns\"===u&&c;else c=o,u=null,h=\"xmlns\"===o&&\"\";s.localName=c,!1!==h&&(null==r&&(r={},d(i,i={})),i[h]=r[h]=l,s.uri=p.XMLNS,t.startPrefixMapping(h,l))}for(a=e.length;a--;)(u=(s=e[a]).prefix)&&(\"xml\"===u&&(s.uri=p.XML),\"xmlns\"!==u&&(s.uri=i[u||\"\"]));var f;(f=n.indexOf(\":\"))>0?(u=e.prefix=n.slice(0,f),c=e.localName=n.slice(f+1)):(u=null,c=e.localName=n);var m=e.uri=i[u||\"\"];if(t.startElement(m,c,n,e),!e.closed)return e.currentNSMap=i,e.localNSMap=r,!0;if(t.endElement(m,c,n),r)for(u in r)t.endPrefixMapping(u)}function l(e,t,i,n,r){if(/^(?:script|textarea)$/i.test(i)){var a=e.indexOf(\"</\"+i+\">\",t),s=e.substring(t+1,a);if(/[&<]/.test(s))return/^script$/i.test(i)?(r.characters(s,0,s.length),a):(s=s.replace(/&#?\\w+;/g,n),r.characters(s,0,s.length),a)}return t+1}function u(e,t,i,n){var r=n[i];return null==r&&((r=e.lastIndexOf(\"</\"+i+\">\"))<t&&(r=e.lastIndexOf(\"</\"+i)),n[i]=r),r<t}function d(e,t){for(var i in e)t[i]=e[i]}function c(e,t,i,n){switch(e.charAt(t+2)){case\"-\":return\"-\"===e.charAt(t+3)?(r=e.indexOf(\"-->\",t+4))>t?(i.comment(e,t+4,r-t-4),r+3):(n.error(\"Unclosed comment\"),-1):-1;default:if(\"CDATA[\"==e.substr(t+3,6)){var r=e.indexOf(\"]]>\",t+9);return i.startCDATA(),i.characters(e,t+9,r-t-9),i.endCDATA(),r+3}var a=function(e,t){var i,n=[],r=/'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;for(r.lastIndex=t,r.exec(e);i=r.exec(e);)if(n.push(i),i[1])return n}(e,t),s=a.length;if(s>1&&/!doctype/i.test(a[0][0])){var o=a[1][0],l=!1,u=!1;s>3&&(/^public$/i.test(a[2][0])?(l=a[3][0],u=s>4&&a[4][0]):/^system$/i.test(a[2][0])&&(u=a[3][0]));var d=a[s-1];return i.startDTD(o,l,u),i.endDTD(),d.index+d[0].length}}return-1}function h(e,t,i){var n=e.indexOf(\"?>\",t);if(n){var r=e.substring(t,n).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);return r?(r[0].length,i.processingInstruction(r[1],r[2]),n+2):-1}return-1}function f(){this.attributeNames={}}var p=e(\"./conventions\").NAMESPACE,m=/[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/,g=new RegExp(\"[\\\\-\\\\.0-9\"+m.source.slice(1,-1)+\"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\"),_=new RegExp(\"^\"+m.source+g.source+\"*(?::\"+m.source+g.source+\"*)?$\");n.prototype=new Error,n.prototype.name=n.name,r.prototype={parse:function(e,t,i){var r=this.domBuilder;r.startDocument(),d(t,t={}),function(e,t,i,r,d){function m(e){var t=e.slice(1,-1);return t in i?i[t]:\"#\"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),i=56320+(1023&e);return String.fromCharCode(t,i)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace(\"x\",\"0x\"))):(d.error(\"entity not found:\"+e),e)}function g(t){if(t>T){var i=e.substring(T,t).replace(/&#?\\w+;/g,m);A&&_(T),r.characters(i,0,t-T),T=t}}function _(t,i){for(;t>=y&&(i=b.exec(e));)v=i.index,y=v+i[0].length,A.lineNumber++;A.columnNumber=t-v+1}for(var v=0,y=0,b=/.*(?:\\r\\n?|\\n)|.*$/g,A=r.locator,E=[{currentNSMap:t}],w={},T=0;;){try{var S=e.indexOf(\"<\",T);if(S<0){if(!e.substr(T).match(/^\\s*$/)){var C=r.doc,k=C.createTextNode(e.substr(T));C.appendChild(k),r.currentElement=k}return}switch(S>T&&g(S),e.charAt(S+1)){case\"/\":var L=e.indexOf(\">\",S+3),x=e.substring(S+2,L).replace(/[ \\t\\n\\r]+$/g,\"\"),I=E.pop();L<0?(x=e.substring(S+2).replace(/[\\s<].*/,\"\"),d.error(\"end tag name: \"+x+\" is not complete:\"+I.tagName),L=S+1+x.length):x.match(/\\s</)&&(x=x.replace(/[\\s<].*/,\"\"),d.error(\"end tag name: \"+x+\" maybe not complete\"),L=S+1+x.length);var P=I.localNSMap,R=I.tagName==x;if(R||I.tagName&&I.tagName.toLowerCase()==x.toLowerCase()){if(r.endElement(I.uri,I.localName,x),P)for(var D in P)r.endPrefixMapping(D);R||d.fatalError(\"end tag name: \"+x+\" is not match the current start tagName:\"+I.tagName)}else E.push(I);L++;break;case\"?\":A&&_(S),L=h(e,S,r);break;case\"!\":A&&_(S),L=c(e,S,r,d);break;default:A&&_(S);var O=new f,M=E[E.length-1].currentNSMap,U=(L=s(e,S,O,M,m,d),O.length);if(!O.closed&&u(e,L,O.tagName,w)&&(O.closed=!0,i.nbsp||d.warning(\"unclosed xml attribute\")),A&&U){for(var j=a(A,{}),B=0;B<U;B++){var N=O[B];_(N.offset),N.locator=a(A,{})}r.locator=j,o(O,r,M)&&E.push(O),r.locator=A}else o(O,r,M)&&E.push(O);p.isHTML(O.uri)&&!O.closed?L=l(e,L,O.tagName,m,r):L++}}catch(e){if(e instanceof n)throw e;d.error(\"element parse error: \"+e),L=-1}L>T?T=L:g(Math.max(S,T)+1)}}(e,t,i,r,this.errorHandler),r.endDocument()}},f.prototype={setTagName:function(e){if(!_.test(e))throw new Error(\"invalid tagName:\"+e);this.tagName=e},addValue:function(e,t,i){if(!_.test(e))throw new Error(\"invalid attribute:\"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:i}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},i.XMLReader=r,i.ParseError=n},{\"./conventions\":24}],30:[function(e,t,i){function n(e){var t=e.length;if(t%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var i=e.indexOf(\"=\");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function r(e,t,i){for(var n,r,s=[],o=t;o<i;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(a[(r=n)>>18&63]+a[r>>12&63]+a[r>>6&63]+a[63&r]);return s.join(\"\")}i.byteLength=function(e){var t=n(e),i=t[0],r=t[1];return 3*(i+r)/4-r},i.toByteArray=function(e){var t,i,r=n(e),a=r[0],l=r[1],u=new o(function(e,t,i){return 3*(t+i)/4-i}(0,a,l)),d=0,c=l>0?a-4:a;for(i=0;i<c;i+=4)t=s[e.charCodeAt(i)]<<18|s[e.charCodeAt(i+1)]<<12|s[e.charCodeAt(i+2)]<<6|s[e.charCodeAt(i+3)],u[d++]=t>>16&255,u[d++]=t>>8&255,u[d++]=255&t;return 2===l&&(t=s[e.charCodeAt(i)]<<2|s[e.charCodeAt(i+1)]>>4,u[d++]=255&t),1===l&&(t=s[e.charCodeAt(i)]<<10|s[e.charCodeAt(i+1)]<<4|s[e.charCodeAt(i+2)]>>2,u[d++]=t>>8&255,u[d++]=255&t),u},i.fromByteArray=function(e){for(var t,i=e.length,n=i%3,s=[],o=0,l=i-n;o<l;o+=16383)s.push(r(e,o,o+16383>l?l:o+16383));return 1===n?(t=e[i-1],s.push(a[t>>2]+a[t<<4&63]+\"==\")):2===n&&(t=(e[i-2]<<8)+e[i-1],s.push(a[t>>10]+a[t>>4&63]+a[t<<2&63]+\"=\")),s.join(\"\")};for(var a=[],s=[],o=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,l=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",u=0,d=l.length;u<d;++u)a[u]=l[u],s[l.charCodeAt(u)]=u;s[\"-\".charCodeAt(0)]=62,s[\"_\".charCodeAt(0)]=63},{}],31:[function(e,t,i){},{}],32:[function(e,t,i){(function(t){function n(e){if(e>2147483647)throw new RangeError('The value \"'+e+'\" is invalid for option \"size\"');var i=new Uint8Array(e);return i.__proto__=t.prototype,i}function t(e,t,i){if(\"number\"==typeof e){if(\"string\"==typeof t)throw new TypeError('The \"string\" argument must be of type string. Received type number');return o(e)}return r(e,t,i)}function r(e,i,r){if(\"string\"==typeof e)return function(e,i){if(\"string\"==typeof i&&\"\"!==i||(i=\"utf8\"),!t.isEncoding(i))throw new TypeError(\"Unknown encoding: \"+i);var r=0|d(e,i),a=n(r),s=a.write(e,i);return s!==r&&(a=a.slice(0,s)),a}(e,i);if(ArrayBuffer.isView(e))return l(e);if(null==e)throw TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+(\"undefined\"==typeof e?\"undefined\":s(e)));if(U(e,ArrayBuffer)||e&&U(e.buffer,ArrayBuffer))return function(e,i,n){if(i<0||e.byteLength<i)throw new RangeError('\"offset\" is outside of buffer bounds');if(e.byteLength<i+(n||0))throw new RangeError('\"length\" is outside of buffer bounds');var r;return r=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n),r.__proto__=t.prototype,r}(e,i,r);if(\"number\"==typeof e)throw new TypeError('The \"value\" argument must not be of type number. Received type number');var a=e.valueOf&&e.valueOf();if(null!=a&&a!==e)return t.from(a,i,r);var o=function(e){if(t.isBuffer(e)){var i=0|u(e.length),r=n(i);return 0===r.length||e.copy(r,0,0,i),r}return void 0!==e.length?\"number\"!=typeof e.length||j(e.length)?n(0):l(e):\"Buffer\"===e.type&&Array.isArray(e.data)?l(e.data):void 0}(e);if(o)return o;if(\"undefined\"!=typeof Symbol&&null!=Symbol.toPrimitive&&\"function\"==typeof e[Symbol.toPrimitive])return t.from(e[Symbol.toPrimitive](\"string\"),i,r);throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+(\"undefined\"==typeof e?\"undefined\":s(e)))}function a(e){if(\"number\"!=typeof e)throw new TypeError('\"size\" argument must be of type number');if(e<0)throw new RangeError('The value \"'+e+'\" is invalid for option \"size\"')}function o(e){return a(e),n(e<0?0:0|u(e))}function l(e){for(var t=e.length<0?0:0|u(e.length),i=n(t),r=0;r<t;r+=1)i[r]=255&e[r];return i}function u(e){if(e>=2147483647)throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+2147483647..toString(16)+\" bytes\");return 0|e}function d(e,i){if(t.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||U(e,ArrayBuffer))return e.byteLength;if(\"string\"!=typeof e)throw new TypeError('The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(\"undefined\"==typeof e?\"undefined\":s(e)));var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var a=!1;;)switch(i){case\"ascii\":case\"latin1\":case\"binary\":return n;case\"utf8\":case\"utf-8\":return D(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*n;case\"hex\":return n>>>1;case\"base64\":return O(e).length;default:if(a)return r?-1:D(e).length;i=(\"\"+i).toLowerCase(),a=!0}}function c(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return\"\";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return\"\";if((i>>>=0)<=(t>>>=0))return\"\";for(e||(e=\"utf8\");;)switch(e){case\"hex\":return S(this,t,i);case\"utf8\":case\"utf-8\":return E(this,t,i);case\"ascii\":return w(this,t,i);case\"latin1\":case\"binary\":return T(this,t,i);case\"base64\":return A(this,t,i);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return C(this,t,i);default:if(n)throw new TypeError(\"Unknown encoding: \"+e);e=(e+\"\").toLowerCase(),n=!0}}function h(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function f(e,i,n,r,a){if(0===e.length)return-1;if(\"string\"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),j(n=+n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if(\"string\"==typeof i&&(i=t.from(i,r)),t.isBuffer(i))return 0===i.length?-1:p(e,i,n,r,a);if(\"number\"==typeof i)return i&=255,\"function\"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,i,n):Uint8Array.prototype.lastIndexOf.call(e,i,n):p(e,[i],n,r,a);throw new TypeError(\"val must be string, number or Buffer\")}function p(e,t,i,n,r){function a(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var s,o=1,l=e.length,u=t.length;if(void 0!==n&&(\"ucs2\"===(n=String(n).toLowerCase())||\"ucs-2\"===n||\"utf16le\"===n||\"utf-16le\"===n)){if(e.length<2||t.length<2)return-1;o=2,l/=2,u/=2,i/=2}if(r){var d=-1;for(s=i;s<l;s++)if(a(e,s)===a(t,-1===d?0:s-d)){if(-1===d&&(d=s),s-d+1===u)return d*o}else-1!==d&&(s-=s-d),d=-1}else for(i+u>l&&(i=l-u),s=i;s>=0;s--){for(var c=!0,h=0;h<u;h++)if(a(e,s+h)!==a(t,h)){c=!1;break}if(c)return s}return-1}function m(e,t,i,n){i=Number(i)||0;var r=e.length-i;n?(n=Number(n))>r&&(n=r):n=r;var a=t.length;n>a/2&&(n=a/2);for(var s=0;s<n;++s){var o=parseInt(t.substr(2*s,2),16);if(j(o))return s;e[i+s]=o}return s}function g(e,t,i,n){return M(D(t,e.length-i),e,i,n)}function _(e,t,i,n){return M(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,n)}function v(e,t,i,n){return _(e,t,i,n)}function y(e,t,i,n){return M(O(t),e,i,n)}function b(e,t,i,n){return M(function(e,t){for(var i,n,r,a=[],s=0;s<e.length&&!((t-=2)<0);++s)i=e.charCodeAt(s),n=i>>8,r=i%256,a.push(r),a.push(n);return a}(t,e.length-i),e,i,n)}function A(e,t,i){return 0===t&&i===e.length?B.fromByteArray(e):B.fromByteArray(e.slice(t,i))}function E(e,t,i){i=Math.min(e.length,i);for(var n=[],r=t;r<i;){var a,s,o,l,u=e[r],d=null,c=u>239?4:u>223?3:u>191?2:1;if(r+c<=i)switch(c){case 1:u<128&&(d=u);break;case 2:128==(192&(a=e[r+1]))&&(l=(31&u)<<6|63&a)>127&&(d=l);break;case 3:a=e[r+1],s=e[r+2],128==(192&a)&&128==(192&s)&&(l=(15&u)<<12|(63&a)<<6|63&s)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:a=e[r+1],s=e[r+2],o=e[r+3],128==(192&a)&&128==(192&s)&&128==(192&o)&&(l=(15&u)<<18|(63&a)<<12|(63&s)<<6|63&o)>65535&&l<1114112&&(d=l)}null===d?(d=65533,c=1):d>65535&&(d-=65536,n.push(d>>>10&1023|55296),d=56320|1023&d),n.push(d),r+=c}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var i=\"\",n=0;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return i}(n)}function w(e,t,i){var n=\"\";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(127&e[r]);return n}function T(e,t,i){var n=\"\";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(e[r]);return n}function S(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var r=\"\",a=t;a<i;++a)r+=R(e[a]);return r}function C(e,t,i){for(var n=e.slice(t,i),r=\"\",a=0;a<n.length;a+=2)r+=String.fromCharCode(n[a]+256*n[a+1]);return r}function k(e,t,i){if(e%1!=0||e<0)throw new RangeError(\"offset is not uint\");if(e+t>i)throw new RangeError(\"Trying to access beyond buffer length\")}function L(e,i,n,r,a,s){if(!t.isBuffer(e))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(i>a||i<s)throw new RangeError('\"value\" argument is out of bounds');if(n+r>e.length)throw new RangeError(\"Index out of range\")}function x(e,t,i,n,r,a){if(i+n>e.length)throw new RangeError(\"Index out of range\");if(i<0)throw new RangeError(\"Index out of range\")}function I(e,t,i,n,r){return t=+t,i>>>=0,r||x(e,0,i,4),N.write(e,t,i,n,23,4),i+4}function P(e,t,i,n,r){return t=+t,i>>>=0,r||x(e,0,i,8),N.write(e,t,i,n,52,8),i+8}function R(e){return e<16?\"0\"+e.toString(16):e.toString(16)}function D(e,t){var i;t=t||1/0;for(var n=e.length,r=null,a=[],s=0;s<n;++s){if((i=e.charCodeAt(s))>55295&&i<57344){if(!r){if(i>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&a.push(239,191,189);continue}r=i;continue}if(i<56320){(t-=3)>-1&&a.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(t-=3)>-1&&a.push(239,191,189);if(r=null,i<128){if((t-=1)<0)break;a.push(i)}else if(i<2048){if((t-=2)<0)break;a.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;a.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error(\"Invalid code point\");if((t-=4)<0)break;a.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return a}function O(e){return B.toByteArray(function(e){if((e=(e=e.split(\"=\")[0]).trim().replace(F,\"\")).length<2)return\"\";for(;e.length%4!=0;)e+=\"=\";return e}(e))}function M(e,t,i,n){for(var r=0;r<n&&!(r+i>=t.length||r>=e.length);++r)t[r+i]=e[r];return r}function U(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function j(e){return e!=e}var B=e(\"base64-js\"),N=e(\"ieee754\");i.Buffer=t,i.SlowBuffer=function(e){return+e!=e&&(e=0),t.alloc(+e)},i.INSPECT_MAX_BYTES=50,i.kMaxLength=2147483647,t.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),t.TYPED_ARRAY_SUPPORT||\"undefined\"==typeof console||\"function\"!=typeof console.error||console.error(\"This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.\"),Object.defineProperty(t.prototype,\"parent\",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,\"offset\",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),\"undefined\"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=function(e,t,i){return r(e,t,i)},t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,t.alloc=function(e,t,i){return function(e,t,i){return a(e),e<=0?n(e):void 0!==t?\"string\"==typeof i?n(e).fill(t,i):n(e).fill(t):n(e)}(e,t,i)},t.allocUnsafe=function(e){return o(e)},t.allocUnsafeSlow=function(e){return o(e)},t.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==t.prototype},t.compare=function(e,i){if(U(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),U(i,Uint8Array)&&(i=t.from(i,i.offset,i.byteLength)),!t.isBuffer(e)||!t.isBuffer(i))throw new TypeError('The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array');if(e===i)return 0;for(var n=e.length,r=i.length,a=0,s=Math.min(n,r);a<s;++a)if(e[a]!==i[a]){n=e[a],r=i[a];break}return n<r?-1:r<n?1:0},t.isEncoding=function(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},t.concat=function(e,i){if(!Array.isArray(e))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var n;if(void 0===i)for(i=0,n=0;n<e.length;++n)i+=e[n].length;var r=t.allocUnsafe(i),a=0;for(n=0;n<e.length;++n){var s=e[n];if(U(s,Uint8Array)&&(s=t.from(s)),!t.isBuffer(s))throw new TypeError('\"list\" argument must be an Array of Buffers');s.copy(r,a),a+=s.length}return r},t.byteLength=d,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},t.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},t.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},t.prototype.toString=function(){var e=this.length;return 0===e?\"\":0===arguments.length?E(this,0,e):c.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var e=\"\",t=i.INSPECT_MAX_BYTES;return e=this.toString(\"hex\",0,t).replace(/(.{2})/g,\"$1 \").trim(),this.length>t&&(e+=\" ... \"),\"<Buffer \"+e+\">\"},t.prototype.compare=function(e,i,n,r,a){if(U(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(e))throw new TypeError('The \"target\" argument must be one of type Buffer or Uint8Array. Received type '+(\"undefined\"==typeof e?\"undefined\":s(e)));\nif(void 0===i&&(i=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),i<0||n>e.length||r<0||a>this.length)throw new RangeError(\"out of range index\");if(r>=a&&i>=n)return 0;if(r>=a)return-1;if(i>=n)return 1;if(this===e)return 0;for(var o=(a>>>=0)-(r>>>=0),l=(n>>>=0)-(i>>>=0),u=Math.min(o,l),d=this.slice(r,a),c=e.slice(i,n),h=0;h<u;++h)if(d[h]!==c[h]){o=d[h],l=c[h];break}return o<l?-1:l<o?1:0},t.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},t.prototype.indexOf=function(e,t,i){return f(this,e,t,i,!0)},t.prototype.lastIndexOf=function(e,t,i){return f(this,e,t,i,!1)},t.prototype.write=function(e,t,i,n){if(void 0===t)n=\"utf8\",i=this.length,t=0;else if(void 0===i&&\"string\"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");t>>>=0,isFinite(i)?(i>>>=0,void 0===n&&(n=\"utf8\")):(n=i,i=void 0)}var r=this.length-t;if((void 0===i||i>r)&&(i=r),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");n||(n=\"utf8\");for(var a=!1;;)switch(n){case\"hex\":return m(this,e,t,i);case\"utf8\":case\"utf-8\":return g(this,e,t,i);case\"ascii\":return _(this,e,t,i);case\"latin1\":case\"binary\":return v(this,e,t,i);case\"base64\":return y(this,e,t,i);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return b(this,e,t,i);default:if(a)throw new TypeError(\"Unknown encoding: \"+n);n=(\"\"+n).toLowerCase(),a=!0}},t.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}},t.prototype.slice=function(e,i){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(i=void 0===i?n:~~i)<0?(i+=n)<0&&(i=0):i>n&&(i=n),i<e&&(i=e);var r=this.subarray(e,i);return r.__proto__=t.prototype,r},t.prototype.readUIntLE=function(e,t,i){e>>>=0,t>>>=0,i||k(e,t,this.length);for(var n=this[e],r=1,a=0;++a<t&&(r*=256);)n+=this[e+a]*r;return n},t.prototype.readUIntBE=function(e,t,i){e>>>=0,t>>>=0,i||k(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},t.prototype.readUInt8=function(e,t){return e>>>=0,t||k(e,1,this.length),this[e]},t.prototype.readUInt16LE=function(e,t){return e>>>=0,t||k(e,2,this.length),this[e]|this[e+1]<<8},t.prototype.readUInt16BE=function(e,t){return e>>>=0,t||k(e,2,this.length),this[e]<<8|this[e+1]},t.prototype.readUInt32LE=function(e,t){return e>>>=0,t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},t.prototype.readUInt32BE=function(e,t){return e>>>=0,t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},t.prototype.readIntLE=function(e,t,i){e>>>=0,t>>>=0,i||k(e,t,this.length);for(var n=this[e],r=1,a=0;++a<t&&(r*=256);)n+=this[e+a]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*t)),n},t.prototype.readIntBE=function(e,t,i){e>>>=0,t>>>=0,i||k(e,t,this.length);for(var n=t,r=1,a=this[e+--n];n>0&&(r*=256);)a+=this[e+--n]*r;return a>=(r*=128)&&(a-=Math.pow(2,8*t)),a},t.prototype.readInt8=function(e,t){return e>>>=0,t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},t.prototype.readInt16LE=function(e,t){e>>>=0,t||k(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},t.prototype.readInt16BE=function(e,t){e>>>=0,t||k(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},t.prototype.readInt32LE=function(e,t){return e>>>=0,t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},t.prototype.readInt32BE=function(e,t){return e>>>=0,t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},t.prototype.readFloatLE=function(e,t){return e>>>=0,t||k(e,4,this.length),N.read(this,e,!0,23,4)},t.prototype.readFloatBE=function(e,t){return e>>>=0,t||k(e,4,this.length),N.read(this,e,!1,23,4)},t.prototype.readDoubleLE=function(e,t){return e>>>=0,t||k(e,8,this.length),N.read(this,e,!0,52,8)},t.prototype.readDoubleBE=function(e,t){return e>>>=0,t||k(e,8,this.length),N.read(this,e,!1,52,8)},t.prototype.writeUIntLE=function(e,t,i,n){e=+e,t>>>=0,i>>>=0,n||L(this,e,t,i,Math.pow(2,8*i)-1,0);var r=1,a=0;for(this[t]=255&e;++a<i&&(r*=256);)this[t+a]=e/r&255;return t+i},t.prototype.writeUIntBE=function(e,t,i,n){e=+e,t>>>=0,i>>>=0,n||L(this,e,t,i,Math.pow(2,8*i)-1,0);var r=i-1,a=1;for(this[t+r]=255&e;--r>=0&&(a*=256);)this[t+r]=e/a&255;return t+i},t.prototype.writeUInt8=function(e,t,i){return e=+e,t>>>=0,i||L(this,e,t,1,255,0),this[t]=255&e,t+1},t.prototype.writeUInt16LE=function(e,t,i){return e=+e,t>>>=0,i||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeUInt16BE=function(e,t,i){return e=+e,t>>>=0,i||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeUInt32LE=function(e,t,i){return e=+e,t>>>=0,i||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},t.prototype.writeUInt32BE=function(e,t,i){return e=+e,t>>>=0,i||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t>>>=0,!n){var r=Math.pow(2,8*i-1);L(this,e,t,i,r-1,-r)}var a=0,s=1,o=0;for(this[t]=255&e;++a<i&&(s*=256);)e<0&&0===o&&0!==this[t+a-1]&&(o=1),this[t+a]=(e/s>>0)-o&255;return t+i},t.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t>>>=0,!n){var r=Math.pow(2,8*i-1);L(this,e,t,i,r-1,-r)}var a=i-1,s=1,o=0;for(this[t+a]=255&e;--a>=0&&(s*=256);)e<0&&0===o&&0!==this[t+a+1]&&(o=1),this[t+a]=(e/s>>0)-o&255;return t+i},t.prototype.writeInt8=function(e,t,i){return e=+e,t>>>=0,i||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},t.prototype.writeInt16LE=function(e,t,i){return e=+e,t>>>=0,i||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeInt16BE=function(e,t,i){return e=+e,t>>>=0,i||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeInt32LE=function(e,t,i){return e=+e,t>>>=0,i||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},t.prototype.writeInt32BE=function(e,t,i){return e=+e,t>>>=0,i||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeFloatLE=function(e,t,i){return I(this,e,t,!0,i)},t.prototype.writeFloatBE=function(e,t,i){return I(this,e,t,!1,i)},t.prototype.writeDoubleLE=function(e,t,i){return P(this,e,t,!0,i)},t.prototype.writeDoubleBE=function(e,t,i){return P(this,e,t,!1,i)},t.prototype.copy=function(e,i,n,r){if(!t.isBuffer(e))throw new TypeError(\"argument should be a Buffer\");if(n||(n=0),r||0===r||(r=this.length),i>=e.length&&(i=e.length),i||(i=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(i<0)throw new RangeError(\"targetStart out of bounds\");if(n<0||n>=this.length)throw new RangeError(\"Index out of range\");if(r<0)throw new RangeError(\"sourceEnd out of bounds\");r>this.length&&(r=this.length),e.length-i<r-n&&(r=e.length-i+n);var a=r-n;if(this===e&&\"function\"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(i,n,r);else if(this===e&&n<i&&i<r)for(var s=a-1;s>=0;--s)e[s+i]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),i);return a},t.prototype.fill=function(e,i,n,r){if(\"string\"==typeof e){if(\"string\"==typeof i?(r=i,i=0,n=this.length):\"string\"==typeof n&&(r=n,n=this.length),void 0!==r&&\"string\"!=typeof r)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof r&&!t.isEncoding(r))throw new TypeError(\"Unknown encoding: \"+r);if(1===e.length){var a=e.charCodeAt(0);(\"utf8\"===r&&a<128||\"latin1\"===r)&&(e=a)}}else\"number\"==typeof e&&(e&=255);if(i<0||this.length<i||this.length<n)throw new RangeError(\"Out of range index\");if(n<=i)return this;var s;if(i>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),\"number\"==typeof e)for(s=i;s<n;++s)this[s]=e;else{var o=t.isBuffer(e)?e:t.from(e,r),l=o.length;if(0===l)throw new TypeError('The value \"'+e+'\" is invalid for argument \"value\"');for(s=0;s<n-i;++s)this[s+i]=o[s%l]}return this};var F=/[^+/0-9A-Za-z-_]/g}).call(this,e(\"buffer\").Buffer)},{\"base64-js\":30,buffer:32,ieee754:36}],33:[function(i,o,l){(function(i){var u,d;u=self,d=function(){return function(){function e(i){var r=n[i];if(void 0!==r)return r.exports;var a=n[i]={exports:{}};return t[i].call(a.exports,a,a.exports,e),a.exports}var t={\"./node_modules/es6-promise/dist/es6-promise.js\":/*!******************************************************!*\\\n\t  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!\n\t  \\******************************************************/\nfunction(e,t,n){/*!\n\t * @overview es6-promise - a tiny implementation of Promises/A+.\n\t * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n\t * @license   Licensed under MIT license\n\t *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n\t * @version   v4.2.8+1e68dce6\n\t */\ne.exports=function(){function e(e){return\"function\"==typeof e}function t(){var e=setTimeout;return function(){return e(r,1)}}function r(){for(var e=0;e<w;e+=2)(0,R[e])(R[e+1]),R[e]=void 0,R[e+1]=void 0;w=0}function a(e,t){var i=this,n=new this.constructor(l);void 0===n[O]&&_(n);var r=i._state;if(r){var a=arguments[r-1];C(function(){return g(r,n,a,i._result)})}else p(i,n,e,t);return n}function o(e){if(e&&\"object\"==(\"undefined\"==typeof e?\"undefined\":s(e))&&e.constructor===this)return e;var t=new this(l);return d(t,e),t}function l(){}function u(t,i,n){i.constructor===t.constructor&&n===a&&i.constructor.resolve===o?function(e,t){1===t._state?h(e,t._result):2===t._state?f(e,t._result):p(t,void 0,function(t){return d(e,t)},function(t){return f(e,t)})}(t,i):void 0===n?h(t,i):e(n)?function(e,t,i){C(function(e){var n=!1,r=function(e,t,i,n){try{e.call(t,i,n)}catch(e){return e}}(i,t,function(i){n||(n=!0,t!==i?d(e,i):h(e,i))},function(t){n||(n=!0,f(e,t))},e._label);!n&&r&&(n=!0,f(e,r))},e)}(t,i,n):h(t,i)}function d(e,t){if(e===t)f(e,new TypeError(\"You cannot resolve a promise with itself\"));else if(r=s(n=t),null===n||\"object\"!==r&&\"function\"!==r)h(e,t);else{var i=void 0;try{i=t.then}catch(t){return void f(e,t)}u(e,t,i)}var n,r}function c(e){e._onerror&&e._onerror(e._result),m(e)}function h(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&C(m,e))}function f(e,t){void 0===e._state&&(e._state=2,e._result=t,C(c,e))}function p(e,t,i,n){var r=e._subscribers,a=r.length;e._onerror=null,r[a]=t,r[a+1]=i,r[a+2]=n,0===a&&e._state&&C(m,e)}function m(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var n=void 0,r=void 0,a=e._result,s=0;s<t.length;s+=3)n=t[s],r=t[s+i],n?g(i,n,r,a):r(a);e._subscribers.length=0}}function g(t,i,n,r){var a=e(n),s=void 0,o=void 0,l=!0;if(a){try{s=n(r)}catch(e){l=!1,o=e}if(i===s)return void f(i,new TypeError(\"A promises callback cannot return that same promise.\"))}else s=r;void 0!==i._state||(a&&l?d(i,s):!1===l?f(i,o):1===t?h(i,s):2===t&&f(i,s))}function _(e){e[O]=M++,e._state=void 0,e._result=void 0,e._subscribers=[]}var v,y,b,A,E=Array.isArray?Array.isArray:function(e){return\"[object Array]\"===Object.prototype.toString.call(e)},w=0,T=void 0,S=void 0,C=function(e,t){R[w]=e,R[w+1]=t,2===(w+=2)&&(S?S(r):D())},k=\"undefined\"!=typeof window?window:void 0,L=k||{},x=L.MutationObserver||L.WebKitMutationObserver,I=\"undefined\"==typeof self&&void 0!==i&&\"[object process]\"==={}.toString.call(i),P=\"undefined\"!=typeof Uint8ClampedArray&&\"undefined\"!=typeof importScripts&&\"undefined\"!=typeof MessageChannel,R=new Array(1e3),D=void 0;I?D=function(){return i.nextTick(r)}:x?(y=0,b=new x(r),A=document.createTextNode(\"\"),b.observe(A,{characterData:!0}),D=function(){A.data=y=++y%2}):P?((v=new MessageChannel).port1.onmessage=r,D=function(){return v.port2.postMessage(0)}):D=void 0===k?function(){try{var e=Function(\"return this\")().require(\"vertx\");return void 0!==(T=e.runOnLoop||e.runOnContext)?function(){T(r)}:t()}catch(e){return t()}}():t();var O=Math.random().toString(36).substring(2),M=0,U=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(l),this.promise[O]||_(this.promise),E(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?h(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&h(this.promise,this._result))):f(this.promise,new Error(\"Array Methods must be provided an Array\"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,n=i.resolve;if(n===o){var r=void 0,s=void 0,d=!1;try{r=e.then}catch(e){d=!0,s=e}if(r===a&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if(\"function\"!=typeof r)this._remaining--,this._result[t]=e;else if(i===j){var c=new i(l);d?f(c,s):u(c,e,r),this._willSettleAt(c,t)}else this._willSettleAt(new i(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,i){var n=this.promise;void 0===n._state&&(this._remaining--,2===e?f(n,i):this._result[t]=i),0===this._remaining&&h(n,this._result)},e.prototype._willSettleAt=function(e,t){var i=this;p(e,void 0,function(e){return i._settledAt(1,t,e)},function(e){return i._settledAt(2,t,e)})},e}(),j=function(){function t(e){this[O]=M++,this._result=this._state=void 0,this._subscribers=[],l!==e&&(\"function\"!=typeof e&&function(){throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\")}(),this instanceof t?function(e,t){try{t(function(t){d(e,t)},function(t){f(e,t)})}catch(t){f(e,t)}}(this,e):function(){throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var i=this.constructor;return e(t)?this.then(function(e){return i.resolve(t()).then(function(){return e})},function(e){return i.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return j.prototype.then=a,j.all=function(e){return new U(this,e).promise},j.race=function(e){var t=this;return new t(E(e)?function(i,n){for(var r=e.length,a=0;a<r;a++)t.resolve(e[a]).then(i,n)}:function(e,t){return t(new TypeError(\"You must pass an array to race.\"))})},j.resolve=o,j.reject=function(e){var t=new this(l);return f(t,e),t},j._setScheduler=function(e){S=e},j._setAsap=function(e){C=e},j._asap=C,j.polyfill=function(){var e=void 0;if(void 0!==n.g)e=n.g;else if(\"undefined\"!=typeof self)e=self;else try{e=Function(\"return this\")()}catch(e){throw new Error(\"polyfill failed because global object is unavailable in this environment\")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if(\"[object Promise]\"===i&&!t.cast)return}e.Promise=j},j.Promise=j,j}()},\"./node_modules/events/events.js\":/*!***************************************!*\\\n\t  !*** ./node_modules/events/events.js ***!\n\t  \\***************************************/\nfunction(e){function t(){t.init.call(this)}function i(e){if(\"function\"!=typeof e)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+(\"undefined\"==typeof e?\"undefined\":s(e)))}function n(e){return void 0===e._maxListeners?t.defaultMaxListeners:e._maxListeners}function r(e,t,r,a){var s,o,l;if(i(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit(\"newListener\",t,r.listener?r.listener:r),o=e._events),l=o[t]),void 0===l)l=o[t]=r,++e._eventsCount;else if(\"function\"==typeof l?l=o[t]=a?[r,l]:[l,r]:a?l.unshift(r):l.push(r),(s=n(e))>0&&l.length>s&&!l.warned){l.warned=!0;var u=new Error(\"Possible EventEmitter memory leak detected. \"+l.length+\" \"+String(t)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");u.name=\"MaxListenersExceededWarning\",u.emitter=e,u.type=t,u.count=l.length,console&&console.warn}return e}function a(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function o(e,t,i){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},r=a.bind(n);return r.listener=i,n.wrapFn=r,r}function l(e,t,i){var n=e._events;if(void 0===n)return[];var r=n[t];return void 0===r?[]:\"function\"==typeof r?i?[r.listener||r]:[r]:i?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(r):d(r,r.length)}function u(e){var t=this._events;if(void 0!==t){var i=t[e];if(\"function\"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function d(e,t){for(var i=new Array(t),n=0;n<t;++n)i[n]=e[n];return i}function c(e,t,i,n){if(\"function\"==typeof e.on)n.once?e.once(t,i):e.on(t,i);else{if(\"function\"!=typeof e.addEventListener)throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type '+(\"undefined\"==typeof e?\"undefined\":s(e)));e.addEventListener(t,function r(a){n.once&&e.removeEventListener(t,r),i(a)})}}var h,f=\"object\"==(\"undefined\"==typeof Reflect?\"undefined\":s(Reflect))?Reflect:null,p=f&&\"function\"==typeof f.apply?f.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};h=f&&\"function\"==typeof f.ownKeys?f.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var m=Number.isNaN||function(e){return e!=e};e.exports=t,e.exports.once=function(e,t){return new Promise(function(i,n){function r(i){e.removeListener(t,a),n(i)}function a(){\"function\"==typeof e.removeListener&&e.removeListener(\"error\",r),i([].slice.call(arguments))}c(e,t,a,{once:!0}),\"error\"!==t&&function(e,t,i){\"function\"==typeof e.on&&c(e,\"error\",t,i)}(e,r,{once:!0})})},t.EventEmitter=t,t.prototype._events=void 0,t.prototype._eventsCount=0,t.prototype._maxListeners=void 0;var g=10;Object.defineProperty(t,\"defaultMaxListeners\",{enumerable:!0,get:function(){return g},set:function(e){if(\"number\"!=typeof e||e<0||m(e))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+e+\".\");g=e}}),t.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},t.prototype.setMaxListeners=function(e){if(\"number\"!=typeof e||e<0||m(e))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+e+\".\");return this._maxListeners=e,this},t.prototype.getMaxListeners=function(){return n(this)},t.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n=\"error\"===e,r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error(\"Unhandled error.\"+(a?\" (\"+a.message+\")\":\"\"));throw s.context=a,s}var o=r[e];if(void 0===o)return!1;if(\"function\"==typeof o)p(o,this,t);else{var l=o.length,u=d(o,l);for(i=0;i<l;++i)p(u[i],this,t)}return!0},t.prototype.addListener=function(e,t){return r(this,e,t,!1)},t.prototype.on=t.prototype.addListener,t.prototype.prependListener=function(e,t){return r(this,e,t,!0)},t.prototype.once=function(e,t){return i(t),this.on(e,o(this,e,t)),this},t.prototype.prependOnceListener=function(e,t){return i(t),this.prependListener(e,o(this,e,t)),this},t.prototype.removeListener=function(e,t){var n,r,a,s,o;if(i(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit(\"removeListener\",e,n.listener||t));else if(\"function\"!=typeof n){for(a=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,a=s;break}if(a<0)return this;0===a?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,a),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit(\"removeListener\",e,o||t)}return this},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(e){var t,i,n;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var r,a=Object.keys(i);for(n=0;n<a.length;++n)\"removeListener\"!==(r=a[n])&&this.removeAllListeners(r);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(t=i[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},t.prototype.listeners=function(e){return l(this,e,!0)},t.prototype.rawListeners=function(e){return l(this,e,!1)},t.listenerCount=function(e,t){return\"function\"==typeof e.listenerCount?e.listenerCount(t):u.call(e,t)},t.prototype.listenerCount=u,t.prototype.eventNames=function(){return this._eventsCount>0?h(this._events):[]}},\"./node_modules/webworkify-webpack/index.js\":/*!**************************************************!*\\\n\t  !*** ./node_modules/webworkify-webpack/index.js ***!\n\t  \\**************************************************/\nfunction(e,t,i){function n(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,\"a\",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"/\",t.oe=function(e){throw console.error(e),e};var n=t(t.s=ENTRY_MODULE);return n.default||n}function r(e){return(e+\"\").replace(/[.?*+^$[\\]\\\\(){}|-]/g,\"\\\\$&\")}function a(e,t,n){var a={};a[n]=[];var s=t.toString(),o=s.match(/^function\\s?\\w*\\(\\w+,\\s*\\w+,\\s*(\\w+)\\)/);if(!o)return a;for(var l,u=o[1],d=new RegExp(\"(\\\\\\\\n|\\\\W)\"+r(u)+\"\\\\(\\\\s*(/\\\\*.*?\\\\*/)?\\\\s*.*?([\\\\.|\\\\-|\\\\+|\\\\w|/|@]+).*?\\\\)\",\"g\");l=d.exec(s);)\"dll-reference\"!==l[3]&&a[n].push(l[3]);for(d=new RegExp(\"\\\\(\"+r(u)+'\\\\(\"(dll-reference\\\\s([\\\\.|\\\\-|\\\\+|\\\\w|/|@]+))\"\\\\)\\\\)\\\\(\\\\s*(/\\\\*.*?\\\\*/)?\\\\s*.*?([\\\\.|\\\\-|\\\\+|\\\\w|/|@]+).*?\\\\)',\"g\");l=d.exec(s);)e[l[2]]||(a[n].push(l[1]),e[l[2]]=i(l[1]).m),a[l[2]]=a[l[2]]||[],a[l[2]].push(l[4]);for(var c,h=Object.keys(a),f=0;f<h.length;f++)for(var p=0;p<a[h[f]].length;p++)c=a[h[f]][p],isNaN(1*c)||(a[h[f]][p]=1*a[h[f]][p]);return a}function s(e){return Object.keys(e).reduce(function(t,i){return t||e[i].length>0},!1)}e.exports=function(e,t){t=t||{};var r={main:i.m},o=t.all?{main:Object.keys(r.main)}:function(e,t){for(var i={main:[t]},n={main:[]},r={main:{}};s(i);)for(var o=Object.keys(i),l=0;l<o.length;l++){var u=o[l],d=i[u].pop();if(r[u]=r[u]||{},!r[u][d]&&e[u][d]){r[u][d]=!0,n[u]=n[u]||[],n[u].push(d);for(var c=a(e,e[u][d],u),h=Object.keys(c),f=0;f<h.length;f++)i[h[f]]=i[h[f]]||[],i[h[f]]=i[h[f]].concat(c[h[f]])}}return n}(r,e),l=\"\";Object.keys(o).filter(function(e){return\"main\"!==e}).forEach(function(e){for(var t=0;o[e][t];)t++;o[e].push(t),r[e][t]=\"(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })\",l=l+\"var \"+e+\" = (\"+n.toString().replace(\"ENTRY_MODULE\",JSON.stringify(t))+\")({\"+o[e].map(function(t){return JSON.stringify(t)+\": \"+r[e][t].toString()}).join(\",\")+\"});\\n\"}),l=l+\"new ((\"+n.toString().replace(\"ENTRY_MODULE\",JSON.stringify(e))+\")({\"+o.main.map(function(e){return JSON.stringify(e)+\": \"+r.main[e].toString()}).join(\",\")+\"}))(self);\";var u=new window.Blob([l],{type:\"text/javascript\"});if(t.bare)return u;var d=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(u),c=new window.Worker(d);return c.objectURL=d,c}},\"./src/config.js\":/*!***********************!*\\\n\t  !*** ./src/config.js ***!\n\t  \\***********************/\nfunction(e,t,i){function n(){return Object.assign({},r)}i.r(t),i.d(t,{defaultConfig:function(){return r},createDefaultConfig:function(){return n}});var r={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:\"range\",seekParamStart:\"bstart\",seekParamEnd:\"bend\",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0}},\"./src/core/features.js\":/*!******************************!*\\\n\t  !*** ./src/core/features.js ***!\n\t  \\******************************/\nfunction(e,t,i){i.r(t);var n=i(/*! ../io/io-controller.js */\"./src/io/io-controller.js\"),r=i(/*! ../config.js */\"./src/config.js\"),a=function(){function e(){}return e.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"')},e.supportNetworkStreamIO=function(){var e=new n.default({},(0,r.createDefaultConfig)()),t=e.loaderType;return e.destroy(),\"fetch-stream-loader\"==t||\"xhr-moz-chunked-loader\"==t},e.getNetworkLoaderTypeName=function(){var e=new n.default({},(0,r.createDefaultConfig)()),t=e.loaderType;return e.destroy(),t},e.supportNativeMediaPlayback=function(t){null==e.videoElement&&(e.videoElement=window.document.createElement(\"video\"));var i=e.videoElement.canPlayType(t);return\"probably\"===i||\"maybe\"==i},e.getFeatureList=function(){var t={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:\"\",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return t.mseFlvPlayback=e.supportMSEH264Playback(),t.networkStreamIO=e.supportNetworkStreamIO(),t.networkLoaderName=e.getNetworkLoaderTypeName(),t.mseLiveFlvPlayback=t.mseFlvPlayback&&t.networkStreamIO,t.nativeMP4H264Playback=e.supportNativeMediaPlayback('video/mp4; codecs=\"avc1.42001E, mp4a.40.2\"'),t.nativeWebmVP8Playback=e.supportNativeMediaPlayback('video/webm; codecs=\"vp8.0, vorbis\"'),t.nativeWebmVP9Playback=e.supportNativeMediaPlayback('video/webm; codecs=\"vp9\"'),t},e}();t.default=a},\"./src/core/media-info.js\":/*!********************************!*\\\n\t  !*** ./src/core/media-info.js ***!\n\t  \\********************************/\nfunction(e,t,i){i.r(t);var n=function(){function e(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return e.prototype.isComplete=function(){var e=!1===this.hasAudio||!0===this.hasAudio&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,t=!1===this.hasVideo||!0===this.hasVideo&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.refFrames&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen;return null!=this.mimeType&&null!=this.duration&&null!=this.metadata&&null!=this.hasKeyframesIndex&&e&&t},e.prototype.isSeekable=function(){return!0===this.hasKeyframesIndex},e.prototype.getNearestKeyframe=function(e){if(null==this.keyframesIndex)return null;var t=this.keyframesIndex,i=this._search(t.times,e);return{index:i,milliseconds:t.times[i],fileposition:t.filepositions[i]}},e.prototype._search=function(e,t){var i=0,n=e.length-1,r=0,a=0,s=n;for(t<e[0]&&(i=0,a=s+1);a<=s;){if((r=a+Math.floor((s-a)/2))===n||t>=e[r]&&t<e[r+1]){i=r;break}e[r]<t?a=r+1:s=r-1}return i},e}();t.default=n},\"./src/core/media-segment-info.js\":/*!****************************************!*\\\n\t  !*** ./src/core/media-segment-info.js ***!\n\t  \\****************************************/\nfunction(e,t,i){i.r(t),i.d(t,{SampleInfo:function(){return n},MediaSegmentInfo:function(){return r},IDRSampleList:function(){return a},MediaSegmentInfoList:function(){return s}});var n=function(e,t,i,n,r){this.dts=e,this.pts=t,this.duration=i,this.originalDts=n,this.isSyncPoint=r,this.fileposition=null},r=function(){function e(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return e.prototype.appendSyncPoint=function(e){e.isSyncPoint=!0,this.syncPoints.push(e)},e}(),a=function(){function e(){this._list=[]}return e.prototype.clear=function(){this._list=[]},e.prototype.appendArray=function(e){var t=this._list;0!==e.length&&(t.length>0&&e[0].originalDts<t[t.length-1].originalDts&&this.clear(),Array.prototype.push.apply(t,e))},e.prototype.getLastSyncPointBeforeDts=function(e){if(0==this._list.length)return null;var t=this._list,i=0,n=t.length-1,r=0,a=0,s=n;for(e<t[0].dts&&(i=0,a=s+1);a<=s;){if((r=a+Math.floor((s-a)/2))===n||e>=t[r].dts&&e<t[r+1].dts){i=r;break}t[r].dts<e?a=r+1:s=r-1}return this._list[i]},e}(),s=function(){function e(e){this._type=e,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(e.prototype,\"type\",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"length\",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return 0===this._list.length},e.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},e.prototype._searchNearestSegmentBefore=function(e){var t=this._list;if(0===t.length)return-2;var i=t.length-1,n=0,r=0,a=i,s=0;if(e<t[0].originalBeginDts)return s=-1;for(;r<=a;){if((n=r+Math.floor((a-r)/2))===i||e>t[n].lastSample.originalDts&&e<t[n+1].originalBeginDts){s=n;break}t[n].originalBeginDts<e?r=n+1:a=n-1}return s},e.prototype._searchNearestSegmentAfter=function(e){return this._searchNearestSegmentBefore(e)+1},e.prototype.append=function(e){var t=this._list,i=e,n=this._lastAppendLocation,r=0;-1!==n&&n<t.length&&i.originalBeginDts>=t[n].lastSample.originalDts&&(n===t.length-1||n<t.length-1&&i.originalBeginDts<t[n+1].originalBeginDts)?r=n+1:t.length>0&&(r=this._searchNearestSegmentBefore(i.originalBeginDts)+1),this._lastAppendLocation=r,this._list.splice(r,0,i)},e.prototype.getLastSegmentBefore=function(e){var t=this._searchNearestSegmentBefore(e);return t>=0?this._list[t]:null},e.prototype.getLastSampleBefore=function(e){var t=this.getLastSegmentBefore(e);return null!=t?t.lastSample:null},e.prototype.getLastSyncPointBefore=function(e){for(var t=this._searchNearestSegmentBefore(e),i=this._list[t].syncPoints;0===i.length&&t>0;)t--,i=this._list[t].syncPoints;return i.length>0?i[i.length-1]:null},e}()},\"./src/core/mse-controller.js\":/*!************************************!*\\\n\t  !*** ./src/core/mse-controller.js ***!\n\t  \\************************************/\nfunction(e,t,i){i.r(t);var n=i(/*! events */\"./node_modules/events/events.js\"),r=i.n(n),a=i(/*! ../utils/logger.js */\"./src/utils/logger.js\"),s=i(/*! ../utils/browser.js */\"./src/utils/browser.js\"),o=i(/*! ./mse-events.js */\"./src/core/mse-events.js\"),l=i(/*! ./media-segment-info.js */\"./src/core/media-segment-info.js\"),u=i(/*! ../utils/exception.js */\"./src/utils/exception.js\"),d=function(){function e(e){this.TAG=\"MSEController\",this._config=e,this._emitter=new(r()),this._config.isLive&&null==this._config.autoCleanupSourceBuffer&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new l.IDRSampleList}return e.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){if(this._mediaSource)throw new u.IllegalStateException(\"MediaSource has been attached to an HTMLMediaElement!\");var t=this._mediaSource=new window.MediaSource;t.addEventListener(\"sourceopen\",this.e.onSourceOpen),t.addEventListener(\"sourceended\",this.e.onSourceEnded),t.addEventListener(\"sourceclose\",this.e.onSourceClose),this._mediaElement=e,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),e.src=this._mediaSourceObjectURL},e.prototype.detachMediaElement=function(){if(this._mediaSource){var e=this._mediaSource;for(var t in this._sourceBuffers){var i=this._pendingSegments[t];i.splice(0,i.length),this._pendingSegments[t]=null,this._pendingRemoveRanges[t]=null,this._lastInitSegments[t]=null;var n=this._sourceBuffers[t];if(n){if(\"closed\"!==e.readyState){try{e.removeSourceBuffer(n)}catch(e){a.default.e(this.TAG,e.message)}n.removeEventListener(\"error\",this.e.onSourceBufferError),n.removeEventListener(\"updateend\",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[t]=null,this._sourceBuffers[t]=null}}if(\"open\"===e.readyState)try{e.endOfStream()}catch(e){a.default.e(this.TAG,e.message)}e.removeEventListener(\"sourceopen\",this.e.onSourceOpen),e.removeEventListener(\"sourceended\",this.e.onSourceEnded),e.removeEventListener(\"sourceclose\",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src=\"\",this._mediaElement.removeAttribute(\"src\"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},e.prototype.appendInitSegment=function(e,t){if(!this._mediaSource||\"open\"!==this._mediaSource.readyState)return this._pendingSourceBufferInit.push(e),void this._pendingSegments[e.type].push(e);var i=e,n=\"\"+i.container;i.codec&&i.codec.length>0&&(n+=\";codecs=\"+i.codec);var r=!1;if(a.default.v(this.TAG,\"Received Initialization Segment, mimeType: \"+n),this._lastInitSegments[i.type]=i,n!==this._mimeTypes[i.type]){if(this._mimeTypes[i.type])a.default.v(this.TAG,\"Notice: \"+i.type+\" mimeType changed, origin: \"+this._mimeTypes[i.type]+\", target: \"+n);else{r=!0;try{var l=this._sourceBuffers[i.type]=this._mediaSource.addSourceBuffer(n);l.addEventListener(\"error\",this.e.onSourceBufferError),l.addEventListener(\"updateend\",this.e.onSourceBufferUpdateEnd)}catch(e){return a.default.e(this.TAG,e.message),void this._emitter.emit(o.default.ERROR,{code:e.code,msg:e.message})}}this._mimeTypes[i.type]=n}t||this._pendingSegments[i.type].push(i),r||this._sourceBuffers[i.type]&&!this._sourceBuffers[i.type].updating&&this._doAppendSegments(),s.default.safari&&\"audio/mpeg\"===i.container&&i.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=i.mediaDuration/1e3,this._updateMediaSourceDuration())},e.prototype.appendMediaSegment=function(e){var t=e;this._pendingSegments[t.type].push(t),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var i=this._sourceBuffers[t.type];!i||i.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()},e.prototype.seek=function(e){for(var t in this._sourceBuffers)if(this._sourceBuffers[t]){var i=this._sourceBuffers[t];if(\"open\"===this._mediaSource.readyState)try{i.abort()}catch(e){a.default.e(this.TAG,e.message)}this._idrList.clear();var n=this._pendingSegments[t];if(n.splice(0,n.length),\"closed\"!==this._mediaSource.readyState){for(var r=0;r<i.buffered.length;r++){var o=i.buffered.start(r),l=i.buffered.end(r);this._pendingRemoveRanges[t].push({start:o,end:l})}if(i.updating||this._doRemoveRanges(),s.default.safari){var u=this._lastInitSegments[t];u&&(this._pendingSegments[t].push(u),i.updating||this._doAppendSegments())}}}},e.prototype.endOfStream=function(){var e=this._mediaSource,t=this._sourceBuffers;e&&\"open\"===e.readyState?t.video&&t.video.updating||t.audio&&t.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,e.endOfStream()):e&&\"closed\"===e.readyState&&this._hasPendingSegments()&&(this._hasPendingEos=!0)},e.prototype.getNearestKeyframe=function(e){return this._idrList.getLastSyncPointBeforeDts(e)},e.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var i=this._sourceBuffers[t];if(i){var n=i.buffered;if(n.length>=1&&e-n.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},e.prototype._doCleanupSourceBuffer=function(){var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var i=this._sourceBuffers[t];if(i){for(var n=i.buffered,r=!1,a=0;a<n.length;a++){var s=n.start(a),o=n.end(a);if(s<=e&&e<o+3){if(e-s>=this._config.autoCleanupMaxBackwardDuration){r=!0;var l=e-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[t].push({start:s,end:l})}}else o<e&&(r=!0,this._pendingRemoveRanges[t].push({start:s,end:o}))}r&&!i.updating&&this._doRemoveRanges()}}},e.prototype._updateMediaSourceDuration=function(){var e=this._sourceBuffers;if(0!==this._mediaElement.readyState&&\"open\"===this._mediaSource.readyState&&!(e.video&&e.video.updating||e.audio&&e.audio.updating)){var t=this._mediaSource.duration,i=this._pendingMediaDuration;i>0&&(isNaN(t)||i>t)&&(a.default.v(this.TAG,\"Update MediaSource duration from \"+t+\" to \"+i),this._mediaSource.duration=i),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},e.prototype._doRemoveRanges=function(){for(var e in this._pendingRemoveRanges)if(this._sourceBuffers[e]&&!this._sourceBuffers[e].updating)for(var t=this._sourceBuffers[e],i=this._pendingRemoveRanges[e];i.length&&!t.updating;){var n=i.shift();t.remove(n.start,n.end)}},e.prototype._doAppendSegments=function(){var e=this._pendingSegments;for(var t in e)if(this._sourceBuffers[t]&&!this._sourceBuffers[t].updating&&e[t].length>0){var i=e[t].shift();if(i.timestampOffset){var n=this._sourceBuffers[t].timestampOffset,r=i.timestampOffset/1e3;Math.abs(n-r)>.1&&(a.default.v(this.TAG,\"Update MPEG audio timestampOffset from \"+n+\" to \"+r),this._sourceBuffers[t].timestampOffset=r),delete i.timestampOffset}if(!i.data||0===i.data.byteLength)continue;try{this._sourceBuffers[t].appendBuffer(i.data),this._isBufferFull=!1,\"video\"===t&&i.hasOwnProperty(\"info\")&&this._idrList.appendArray(i.info.syncPoints)}catch(e){this._pendingSegments[t].unshift(i),22===e.code?(this._isBufferFull||this._emitter.emit(o.default.BUFFER_FULL),this._isBufferFull=!0):(a.default.e(this.TAG,e.message),this._emitter.emit(o.default.ERROR,{code:e.code,msg:e.message}))}}},e.prototype._onSourceOpen=function(){if(a.default.v(this.TAG,\"MediaSource onSourceOpen\"),this._mediaSource.removeEventListener(\"sourceopen\",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var e=this._pendingSourceBufferInit;e.length;){var t=e.shift();this.appendInitSegment(t,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(o.default.SOURCE_OPEN)},e.prototype._onSourceEnded=function(){a.default.v(this.TAG,\"MediaSource onSourceEnded\")},e.prototype._onSourceClose=function(){a.default.v(this.TAG,\"MediaSource onSourceClose\"),this._mediaSource&&null!=this.e&&(this._mediaSource.removeEventListener(\"sourceopen\",this.e.onSourceOpen),this._mediaSource.removeEventListener(\"sourceended\",this.e.onSourceEnded),this._mediaSource.removeEventListener(\"sourceclose\",this.e.onSourceClose))},e.prototype._hasPendingSegments=function(){var e=this._pendingSegments;return e.video.length>0||e.audio.length>0},e.prototype._hasPendingRemoveRanges=function(){var e=this._pendingRemoveRanges;return e.video.length>0||e.audio.length>0},e.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(o.default.UPDATE_END)},e.prototype._onSourceBufferError=function(e){a.default.e(this.TAG,\"SourceBuffer Error: \"+e)},e}();t.default=d},\"./src/core/mse-events.js\":/*!********************************!*\\\n\t  !*** ./src/core/mse-events.js ***!\n\t  \\********************************/\nfunction(e,t,i){i.r(t),t.default={ERROR:\"error\",SOURCE_OPEN:\"source_open\",UPDATE_END:\"update_end\",BUFFER_FULL:\"buffer_full\"}},\"./src/core/transmuxer.js\":/*!********************************!*\\\n\t  !*** ./src/core/transmuxer.js ***!\n\t  \\********************************/\nfunction(e,t,i){i.r(t);var n=i(/*! events */\"./node_modules/events/events.js\"),r=i.n(n),a=i(/*! webworkify-webpack */\"./node_modules/webworkify-webpack/index.js\"),s=i.n(a),o=i(/*! ../utils/logger.js */\"./src/utils/logger.js\"),l=i(/*! ../utils/logging-control.js */\"./src/utils/logging-control.js\"),u=i(/*! ./transmuxing-controller.js */\"./src/core/transmuxing-controller.js\"),d=i(/*! ./transmuxing-events.js */\"./src/core/transmuxing-events.js\"),c=i(/*! ./media-info.js */\"./src/core/media-info.js\"),h=function(){function e(e,t){if(this.TAG=\"Transmuxer\",this._emitter=new(r()),t.enableWorker&&\"undefined\"!=typeof Worker)try{this._worker=s()(/*! ./transmuxing-worker */\"./src/core/transmuxing-worker.js\"),this._workerDestroying=!1,this._worker.addEventListener(\"message\",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:\"init\",param:[e,t]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},l.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:\"logging_config\",param:l.default.getConfig()})}catch(i){o.default.e(this.TAG,\"Error while initialize transmuxing worker, fallback to inline transmuxing\"),this._worker=null,this._controller=new u.default(e,t)}else this._controller=new u.default(e,t);if(this._controller){var i=this._controller;i.on(d.default.IO_ERROR,this._onIOError.bind(this)),i.on(d.default.DEMUX_ERROR,this._onDemuxError.bind(this)),i.on(d.default.INIT_SEGMENT,this._onInitSegment.bind(this)),i.on(d.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),i.on(d.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),i.on(d.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),i.on(d.default.MEDIA_INFO,this._onMediaInfo.bind(this)),i.on(d.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),i.on(d.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),i.on(d.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),i.on(d.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return e.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:\"destroy\"}),l.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.hasWorker=function(){return null!=this._worker},e.prototype.open=function(){this._worker?this._worker.postMessage({cmd:\"start\"}):this._controller.start()},e.prototype.close=function(){this._worker?this._worker.postMessage({cmd:\"stop\"}):this._controller.stop()},e.prototype.seek=function(e){this._worker?this._worker.postMessage({cmd:\"seek\",param:e}):this._controller.seek(e)},e.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:\"pause\"}):this._controller.pause()},e.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:\"resume\"}):this._controller.resume()},e.prototype._onInitSegment=function(e,t){var i=this;Promise.resolve().then(function(){i._emitter.emit(d.default.INIT_SEGMENT,e,t)})},e.prototype._onMediaSegment=function(e,t){var i=this;Promise.resolve().then(function(){i._emitter.emit(d.default.MEDIA_SEGMENT,e,t)})},e.prototype._onLoadingComplete=function(){var e=this;Promise.resolve().then(function(){e._emitter.emit(d.default.LOADING_COMPLETE)})},e.prototype._onRecoveredEarlyEof=function(){var e=this;Promise.resolve().then(function(){e._emitter.emit(d.default.RECOVERED_EARLY_EOF)})},e.prototype._onMediaInfo=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(d.default.MEDIA_INFO,e)})},e.prototype._onMetaDataArrived=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(d.default.METADATA_ARRIVED,e)})},e.prototype._onScriptDataArrived=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(d.default.SCRIPTDATA_ARRIVED,e)})},e.prototype._onStatisticsInfo=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(d.default.STATISTICS_INFO,e)})},e.prototype._onIOError=function(e,t){var i=this;Promise.resolve().then(function(){i._emitter.emit(d.default.IO_ERROR,e,t)})},e.prototype._onDemuxError=function(e,t){var i=this;Promise.resolve().then(function(){i._emitter.emit(d.default.DEMUX_ERROR,e,t)})},e.prototype._onRecommendSeekpoint=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(d.default.RECOMMEND_SEEKPOINT,e)})},e.prototype._onLoggingConfigChanged=function(e){this._worker&&this._worker.postMessage({cmd:\"logging_config\",param:e})},e.prototype._onWorkerMessage=function(e){var t=e.data,i=t.data;if(\"destroyed\"===t.msg||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(t.msg){case d.default.INIT_SEGMENT:case d.default.MEDIA_SEGMENT:this._emitter.emit(t.msg,i.type,i.data);break;case d.default.LOADING_COMPLETE:case d.default.RECOVERED_EARLY_EOF:this._emitter.emit(t.msg);break;case d.default.MEDIA_INFO:Object.setPrototypeOf(i,c.default.prototype),this._emitter.emit(t.msg,i);break;case d.default.METADATA_ARRIVED:case d.default.SCRIPTDATA_ARRIVED:case d.default.STATISTICS_INFO:this._emitter.emit(t.msg,i);break;case d.default.IO_ERROR:case d.default.DEMUX_ERROR:this._emitter.emit(t.msg,i.type,i.info);break;case d.default.RECOMMEND_SEEKPOINT:this._emitter.emit(t.msg,i);break;case\"logcat_callback\":o.default.emitter.emit(\"log\",i.type,i.logcat)}},e}();t.default=h},\"./src/core/transmuxing-controller.js\":/*!********************************************!*\\\n\t  !*** ./src/core/transmuxing-controller.js ***!\n\t  \\********************************************/\nfunction(e,t,i){i.r(t);var n=i(/*! events */\"./node_modules/events/events.js\"),r=i.n(n),a=i(/*! ../utils/logger.js */\"./src/utils/logger.js\"),s=i(/*! ../utils/browser.js */\"./src/utils/browser.js\"),o=i(/*! ./media-info.js */\"./src/core/media-info.js\"),l=i(/*! ../demux/flv-demuxer.js */\"./src/demux/flv-demuxer.js\"),u=i(/*! ../remux/mp4-remuxer.js */\"./src/remux/mp4-remuxer.js\"),d=i(/*! ../demux/demux-errors.js */\"./src/demux/demux-errors.js\"),c=i(/*! ../io/io-controller.js */\"./src/io/io-controller.js\"),h=i(/*! ./transmuxing-events.js */\"./src/core/transmuxing-events.js\"),f=function(){function e(e,t){this.TAG=\"TransmuxingController\",this._emitter=new(r()),this._config=t,e.segments||(e.segments=[{duration:e.duration,filesize:e.filesize,url:e.url}]),\"boolean\"!=typeof e.cors&&(e.cors=!0),\"boolean\"!=typeof e.withCredentials&&(e.withCredentials=!1),this._mediaDataSource=e,this._currentSegmentIndex=0;var i=0;this._mediaDataSource.segments.forEach(function(n){n.timestampBase=i,i+=n.duration,n.cors=e.cors,n.withCredentials=e.withCredentials,t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy)}),isNaN(i)||this._mediaDataSource.duration===i||(this._mediaDataSource.duration=i),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return e.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},e.prototype._loadSegment=function(e,t){this._currentSegmentIndex=e;var i=this._mediaDataSource.segments[e],n=this._ioctl=new c.default(i,this._config,e);n.onError=this._onIOException.bind(this),n.onSeeked=this._onIOSeeked.bind(this),n.onComplete=this._onIOComplete.bind(this),n.onRedirect=this._onIORedirect.bind(this),n.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),t?this._demuxer.bindDataSource(this._ioctl):n.onDataArrival=this._onInitChunkArrival.bind(this),n.open(t)},e.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},e.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},e.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},e.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},e.prototype.seek=function(e){if(null!=this._mediaInfo&&this._mediaInfo.isSeekable()){var t=this._searchSegmentIndexContains(e);if(t===this._currentSegmentIndex){var i=this._mediaInfo.segments[t];if(null==i)this._pendingSeekTime=e;else{var n=i.getNearestKeyframe(e);this._remuxer.seek(n.milliseconds),this._ioctl.seek(n.fileposition),this._pendingResolveSeekPoint=n.milliseconds}}else{var r=this._mediaInfo.segments[t];null==r?(this._pendingSeekTime=e,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(t)):(n=r.getNearestKeyframe(e),this._internalAbort(),this._remuxer.seek(e),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[t].timestampBase,this._loadSegment(t,n.fileposition),this._pendingResolveSeekPoint=n.milliseconds,this._reportSegmentMediaInfo(t))}this._enableStatisticsReporter()}},e.prototype._searchSegmentIndexContains=function(e){for(var t=this._mediaDataSource.segments,i=t.length-1,n=0;n<t.length;n++)if(e<t[n].timestampBase){i=n-1;break}return i},e.prototype._onInitChunkArrival=function(e,t){var i=this,n=null,r=0;if(t>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,r=this._demuxer.parseChunks(e,t);else if((n=l.default.probe(e)).match){this._demuxer=new l.default(n,this._config),this._remuxer||(this._remuxer=new u.default(this._config));var s=this._mediaDataSource;null==s.duration||isNaN(s.duration)||(this._demuxer.overridedDuration=s.duration),\"boolean\"==typeof s.hasAudio&&(this._demuxer.overridedHasAudio=s.hasAudio),\"boolean\"==typeof s.hasVideo&&(this._demuxer.overridedHasVideo=s.hasVideo),this._demuxer.timestampBase=s.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),r=this._demuxer.parseChunks(e,t)}else n=null,a.default.e(this.TAG,\"Non-FLV, Unsupported media type!\"),Promise.resolve().then(function(){i._internalAbort()}),this._emitter.emit(h.default.DEMUX_ERROR,d.default.FORMAT_UNSUPPORTED,\"Non-FLV, Unsupported media type\"),r=0;return r},e.prototype._onMediaInfo=function(e){var t=this;null==this._mediaInfo&&(this._mediaInfo=Object.assign({},e),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,o.default.prototype));var i=Object.assign({},e);Object.setPrototypeOf(i,o.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=i,this._reportSegmentMediaInfo(this._currentSegmentIndex),null!=this._pendingSeekTime&&Promise.resolve().then(function(){var e=t._pendingSeekTime;t._pendingSeekTime=null,t.seek(e)})},e.prototype._onMetaDataArrived=function(e){this._emitter.emit(h.default.METADATA_ARRIVED,e)},e.prototype._onScriptDataArrived=function(e){this._emitter.emit(h.default.SCRIPTDATA_ARRIVED,e)},e.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},e.prototype._onIOComplete=function(e){var t=e+1;t<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(t)):(this._remuxer.flushStashedSamples(),this._emitter.emit(h.default.LOADING_COMPLETE),this._disableStatisticsReporter())},e.prototype._onIORedirect=function(e){var t=this._ioctl.extraData;this._mediaDataSource.segments[t].redirectedURL=e},e.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(h.default.RECOVERED_EARLY_EOF)},e.prototype._onIOException=function(e,t){a.default.e(this.TAG,\"IOException: type = \"+e+\", code = \"+t.code+\", msg = \"+t.msg),this._emitter.emit(h.default.IO_ERROR,e,t),this._disableStatisticsReporter()},e.prototype._onDemuxException=function(e,t){a.default.e(this.TAG,\"DemuxException: type = \"+e+\", info = \"+t),this._emitter.emit(h.default.DEMUX_ERROR,e,t)},e.prototype._onRemuxerInitSegmentArrival=function(e,t){this._emitter.emit(h.default.INIT_SEGMENT,e,t)},e.prototype._onRemuxerMediaSegmentArrival=function(e,t){if(null==this._pendingSeekTime&&(this._emitter.emit(h.default.MEDIA_SEGMENT,e,t),null!=this._pendingResolveSeekPoint&&\"video\"===e)){var i=t.info.syncPoints,n=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,s.default.safari&&i.length>0&&i[0].originalDts===n&&(n=i[0].pts),this._emitter.emit(h.default.RECOMMEND_SEEKPOINT,n)}},e.prototype._enableStatisticsReporter=function(){null==this._statisticsReporter&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},e.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype._reportSegmentMediaInfo=function(e){var t=this._mediaInfo.segments[e],i=Object.assign({},t);i.duration=this._mediaInfo.duration,i.segmentCount=this._mediaInfo.segmentCount,delete i.segments,delete i.keyframesIndex,this._emitter.emit(h.default.MEDIA_INFO,i)},e.prototype._reportStatisticsInfo=function(){var e={};e.url=this._ioctl.currentURL,e.hasRedirect=this._ioctl.hasRedirect,e.hasRedirect&&(e.redirectedURL=this._ioctl.currentRedirectedURL),e.speed=this._ioctl.currentSpeed,e.loaderType=this._ioctl.loaderType,e.currentSegmentIndex=this._currentSegmentIndex,e.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(h.default.STATISTICS_INFO,e)},e}();t.default=f},\"./src/core/transmuxing-events.js\":/*!****************************************!*\\\n\t  !*** ./src/core/transmuxing-events.js ***!\n\t  \\****************************************/\nfunction(e,t,i){i.r(t),t.default={IO_ERROR:\"io_error\",DEMUX_ERROR:\"demux_error\",INIT_SEGMENT:\"init_segment\",MEDIA_SEGMENT:\"media_segment\",LOADING_COMPLETE:\"loading_complete\",RECOVERED_EARLY_EOF:\"recovered_early_eof\",MEDIA_INFO:\"media_info\",METADATA_ARRIVED:\"metadata_arrived\",SCRIPTDATA_ARRIVED:\"scriptdata_arrived\",STATISTICS_INFO:\"statistics_info\",RECOMMEND_SEEKPOINT:\"recommend_seekpoint\"}},\"./src/core/transmuxing-worker.js\":/*!****************************************!*\\\n\t  !*** ./src/core/transmuxing-worker.js ***!\n\t  \\****************************************/\nfunction(e,t,i){i.r(t);var n=i(/*! ../utils/logging-control.js */\"./src/utils/logging-control.js\"),r=i(/*! ../utils/polyfill.js */\"./src/utils/polyfill.js\"),a=i(/*! ./transmuxing-controller.js */\"./src/core/transmuxing-controller.js\"),s=i(/*! ./transmuxing-events.js */\"./src/core/transmuxing-events.js\");t.default=function(e){function t(t,i){var n={msg:s.default.INIT_SEGMENT,data:{type:t,data:i}};e.postMessage(n,[i.data])}function i(t,i){var n={msg:s.default.MEDIA_SEGMENT,data:{type:t,data:i}};e.postMessage(n,[i.data])}function o(){var t={msg:s.default.LOADING_COMPLETE};e.postMessage(t)}function l(){var t={msg:s.default.RECOVERED_EARLY_EOF};e.postMessage(t)}function u(t){var i={msg:s.default.MEDIA_INFO,data:t};e.postMessage(i)}function d(t){var i={msg:s.default.METADATA_ARRIVED,data:t};e.postMessage(i)}function c(t){var i={msg:s.default.SCRIPTDATA_ARRIVED,data:t};e.postMessage(i)}function h(t){var i={msg:s.default.STATISTICS_INFO,data:t};e.postMessage(i)}function f(t,i){e.postMessage({msg:s.default.IO_ERROR,data:{type:t,info:i}})}function p(t,i){e.postMessage({msg:s.default.DEMUX_ERROR,data:{type:t,info:i}})}function m(t){e.postMessage({msg:s.default.RECOMMEND_SEEKPOINT,data:t})}var g=null,_=function(t,i){e.postMessage({msg:\"logcat_callback\",data:{type:t,logcat:i}})}.bind(this);r.default.install(),e.addEventListener(\"message\",function(r){switch(r.data.cmd){case\"init\":(g=new a.default(r.data.param[0],r.data.param[1])).on(s.default.IO_ERROR,f.bind(this)),g.on(s.default.DEMUX_ERROR,p.bind(this)),g.on(s.default.INIT_SEGMENT,t.bind(this)),g.on(s.default.MEDIA_SEGMENT,i.bind(this)),g.on(s.default.LOADING_COMPLETE,o.bind(this)),g.on(s.default.RECOVERED_EARLY_EOF,l.bind(this)),g.on(s.default.MEDIA_INFO,u.bind(this)),g.on(s.default.METADATA_ARRIVED,d.bind(this)),g.on(s.default.SCRIPTDATA_ARRIVED,c.bind(this)),g.on(s.default.STATISTICS_INFO,h.bind(this)),g.on(s.default.RECOMMEND_SEEKPOINT,m.bind(this));break;case\"destroy\":g&&(g.destroy(),g=null),e.postMessage({msg:\"destroyed\"});break;case\"start\":g.start();break;case\"stop\":g.stop();break;case\"seek\":g.seek(r.data.param);break;case\"pause\":g.pause();break;case\"resume\":g.resume();break;case\"logging_config\":var v=r.data.param;n.default.applyConfig(v),!0===v.enableCallback?n.default.addLogListener(_):n.default.removeLogListener(_)}})}},\"./src/demux/amf-parser.js\":/*!*********************************!*\\\n\t  !*** ./src/demux/amf-parser.js ***!\n\t  \\*********************************/\nfunction(e,t,i){i.r(t);var n,r=i(/*! ../utils/logger.js */\"./src/utils/logger.js\"),a=i(/*! ../utils/utf8-conv.js */\"./src/utils/utf8-conv.js\"),s=i(/*! ../utils/exception.js */\"./src/utils/exception.js\"),o=(n=new ArrayBuffer(2),new DataView(n).setInt16(0,256,!0),256===new Int16Array(n)[0]),l=function(){function e(){}return e.parseScriptData=function(t,i,n){var a={};try{var s=e.parseValue(t,i,n),o=e.parseValue(t,i+s.size,n-s.size);a[s.data]=o.data}catch(e){r.default.e(\"AMF\",e.toString())}return a},e.parseObject=function(t,i,n){if(n<3)throw new s.IllegalStateException(\"Data not enough when parse ScriptDataObject\");var r=e.parseString(t,i,n),a=e.parseValue(t,i+r.size,n-r.size),o=a.objectEnd;return{data:{name:r.data,value:a.data},size:r.size+a.size,objectEnd:o}},e.parseVariable=function(t,i,n){return e.parseObject(t,i,n)},e.parseString=function(e,t,i){if(i<2)throw new s.IllegalStateException(\"Data not enough when parse String\");var n=new DataView(e,t,i).getUint16(0,!o);return{data:n>0?(0,a.default)(new Uint8Array(e,t+2,n)):\"\",size:2+n}},e.parseLongString=function(e,t,i){if(i<4)throw new s.IllegalStateException(\"Data not enough when parse LongString\");var n=new DataView(e,t,i).getUint32(0,!o);return{data:n>0?(0,a.default)(new Uint8Array(e,t+4,n)):\"\",size:4+n}},e.parseDate=function(e,t,i){if(i<10)throw new s.IllegalStateException(\"Data size invalid when parse Date\");var n=new DataView(e,t,i),r=n.getFloat64(0,!o),a=n.getInt16(8,!o);return{data:new Date(r+=60*a*1e3),size:10}},e.parseValue=function(t,i,n){if(n<1)throw new s.IllegalStateException(\"Data not enough when parse Value\");var a,l=new DataView(t,i,n),u=1,d=l.getUint8(0),c=!1;try{switch(d){case 0:a=l.getFloat64(1,!o),u+=8;break;case 1:a=!!l.getUint8(1),u+=1;break;case 2:var h=e.parseString(t,i+1,n-1);a=h.data,u+=h.size;break;case 3:a={};var f=0;for(9==(16777215&l.getUint32(n-4,!o))&&(f=3);u<n-4;){var p=e.parseObject(t,i+u,n-u-f);if(p.objectEnd)break;a[p.data.name]=p.data.value,u+=p.size}u<=n-3&&9==(16777215&l.getUint32(u-1,!o))&&(u+=3);break;case 8:for(a={},u+=4,f=0,9==(16777215&l.getUint32(n-4,!o))&&(f=3);u<n-8;){var m=e.parseVariable(t,i+u,n-u-f);if(m.objectEnd)break;a[m.data.name]=m.data.value,u+=m.size}u<=n-3&&9==(16777215&l.getUint32(u-1,!o))&&(u+=3);break;case 9:a=void 0,u=1,c=!0;break;case 10:a=[];var g=l.getUint32(1,!o);u+=4;for(var _=0;_<g;_++){var v=e.parseValue(t,i+u,n-u);a.push(v.data),u+=v.size}break;case 11:var y=e.parseDate(t,i+1,n-1);a=y.data,u+=y.size;break;case 12:var b=e.parseString(t,i+1,n-1);a=b.data,u+=b.size;break;default:u=n,r.default.w(\"AMF\",\"Unsupported AMF value type \"+d)}}catch(e){r.default.e(\"AMF\",e.toString())}return{data:a,size:u,objectEnd:c}},e}();t.default=l},\"./src/demux/demux-errors.js\":/*!***********************************!*\\\n\t  !*** ./src/demux/demux-errors.js ***!\n\t  \\***********************************/\nfunction(e,t,i){i.r(t),t.default={OK:\"OK\",FORMAT_ERROR:\"FormatError\",FORMAT_UNSUPPORTED:\"FormatUnsupported\",CODEC_UNSUPPORTED:\"CodecUnsupported\"}},\"./src/demux/exp-golomb.js\":/*!*********************************!*\\\n\t  !*** ./src/demux/exp-golomb.js ***!\n\t  \\*********************************/\nfunction(e,t,i){i.r(t);var n=i(/*! ../utils/exception.js */\"./src/utils/exception.js\"),r=function(){function e(e){this.TAG=\"ExpGolomb\",this._buffer=e,this._buffer_index=0,this._total_bytes=e.byteLength,this._total_bits=8*e.byteLength,this._current_word=0,this._current_word_bits_left=0}return e.prototype.destroy=function(){this._buffer=null},e.prototype._fillCurrentWord=function(){var e=this._total_bytes-this._buffer_index;if(e<=0)throw new n.IllegalStateException(\"ExpGolomb: _fillCurrentWord() but no bytes available\");var t=Math.min(4,e),i=new Uint8Array(4);i.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=new DataView(i.buffer).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t},e.prototype.readBits=function(e){if(e>32)throw new n.InvalidArgumentException(\"ExpGolomb: readBits() bits exceeded max 32bits!\");if(e<=this._current_word_bits_left){var t=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t}var i=this._current_word_bits_left?this._current_word:0;i>>>=32-this._current_word_bits_left;var r=e-this._current_word_bits_left;this._fillCurrentWord();var a=Math.min(r,this._current_word_bits_left),s=this._current_word>>>32-a;return this._current_word<<=a,this._current_word_bits_left-=a,i=i<<a|s},e.prototype.readBool=function(){return 1===this.readBits(1)},e.prototype.readByte=function(){return this.readBits(8)},e.prototype._skipLeadingZero=function(){var e;for(e=0;e<this._current_word_bits_left;e++)if(0!=(this._current_word&2147483648>>>e))return this._current_word<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this._skipLeadingZero()},e.prototype.readUEG=function(){var e=this._skipLeadingZero();return this.readBits(e+1)-1},e.prototype.readSEG=function(){var e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)},e}();t.default=r},\"./src/demux/flv-demuxer.js\":/*!**********************************!*\\\n\t  !*** ./src/demux/flv-demuxer.js ***!\n\t  \\**********************************/\nfunction(e,t,i){i.r(t);var n=i(/*! ../utils/logger.js */\"./src/utils/logger.js\"),r=i(/*! ./amf-parser.js */\"./src/demux/amf-parser.js\"),a=i(/*! ./sps-parser.js */\"./src/demux/sps-parser.js\"),o=i(/*! ./demux-errors.js */\"./src/demux/demux-errors.js\"),l=i(/*! ../core/media-info.js */\"./src/core/media-info.js\"),u=i(/*! ../utils/exception.js */\"./src/utils/exception.js\"),d=function(){function e(e,t){var i;this.TAG=\"FLVDemuxer\",this._config=t,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=e.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=e.hasAudioTrack,this._hasVideo=e.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new l.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:\"video\",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:\"audio\",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=(i=new ArrayBuffer(2),new DataView(i).setInt16(0,256,!0),256===new Int16Array(i)[0])}return e.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},e.probe=function(e){var t=new Uint8Array(e),i={match:!1};if(70!==t[0]||76!==t[1]||86!==t[2]||1!==t[3])return i;var n,r,a=(4&t[4])>>>2!=0,s=0!=(1&t[4]),o=(n=t)[r=5]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3];return o<9?i:{match:!0,consumed:o,dataOffset:o,hasAudioTrack:a,hasVideoTrack:s}},e.prototype.bindDataSource=function(e){return e.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(e.prototype,\"onTrackMetadata\",{get:function(){return this._onTrackMetadata},set:function(e){this._onTrackMetadata=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"onMediaInfo\",{get:function(){return this._onMediaInfo},set:function(e){this._onMediaInfo=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"onMetaDataArrived\",{get:function(){return this._onMetaDataArrived},set:function(e){this._onMetaDataArrived=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"onScriptDataArrived\",{get:function(){return this._onScriptDataArrived},set:function(e){this._onScriptDataArrived=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"onError\",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"onDataAvailable\",{get:function(){return this._onDataAvailable},set:function(e){this._onDataAvailable=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"timestampBase\",{get:function(){return this._timestampBase},set:function(e){this._timestampBase=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"overridedDuration\",{get:function(){return this._duration},set:function(e){this._durationOverrided=!0,this._duration=e,this._mediaInfo.duration=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"overridedHasAudio\",{set:function(e){this._hasAudioFlagOverrided=!0,this._hasAudio=e,this._mediaInfo.hasAudio=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"overridedHasVideo\",{set:function(e){this._hasVideoFlagOverrided=!0,this._hasVideo=e,this._mediaInfo.hasVideo=e},enumerable:!1,configurable:!0}),e.prototype.resetMediaInfo=function(){this._mediaInfo=new l.default},e.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched},e.prototype.parseChunks=function(t,i){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new u.IllegalStateException(\"Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified\");var r=0,a=this._littleEndian;if(0===i){if(!(t.byteLength>13))return 0;r=e.probe(t).dataOffset}for(this._firstParse&&(this._firstParse=!1,i+r!==this._dataOffset&&n.default.w(this.TAG,\"First time parsing but chunk byteStart invalid!\"),0!==(s=new DataView(t,r)).getUint32(0,!a)&&n.default.w(this.TAG,\"PrevTagSize0 !== 0 !!!\"),r+=4);r<t.byteLength;){this._dispatch=!0;var s=new DataView(t,r);if(r+11+4>t.byteLength)break;var o=s.getUint8(0),l=16777215&s.getUint32(0,!a);if(r+11+l+4>t.byteLength)break;if(8===o||9===o||18===o){var d=s.getUint8(4),c=s.getUint8(5),h=s.getUint8(6)|c<<8|d<<16|s.getUint8(7)<<24;0!=(16777215&s.getUint32(7,!a))&&n.default.w(this.TAG,\"Meet tag which has StreamID != 0!\");var f=r+11;switch(o){case 8:this._parseAudioData(t,f,l,h);break;case 9:this._parseVideoData(t,f,l,h,i+r);break;case 18:this._parseScriptData(t,f,l)}var p=s.getUint32(11+l,!a);p!==11+l&&n.default.w(this.TAG,\"Invalid PrevTagSize \"+p),r+=11+l+4}else n.default.w(this.TAG,\"Unsupported tag type \"+o+\", skipped\"),r+=11+l+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),r},e.prototype._parseScriptData=function(e,t,i){var a=r.default.parseScriptData(e,t,i);if(a.hasOwnProperty(\"onMetaData\")){if(null==a.onMetaData||\"object\"!=s(a.onMetaData))return void n.default.w(this.TAG,\"Invalid onMetaData structure!\");this._metadata&&n.default.w(this.TAG,\"Found another onMetaData tag!\"),this._metadata=a;var o=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},o)),\"boolean\"==typeof o.hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=o.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),\"boolean\"==typeof o.hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=o.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),\"number\"==typeof o.audiodatarate&&(this._mediaInfo.audioDataRate=o.audiodatarate),\"number\"==typeof o.videodatarate&&(this._mediaInfo.videoDataRate=o.videodatarate),\"number\"==typeof o.width&&(this._mediaInfo.width=o.width),\"number\"==typeof o.height&&(this._mediaInfo.height=o.height),\"number\"==typeof o.duration){if(!this._durationOverrided){var l=Math.floor(o.duration*this._timescale);this._duration=l,this._mediaInfo.duration=l}}else this._mediaInfo.duration=0;if(\"number\"==typeof o.framerate){var u=Math.floor(1e3*o.framerate);if(u>0){var d=u/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=d,this._referenceFrameRate.fps_num=u,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=d}}if(\"object\"==s(o.keyframes)){this._mediaInfo.hasKeyframesIndex=!0;var c=o.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(c),o.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=o,n.default.v(this.TAG,\"Parsed onMetaData\"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(a).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},a))},e.prototype._parseKeyframesIndex=function(e){for(var t=[],i=[],n=1;n<e.times.length;n++){var r=this._timestampBase+Math.floor(1e3*e.times[n]);t.push(r),i.push(e.filepositions[n])}return{times:t,filepositions:i}},e.prototype._parseAudioData=function(e,t,i,r){if(i<=1)n.default.w(this.TAG,\"Flv: Invalid audio packet, missing SoundData payload!\");else if(!0!==this._hasAudioFlagOverrided||!1!==this._hasAudio){this._littleEndian;var a=new DataView(e,t,i).getUint8(0),s=a>>>4;if(2===s||10===s){var l=0,u=(12&a)>>>2;if(u>=0&&u<=4){l=this._flvSoundRateTable[u];var d=1&a,c=this._audioMetadata,h=this._audioTrack;if(c||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(c=this._audioMetadata={}).type=\"audio\",c.id=h.id,c.timescale=this._timescale,c.duration=this._duration,c.audioSampleRate=l,c.channelCount=0===d?1:2),10===s){var f=this._parseAACAudioData(e,t+1,i-1);if(null==f)return;if(0===f.packetType){c.config&&n.default.w(this.TAG,\"Found another AudioSpecificConfig!\");var p=f.data;c.audioSampleRate=p.samplingRate,c.channelCount=p.channelCount,c.codec=p.codec,c.originalCodec=p.originalCodec,c.config=p.config,c.refSampleDuration=1024/c.audioSampleRate*c.timescale,n.default.v(this.TAG,\"Parsed AudioSpecificConfig\"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata(\"audio\",c),(_=this._mediaInfo).audioCodec=c.originalCodec,_.audioSampleRate=c.audioSampleRate,_.audioChannelCount=c.channelCount,_.hasVideo?null!=_.videoCodec&&(_.mimeType='video/x-flv; codecs=\"'+_.videoCodec+\",\"+_.audioCodec+'\"'):_.mimeType='video/x-flv; codecs=\"'+_.audioCodec+'\"',_.isComplete()&&this._onMediaInfo(_)}else if(1===f.packetType){var m=this._timestampBase+r,g={unit:f.data,length:f.data.byteLength,dts:m,pts:m};h.samples.push(g),h.length+=f.data.length}else n.default.e(this.TAG,\"Flv: Unsupported AAC data type \"+f.packetType)}else if(2===s){if(!c.codec){var _;if(null==(p=this._parseMP3AudioData(e,t+1,i-1,!0)))return;c.audioSampleRate=p.samplingRate,c.channelCount=p.channelCount,c.codec=p.codec,c.originalCodec=p.originalCodec,c.refSampleDuration=1152/c.audioSampleRate*c.timescale,n.default.v(this.TAG,\"Parsed MPEG Audio Frame Header\"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata(\"audio\",c),(_=this._mediaInfo).audioCodec=c.codec,_.audioSampleRate=c.audioSampleRate,_.audioChannelCount=c.channelCount,_.audioDataRate=p.bitRate,_.hasVideo?null!=_.videoCodec&&(_.mimeType='video/x-flv; codecs=\"'+_.videoCodec+\",\"+_.audioCodec+'\"'):_.mimeType='video/x-flv; codecs=\"'+_.audioCodec+'\"',_.isComplete()&&this._onMediaInfo(_)}var v=this._parseMP3AudioData(e,t+1,i-1,!1);if(null==v)return;m=this._timestampBase+r;var y={unit:v,length:v.byteLength,dts:m,pts:m};h.samples.push(y),h.length+=v.length}}else this._onError(o.default.FORMAT_ERROR,\"Flv: Invalid audio sample rate idx: \"+u)}else this._onError(o.default.CODEC_UNSUPPORTED,\"Flv: Unsupported audio codec idx: \"+s)}},e.prototype._parseAACAudioData=function(e,t,i){if(!(i<=1)){var r={},a=new Uint8Array(e,t,i);return r.packetType=a[0],0===a[0]?r.data=this._parseAACAudioSpecificConfig(e,t+1,i-1):r.data=a.subarray(1),r}n.default.w(this.TAG,\"Flv: Invalid AAC packet, missing AACPacketType or/and Data!\")},e.prototype._parseAACAudioSpecificConfig=function(e,t,i){var n,r,a=new Uint8Array(e,t,i),s=null,l=0,u=null;if(l=n=a[0]>>>3,(r=(7&a[0])<<1|a[1]>>>7)<0||r>=this._mpegSamplingRates.length)this._onError(o.default.FORMAT_ERROR,\"Flv: AAC invalid sampling frequency index!\");else{var d=this._mpegSamplingRates[r],c=(120&a[1])>>>3;if(!(c<0||c>=8)){5===l&&(u=(7&a[1])<<1|a[2]>>>7,a[2]);var h=self.navigator.userAgent.toLowerCase();return-1!==h.indexOf(\"firefox\")?r>=6?(l=5,s=new Array(4),u=r-3):(l=2,s=new Array(2),u=r):-1!==h.indexOf(\"android\")?(l=2,s=new Array(2),u=r):(l=5,u=r,s=new Array(4),r>=6?u=r-3:1===c&&(l=2,s=new Array(2),u=r)),s[0]=l<<3,s[0]|=(15&r)>>>1,s[1]=(15&r)<<7,s[1]|=(15&c)<<3,5===l&&(s[1]|=(15&u)>>>1,s[2]=(1&u)<<7,s[2]|=8,s[3]=0),{config:s,samplingRate:d,channelCount:c,codec:\"mp4a.40.\"+l,originalCodec:\"mp4a.40.\"+n}}this._onError(o.default.FORMAT_ERROR,\"Flv: AAC invalid channel configuration\")}},e.prototype._parseMP3AudioData=function(e,t,i,r){if(!(i<4)){this._littleEndian;var a=new Uint8Array(e,t,i),s=null;if(r){if(255!==a[0])return;var o=a[1]>>>3&3,l=(6&a[1])>>1,u=(240&a[2])>>>4,d=(12&a[2])>>>2,c=3!=(a[3]>>>6&3)?2:1,h=0,f=0;switch(o){case 0:h=this._mpegAudioV25SampleRateTable[d];break;case 2:h=this._mpegAudioV20SampleRateTable[d];break;case 3:h=this._mpegAudioV10SampleRateTable[d]}switch(l){case 1:u<this._mpegAudioL3BitRateTable.length&&(f=this._mpegAudioL3BitRateTable[u]);break;case 2:u<this._mpegAudioL2BitRateTable.length&&(f=this._mpegAudioL2BitRateTable[u]);break;case 3:u<this._mpegAudioL1BitRateTable.length&&(f=this._mpegAudioL1BitRateTable[u])}s={bitRate:f,samplingRate:h,channelCount:c,codec:\"mp3\",originalCodec:\"mp3\"}}else s=a;return s}n.default.w(this.TAG,\"Flv: Invalid MP3 packet, header missing!\")},e.prototype._parseVideoData=function(e,t,i,r,a){if(i<=1)n.default.w(this.TAG,\"Flv: Invalid video packet, missing VideoData payload!\");else if(!0!==this._hasVideoFlagOverrided||!1!==this._hasVideo){var s=new Uint8Array(e,t,i)[0],l=(240&s)>>>4,u=15&s;7===u?this._parseAVCVideoPacket(e,t+1,i-1,r,a,l):this._onError(o.default.CODEC_UNSUPPORTED,\"Flv: Unsupported codec in video frame: \"+u)}},e.prototype._parseAVCVideoPacket=function(e,t,i,r,a,s){if(i<4)n.default.w(this.TAG,\"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime\");else{var l=this._littleEndian,u=new DataView(e,t,i),d=u.getUint8(0),c=(16777215&u.getUint32(0,!l))<<8>>8;if(0===d)this._parseAVCDecoderConfigurationRecord(e,t+4,i-4);else if(1===d)this._parseAVCVideoData(e,t+4,i-4,r,a,s,c);else if(2!==d)return void this._onError(o.default.FORMAT_ERROR,\"Flv: Invalid video packet type \"+d)}},e.prototype._parseAVCDecoderConfigurationRecord=function(e,t,i){if(i<7)n.default.w(this.TAG,\"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!\");else{var r=this._videoMetadata,s=this._videoTrack,l=this._littleEndian,u=new DataView(e,t,i);r?void 0!==r.avcc&&n.default.w(this.TAG,\"Found another AVCDecoderConfigurationRecord!\"):(!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(r=this._videoMetadata={}).type=\"video\",r.id=s.id,r.timescale=this._timescale,r.duration=this._duration);var d=u.getUint8(0),c=u.getUint8(1);if(u.getUint8(2),u.getUint8(3),1===d&&0!==c)if(this._naluLengthSize=1+(3&u.getUint8(4)),3===this._naluLengthSize||4===this._naluLengthSize){var h=31&u.getUint8(5);if(0!==h){h>1&&n.default.w(this.TAG,\"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = \"+h);for(var f=6,p=0;p<h;p++){var m=u.getUint16(f,!l);if(f+=2,0!==m){var g=new Uint8Array(e,t+f,m);f+=m;var _=a.default.parseSPS(g);if(0===p){r.codecWidth=_.codec_size.width,r.codecHeight=_.codec_size.height,r.presentWidth=_.present_size.width,r.presentHeight=_.present_size.height,r.profile=_.profile_string,r.level=_.level_string,r.bitDepth=_.bit_depth,r.chromaFormat=_.chroma_format,r.sarRatio=_.sar_ratio,r.frameRate=_.frame_rate,!1!==_.frame_rate.fixed&&0!==_.frame_rate.fps_num&&0!==_.frame_rate.fps_den||(r.frameRate=this._referenceFrameRate);var v=r.frameRate.fps_den,y=r.frameRate.fps_num;r.refSampleDuration=r.timescale*(v/y);for(var b=g.subarray(1,4),A=\"avc1.\",E=0;E<3;E++){var w=b[E].toString(16);w.length<2&&(w=\"0\"+w),A+=w}r.codec=A;var T=this._mediaInfo;T.width=r.codecWidth,T.height=r.codecHeight,T.fps=r.frameRate.fps,T.profile=r.profile,T.level=r.level,T.refFrames=_.ref_frames,T.chromaFormat=_.chroma_format_string,T.sarNum=r.sarRatio.width,T.sarDen=r.sarRatio.height,T.videoCodec=A,T.hasAudio?null!=T.audioCodec&&(T.mimeType='video/x-flv; codecs=\"'+T.videoCodec+\",\"+T.audioCodec+'\"'):T.mimeType='video/x-flv; codecs=\"'+T.videoCodec+'\"',T.isComplete()&&this._onMediaInfo(T)}}}var S=u.getUint8(f);if(0!==S){for(S>1&&n.default.w(this.TAG,\"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = \"+S),f++,p=0;p<S;p++)m=u.getUint16(f,!l),f+=2,0!==m&&(f+=m);r.avcc=new Uint8Array(i),r.avcc.set(new Uint8Array(e,t,i),0),n.default.v(this.TAG,\"Parsed AVCDecoderConfigurationRecord\"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata(\"video\",r)}else this._onError(o.default.FORMAT_ERROR,\"Flv: Invalid AVCDecoderConfigurationRecord: No PPS\")}else this._onError(o.default.FORMAT_ERROR,\"Flv: Invalid AVCDecoderConfigurationRecord: No SPS\")}else this._onError(o.default.FORMAT_ERROR,\"Flv: Strange NaluLengthSizeMinusOne: \"+(this._naluLengthSize-1));else this._onError(o.default.FORMAT_ERROR,\"Flv: Invalid AVCDecoderConfigurationRecord\")}},e.prototype._parseAVCVideoData=function(e,t,i,r,a,s,o){for(var l=this._littleEndian,u=new DataView(e,t,i),d=[],c=0,h=0,f=this._naluLengthSize,p=this._timestampBase+r,m=1===s;h<i;){if(h+4>=i){n.default.w(this.TAG,\"Malformed Nalu near timestamp \"+p+\", offset = \"+h+\", dataSize = \"+i);break}var g=u.getUint32(h,!l);if(3===f&&(g>>>=8),g>i-f)return void n.default.w(this.TAG,\"Malformed Nalus near timestamp \"+p+\", NaluSize > DataSize!\");var _=31&u.getUint8(h+f);5===_&&(m=!0);var v=new Uint8Array(e,t+h,f+g),y={type:_,data:v};d.push(y),c+=v.byteLength,h+=f+g}if(d.length){var b=this._videoTrack,A={units:d,length:c,isKeyframe:m,dts:p,cts:o,pts:p+o};m&&(A.fileposition=a),b.samples.push(A),b.length+=c}},e}();t.default=d},\"./src/demux/sps-parser.js\":/*!*********************************!*\\\n\t  !*** ./src/demux/sps-parser.js ***!\n\t  \\*********************************/\nfunction(e,t,i){i.r(t);var n=i(/*! ./exp-golomb.js */\"./src/demux/exp-golomb.js\"),r=function(){function e(){}return e._ebsp2rbsp=function(e){for(var t=e,i=t.byteLength,n=new Uint8Array(i),r=0,a=0;a<i;a++)a>=2&&3===t[a]&&0===t[a-1]&&0===t[a-2]||(n[r]=t[a],r++);return new Uint8Array(n.buffer,0,r)},e.parseSPS=function(t){var i=e._ebsp2rbsp(t),r=new n.default(i);r.readByte();var a=r.readByte();r.readByte();var s=r.readByte();r.readUEG();var o=e.getProfileString(a),l=e.getLevelString(s),u=1,d=420,c=8;if((100===a||110===a||122===a||244===a||44===a||83===a||86===a||118===a||128===a||138===a||144===a)&&(3===(u=r.readUEG())&&r.readBits(1),u<=3&&(d=[0,420,422,444][u]),c=r.readUEG()+8,r.readUEG(),r.readBits(1),r.readBool()))for(var h=3!==u?8:12,f=0;f<h;f++)r.readBool()&&(f<6?e._skipScalingList(r,16):e._skipScalingList(r,64));r.readUEG();var p=r.readUEG();if(0===p)r.readUEG();else if(1===p){r.readBits(1),r.readSEG(),r.readSEG();var m=r.readUEG();for(f=0;f<m;f++)r.readSEG()}var g=r.readUEG();r.readBits(1);var _=r.readUEG(),v=r.readUEG(),y=r.readBits(1);0===y&&r.readBits(1),r.readBits(1);var b=0,A=0,E=0,w=0;r.readBool()&&(b=r.readUEG(),A=r.readUEG(),E=r.readUEG(),w=r.readUEG());var T=1,S=1,C=0,k=!0,L=0,x=0;if(r.readBool()){if(r.readBool()){var I=r.readByte();I>0&&I<16?(T=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][I-1],S=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][I-1]):255===I&&(T=r.readByte()<<8|r.readByte(),S=r.readByte()<<8|r.readByte())}if(r.readBool()&&r.readBool(),r.readBool()&&(r.readBits(4),r.readBool()&&r.readBits(24)),r.readBool()&&(r.readUEG(),r.readUEG()),r.readBool()){var P=r.readBits(32),R=r.readBits(32);k=r.readBool(),C=(L=R)/(x=2*P)}}var D=1;1===T&&1===S||(D=T/S);var O=0,M=0;0===u?(O=1,M=2-y):(O=3===u?1:2,M=(1===u?2:1)*(2-y));var U=16*(_+1),j=16*(v+1)*(2-y);U-=(b+A)*O,j-=(E+w)*M;var B=Math.ceil(U*D);return r.destroy(),r=null,{profile_string:o,level_string:l,bit_depth:c,ref_frames:g,chroma_format:d,chroma_format_string:e.getChromaFormatString(d),frame_rate:{fixed:k,fps:C,fps_den:x,fps_num:L},sar_ratio:{width:T,height:S},codec_size:{width:U,height:j},present_size:{width:B,height:j}}},e._skipScalingList=function(e,t){for(var i=8,n=8,r=0;r<t;r++)0!==n&&(n=(i+e.readSEG()+256)%256),i=0===n?i:n},e.getProfileString=function(e){switch(e){case 66:return\"Baseline\";case 77:return\"Main\";case 88:return\"Extended\";case 100:return\"High\";case 110:return\"High10\";case 122:return\"High422\";case 244:return\"High444\";default:return\"Unknown\"}},e.getLevelString=function(e){return(e/10).toFixed(1)},e.getChromaFormatString=function(e){switch(e){case 420:return\"4:2:0\";case 422:return\"4:2:2\";case 444:return\"4:4:4\";default:return\"Unknown\"}},e}();t.default=r},\"./src/flv.js\":/*!********************!*\\\n\t  !*** ./src/flv.js ***!\n\t  \\********************/\nfunction(e,t,i){i.r(t);var n=i(/*! ./utils/polyfill.js */\"./src/utils/polyfill.js\"),r=i(/*! ./core/features.js */\"./src/core/features.js\"),a=i(/*! ./io/loader.js */\"./src/io/loader.js\"),o=i(/*! ./player/flv-player.js */\"./src/player/flv-player.js\"),l=i(/*! ./player/native-player.js */\"./src/player/native-player.js\"),u=i(/*! ./player/player-events.js */\"./src/player/player-events.js\"),d=i(/*! ./player/player-errors.js */\"./src/player/player-errors.js\"),c=i(/*! ./utils/logging-control.js */\"./src/utils/logging-control.js\"),h=i(/*! ./utils/exception.js */\"./src/utils/exception.js\");n.default.install();var f={createPlayer:function(e,t){var i=e;if(null==i||\"object\"!=(\"undefined\"==typeof i?\"undefined\":s(i)))throw new h.InvalidArgumentException(\"MediaDataSource must be an javascript object!\");if(!i.hasOwnProperty(\"type\"))throw new h.InvalidArgumentException(\"MediaDataSource must has type field to indicate video file type!\");switch(i.type){case\"flv\":return new o.default(i,t);default:return new l.default(i,t)}},isSupported:function(){return r.default.supportMSEH264Playback()},getFeatureList:function(){return r.default.getFeatureList()}};f.BaseLoader=a.BaseLoader,f.LoaderStatus=a.LoaderStatus,f.LoaderErrors=a.LoaderErrors,f.Events=u.default,f.ErrorTypes=d.ErrorTypes,f.ErrorDetails=d.ErrorDetails,f.FlvPlayer=o.default,f.NativePlayer=l.default,f.LoggingControl=c.default,Object.defineProperty(f,\"version\",{enumerable:!0,get:function(){return\"1.6.2\"}}),t.default=f},\"./src/index.js\":/*!**********************!*\\\n\t  !*** ./src/index.js ***!\n\t  \\**********************/\nfunction(e,t,i){e.exports=i(/*! ./flv.js */\"./src/flv.js\").default},\"./src/io/fetch-stream-loader.js\":/*!***************************************!*\\\n\t  !*** ./src/io/fetch-stream-loader.js ***!\n\t  \\***************************************/\nfunction(e,t,i){i.r(t);var n,r=i(/*! ../utils/browser.js */\"./src/utils/browser.js\"),a=i(/*! ./loader.js */\"./src/io/loader.js\"),o=i(/*! ../utils/exception.js */\"./src/utils/exception.js\"),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),u=function(e){function t(t,i){var n=e.call(this,\"fetch-stream-loader\")||this;return n.TAG=\"FetchStreamLoader\",n._seekHandler=t,n._config=i,n._needStash=!0,n._requestAbort=!1,n._contentLength=null,n._receivedLength=0,n}return l(t,e),t.isSupported=function(){try{var e=r.default.msedge&&r.default.version.minor>=15048,t=!r.default.msedge||e;return self.fetch&&self.ReadableStream&&t}catch(e){return!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),e.prototype.destroy.call(this)},t.prototype.open=function(e,t){var i=this;this._dataSource=e,this._range=t;var n=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(n=e.redirectedURL);var r=this._seekHandler.getConfig(n,t),l=new self.Headers;if(\"object\"==s(r.headers)){var u=r.headers;for(var d in u)u.hasOwnProperty(d)&&l.append(d,u[d])}var c={method:\"GET\",headers:l,mode:\"cors\",cache:\"default\",referrerPolicy:\"no-referrer-when-downgrade\"};if(\"object\"==s(this._config.headers))for(var d in this._config.headers)l.append(d,this._config.headers[d]);!1===e.cors&&(c.mode=\"same-origin\"),e.withCredentials&&(c.credentials=\"include\"),e.referrerPolicy&&(c.referrerPolicy=e.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,c.signal=this._abortController.signal),this._status=a.LoaderStatus.kConnecting,self.fetch(r.url,c).then(function(e){if(i._requestAbort)return i._status=a.LoaderStatus.kIdle,void e.body.cancel();if(e.ok&&e.status>=200&&e.status<=299){if(e.url!==r.url&&i._onURLRedirect){var t=i._seekHandler.removeURLParameters(e.url);i._onURLRedirect(t)}var n=e.headers.get(\"Content-Length\");return null!=n&&(i._contentLength=parseInt(n),0!==i._contentLength&&i._onContentLengthKnown&&i._onContentLengthKnown(i._contentLength)),i._pump.call(i,e.body.getReader())}if(i._status=a.LoaderStatus.kError,!i._onError)throw new o.RuntimeException(\"FetchStreamLoader: Http code invalid, \"+e.status+\" \"+e.statusText);i._onError(a.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:e.status,msg:e.statusText})}).catch(function(e){if(!i._abortController||!i._abortController.signal.aborted){if(i._status=a.LoaderStatus.kError,!i._onError)throw e;i._onError(a.LoaderErrors.EXCEPTION,{code:-1,msg:e.message})}})},t.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==a.LoaderStatus.kBuffering||!r.default.chrome)&&this._abortController)try{this._abortController.abort()}catch(e){}},t.prototype._pump=function(e){var t=this;return e.read().then(function(i){if(i.done)if(null!==t._contentLength&&t._receivedLength<t._contentLength){t._status=a.LoaderStatus.kError;var n=a.LoaderErrors.EARLY_EOF,r={code:-1,msg:\"Fetch stream meet Early-EOF\"};if(!t._onError)throw new o.RuntimeException(r.msg);t._onError(n,r)}else t._status=a.LoaderStatus.kComplete,t._onComplete&&t._onComplete(t._range.from,t._range.from+t._receivedLength-1);else{if(t._abortController&&t._abortController.signal.aborted)return void(t._status=a.LoaderStatus.kComplete);if(!0===t._requestAbort)return t._status=a.LoaderStatus.kComplete,e.cancel();t._status=a.LoaderStatus.kBuffering;var s=i.value.buffer,l=t._range.from+t._receivedLength;t._receivedLength+=s.byteLength,t._onDataArrival&&t._onDataArrival(s,l,t._receivedLength),t._pump(e)}}).catch(function(e){if(t._abortController&&t._abortController.signal.aborted)t._status=a.LoaderStatus.kComplete;else if(11!==e.code||!r.default.msedge){t._status=a.LoaderStatus.kError;var i=0,n=null;if(19!==e.code&&\"network error\"!==e.message||!(null===t._contentLength||null!==t._contentLength&&t._receivedLength<t._contentLength)?(i=a.LoaderErrors.EXCEPTION,n={code:e.code,msg:e.message}):(i=a.LoaderErrors.EARLY_EOF,n={code:e.code,msg:\"Fetch stream meet Early-EOF\"}),!t._onError)throw new o.RuntimeException(n.msg);t._onError(i,n)}})},t}(a.BaseLoader);t.default=u},\"./src/io/io-controller.js\":/*!*********************************!*\\\n\t  !*** ./src/io/io-controller.js ***!\n\t  \\*********************************/\nfunction(e,t,i){i.r(t);var n=i(/*! ../utils/logger.js */\"./src/utils/logger.js\"),r=i(/*! ./speed-sampler.js */\"./src/io/speed-sampler.js\"),a=i(/*! ./loader.js */\"./src/io/loader.js\"),s=i(/*! ./fetch-stream-loader.js */\"./src/io/fetch-stream-loader.js\"),o=i(/*! ./xhr-moz-chunked-loader.js */\"./src/io/xhr-moz-chunked-loader.js\"),l=i(/*! ./xhr-range-loader.js */\"./src/io/xhr-range-loader.js\"),u=i(/*! ./websocket-loader.js */\"./src/io/websocket-loader.js\"),d=i(/*! ./range-seek-handler.js */\"./src/io/range-seek-handler.js\"),c=i(/*! ./param-seek-handler.js */\"./src/io/param-seek-handler.js\"),h=i(/*! ../utils/exception.js */\"./src/utils/exception.js\"),f=function(){function e(e,t,i){this.TAG=\"IOController\",this._config=t,this._extraData=i,this._stashInitialSize=393216,null!=t.stashInitialSize&&t.stashInitialSize>0&&(this._stashInitialSize=t.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,!1===t.enableStashBuffer&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=e,this._isWebSocketURL=/wss?:\\/\\/(.+?)/.test(e.url),this._refTotalLength=e.filesize?e.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new r.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return e.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},e.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},e.prototype.isPaused=function(){return this._paused},Object.defineProperty(e.prototype,\"status\",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"extraData\",{get:function(){return this._extraData},set:function(e){this._extraData=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"onDataArrival\",{get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"onSeeked\",{get:function(){return this._onSeeked},set:function(e){this._onSeeked=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"onError\",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"onComplete\",{get:function(){return this._onComplete},set:function(e){this._onComplete=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"onRedirect\",{get:function(){return this._onRedirect},set:function(e){this._onRedirect=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"onRecoveredEarlyEof\",{get:function(){return this._onRecoveredEarlyEof},set:function(e){this._onRecoveredEarlyEof=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"currentURL\",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"hasRedirect\",{get:function(){return null!=this._redirectedURL||null!=this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"currentRedirectedURL\",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"currentSpeed\",{get:function(){return this._loaderClass===l.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"loaderType\",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),e.prototype._selectSeekHandler=function(){var e=this._config;if(\"range\"===e.seekType)this._seekHandler=new d.default(this._config.rangeLoadZeroStart);else if(\"param\"===e.seekType){var t=e.seekParamStart||\"bstart\",i=e.seekParamEnd||\"bend\";this._seekHandler=new c.default(t,i)}else{if(\"custom\"!==e.seekType)throw new h.InvalidArgumentException(\"Invalid seekType in config: \"+e.seekType);if(\"function\"!=typeof e.customSeekHandler)throw new h.InvalidArgumentException(\"Custom seekType specified in config but invalid customSeekHandler!\");this._seekHandler=new e.customSeekHandler}},e.prototype._selectLoader=function(){if(null!=this._config.customLoader)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=u.default;else if(s.default.isSupported())this._loaderClass=s.default;else if(o.default.isSupported())this._loaderClass=o.default;else{if(!l.default.isSupported())throw new h.RuntimeException(\"Your browser doesn't support xhr with arraybuffer responseType!\");this._loaderClass=l.default}},e.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),!1===this._loader.needStashBuffer&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},e.prototype.open=function(e){this._currentRange={from:0,to:-1},e&&(this._currentRange.from=e),this._speedSampler.reset(),e||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},e.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},e.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),0!==this._stashUsed?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},e.prototype.resume=function(){if(this._paused){this._paused=!1;var e=this._resumeFrom;this._resumeFrom=0,this._internalSeek(e,!0)}},e.prototype.seek=function(e){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(e,!0)},e.prototype._internalSeek=function(e,t){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(t),this._loader.destroy(),this._loader=null;var i={from:e,to:-1};this._currentRange={from:i.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,i),this._onSeeked&&this._onSeeked()},e.prototype.updateUrl=function(e){if(!e||\"string\"!=typeof e||0===e.length)throw new h.InvalidArgumentException(\"Url must be a non-empty string!\");this._dataSource.url=e},e.prototype._expandBuffer=function(e){for(var t=this._stashSize;t+1048576<e;)t*=2;if((t+=1048576)!==this._bufferSize){var i=new ArrayBuffer(t);if(this._stashUsed>0){var n=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(i,0,t).set(n,0)}this._stashBuffer=i,this._bufferSize=t}},e.prototype._normalizeSpeed=function(e){var t=this._speedNormalizeList,i=t.length-1,n=0,r=0,a=i;if(e<t[0])return t[0];for(;r<=a;){if((n=r+Math.floor((a-r)/2))===i||e>=t[n]&&e<t[n+1])return t[n];t[n]<e?r=n+1:a=n-1}},e.prototype._adjustStashSize=function(e){var t=0;(t=this._config.isLive||e<512?e:e>=512&&e<=1024?Math.floor(1.5*e):2*e)>8192&&(t=8192);var i=1024*t+1048576;this._bufferSize<i&&this._expandBuffer(i),this._stashSize=1024*t},e.prototype._dispatchChunks=function(e,t){return this._currentRange.to=t+e.byteLength-1,this._onDataArrival(e,t)},e.prototype._onURLRedirect=function(e){this._redirectedURL=e,this._onRedirect&&this._onRedirect(e)},e.prototype._onContentLengthKnown=function(e){e&&this._fullRequestFlag&&(this._totalLength=e,this._fullRequestFlag=!1)},e.prototype._onLoaderChunkArrival=function(e,t,i){if(!this._onDataArrival)throw new h.IllegalStateException(\"IOController: No existing consumer (onDataArrival) callback!\");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(e.byteLength);var n=this._speedSampler.lastSecondKBps;if(0!==n){var r=this._normalizeSpeed(n);this._speedNormalized!==r&&(this._speedNormalized=r,this._adjustStashSize(r))}if(this._enableStash)if(0===this._stashUsed&&0===this._stashByteStart&&(this._stashByteStart=t),this._stashUsed+e.byteLength<=this._stashSize)(o=new Uint8Array(this._stashBuffer,0,this._stashSize)).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;else if(o=new Uint8Array(this._stashBuffer,0,this._bufferSize),this._stashUsed>0){var a=this._stashBuffer.slice(0,this._stashUsed);(l=this._dispatchChunks(a,this._stashByteStart))<a.byteLength?l>0&&(u=new Uint8Array(a,l),o.set(u,0),this._stashUsed=u.byteLength,this._stashByteStart+=l):(this._stashUsed=0,this._stashByteStart+=l),this._stashUsed+e.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+e.byteLength),o=new Uint8Array(this._stashBuffer,0,this._bufferSize)),o.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else(l=this._dispatchChunks(e,t))<e.byteLength&&((s=e.byteLength-l)>this._bufferSize&&(this._expandBuffer(s),o=new Uint8Array(this._stashBuffer,0,this._bufferSize)),o.set(new Uint8Array(e,l),0),this._stashUsed+=s,this._stashByteStart=t+l);else if(0===this._stashUsed){var s;(l=this._dispatchChunks(e,t))<e.byteLength&&((s=e.byteLength-l)>this._bufferSize&&this._expandBuffer(s),(o=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(e,l),0),this._stashUsed+=s,this._stashByteStart=t+l)}else{var o,l;if(this._stashUsed+e.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+e.byteLength),(o=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength,(l=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart))<this._stashUsed&&l>0){var u=new Uint8Array(this._stashBuffer,l);o.set(u,0)}this._stashUsed-=l,this._stashByteStart+=l}}},e.prototype._flushStashBuffer=function(e){if(this._stashUsed>0){var t=this._stashBuffer.slice(0,this._stashUsed),i=this._dispatchChunks(t,this._stashByteStart),r=t.byteLength-i;if(i<t.byteLength){if(!e){if(i>0){var a=new Uint8Array(this._stashBuffer,0,this._bufferSize),s=new Uint8Array(t,i);a.set(s,0),this._stashUsed=s.byteLength,this._stashByteStart+=i}return 0}n.default.w(this.TAG,r+\" bytes unconsumed data remain when flush buffer, dropped\")}return this._stashUsed=0,this._stashByteStart=0,r}return 0},e.prototype._onLoaderComplete=function(e,t){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},e.prototype._onLoaderError=function(e,t){switch(n.default.e(this.TAG,\"Loader error, code = \"+t.code+\", msg = \"+t.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,e=a.LoaderErrors.UNRECOVERABLE_EARLY_EOF),e){case a.LoaderErrors.EARLY_EOF:if(!this._config.isLive&&this._totalLength){var i=this._currentRange.to+1;return void(i<this._totalLength&&(n.default.w(this.TAG,\"Connection lost, trying reconnect...\"),this._isEarlyEofReconnecting=!0,this._internalSeek(i,!1)))}e=a.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break;case a.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case a.LoaderErrors.CONNECTING_TIMEOUT:case a.LoaderErrors.HTTP_STATUS_CODE_INVALID:case a.LoaderErrors.EXCEPTION:}if(!this._onError)throw new h.RuntimeException(\"IOException: \"+t.msg);this._onError(e,t)},e}();t.default=f},\"./src/io/loader.js\":/*!**************************!*\\\n\t  !*** ./src/io/loader.js ***!\n\t  \\**************************/\nfunction(e,t,i){i.r(t),i.d(t,{LoaderStatus:function(){return r},LoaderErrors:function(){return a},BaseLoader:function(){return s}});var n=i(/*! ../utils/exception.js */\"./src/utils/exception.js\"),r={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},a={OK:\"OK\",EXCEPTION:\"Exception\",HTTP_STATUS_CODE_INVALID:\"HttpStatusCodeInvalid\",CONNECTING_TIMEOUT:\"ConnectingTimeout\",EARLY_EOF:\"EarlyEof\",UNRECOVERABLE_EARLY_EOF:\"UnrecoverableEarlyEof\"},s=function(){function e(e){this._type=e||\"undefined\",this._status=r.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return e.prototype.destroy=function(){this._status=r.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},e.prototype.isWorking=function(){return this._status===r.kConnecting||this._status===r.kBuffering},Object.defineProperty(e.prototype,\"type\",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"status\",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"needStashBuffer\",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"onContentLengthKnown\",{get:function(){return this._onContentLengthKnown},set:function(e){this._onContentLengthKnown=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"onURLRedirect\",{get:function(){return this._onURLRedirect},set:function(e){this._onURLRedirect=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"onDataArrival\",{get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"onError\",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"onComplete\",{get:function(){return this._onComplete},set:function(e){this._onComplete=e},enumerable:!1,configurable:!0}),e.prototype.open=function(e,t){throw new n.NotImplementedException(\"Unimplemented abstract function!\")},e.prototype.abort=function(){throw new n.NotImplementedException(\"Unimplemented abstract function!\")},e}()},\"./src/io/param-seek-handler.js\":/*!**************************************!*\\\n\t  !*** ./src/io/param-seek-handler.js ***!\n\t  \\**************************************/\nfunction(e,t,i){i.r(t);var n=function(){function e(e,t){this._startName=e,this._endName=t}return e.prototype.getConfig=function(e,t){var i=e;if(0!==t.from||-1!==t.to){var n=!0;-1===i.indexOf(\"?\")&&(i+=\"?\",n=!1),n&&(i+=\"&\"),i+=this._startName+\"=\"+t.from.toString(),-1!==t.to&&(i+=\"&\"+this._endName+\"=\"+t.to.toString())}return{url:i,headers:{}}},e.prototype.removeURLParameters=function(e){var t=e.split(\"?\")[0],i=void 0,n=e.indexOf(\"?\");-1!==n&&(i=e.substring(n+1));var r=\"\";if(null!=i&&i.length>0)for(var a=i.split(\"&\"),s=0;s<a.length;s++){var o=a[s].split(\"=\"),l=s>0;o[0]!==this._startName&&o[0]!==this._endName&&(l&&(r+=\"&\"),r+=a[s])}return 0===r.length?t:t+\"?\"+r},e}();t.default=n},\"./src/io/range-seek-handler.js\":/*!**************************************!*\\\n\t  !*** ./src/io/range-seek-handler.js ***!\n\t  \\**************************************/\nfunction(e,t,i){i.r(t);var n=function(){function e(e){this._zeroStart=e||!1}return e.prototype.getConfig=function(e,t){var i={};if(0!==t.from||-1!==t.to){var n=void 0;n=-1!==t.to?\"bytes=\"+t.from.toString()+\"-\"+t.to.toString():\"bytes=\"+t.from.toString()+\"-\",i.Range=n}else this._zeroStart&&(i.Range=\"bytes=0-\");return{url:e,headers:i}},e.prototype.removeURLParameters=function(e){return e},e}();t.default=n},\"./src/io/speed-sampler.js\":/*!*********************************!*\\\n\t  !*** ./src/io/speed-sampler.js ***!\n\t  \\*********************************/\nfunction(e,t,i){i.r(t);var n=function(){function e(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return e.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},e.prototype.addBytes=function(e){0===this._firstCheckpoint?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=e,this._totalBytes+=e):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=e,this._totalBytes+=e):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=e,this._totalBytes+=e,this._lastCheckpoint=this._now())},Object.defineProperty(e.prototype,\"currentKBps\",{get:function(){this.addBytes(0);var e=(this._now()-this._lastCheckpoint)/1e3;return 0==e&&(e=1),this._intervalBytes/e/1024},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"lastSecondKBps\",{get:function(){return this.addBytes(0),0!==this._lastSecondBytes?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"averageKBps\",{get:function(){var e=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/e/1024},enumerable:!1,configurable:!0}),e}();t.default=n},\"./src/io/websocket-loader.js\":/*!************************************!*\\\n\t  !*** ./src/io/websocket-loader.js ***!\n\t  \\************************************/\nfunction(e,t,i){i.r(t);var n,r=i(/*! ./loader.js */\"./src/io/loader.js\"),a=i(/*! ../utils/exception.js */\"./src/utils/exception.js\"),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=function(e){function t(){var t=e.call(this,\"websocket-loader\")||this;return t.TAG=\"WebSocketLoader\",t._needStash=!0,t._ws=null,t._requestAbort=!1,t._receivedLength=0,t}return s(t,e),t.isSupported=function(){try{return void 0!==self.WebSocket}catch(e){return!1}},t.prototype.destroy=function(){this._ws&&this.abort(),e.prototype.destroy.call(this)},t.prototype.open=function(e){try{var t=this._ws=new self.WebSocket(e.url);t.binaryType=\"arraybuffer\",t.onopen=this._onWebSocketOpen.bind(this),t.onclose=this._onWebSocketClose.bind(this),t.onmessage=this._onWebSocketMessage.bind(this),t.onerror=this._onWebSocketError.bind(this),this._status=r.LoaderStatus.kConnecting}catch(e){this._status=r.LoaderStatus.kError;var i={code:e.code,msg:e.message};if(!this._onError)throw new a.RuntimeException(i.msg);this._onError(r.LoaderErrors.EXCEPTION,i)}},t.prototype.abort=function(){var e=this._ws;!e||0!==e.readyState&&1!==e.readyState||(this._requestAbort=!0,e.close()),this._ws=null,this._status=r.LoaderStatus.kComplete},t.prototype._onWebSocketOpen=function(e){this._status=r.LoaderStatus.kBuffering},t.prototype._onWebSocketClose=function(e){!0!==this._requestAbort?(this._status=r.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1},t.prototype._onWebSocketMessage=function(e){var t=this;if(e.data instanceof ArrayBuffer)this._dispatchArrayBuffer(e.data);else if(e.data instanceof Blob){var i=new FileReader;i.onload=function(){t._dispatchArrayBuffer(i.result)},i.readAsArrayBuffer(e.data)}else{this._status=r.LoaderStatus.kError;var n={code:-1,msg:\"Unsupported WebSocket message type: \"+e.data.constructor.name};if(!this._onError)throw new a.RuntimeException(n.msg);this._onError(r.LoaderErrors.EXCEPTION,n)}},t.prototype._dispatchArrayBuffer=function(e){var t=e,i=this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,i,this._receivedLength)},t.prototype._onWebSocketError=function(e){this._status=r.LoaderStatus.kError;var t={code:e.code,msg:e.message};if(!this._onError)throw new a.RuntimeException(t.msg);this._onError(r.LoaderErrors.EXCEPTION,t)},t}(r.BaseLoader);t.default=o},\"./src/io/xhr-moz-chunked-loader.js\":/*!******************************************!*\\\n\t  !*** ./src/io/xhr-moz-chunked-loader.js ***!\n\t  \\******************************************/\nfunction(e,t,i){i.r(t);var n,r=i(/*! ../utils/logger.js */\"./src/utils/logger.js\"),a=i(/*! ./loader.js */\"./src/io/loader.js\"),o=i(/*! ../utils/exception.js */\"./src/utils/exception.js\"),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),u=function(e){function t(t,i){var n=e.call(this,\"xhr-moz-chunked-loader\")||this;return n.TAG=\"MozChunkedLoader\",n._seekHandler=t,n._config=i,n._needStash=!0,n._xhr=null,n._requestAbort=!1,n._contentLength=null,n._receivedLength=0,n}return l(t,e),t.isSupported=function(){try{var e=new XMLHttpRequest;return e.open(\"GET\",\"https://example.com\",!0),e.responseType=\"moz-chunked-arraybuffer\",\"moz-chunked-arraybuffer\"===e.responseType}catch(e){return r.default.w(\"MozChunkedLoader\",e.message),!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),e.prototype.destroy.call(this)},t.prototype.open=function(e,t){this._dataSource=e,this._range=t;var i=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(i=e.redirectedURL);var n=this._seekHandler.getConfig(i,t);this._requestURL=n.url;var r=this._xhr=new XMLHttpRequest;if(r.open(\"GET\",n.url,!0),r.responseType=\"moz-chunked-arraybuffer\",r.onreadystatechange=this._onReadyStateChange.bind(this),r.onprogress=this._onProgress.bind(this),r.onloadend=this._onLoadEnd.bind(this),r.onerror=this._onXhrError.bind(this),e.withCredentials&&(r.withCredentials=!0),\"object\"==s(n.headers)){var o=n.headers;for(var l in o)o.hasOwnProperty(l)&&r.setRequestHeader(l,o[l])}if(\"object\"==s(this._config.headers))for(var l in o=this._config.headers)o.hasOwnProperty(l)&&r.setRequestHeader(l,o[l]);this._status=a.LoaderStatus.kConnecting,r.send()},t.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=a.LoaderStatus.kComplete},t.prototype._onReadyStateChange=function(e){var t=e.target;if(2===t.readyState){if(null!=t.responseURL&&t.responseURL!==this._requestURL&&this._onURLRedirect){var i=this._seekHandler.removeURLParameters(t.responseURL);this._onURLRedirect(i)}if(0!==t.status&&(t.status<200||t.status>299)){if(this._status=a.LoaderStatus.kError,!this._onError)throw new o.RuntimeException(\"MozChunkedLoader: Http code invalid, \"+t.status+\" \"+t.statusText);this._onError(a.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else this._status=a.LoaderStatus.kBuffering}},t.prototype._onProgress=function(e){if(this._status!==a.LoaderStatus.kError){null===this._contentLength&&null!==e.total&&0!==e.total&&(this._contentLength=e.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var t=e.target.response,i=this._range.from+this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,i,this._receivedLength)}},t.prototype._onLoadEnd=function(e){!0!==this._requestAbort?this._status!==a.LoaderStatus.kError&&(this._status=a.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1},t.prototype._onXhrError=function(e){this._status=a.LoaderStatus.kError;var t=0,i=null;if(this._contentLength&&e.loaded<this._contentLength?(t=a.LoaderErrors.EARLY_EOF,i={code:-1,msg:\"Moz-Chunked stream meet Early-Eof\"}):(t=a.LoaderErrors.EXCEPTION,i={code:-1,msg:e.constructor.name+\" \"+e.type}),!this._onError)throw new o.RuntimeException(i.msg);this._onError(t,i)},t}(a.BaseLoader);t.default=u},\"./src/io/xhr-range-loader.js\":/*!************************************!*\\\n\t  !*** ./src/io/xhr-range-loader.js ***!\n\t  \\************************************/\nfunction(e,t,i){i.r(t);var n,r=i(/*! ../utils/logger.js */\"./src/utils/logger.js\"),a=i(/*! ./speed-sampler.js */\"./src/io/speed-sampler.js\"),o=i(/*! ./loader.js */\"./src/io/loader.js\"),l=i(/*! ../utils/exception.js */\"./src/utils/exception.js\"),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),d=function(e){function t(t,i){var n=e.call(this,\"xhr-range-loader\")||this;return n.TAG=\"RangeLoader\",n._seekHandler=t,n._config=i,n._needStash=!1,n._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],n._currentChunkSizeKB=384,n._currentSpeedNormalized=0,n._zeroSpeedChunkCount=0,n._xhr=null,n._speedSampler=new a.default,n._requestAbort=!1,n._waitForTotalLength=!1,n._totalLengthReceived=!1,n._currentRequestURL=null,n._currentRedirectedURL=null,n._currentRequestRange=null,n._totalLength=null,n._contentLength=null,n._receivedLength=0,n._lastTimeLoaded=0,n}return u(t,e),t.isSupported=function(){try{var e=new XMLHttpRequest;return e.open(\"GET\",\"https://example.com\",!0),e.responseType=\"arraybuffer\",\"arraybuffer\"===e.responseType}catch(e){return r.default.w(\"RangeLoader\",e.message),!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),e.prototype.destroy.call(this)},Object.defineProperty(t.prototype,\"currentSpeed\",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),t.prototype.open=function(e,t){this._dataSource=e,this._range=t,this._status=o.LoaderStatus.kConnecting;var i=!1;null!=this._dataSource.filesize&&0!==this._dataSource.filesize&&(i=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||i?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))},t.prototype._openSubRange=function(){var e=1024*this._currentChunkSizeKB,t=this._range.from+this._receivedLength,i=t+e;null!=this._contentLength&&i-this._range.from>=this._contentLength&&(i=this._range.from+this._contentLength-1),this._currentRequestRange={from:t,to:i},this._internalOpen(this._dataSource,this._currentRequestRange)},t.prototype._internalOpen=function(e,t){this._lastTimeLoaded=0;var i=e.url;this._config.reuseRedirectedURL&&(null!=this._currentRedirectedURL?i=this._currentRedirectedURL:null!=e.redirectedURL&&(i=e.redirectedURL));var n=this._seekHandler.getConfig(i,t);this._currentRequestURL=n.url;var r=this._xhr=new XMLHttpRequest;if(r.open(\"GET\",n.url,!0),r.responseType=\"arraybuffer\",r.onreadystatechange=this._onReadyStateChange.bind(this),r.onprogress=this._onProgress.bind(this),r.onload=this._onLoad.bind(this),r.onerror=this._onXhrError.bind(this),e.withCredentials&&(r.withCredentials=!0),\"object\"==s(n.headers)){var a=n.headers;for(var o in a)a.hasOwnProperty(o)&&r.setRequestHeader(o,a[o])}if(\"object\"==s(this._config.headers))for(var o in a=this._config.headers)a.hasOwnProperty(o)&&r.setRequestHeader(o,a[o]);r.send()},t.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=o.LoaderStatus.kComplete},t.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},t.prototype._onReadyStateChange=function(e){var t=e.target;if(2===t.readyState){if(null!=t.responseURL){var i=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&i!==this._currentRedirectedURL&&(this._currentRedirectedURL=i,this._onURLRedirect&&this._onURLRedirect(i))}if(t.status>=200&&t.status<=299){if(this._waitForTotalLength)return;this._status=o.LoaderStatus.kBuffering}else{if(this._status=o.LoaderStatus.kError,!this._onError)throw new l.RuntimeException(\"RangeLoader: Http code invalid, \"+t.status+\" \"+t.statusText);this._onError(o.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}}},t.prototype._onProgress=function(e){if(this._status!==o.LoaderStatus.kError){if(null===this._contentLength){var t=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,t=!0;var i=e.total;this._internalAbort(),null!=i&0!==i&&(this._totalLength=i)}if(-1===this._range.to?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,t)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var n=e.loaded-this._lastTimeLoaded;this._lastTimeLoaded=e.loaded,this._speedSampler.addBytes(n)}},t.prototype._normalizeSpeed=function(e){var t=this._chunkSizeKBList,i=t.length-1,n=0,r=0,a=i;if(e<t[0])return t[0];for(;r<=a;){if((n=r+Math.floor((a-r)/2))===i||e>=t[n]&&e<t[n+1])return t[n];t[n]<e?r=n+1:a=n-1}},t.prototype._onLoad=function(e){if(this._status!==o.LoaderStatus.kError)if(this._waitForTotalLength)this._waitForTotalLength=!1;else{this._lastTimeLoaded=0;var t=this._speedSampler.lastSecondKBps;if(0===t&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(t=this._speedSampler.currentKBps)),0!==t){var i=this._normalizeSpeed(t);this._currentSpeedNormalized!==i&&(this._currentSpeedNormalized=i,this._currentChunkSizeKB=i)}var n=e.target.response,r=this._range.from+this._receivedLength;this._receivedLength+=n.byteLength;var a=!1;null!=this._contentLength&&this._receivedLength<this._contentLength?this._openSubRange():a=!0,this._onDataArrival&&this._onDataArrival(n,r,this._receivedLength),a&&(this._status=o.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},t.prototype._onXhrError=function(e){this._status=o.LoaderStatus.kError;var t=0,i=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(t=o.LoaderErrors.EARLY_EOF,i={code:-1,msg:\"RangeLoader meet Early-Eof\"}):(t=o.LoaderErrors.EXCEPTION,i={code:-1,msg:e.constructor.name+\" \"+e.type}),!this._onError)throw new l.RuntimeException(i.msg);this._onError(t,i)},t}(o.BaseLoader);t.default=d},\"./src/player/flv-player.js\":/*!**********************************!*\\\n\t  !*** ./src/player/flv-player.js ***!\n\t  \\**********************************/\nfunction(e,t,i){i.r(t);var n=i(/*! events */\"./node_modules/events/events.js\"),r=i.n(n),a=i(/*! ../utils/logger.js */\"./src/utils/logger.js\"),o=i(/*! ../utils/browser.js */\"./src/utils/browser.js\"),l=i(/*! ./player-events.js */\"./src/player/player-events.js\"),u=i(/*! ../core/transmuxer.js */\"./src/core/transmuxer.js\"),d=i(/*! ../core/transmuxing-events.js */\"./src/core/transmuxing-events.js\"),c=i(/*! ../core/mse-controller.js */\"./src/core/mse-controller.js\"),h=i(/*! ../core/mse-events.js */\"./src/core/mse-events.js\"),f=i(/*! ./player-errors.js */\"./src/player/player-errors.js\"),p=i(/*! ../config.js */\"./src/config.js\"),m=i(/*! ../utils/exception.js */\"./src/utils/exception.js\"),g=function(){function e(e,t){if(this.TAG=\"FlvPlayer\",this._type=\"FlvPlayer\",this._emitter=new(r()),this._config=(0,p.createDefaultConfig)(),\"object\"==(\"undefined\"==typeof t?\"undefined\":s(t))&&Object.assign(this._config,t),\"flv\"!==e.type.toLowerCase())throw new m.InvalidArgumentException(\"FlvPlayer requires an flv MediaDataSource input!\");!0===e.isLive&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=e,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var i=o.default.chrome&&(o.default.version.major<50||50===o.default.version.major&&o.default.version.build<2661);this._alwaysSeekKeyframe=!!(i||o.default.msedge||o.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return e.prototype.destroy=function(){null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){var i=this;e===l.default.MEDIA_INFO?null!=this._mediaInfo&&Promise.resolve().then(function(){i._emitter.emit(l.default.MEDIA_INFO,i.mediaInfo)}):e===l.default.STATISTICS_INFO&&null!=this._statisticsInfo&&Promise.resolve().then(function(){i._emitter.emit(l.default.STATISTICS_INFO,i.statisticsInfo)}),this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){var t=this;if(this._mediaElement=e,e.addEventListener(\"loadedmetadata\",this.e.onvLoadedMetadata),e.addEventListener(\"seeking\",this.e.onvSeeking),e.addEventListener(\"canplay\",this.e.onvCanPlay),e.addEventListener(\"stalled\",this.e.onvStalled),e.addEventListener(\"progress\",this.e.onvProgress),this._msectl=new c.default(this._config),this._msectl.on(h.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(h.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(h.default.SOURCE_OPEN,function(){t._mseSourceOpened=!0,t._hasPendingLoad&&(t._hasPendingLoad=!1,t.load())}),this._msectl.on(h.default.ERROR,function(e){t._emitter.emit(l.default.ERROR,f.ErrorTypes.MEDIA_ERROR,f.ErrorDetails.MEDIA_MSE_ERROR,e)}),this._msectl.attachMediaElement(e),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}},e.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener(\"loadedmetadata\",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener(\"seeking\",this.e.onvSeeking),this._mediaElement.removeEventListener(\"canplay\",this.e.onvCanPlay),this._mediaElement.removeEventListener(\"stalled\",this.e.onvStalled),this._mediaElement.removeEventListener(\"progress\",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},e.prototype.load=function(){var e=this;if(!this._mediaElement)throw new m.IllegalStateException(\"HTMLMediaElement must be attached before load()!\");if(this._transmuxer)throw new m.IllegalStateException(\"FlvPlayer.load() has been called, please call unload() first!\");this._hasPendingLoad||(this._config.deferLoadAfterSourceOpen&&!1===this._mseSourceOpened?this._hasPendingLoad=!0:(this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new u.default(this._mediaDataSource,this._config),this._transmuxer.on(d.default.INIT_SEGMENT,function(t,i){e._msectl.appendInitSegment(i)}),this._transmuxer.on(d.default.MEDIA_SEGMENT,function(t,i){if(e._msectl.appendMediaSegment(i),e._config.lazyLoad&&!e._config.isLive){var n=e._mediaElement.currentTime;i.info.endDts>=1e3*(n+e._config.lazyLoadMaxDuration)&&null==e._progressChecker&&(a.default.v(e.TAG,\"Maximum buffering duration exceeded, suspend transmuxing task\"),e._suspendTransmuxer())}}),this._transmuxer.on(d.default.LOADING_COMPLETE,function(){e._msectl.endOfStream(),e._emitter.emit(l.default.LOADING_COMPLETE)}),this._transmuxer.on(d.default.RECOVERED_EARLY_EOF,function(){e._emitter.emit(l.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(d.default.IO_ERROR,function(t,i){e._emitter.emit(l.default.ERROR,f.ErrorTypes.NETWORK_ERROR,t,i)}),this._transmuxer.on(d.default.DEMUX_ERROR,function(t,i){e._emitter.emit(l.default.ERROR,f.ErrorTypes.MEDIA_ERROR,t,{code:-1,msg:i})}),this._transmuxer.on(d.default.MEDIA_INFO,function(t){e._mediaInfo=t,e._emitter.emit(l.default.MEDIA_INFO,Object.assign({},t))}),this._transmuxer.on(d.default.METADATA_ARRIVED,function(t){e._emitter.emit(l.default.METADATA_ARRIVED,t)}),this._transmuxer.on(d.default.SCRIPTDATA_ARRIVED,function(t){e._emitter.emit(l.default.SCRIPTDATA_ARRIVED,t)}),this._transmuxer.on(d.default.STATISTICS_INFO,function(t){e._statisticsInfo=e._fillStatisticsInfo(t),e._emitter.emit(l.default.STATISTICS_INFO,Object.assign({},e._statisticsInfo))}),this._transmuxer.on(d.default.RECOMMEND_SEEKPOINT,function(t){e._mediaElement&&!e._config.accurateSeek&&(e._requestSetTime=!0,e._mediaElement.currentTime=t/1e3)}),this._transmuxer.open()))},e.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},e.prototype.play=function(){return this._mediaElement.play()},e.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(e.prototype,\"type\",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"buffered\",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"duration\",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"volume\",{get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"muted\",{get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"currentTime\",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._internalSeek(e):this._pendingSeekTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"mediaInfo\",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"statisticsInfo\",{get:function(){return null==this._statisticsInfo&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),e.prototype._fillStatisticsInfo=function(e){if(e.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,i=0,n=0;if(this._mediaElement.getVideoPlaybackQuality){var r=this._mediaElement.getVideoPlaybackQuality();i=r.totalVideoFrames,n=r.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(i=this._mediaElement.webkitDecodedFrameCount,n=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=i,e.droppedFrames=n),e},e.prototype._onmseUpdateEnd=function(){if(this._config.lazyLoad&&!this._config.isLive){for(var e=this._mediaElement.buffered,t=this._mediaElement.currentTime,i=0,n=0;n<e.length;n++){var r=e.start(n),s=e.end(n);if(r<=t&&t<s){i=s;break}}i>=t+this._config.lazyLoadMaxDuration&&null==this._progressChecker&&(a.default.v(this.TAG,\"Maximum buffering duration exceeded, suspend transmuxing task\"),this._suspendTransmuxer())}},e.prototype._onmseBufferFull=function(){a.default.v(this.TAG,\"MSE SourceBuffer is full, suspend transmuxing task\"),null==this._progressChecker&&this._suspendTransmuxer()},e.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),null==this._progressChecker&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},e.prototype._checkProgressAndResume=function(){for(var e=this._mediaElement.currentTime,t=this._mediaElement.buffered,i=!1,n=0;n<t.length;n++){var r=t.start(n),s=t.end(n);if(e>=r&&e<s){e>=s-this._config.lazyLoadRecoverDuration&&(i=!0);break}}i&&(window.clearInterval(this._progressChecker),this._progressChecker=null,i&&(a.default.v(this.TAG,\"Continue loading from paused position\"),this._transmuxer.resume()))},e.prototype._isTimepointBuffered=function(e){for(var t=this._mediaElement.buffered,i=0;i<t.length;i++){var n=t.start(i),r=t.end(i);if(e>=n&&e<r)return!0}return!1},e.prototype._internalSeek=function(e){var t=this._isTimepointBuffered(e),i=!1,n=0;if(e<1&&this._mediaElement.buffered.length>0){var r=this._mediaElement.buffered.start(0);(r<1&&e<r||o.default.safari)&&(i=!0,n=o.default.safari?.1:r)}if(i)this._requestSetTime=!0,this._mediaElement.currentTime=n;else if(t){if(this._alwaysSeekKeyframe){var a=this._msectl.getNearestKeyframe(Math.floor(1e3*e));this._requestSetTime=!0,this._mediaElement.currentTime=null!=a?a.dts/1e3:e}else this._requestSetTime=!0,this._mediaElement.currentTime=e;null!=this._progressChecker&&this._checkProgressAndResume()}else null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e)},e.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var e=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(e)||(null!=this._progressChecker&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},e.prototype._checkAndResumeStuckPlayback=function(e){var t=this._mediaElement;if(e||!this._receivedCanPlay||t.readyState<2){var i=t.buffered;i.length>0&&t.currentTime<i.start(0)&&(a.default.w(this.TAG,\"Playback seems stuck at \"+t.currentTime+\", seek to \"+i.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=i.start(0),this._mediaElement.removeEventListener(\"progress\",this.e.onvProgress))}else this._mediaElement.removeEventListener(\"progress\",this.e.onvProgress)},e.prototype._onvLoadedMetadata=function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},e.prototype._onvSeeking=function(e){var t=this._mediaElement.currentTime,i=this._mediaElement.buffered;if(this._requestSetTime)this._requestSetTime=!1;else{if(t<1&&i.length>0){var n=i.start(0);if(n<1&&t<n||o.default.safari)return this._requestSetTime=!0,void(this._mediaElement.currentTime=o.default.safari?.1:n)}if(this._isTimepointBuffered(t)){if(this._alwaysSeekKeyframe){var r=this._msectl.getNearestKeyframe(Math.floor(1e3*t));null!=r&&(this._requestSetTime=!0,this._mediaElement.currentTime=r.dts/1e3)}null!=this._progressChecker&&this._checkProgressAndResume()}else this._seekpointRecord={seekPoint:t,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}},e.prototype._onvCanPlay=function(e){this._receivedCanPlay=!0,this._mediaElement.removeEventListener(\"canplay\",this.e.onvCanPlay)},e.prototype._onvStalled=function(e){this._checkAndResumeStuckPlayback(!0)},e.prototype._onvProgress=function(e){this._checkAndResumeStuckPlayback()},e}();t.default=g},\"./src/player/native-player.js\":/*!*************************************!*\\\n\t  !*** ./src/player/native-player.js ***!\n\t  \\*************************************/\nfunction(e,t,i){i.r(t);var n=i(/*! events */\"./node_modules/events/events.js\"),r=i.n(n),a=i(/*! ./player-events.js */\"./src/player/player-events.js\"),o=i(/*! ../config.js */\"./src/config.js\"),l=i(/*! ../utils/exception.js */\"./src/utils/exception.js\"),u=function(){function e(e,t){if(this.TAG=\"NativePlayer\",this._type=\"NativePlayer\",this._emitter=new(r()),this._config=(0,o.createDefaultConfig)(),\"object\"==(\"undefined\"==typeof t?\"undefined\":s(t))&&Object.assign(this._config,t),\"flv\"===e.type.toLowerCase())throw new l.InvalidArgumentException(\"NativePlayer does't support flv MediaDataSource input!\");if(e.hasOwnProperty(\"segments\"))throw new l.InvalidArgumentException(\"NativePlayer(\"+e.type+\") doesn't support multipart playback!\");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=e,this._mediaElement=null}return e.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){var i=this;e===a.default.MEDIA_INFO?null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(function(){i._emitter.emit(a.default.MEDIA_INFO,i.mediaInfo)}):e===a.default.STATISTICS_INFO&&null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(function(){i._emitter.emit(a.default.STATISTICS_INFO,i.statisticsInfo)}),this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){if(this._mediaElement=e,e.addEventListener(\"loadedmetadata\",this.e.onvLoadedMetadata),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}},e.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src=\"\",this._mediaElement.removeAttribute(\"src\"),this._mediaElement.removeEventListener(\"loadedmetadata\",this.e.onvLoadedMetadata),this._mediaElement=null),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype.load=function(){if(!this._mediaElement)throw new l.IllegalStateException(\"HTMLMediaElement must be attached before load()!\");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload=\"auto\",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},e.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src=\"\",this._mediaElement.removeAttribute(\"src\")),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype.play=function(){return this._mediaElement.play()},e.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(e.prototype,\"type\",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"buffered\",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"duration\",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"volume\",{get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"muted\",{get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"currentTime\",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._mediaElement.currentTime=e:this._pendingSeekTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"mediaInfo\",{get:function(){var e={mimeType:(this._mediaElement instanceof HTMLAudioElement?\"audio/\":\"video/\")+this._mediaDataSource.type};return this._mediaElement&&(e.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(e.width=this._mediaElement.videoWidth,e.height=this._mediaElement.videoHeight)),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"statisticsInfo\",{get:function(){var e={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,i=0,n=0;if(this._mediaElement.getVideoPlaybackQuality){var r=this._mediaElement.getVideoPlaybackQuality();i=r.totalVideoFrames,n=r.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(i=this._mediaElement.webkitDecodedFrameCount,n=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=i,e.droppedFrames=n),e},enumerable:!1,configurable:!0}),e.prototype._onvLoadedMetadata=function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(a.default.MEDIA_INFO,this.mediaInfo)},e.prototype._reportStatisticsInfo=function(){this._emitter.emit(a.default.STATISTICS_INFO,this.statisticsInfo)},e}();t.default=u},\"./src/player/player-errors.js\":/*!*************************************!*\\\n\t  !*** ./src/player/player-errors.js ***!\n\t  \\*************************************/\nfunction(e,t,i){i.r(t),i.d(t,{ErrorTypes:function(){return a},ErrorDetails:function(){return s}});var n=i(/*! ../io/loader.js */\"./src/io/loader.js\"),r=i(/*! ../demux/demux-errors.js */\"./src/demux/demux-errors.js\"),a={NETWORK_ERROR:\"NetworkError\",MEDIA_ERROR:\"MediaError\",OTHER_ERROR:\"OtherError\"},s={NETWORK_EXCEPTION:n.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:n.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:n.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:n.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:\"MediaMSEError\",MEDIA_FORMAT_ERROR:r.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:r.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:r.default.CODEC_UNSUPPORTED}},\"./src/player/player-events.js\":/*!*************************************!*\\\n\t  !*** ./src/player/player-events.js ***!\n\t  \\*************************************/\nfunction(e,t,i){i.r(t),t.default={ERROR:\"error\",LOADING_COMPLETE:\"loading_complete\",RECOVERED_EARLY_EOF:\"recovered_early_eof\",MEDIA_INFO:\"media_info\",METADATA_ARRIVED:\"metadata_arrived\",SCRIPTDATA_ARRIVED:\"scriptdata_arrived\",STATISTICS_INFO:\"statistics_info\"}},\"./src/remux/aac-silent.js\":/*!*********************************!*\\\n\t  !*** ./src/remux/aac-silent.js ***!\n\t  \\*********************************/\nfunction(e,t,i){i.r(t);var n=function(){function e(){}return e.getSilentFrame=function(e,t){if(\"mp4a.40.2\"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}();t.default=n},\"./src/remux/mp4-generator.js\":/*!************************************!*\\\n\t  !*** ./src/remux/mp4-generator.js ***!\n\t  \\************************************/\nfunction(e,t,i){i.r(t);var n=function(){function e(){}return e.init=function(){for(var t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],\".mp3\":[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var i=e.constants={};i.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),i.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),i.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),i.STSC=i.STCO=i.STTS,i.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),i.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),i.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),i.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},e.box=function(e){for(var t=8,i=null,n=Array.prototype.slice.call(arguments,1),r=n.length,a=0;a<r;a++)t+=n[a].byteLength;(i=new Uint8Array(t))[0]=t>>>24&255,i[1]=t>>>16&255,i[2]=t>>>8&255,i[3]=255&t,i.set(e,4);var s=8;for(a=0;a<r;a++)i.set(n[a],s),s+=n[a].byteLength;return i},e.generateInitSegment=function(t){var i=e.box(e.types.ftyp,e.constants.FTYP),n=e.moov(t),r=new Uint8Array(i.byteLength+n.byteLength);return r.set(i,0),r.set(n,i.byteLength),r},e.moov=function(t){var i=e.mvhd(t.timescale,t.duration),n=e.trak(t),r=e.mvex(t);return e.box(e.types.moov,i,n,r)},e.mvhd=function(t,i){return e.box(e.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},e.trak=function(t){return e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.tkhd=function(t){var i=t.id,n=t.duration,r=t.presentWidth,a=t.presentHeight;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>>8&255,255&r,0,0,a>>>8&255,255&a,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t),e.hdlr(t),e.minf(t))},e.mdhd=function(t){var i=t.timescale,n=t.duration;return e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,n>>>24&255,n>>>16&255,n>>>8&255,255&n,85,196,0,0]))},e.hdlr=function(t){var i=null;return i=\"audio\"===t.type?e.constants.HDLR_AUDIO:e.constants.HDLR_VIDEO,e.box(e.types.hdlr,i)},e.minf=function(t){var i=null;return i=\"audio\"===t.type?e.box(e.types.smhd,e.constants.SMHD):e.box(e.types.vmhd,e.constants.VMHD),e.box(e.types.minf,i,e.dinf(),e.stbl(t))},e.dinf=function(){return e.box(e.types.dinf,e.box(e.types.dref,e.constants.DREF))},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.constants.STTS),e.box(e.types.stsc,e.constants.STSC),e.box(e.types.stsz,e.constants.STSZ),e.box(e.types.stco,e.constants.STCO))},e.stsd=function(t){return\"audio\"===t.type?\"mp3\"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp3(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp4a(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.avc1(t))},e.mp3=function(t){var i=t.channelCount,n=t.audioSampleRate,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,i,0,16,0,0,0,0,n>>>8&255,255&n,0,0]);return e.box(e.types[\".mp3\"],r)},e.mp4a=function(t){var i=t.channelCount,n=t.audioSampleRate,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,i,0,16,0,0,0,0,n>>>8&255,255&n,0,0]);return e.box(e.types.mp4a,r,e.esds(t))},e.esds=function(t){var i=t.config||[],n=i.length,r=new Uint8Array([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([n]).concat(i).concat([6,1,2]));return e.box(e.types.esds,r)},e.avc1=function(t){var i=t.avcc,n=t.codecWidth,r=t.codecHeight,a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,n>>>8&255,255&n,r>>>8&255,255&r,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.avc1,a,e.box(e.types.avcC,i))},e.mvex=function(t){return e.box(e.types.mvex,e.trex(t))},e.trex=function(t){var i=t.id,n=new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return e.box(e.types.trex,n)},e.moof=function(t,i){return e.box(e.types.moof,e.mfhd(t.sequenceNumber),e.traf(t,i))},e.mfhd=function(t){var i=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t]);return e.box(e.types.mfhd,i)},e.traf=function(t,i){var n=t.id,r=e.box(e.types.tfhd,new Uint8Array([0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n])),a=e.box(e.types.tfdt,new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i])),s=e.sdtp(t),o=e.trun(t,s.byteLength+16+16+8+16+8+8);return e.box(e.types.traf,r,a,o,s)},e.sdtp=function(t){for(var i=t.samples||[],n=i.length,r=new Uint8Array(4+n),a=0;a<n;a++){var s=i[a].flags;r[a+4]=s.isLeading<<6|s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy}return e.box(e.types.sdtp,r)},e.trun=function(t,i){var n=t.samples||[],r=n.length,a=12+16*r,s=new Uint8Array(a);i+=8+a,s.set([0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,i>>>24&255,i>>>16&255,i>>>8&255,255&i],0);for(var o=0;o<r;o++){var l=n[o].duration,u=n[o].size,d=n[o].flags,c=n[o].cts;s.set([l>>>24&255,l>>>16&255,l>>>8&255,255&l,u>>>24&255,u>>>16&255,u>>>8&255,255&u,d.isLeading<<2|d.dependsOn,d.isDependedOn<<6|d.hasRedundancy<<4|d.isNonSync,0,0,c>>>24&255,c>>>16&255,c>>>8&255,255&c],12+16*o)}return e.box(e.types.trun,s)},e.mdat=function(t){return e.box(e.types.mdat,t)},e}();n.init(),t.default=n},\"./src/remux/mp4-remuxer.js\":/*!**********************************!*\\\n\t  !*** ./src/remux/mp4-remuxer.js ***!\n\t  \\**********************************/\nfunction(e,t,i){i.r(t);var n=i(/*! ../utils/logger.js */\"./src/utils/logger.js\"),r=i(/*! ./mp4-generator.js */\"./src/remux/mp4-generator.js\"),a=i(/*! ./aac-silent.js */\"./src/remux/aac-silent.js\"),s=i(/*! ../utils/browser.js */\"./src/utils/browser.js\"),o=i(/*! ../core/media-segment-info.js */\"./src/core/media-segment-info.js\"),l=i(/*! ../utils/exception.js */\"./src/utils/exception.js\"),u=function(){function e(e){this.TAG=\"MP4Remuxer\",this._config=e,this._isLive=!0===e.isLive,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new o.MediaSegmentInfoList(\"audio\"),this._videoSegmentInfoList=new o.MediaSegmentInfoList(\"video\"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!s.default.chrome||!(s.default.version.major<50||50===s.default.version.major&&s.default.version.build<2661)),this._fillSilentAfterSeek=s.default.msedge||s.default.msie,this._mp3UseMpegAudio=!s.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return e.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},e.prototype.bindDataSource=function(e){return e.onDataAvailable=this.remux.bind(this),e.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(e.prototype,\"onInitSegment\",{get:function(){return this._onInitSegment},set:function(e){this._onInitSegment=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"onMediaSegment\",{get:function(){return this._onMediaSegment},set:function(e){this._onMediaSegment=e},enumerable:!1,configurable:!0}),e.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},e.prototype.seek=function(e){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},e.prototype.remux=function(e,t){if(!this._onMediaSegment)throw new l.IllegalStateException(\"MP4Remuxer: onMediaSegment callback must be specificed!\");this._dtsBaseInited||this._calculateDtsBase(e,t),this._remuxVideo(t),this._remuxAudio(e)},e.prototype._onTrackMetadataReceived=function(e,t){var i=null,n=\"mp4\",a=t.codec;if(\"audio\"===e)this._audioMeta=t,\"mp3\"===t.codec&&this._mp3UseMpegAudio?(n=\"mpeg\",a=\"\",i=new Uint8Array):i=r.default.generateInitSegment(t);else{if(\"video\"!==e)return;this._videoMeta=t,i=r.default.generateInitSegment(t)}if(!this._onInitSegment)throw new l.IllegalStateException(\"MP4Remuxer: onInitSegment callback must be specified!\");this._onInitSegment(e,{type:e,data:i.buffer,codec:a,container:e+\"/\"+n,mediaDuration:t.duration})},e.prototype._calculateDtsBase=function(e,t){this._dtsBaseInited||(e.samples&&e.samples.length&&(this._audioDtsBase=e.samples[0].dts),t.samples&&t.samples.length&&(this._videoDtsBase=t.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},e.prototype.flushStashedSamples=function(){var e=this._videoStashedLastSample,t=this._audioStashedLastSample,i={type:\"video\",id:1,sequenceNumber:0,samples:[],length:0};null!=e&&(i.samples.push(e),i.length=e.length);var n={type:\"audio\",id:2,sequenceNumber:0,samples:[],length:0};null!=t&&(n.samples.push(t),n.length=t.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(i,!0),this._remuxAudio(n,!0)},e.prototype._remuxAudio=function(e,t){if(null!=this._audioMeta){var i,l=e,u=l.samples,d=void 0,c=-1,h=this._audioMeta.refSampleDuration,f=\"mp3\"===this._audioMeta.codec&&this._mp3UseMpegAudio,p=this._dtsBaseInited&&void 0===this._audioNextDts,m=!1;if(u&&0!==u.length&&(1!==u.length||t)){var g=0,_=null,v=0;f?(g=0,v=l.length):(g=8,v=8+l.length);var y=null;if(u.length>1&&(v-=(y=u.pop()).length),null!=this._audioStashedLastSample){var b=this._audioStashedLastSample;this._audioStashedLastSample=null,u.unshift(b),v+=b.length}null!=y&&(this._audioStashedLastSample=y);var A=u[0].dts-this._dtsBase;if(this._audioNextDts)d=A-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())d=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&\"mp3\"!==this._audioMeta.originalCodec&&(m=!0);else{var E=this._audioSegmentInfoList.getLastSampleBefore(A);if(null!=E){var w=A-(E.originalDts+E.duration);w<=3&&(w=0),d=A-(E.dts+E.duration+w)}else d=0}if(m){var T=A-d,S=this._videoSegmentInfoList.getLastSegmentBefore(A);if(null!=S&&S.beginDts<T){if(U=a.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount)){var C=S.beginDts,k=T-S.beginDts;n.default.v(this.TAG,\"InsertPrefixSilentAudio: dts: \"+C+\", duration: \"+k),u.unshift({unit:U,dts:C,pts:C}),v+=U.byteLength}}else m=!1}for(var L=[],x=0;x<u.length;x++){var I=(b=u[x]).unit,P=b.dts-this._dtsBase,R=(C=P,!1),D=null,O=0;if(!(P<-.001)){if(\"mp3\"!==this._audioMeta.codec){var M=P;if(this._audioNextDts&&(M=this._audioNextDts),(d=P-M)<=-3*h){n.default.w(this.TAG,\"Dropping 1 audio frame (originalDts: \"+P+\" ms ,curRefDts: \"+M+\" ms)  due to dtsCorrection: \"+d+\" ms overlap.\");continue}if(d>=3*h&&this._fillAudioTimestampGap&&!s.default.safari){R=!0;var U,j=Math.floor(d/h);n.default.w(this.TAG,\"Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.\\noriginalDts: \"+P+\" ms, curRefDts: \"+M+\" ms, dtsCorrection: \"+Math.round(d)+\" ms, generate: \"+j+\" frames\"),C=Math.floor(M),O=Math.floor(M+h)-C,null==(U=a.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount))&&(n.default.w(this.TAG,\"Unable to generate silent frame for \"+this._audioMeta.originalCodec+\" with \"+this._audioMeta.channelCount+\" channels, repeat last frame\"),U=I),D=[];for(var B=0;B<j;B++){M+=h;var N=Math.floor(M),F=Math.floor(M+h)-N,V={dts:N,pts:N,cts:0,unit:U,size:U.byteLength,duration:F,originalDts:P,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};D.push(V),v+=V.size}this._audioNextDts=M+h}else C=Math.floor(M),O=Math.floor(M+h)-C,this._audioNextDts=M+h}else C=P-d,O=x!==u.length-1?u[x+1].dts-this._dtsBase-d-C:null!=y?y.dts-this._dtsBase-d-C:L.length>=1?L[L.length-1].duration:Math.floor(h),this._audioNextDts=C+O;-1===c&&(c=C),L.push({dts:C,pts:C,cts:0,unit:b.unit,size:b.unit.byteLength,duration:O,originalDts:P,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),R&&L.push.apply(L,D)}}if(0===L.length)return l.samples=[],void(l.length=0);for(f?_=new Uint8Array(v):((_=new Uint8Array(v))[0]=v>>>24&255,_[1]=v>>>16&255,_[2]=v>>>8&255,_[3]=255&v,_.set(r.default.types.mdat,4)),x=0;x<L.length;x++)I=L[x].unit,_.set(I,g),g+=I.byteLength;var H=L[L.length-1];i=H.dts+H.duration;var z=new o.MediaSegmentInfo;z.beginDts=c,z.endDts=i,z.beginPts=c,z.endPts=i,z.originalBeginDts=L[0].originalDts,z.originalEndDts=H.originalDts+H.duration,z.firstSample=new o.SampleInfo(L[0].dts,L[0].pts,L[0].duration,L[0].originalDts,!1),z.lastSample=new o.SampleInfo(H.dts,H.pts,H.duration,H.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(z),l.samples=L,l.sequenceNumber++;var G=null;G=f?new Uint8Array:r.default.moof(l,c),l.samples=[],l.length=0;var Y={type:\"audio\",data:this._mergeBoxes(G,_).buffer,sampleCount:L.length,info:z};f&&p&&(Y.timestampOffset=c),this._onMediaSegment(\"audio\",Y)}}},e.prototype._remuxVideo=function(e,t){if(null!=this._videoMeta){var i,n,a=e,s=a.samples,l=void 0,u=-1,d=-1;if(s&&0!==s.length&&(1!==s.length||t)){var c=8,h=null,f=8+e.length,p=null;if(s.length>1&&(f-=(p=s.pop()).length),null!=this._videoStashedLastSample){var m=this._videoStashedLastSample;this._videoStashedLastSample=null,s.unshift(m),f+=m.length}null!=p&&(this._videoStashedLastSample=p);var g=s[0].dts-this._dtsBase;if(this._videoNextDts)l=g-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())l=0;else{var _=this._videoSegmentInfoList.getLastSampleBefore(g);if(null!=_){var v=g-(_.originalDts+_.duration);v<=3&&(v=0),l=g-(_.dts+_.duration+v)}else l=0}for(var y=new o.MediaSegmentInfo,b=[],A=0;A<s.length;A++){var E=(m=s[A]).dts-this._dtsBase,w=m.isKeyframe,T=E-l,S=m.cts,C=T+S;-1===u&&(u=T,d=C);var k=0;if(k=A!==s.length-1?s[A+1].dts-this._dtsBase-l-T:null!=p?p.dts-this._dtsBase-l-T:b.length>=1?b[b.length-1].duration:Math.floor(this._videoMeta.refSampleDuration),w){var L=new o.SampleInfo(T,C,k,m.dts,!0);L.fileposition=m.fileposition,y.appendSyncPoint(L)}b.push({dts:T,pts:C,cts:S,units:m.units,size:m.length,isKeyframe:w,duration:k,originalDts:E,flags:{isLeading:0,dependsOn:w?2:1,isDependedOn:w?1:0,hasRedundancy:0,isNonSync:w?0:1}})}for((h=new Uint8Array(f))[0]=f>>>24&255,h[1]=f>>>16&255,h[2]=f>>>8&255,h[3]=255&f,h.set(r.default.types.mdat,4),A=0;A<b.length;A++)for(var x=b[A].units;x.length;){var I=x.shift().data;h.set(I,c),c+=I.byteLength}var P=b[b.length-1];if(i=P.dts+P.duration,n=P.pts+P.duration,this._videoNextDts=i,y.beginDts=u,y.endDts=i,y.beginPts=d,y.endPts=n,y.originalBeginDts=b[0].originalDts,y.originalEndDts=P.originalDts+P.duration,y.firstSample=new o.SampleInfo(b[0].dts,b[0].pts,b[0].duration,b[0].originalDts,b[0].isKeyframe),y.lastSample=new o.SampleInfo(P.dts,P.pts,P.duration,P.originalDts,P.isKeyframe),this._isLive||this._videoSegmentInfoList.append(y),a.samples=b,a.sequenceNumber++,this._forceFirstIDR){var R=b[0].flags;R.dependsOn=2,R.isNonSync=0}var D=r.default.moof(a,u);a.samples=[],a.length=0,this._onMediaSegment(\"video\",{type:\"video\",data:this._mergeBoxes(D,h).buffer,sampleCount:b.length,info:y})}}},e.prototype._mergeBoxes=function(e,t){var i=new Uint8Array(e.byteLength+t.byteLength);return i.set(e,0),i.set(t,e.byteLength),i},e}();t.default=u},\"./src/utils/browser.js\":/*!******************************!*\\\n\t  !*** ./src/utils/browser.js ***!\n\t  \\******************************/\nfunction(e,t,i){i.r(t);var n={};!function(){var e=self.navigator.userAgent.toLowerCase(),t=/(edge)\\/([\\w.]+)/.exec(e)||/(opr)[\\/]([\\w.]+)/.exec(e)||/(chrome)[ \\/]([\\w.]+)/.exec(e)||/(iemobile)[\\/]([\\w.]+)/.exec(e)||/(version)(applewebkit)[ \\/]([\\w.]+).*(safari)[ \\/]([\\w.]+)/.exec(e)||/(webkit)[ \\/]([\\w.]+).*(version)[ \\/]([\\w.]+).*(safari)[ \\/]([\\w.]+)/.exec(e)||/(webkit)[ \\/]([\\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec(e)||/(msie) ([\\w.]+)/.exec(e)||e.indexOf(\"trident\")>=0&&/(rv)(?::| )([\\w.]+)/.exec(e)||e.indexOf(\"compatible\")<0&&/(firefox)[ \\/]([\\w.]+)/.exec(e)||[],i=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],r={browser:t[5]||t[3]||t[1]||\"\",version:t[2]||t[4]||\"0\",majorVersion:t[4]||t[2]||\"0\",platform:i[0]||\"\"},a={};if(r.browser){a[r.browser]=!0;var s=r.majorVersion.split(\".\");a.version={major:parseInt(r.majorVersion,10),string:r.version},s.length>1&&(a.version.minor=parseInt(s[1],10)),s.length>2&&(a.version.build=parseInt(s[2],10))}for(var o in r.platform&&(a[r.platform]=!0),(a.chrome||a.opr||a.safari)&&(a.webkit=!0),(a.rv||a.iemobile)&&(a.rv&&delete a.rv,r.browser=\"msie\",a.msie=!0),a.edge&&(delete a.edge,r.browser=\"msedge\",a.msedge=!0),a.opr&&(r.browser=\"opera\",a.opera=!0),a.safari&&a.android&&(r.browser=\"android\",a.android=!0),a.name=r.browser,a.platform=r.platform,n)n.hasOwnProperty(o)&&delete n[o];Object.assign(n,a)}(),t.default=n},\"./src/utils/exception.js\":/*!********************************!*\\\n\t  !*** ./src/utils/exception.js ***!\n\t  \\********************************/\nfunction(e,t,i){i.r(t),i.d(t,{RuntimeException:function(){return a},IllegalStateException:function(){return s},InvalidArgumentException:function(){return o},NotImplementedException:function(){return l}});var n,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=function(){function e(e){this._message=e}return Object.defineProperty(e.prototype,\"name\",{get:function(){return\"RuntimeException\"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"message\",{get:function(){return this._message},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this.name+\": \"+this.message},e}(),s=function(e){function t(t){return e.call(this,t)||this}return r(t,e),Object.defineProperty(t.prototype,\"name\",{get:function(){return\"IllegalStateException\"},enumerable:!1,configurable:!0}),t}(a),o=function(e){function t(t){return e.call(this,t)||this}return r(t,e),Object.defineProperty(t.prototype,\"name\",{get:function(){return\"InvalidArgumentException\"},enumerable:!1,configurable:!0}),t}(a),l=function(e){function t(t){return e.call(this,t)||this}return r(t,e),Object.defineProperty(t.prototype,\"name\",{get:function(){return\"NotImplementedException\"},enumerable:!1,configurable:!0}),t}(a)},\"./src/utils/logger.js\":/*!*****************************!*\\\n\t  !*** ./src/utils/logger.js ***!\n\t  \\*****************************/\nfunction(e,t,i){i.r(t);var n=i(/*! events */\"./node_modules/events/events.js\"),r=i.n(n),a=function(){function e(){}return e.e=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n=\"[\"+t+\"] > \"+i;e.ENABLE_CALLBACK&&e.emitter.emit(\"log\",\"error\",n),e.ENABLE_ERROR&&(console.error?console.error(n):console.warn)},e.i=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n=\"[\"+t+\"] > \"+i;e.ENABLE_CALLBACK&&e.emitter.emit(\"log\",\"info\",n),e.ENABLE_INFO&&console.info&&console.info(n)},e.w=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n=\"[\"+t+\"] > \"+i;e.ENABLE_CALLBACK&&e.emitter.emit(\"log\",\"warn\",n),e.ENABLE_WARN&&console.warn},e.d=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n=\"[\"+t+\"] > \"+i;e.ENABLE_CALLBACK&&e.emitter.emit(\"log\",\"debug\",n),e.ENABLE_DEBUG&&console.debug&&console.debug(n)},e.v=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n=\"[\"+t+\"] > \"+i;e.ENABLE_CALLBACK&&e.emitter.emit(\"log\",\"verbose\",n),e.ENABLE_VERBOSE},e}();a.GLOBAL_TAG=\"flv.js\",a.FORCE_GLOBAL_TAG=!1,a.ENABLE_ERROR=!0,a.ENABLE_INFO=!0,a.ENABLE_WARN=!0,a.ENABLE_DEBUG=!0,a.ENABLE_VERBOSE=!0,a.ENABLE_CALLBACK=!1,a.emitter=new(r()),t.default=a},\"./src/utils/logging-control.js\":/*!**************************************!*\\\n\t  !*** ./src/utils/logging-control.js ***!\n\t  \\**************************************/\nfunction(e,t,i){i.r(t);var n=i(/*! events */\"./node_modules/events/events.js\"),r=i.n(n),a=i(/*! ./logger.js */\"./src/utils/logger.js\"),s=function(){function e(){}return Object.defineProperty(e,\"forceGlobalTag\",{get:function(){return a.default.FORCE_GLOBAL_TAG},set:function(t){a.default.FORCE_GLOBAL_TAG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,\"globalTag\",{get:function(){return a.default.GLOBAL_TAG},set:function(t){a.default.GLOBAL_TAG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,\"enableAll\",{get:function(){return a.default.ENABLE_VERBOSE&&a.default.ENABLE_DEBUG&&a.default.ENABLE_INFO&&a.default.ENABLE_WARN&&a.default.ENABLE_ERROR},set:function(t){a.default.ENABLE_VERBOSE=t,a.default.ENABLE_DEBUG=t,a.default.ENABLE_INFO=t,a.default.ENABLE_WARN=t,a.default.ENABLE_ERROR=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,\"enableDebug\",{get:function(){return a.default.ENABLE_DEBUG},set:function(t){a.default.ENABLE_DEBUG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,\"enableVerbose\",{get:function(){return a.default.ENABLE_VERBOSE},set:function(t){a.default.ENABLE_VERBOSE=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,\"enableInfo\",{get:function(){return a.default.ENABLE_INFO},set:function(t){a.default.ENABLE_INFO=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,\"enableWarn\",{get:function(){return a.default.ENABLE_WARN},set:function(t){a.default.ENABLE_WARN=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,\"enableError\",{get:function(){return a.default.ENABLE_ERROR},set:function(t){a.default.ENABLE_ERROR=t,e._notifyChange()},enumerable:!1,configurable:!0}),e.getConfig=function(){return{globalTag:a.default.GLOBAL_TAG,forceGlobalTag:a.default.FORCE_GLOBAL_TAG,enableVerbose:a.default.ENABLE_VERBOSE,enableDebug:a.default.ENABLE_DEBUG,enableInfo:a.default.ENABLE_INFO,enableWarn:a.default.ENABLE_WARN,enableError:a.default.ENABLE_ERROR,enableCallback:a.default.ENABLE_CALLBACK}},e.applyConfig=function(e){a.default.GLOBAL_TAG=e.globalTag,a.default.FORCE_GLOBAL_TAG=e.forceGlobalTag,a.default.ENABLE_VERBOSE=e.enableVerbose,a.default.ENABLE_DEBUG=e.enableDebug,a.default.ENABLE_INFO=e.enableInfo,a.default.ENABLE_WARN=e.enableWarn,a.default.ENABLE_ERROR=e.enableError,a.default.ENABLE_CALLBACK=e.enableCallback},e._notifyChange=function(){var t=e.emitter;if(t.listenerCount(\"change\")>0){var i=e.getConfig();t.emit(\"change\",i)}},e.registerListener=function(t){e.emitter.addListener(\"change\",t)},e.removeListener=function(t){e.emitter.removeListener(\"change\",t)},e.addLogListener=function(t){a.default.emitter.addListener(\"log\",t),a.default.emitter.listenerCount(\"log\")>0&&(a.default.ENABLE_CALLBACK=!0,e._notifyChange())},e.removeLogListener=function(t){a.default.emitter.removeListener(\"log\",t),0===a.default.emitter.listenerCount(\"log\")&&(a.default.ENABLE_CALLBACK=!1,e._notifyChange())},e}();s.emitter=new(r()),t.default=s},\"./src/utils/polyfill.js\":/*!*******************************!*\\\n\t  !*** ./src/utils/polyfill.js ***!\n\t  \\*******************************/\nfunction(e,t,i){i.r(t);var n=function(){function e(){}return e.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Object.assign=Object.assign||function(e){if(null==e)throw new TypeError(\"Cannot convert undefined or null to object\");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t},\"function\"!=typeof self.Promise&&i(/*! es6-promise */\"./node_modules/es6-promise/dist/es6-promise.js\").polyfill()},e}();n.install(),t.default=n},\"./src/utils/utf8-conv.js\":/*!********************************!*\\\n\t  !*** ./src/utils/utf8-conv.js ***!\n\t  \\********************************/\nfunction(e,t,i){function n(e,t,i){var n=e;if(t+i<n.length){for(;i--;)if(128!=(192&n[++t]))return!1;return!0}return!1}i.r(t),t.default=function(e){for(var t=[],i=e,r=0,a=e.length;r<a;)if(i[r]<128)t.push(String.fromCharCode(i[r])),++r;else{if(i[r]<192);else if(i[r]<224){if(n(i,r,1)&&(s=(31&i[r])<<6|63&i[r+1])>=128){t.push(String.fromCharCode(65535&s)),r+=2;continue}}else if(i[r]<240){if(n(i,r,2)&&(s=(15&i[r])<<12|(63&i[r+1])<<6|63&i[r+2])>=2048&&55296!=(63488&s)){t.push(String.fromCharCode(65535&s)),r+=3;continue}}else if(i[r]<248){var s;if(n(i,r,3)&&(s=(7&i[r])<<18|(63&i[r+1])<<12|(63&i[r+2])<<6|63&i[r+3])>65536&&s<1114112){s-=65536,t.push(String.fromCharCode(s>>>10|55296)),t.push(String.fromCharCode(1023&s|56320)),r+=4;continue}}t.push(String.fromCharCode(65533)),++r}return t.join(\"\")}}},n={};return e.m=t,e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,{a:i}),i},e.d=function(t,i){for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},e.g=function(){if(\"object\"==(\"undefined\"==typeof globalThis?\"undefined\":s(globalThis)))return globalThis;try{return this||new Function(\"return this\")()}catch(e){if(\"object\"==(\"undefined\"==typeof window?\"undefined\":s(window)))return window}}(),e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},e(\"./src/index.js\")}()},\"object\"==(\"undefined\"==typeof l?\"undefined\":s(l))&&\"object\"==(\"undefined\"==typeof o?\"undefined\":s(o))?o.exports=d():(r=[],n=d,a=\"function\"==typeof n?n.apply(t,r):n,!(void 0!==a&&(e.exports=a)))}).call(this,i(\"_process\"))},{_process:44}],34:[function(e,t,n){(function(i){var n,r=void 0!==i?i:\"undefined\"!=typeof window?window:{},a=e(\"min-document\");\"undefined\"!=typeof document?n=document:(n=r[\"__GLOBAL_DOCUMENT_CACHE@4\"])||(n=r[\"__GLOBAL_DOCUMENT_CACHE@4\"]=a),t.exports=n}).call(this,\"undefined\"!=typeof i?i:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"min-document\":31}],35:[function(e,t,n){(function(e){var i;i=\"undefined\"!=typeof window?window:void 0!==e?e:\"undefined\"!=typeof self?self:{},t.exports=i}).call(this,\"undefined\"!=typeof i?i:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],36:[function(e,t,i){i.read=function(e,t,i,n,r){var a,s,o=8*r-n-1,l=(1<<o)-1,u=l>>1,d=-7,c=i?r-1:0,h=i?-1:1,f=e[t+c];for(c+=h,a=f&(1<<-d)-1,f>>=-d,d+=o;d>0;a=256*a+e[t+c],c+=h,d-=8);for(s=a&(1<<-d)-1,a>>=-d,d+=n;d>0;s=256*s+e[t+c],c+=h,d-=8);if(0===a)a=1-u;else{if(a===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),a-=u}return(f?-1:1)*s*Math.pow(2,a-n)},i.write=function(e,t,i,n,r,a){var s,o,l,u=8*a-r-1,d=(1<<u)-1,c=d>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:a-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=d):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+c>=1?h/l:h*Math.pow(2,1-c))*l>=2&&(s++,l/=2),s+c>=d?(o=0,s=d):s+c>=1?(o=(t*l-1)*Math.pow(2,r),s+=c):(o=t*Math.pow(2,c-1)*Math.pow(2,r),s=0));r>=8;e[i+f]=255&o,f+=p,o/=256,r-=8);for(s=s<<r|o,u+=r;u>0;e[i+f]=255&s,f+=p,s/=256,u-=8);e[i+f-p]|=128*m}},{}],37:[function(e,t,i){t.exports=function(e){if(!e)return!1;var t=n.call(e);return\"[object Function]\"===t||\"function\"==typeof e&&\"[object RegExp]\"!==t||\"undefined\"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var n=Object.prototype.toString},{}],38:[function(e,t,i){function n(e){if(e&&\"object\"==(\"undefined\"==typeof e?\"undefined\":s(e))){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if(\"number\"==typeof e)return l[e];var i,n=String(e);return(i=r[n.toLowerCase()])?i:(i=a[n.toLowerCase()])||(1===n.length?n.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&\"object\"==(\"undefined\"==typeof e?\"undefined\":s(e))){var i=e.which||e.keyCode||e.charCode;if(null==i)return!1;if(\"string\"==typeof t){var n;if(n=r[t.toLowerCase()])return n===i;if(n=a[t.toLowerCase()])return n===i}else if(\"number\"==typeof t)return t===i;return!1}};var r=(i=t.exports=n).code=i.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,\"pause/break\":19,\"caps lock\":20,esc:27,space:32,\"page up\":33,\"page down\":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,\"left command\":91,\"right command\":93,\"numpad *\":106,\"numpad +\":107,\"numpad -\":109,\"numpad .\":110,\"numpad /\":111,\"num lock\":144,\"scroll lock\":145,\"my computer\":182,\"my calculator\":183,\";\":186,\"=\":187,\",\":188,\"-\":189,\".\":190,\"/\":191,\"`\":192,\"[\":219,\"\\\\\":220,\"]\":221,\"'\":222},a=i.aliases={windows:91,\"⇧\":16,\"⌥\":18,\"⌃\":17,\"⌘\":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!\n\t * Programatically add the following\n\t */\nfor(o=97;o<123;o++)r[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)r[o-48]=o;for(o=1;o<13;o++)r[\"f\"+o]=o+111;for(o=0;o<10;o++)r[\"numpad \"+o]=o+96;var l=i.names=i.title={};for(o in r)l[r[o]]=o;for(var u in a)r[u]=a[u]},{}],39:[function(e,t,i){function n(e){return e&&\"object\"==(\"undefined\"==typeof e?\"undefined\":s(e))&&\"default\"in e?e:{default:e}}Object.defineProperty(i,\"__esModule\",{value:!0});var r=e(\"@babel/runtime/helpers/inheritsLoose\"),a=e(\"@videojs/vhs-utils/cjs/stream.js\"),o=e(\"@babel/runtime/helpers/extends\"),l=e(\"@babel/runtime/helpers/assertThisInitialized\"),u=e(\"@videojs/vhs-utils/cjs/decode-b64-to-uint8-array.js\"),d=n(r),c=n(a),h=n(o),f=n(l),p=n(u),m=function(e){function t(){var t;return(t=e.call(this)||this).buffer=\"\",t}return d.default(t,e),t.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf(\"\\n\");t>-1;t=this.buffer.indexOf(\"\\n\"))this.trigger(\"data\",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(c.default),g=String.fromCharCode(9),_=function(e){var t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||\"\"),i={};return t[1]&&(i.length=parseInt(t[1],10)),t[2]&&(i.offset=parseInt(t[2],10)),i},v=function(e){for(var t,i=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:\"[^\"]*\"|[^,]*))')),n={},r=i.length;r--;)\"\"!==i[r]&&((t=/([^=]*)=(.*)/.exec(i[r]).slice(1))[0]=t[0].replace(/^\\s+|\\s+$/g,\"\"),t[1]=t[1].replace(/^\\s+|\\s+$/g,\"\"),t[1]=t[1].replace(/^['\"](.*)['\"]$/g,\"$1\"),n[t[0]]=t[1]);return n},y=function(e){function t(){var t;return(t=e.call(this)||this).customParsers=[],t.tagMappers=[],t}d.default(t,e);var i=t.prototype;return i.push=function(e){var t,i,n=this;0!==(e=e.trim()).length&&(\"#\"===e[0]?this.tagMappers.reduce(function(t,i){var n=i(e);return n===e?t:t.concat([n])},[e]).forEach(function(e){for(var r=0;r<n.customParsers.length;r++)if(n.customParsers[r].call(n,e))return;if(0===e.indexOf(\"#EXT\"))if(e=e.replace(\"\\r\",\"\"),t=/^#EXTM3U/.exec(e))n.trigger(\"data\",{type:\"tag\",tagType:\"m3u\"});else{if(t=/^#EXTINF:?([0-9\\.]*)?,?(.*)?$/.exec(e))return i={type:\"tag\",tagType:\"inf\"},t[1]&&(i.duration=parseFloat(t[1])),t[2]&&(i.title=t[2]),void n.trigger(\"data\",i);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return i={type:\"tag\",tagType:\"targetduration\"},t[1]&&(i.duration=parseInt(t[1],10)),void n.trigger(\"data\",i);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return i={type:\"tag\",tagType:\"version\"},t[1]&&(i.version=parseInt(t[1],10)),void n.trigger(\"data\",i);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\\-?[0-9.]*)?/.exec(e))return i={type:\"tag\",tagType:\"media-sequence\"},t[1]&&(i.number=parseInt(t[1],10)),void n.trigger(\"data\",i);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\\-?[0-9.]*)?/.exec(e))return i={type:\"tag\",tagType:\"discontinuity-sequence\"},t[1]&&(i.number=parseInt(t[1],10)),void n.trigger(\"data\",i);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return i={type:\"tag\",tagType:\"playlist-type\"},t[1]&&(i.playlistType=t[1]),void n.trigger(\"data\",i);if(t=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(e))return i=h.default(_(t[1]),{type:\"tag\",tagType:\"byterange\"}),void n.trigger(\"data\",i);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return i={type:\"tag\",tagType:\"allow-cache\"},t[1]&&(i.allowed=!/NO/.test(t[1])),void n.trigger(\"data\",i);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(i={type:\"tag\",tagType:\"map\"},t[1]){var a=v(t[1]);a.URI&&(i.uri=a.URI),a.BYTERANGE&&(i.byterange=_(a.BYTERANGE))}n.trigger(\"data\",i)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(i={type:\"tag\",tagType:\"stream-inf\"},t[1]){if(i.attributes=v(t[1]),i.attributes.RESOLUTION){var s=i.attributes.RESOLUTION.split(\"x\"),o={};s[0]&&(o.width=parseInt(s[0],10)),s[1]&&(o.height=parseInt(s[1],10)),i.attributes.RESOLUTION=o}i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes[\"PROGRAM-ID\"]&&(i.attributes[\"PROGRAM-ID\"]=parseInt(i.attributes[\"PROGRAM-ID\"],10))}n.trigger(\"data\",i)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return i={type:\"tag\",tagType:\"media\"},t[1]&&(i.attributes=v(t[1])),void n.trigger(\"data\",i);if(t=/^#EXT-X-ENDLIST/.exec(e))n.trigger(\"data\",{type:\"tag\",tagType:\"endlist\"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))n.trigger(\"data\",{type:\"tag\",tagType:\"discontinuity\"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return i={type:\"tag\",tagType:\"program-date-time\"},t[1]&&(i.dateTimeString=t[1],i.dateTimeObject=new Date(t[1])),void n.trigger(\"data\",i);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return i={type:\"tag\",tagType:\"key\"},t[1]&&(i.attributes=v(t[1]),i.attributes.IV&&(\"0x\"===i.attributes.IV.substring(0,2).toLowerCase()&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),void n.trigger(\"data\",i);if(t=/^#EXT-X-START:?(.*)$/.exec(e))return i={type:\"tag\",tagType:\"start\"},t[1]&&(i.attributes=v(t[1]),i.attributes[\"TIME-OFFSET\"]=parseFloat(i.attributes[\"TIME-OFFSET\"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),void n.trigger(\"data\",i);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return i={type:\"tag\",tagType:\"cue-out-cont\"},t[1]?i.data=t[1]:i.data=\"\",void n.trigger(\"data\",i);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return i={type:\"tag\",tagType:\"cue-out\"},t[1]?i.data=t[1]:i.data=\"\",void n.trigger(\"data\",i);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return i={type:\"tag\",tagType:\"cue-in\"},t[1]?i.data=t[1]:i.data=\"\",void n.trigger(\"data\",i);if((t=/^#EXT-X-SKIP:(.*)$/.exec(e))&&t[1])return(i={type:\"tag\",tagType:\"skip\"}).attributes=v(t[1]),i.attributes.hasOwnProperty(\"SKIPPED-SEGMENTS\")&&(i.attributes[\"SKIPPED-SEGMENTS\"]=parseInt(i.attributes[\"SKIPPED-SEGMENTS\"],10)),i.attributes.hasOwnProperty(\"RECENTLY-REMOVED-DATERANGES\")&&(i.attributes[\"RECENTLY-REMOVED-DATERANGES\"]=i.attributes[\"RECENTLY-REMOVED-DATERANGES\"].split(g)),void n.trigger(\"data\",i);if((t=/^#EXT-X-PART:(.*)$/.exec(e))&&t[1])return(i={type:\"tag\",tagType:\"part\"}).attributes=v(t[1]),[\"DURATION\"].forEach(function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))}),[\"INDEPENDENT\",\"GAP\"].forEach(function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=/YES/.test(i.attributes[e]))}),i.attributes.hasOwnProperty(\"BYTERANGE\")&&(i.attributes.byterange=_(i.attributes.BYTERANGE)),void n.trigger(\"data\",i);if((t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e))&&t[1])return(i={type:\"tag\",tagType:\"server-control\"}).attributes=v(t[1]),[\"CAN-SKIP-UNTIL\",\"PART-HOLD-BACK\",\"HOLD-BACK\"].forEach(function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))}),[\"CAN-SKIP-DATERANGES\",\"CAN-BLOCK-RELOAD\"].forEach(function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=/YES/.test(i.attributes[e]))}),void n.trigger(\"data\",i);if((t=/^#EXT-X-PART-INF:(.*)$/.exec(e))&&t[1])return(i={type:\"tag\",tagType:\"part-inf\"}).attributes=v(t[1]),[\"PART-TARGET\"].forEach(function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))}),void n.trigger(\"data\",i);if((t=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e))&&t[1])return(i={type:\"tag\",tagType:\"preload-hint\"}).attributes=v(t[1]),[\"BYTERANGE-START\",\"BYTERANGE-LENGTH\"].forEach(function(e){if(i.attributes.hasOwnProperty(e)){i.attributes[e]=parseInt(i.attributes[e],10);var t=\"BYTERANGE-LENGTH\"===e?\"length\":\"offset\";i.attributes.byterange=i.attributes.byterange||{},i.attributes.byterange[t]=i.attributes[e],delete i.attributes[e]}}),void n.trigger(\"data\",i);if((t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e))&&t[1])return(i={type:\"tag\",tagType:\"rendition-report\"}).attributes=v(t[1]),[\"LAST-MSN\",\"LAST-PART\"].forEach(function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseInt(i.attributes[e],10))}),void n.trigger(\"data\",i);n.trigger(\"data\",{type:\"tag\",data:e.slice(4)})}}}else n.trigger(\"data\",{type:\"comment\",text:e.slice(1)})}):this.trigger(\"data\",{type:\"uri\",uri:e}))},i.addParser=function(e){var t=this,i=e.expression,n=e.customType,r=e.dataParser,a=e.segment;\"function\"!=typeof r&&(r=function(e){return e}),this.customParsers.push(function(e){if(i.exec(e))return t.trigger(\"data\",{type:\"custom\",data:r(e),customType:n,segment:a}),!0})},i.addTagMapper=function(e){var t=e.expression,i=e.map;this.tagMappers.push(function(e){return t.test(e)?i(e):e})},t}(c.default),b=function(e){var t={};return Object.keys(e).forEach(function(i){var n;t[(n=i,n.toLowerCase().replace(/-(\\w)/g,function(e){return e[1].toUpperCase()}))]=e[i]}),t},A=function(e){var t=e.serverControl,i=e.targetDuration,n=e.partTargetDuration;if(t){var r=\"#EXT-X-SERVER-CONTROL\",a=\"holdBack\",s=\"partHoldBack\",o=i&&3*i,l=n&&2*n;i&&!t.hasOwnProperty(a)&&(t[a]=o,this.trigger(\"info\",{message:r+\" defaulting HOLD-BACK to targetDuration * 3 (\"+o+\").\"})),o&&t[a]<o&&(this.trigger(\"warn\",{message:r+\" clamping HOLD-BACK (\"+t[a]+\") to targetDuration * 3 (\"+o+\")\"}),t[a]=o),n&&!t.hasOwnProperty(s)&&(t[s]=3*n,this.trigger(\"info\",{message:r+\" defaulting PART-HOLD-BACK to partTargetDuration * 3 (\"+t[s]+\").\"})),n&&t[s]<l&&(this.trigger(\"warn\",{message:r+\" clamping PART-HOLD-BACK (\"+t[s]+\") to partTargetDuration * 2 (\"+l+\").\"}),t[s]=l)}},E=function(e){function t(){var t;(t=e.call(this)||this).lineStream=new m,t.parseStream=new y,t.lineStream.pipe(t.parseStream);var i,n,r=f.default(t),a=[],s={},o=!1,l=function(){},u={AUDIO:{},VIDEO:{},\"CLOSED-CAPTIONS\":{},SUBTITLES:{}},d=0;t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var c=0,g=0;return t.on(\"end\",function(){s.uri||!s.parts&&!s.preloadHints||(!s.map&&i&&(s.map=i),!s.key&&n&&(s.key=n),s.timeline||\"number\"!=typeof d||(s.timeline=d),t.manifest.preloadSegment=s)}),t.parseStream.on(\"data\",function(e){var t,f;({tag:function(){(({version:function(){e.version&&(this.manifest.version=e.version)},\"allow-cache\":function(){this.manifest.allowCache=e.allowed,\"allowed\"in e||(this.trigger(\"info\",{message:\"defaulting allowCache to YES\"}),this.manifest.allowCache=!0)},byterange:function(){var t={};\"length\"in e&&(s.byterange=t,t.length=e.length,\"offset\"in e||(e.offset=c)),\"offset\"in e&&(s.byterange=t,t.offset=e.offset),c=t.offset+t.length},endlist:function(){this.manifest.endList=!0},inf:function(){\"mediaSequence\"in this.manifest||(this.manifest.mediaSequence=0,this.trigger(\"info\",{message:\"defaulting media sequence to zero\"})),\"discontinuitySequence\"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger(\"info\",{message:\"defaulting discontinuity sequence to zero\"})),e.duration>0&&(s.duration=e.duration),0===e.duration&&(s.duration=.01,this.trigger(\"info\",{message:\"updating zero segment duration to a small value\"})),this.manifest.segments=a},key:function(){if(e.attributes)if(\"NONE\"!==e.attributes.METHOD)if(e.attributes.URI){if(\"com.apple.streamingkeydelivery\"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection[\"com.apple.fps.1_0\"]={attributes:e.attributes});if(\"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed\"===e.attributes.KEYFORMAT)return-1===[\"SAMPLE-AES\",\"SAMPLE-AES-CTR\",\"SAMPLE-AES-CENC\"].indexOf(e.attributes.METHOD)?void this.trigger(\"warn\",{message:\"invalid key method provided for Widevine\"}):(\"SAMPLE-AES-CENC\"===e.attributes.METHOD&&this.trigger(\"warn\",{message:\"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead\"}),\"data:text/plain;base64,\"!==e.attributes.URI.substring(0,23)?void this.trigger(\"warn\",{message:\"invalid key URI provided for Widevine\"}):e.attributes.KEYID&&\"0x\"===e.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection[\"com.widevine.alpha\"]={attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:p.default(e.attributes.URI.split(\",\")[1])})):void this.trigger(\"warn\",{message:\"invalid key ID provided for Widevine\"}));e.attributes.METHOD||this.trigger(\"warn\",{message:\"defaulting key method to AES-128\"}),n={method:e.attributes.METHOD||\"AES-128\",uri:e.attributes.URI},void 0!==e.attributes.IV&&(n.iv=e.attributes.IV)}else this.trigger(\"warn\",{message:\"ignoring key declaration without URI\"});else n=null;else this.trigger(\"warn\",{message:\"ignoring key declaration without attribute list\"})},\"media-sequence\":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger(\"warn\",{message:\"ignoring invalid media sequence: \"+e.number})},\"discontinuity-sequence\":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,d=e.number):this.trigger(\"warn\",{message:\"ignoring invalid discontinuity sequence: \"+e.number})},\"playlist-type\":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger(\"warn\",{message:\"ignoring unknown playlist type: \"+e.playlist})},map:function(){i={},e.uri&&(i.uri=e.uri),e.byterange&&(i.byterange=e.byterange),n&&(i.key=n)},\"stream-inf\":function(){this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||u,e.attributes?(s.attributes||(s.attributes={}),h.default(s.attributes,e.attributes)):this.trigger(\"warn\",{message:\"ignoring empty stream-inf attributes\"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,e.attributes&&e.attributes.TYPE&&e.attributes[\"GROUP-ID\"]&&e.attributes.NAME){var i=this.manifest.mediaGroups[e.attributes.TYPE];i[e.attributes[\"GROUP-ID\"]]=i[e.attributes[\"GROUP-ID\"]]||{},t=i[e.attributes[\"GROUP-ID\"]],(f={default:/yes/i.test(e.attributes.DEFAULT)}).default?f.autoselect=!0:f.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(f.language=e.attributes.LANGUAGE),e.attributes.URI&&(f.uri=e.attributes.URI),e.attributes[\"INSTREAM-ID\"]&&(f.instreamId=e.attributes[\"INSTREAM-ID\"]),e.attributes.CHARACTERISTICS&&(f.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(f.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=f}else this.trigger(\"warn\",{message:\"ignoring incomplete or missing media group\"})},discontinuity:function(){d+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},\"program-date-time\":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),s.dateTimeString=e.dateTimeString,s.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger(\"warn\",{message:\"ignoring invalid target duration: \"+e.duration}):(this.manifest.targetDuration=e.duration,A.call(this,this.manifest))},start:function(){e.attributes&&!isNaN(e.attributes[\"TIME-OFFSET\"])?this.manifest.start={timeOffset:e.attributes[\"TIME-OFFSET\"],precise:e.attributes.PRECISE}:this.trigger(\"warn\",{message:\"ignoring start declaration without appropriate attribute list\"})},\"cue-out\":function(){s.cueOut=e.data},\"cue-out-cont\":function(){s.cueOutCont=e.data},\"cue-in\":function(){s.cueIn=e.data},skip:function(){this.manifest.skip=b(e.attributes),this.warnOnMissingAttributes_(\"#EXT-X-SKIP\",e.attributes,[\"SKIPPED-SEGMENTS\"])},part:function(){var t=this;o=!0;var i=this.manifest.segments.length,n=b(e.attributes);s.parts=s.parts||[],s.parts.push(n),n.byterange&&(n.byterange.hasOwnProperty(\"offset\")||(n.byterange.offset=g),g=n.byterange.offset+n.byterange.length);var r=s.parts.length-1;this.warnOnMissingAttributes_(\"#EXT-X-PART #\"+r+\" for segment #\"+i,e.attributes,[\"URI\",\"DURATION\"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(e,i){e.hasOwnProperty(\"lastPart\")||t.trigger(\"warn\",{message:\"#EXT-X-RENDITION-REPORT #\"+i+\" lacks required attribute(s): LAST-PART\"})})},\"server-control\":function(){var t=this.manifest.serverControl=b(e.attributes);t.hasOwnProperty(\"canBlockReload\")||(t.canBlockReload=!1,this.trigger(\"info\",{message:\"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false\"})),A.call(this,this.manifest),t.canSkipDateranges&&!t.hasOwnProperty(\"canSkipUntil\")&&this.trigger(\"warn\",{message:\"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set\"})},\"preload-hint\":function(){var t=this.manifest.segments.length,i=b(e.attributes),n=i.type&&\"PART\"===i.type;s.preloadHints=s.preloadHints||[],s.preloadHints.push(i),i.byterange&&(i.byterange.hasOwnProperty(\"offset\")||(i.byterange.offset=n?g:0,n&&(g=i.byterange.offset+i.byterange.length)));var r=s.preloadHints.length-1;if(this.warnOnMissingAttributes_(\"#EXT-X-PRELOAD-HINT #\"+r+\" for segment #\"+t,e.attributes,[\"TYPE\",\"URI\"]),i.type)for(var a=0;a<s.preloadHints.length-1;a++){var o=s.preloadHints[a];o.type&&o.type===i.type&&this.trigger(\"warn\",{message:\"#EXT-X-PRELOAD-HINT #\"+r+\" for segment #\"+t+\" has the same TYPE \"+i.type+\" as preload hint #\"+a})}},\"rendition-report\":function(){var t=b(e.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(t);var i=this.manifest.renditionReports.length-1,n=[\"LAST-MSN\",\"URI\"];o&&n.push(\"LAST-PART\"),this.warnOnMissingAttributes_(\"#EXT-X-RENDITION-REPORT #\"+i,e.attributes,n)},\"part-inf\":function(){this.manifest.partInf=b(e.attributes),this.warnOnMissingAttributes_(\"#EXT-X-PART-INF\",e.attributes,[\"PART-TARGET\"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),A.call(this,this.manifest)}})[e.tagType]||l).call(r)},uri:function(){s.uri=e.uri,a.push(s),this.manifest.targetDuration&&!(\"duration\"in s)&&(this.trigger(\"warn\",{message:\"defaulting segment duration to the target duration\"}),s.duration=this.manifest.targetDuration),n&&(s.key=n),s.timeline=d,i&&(s.map=i),g=0,s={}},comment:function(){},custom:function(){e.segment?(s.custom=s.custom||{},s.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(r)}),t}d.default(t,e);var i=t.prototype;return i.warnOnMissingAttributes_=function(e,t,i){var n=[];i.forEach(function(e){t.hasOwnProperty(e)||n.push(e)}),n.length&&this.trigger(\"warn\",{message:e+\" lacks required attribute(s): \"+n.join(\", \")})},i.push=function(e){this.lineStream.push(e)},i.end=function(){this.lineStream.push(\"\\n\"),this.trigger(\"end\")},i.addParser=function(e){this.parseStream.addParser(e)},i.addTagMapper=function(e){this.parseStream.addTagMapper(e)},t}(c.default);i.LineStream=m,i.ParseStream=y,i.Parser=E},{\"@babel/runtime/helpers/assertThisInitialized\":1,\"@babel/runtime/helpers/extends\":3,\"@babel/runtime/helpers/inheritsLoose\":5,\"@videojs/vhs-utils/cjs/decode-b64-to-uint8-array.js\":13,\"@videojs/vhs-utils/cjs/stream.js\":21}],40:[function(e,t,i){var n,r,a=(n=new Date,r=4,{setLogLevel:function(e){r=e==this.debug?1:e==this.info?2:e==this.warn?3:(this.error,4)},debug:function(e,t){void 0===console.debug&&(console.debug=console.log),1>=r&&console.debug(\"[\"+a.getDurationString(new Date-n,1e3)+\"]\",\"[\"+e+\"]\",t)},log:function(e,t){this.debug(e.msg)},info:function(e,t){2>=r&&console.info(\"[\"+a.getDurationString(new Date-n,1e3)+\"]\",\"[\"+e+\"]\",t)},warn:function(e,t){3>=r&&a.getDurationString(new Date-n,1e3)},error:function(e,t){4>=r&&console.error(\"[\"+a.getDurationString(new Date-n,1e3)+\"]\",\"[\"+e+\"]\",t)}});a.getDurationString=function(e,t){function i(e,t){for(var i=(\"\"+e).split(\".\");i[0].length<t;)i[0]=\"0\"+i[0];return i.join(\".\")}var n;e<0?(n=!0,e=-e):n=!1;var r=e/(t||1),a=Math.floor(r/3600);r-=3600*a;var s=Math.floor(r/60),o=1e3*(r-=60*s);return o-=1e3*(r=Math.floor(r)),o=Math.floor(o),(n?\"-\":\"\")+a+\":\"+i(s,2)+\":\"+i(r,2)+\".\"+i(o,3)},a.printRanges=function(e){var t=e.length;if(t>0){for(var i=\"\",n=0;n<t;n++)n>0&&(i+=\",\"),i+=\"[\"+a.getDurationString(e.start(n))+\",\"+a.getDurationString(e.end(n))+\"]\";return i}return\"(empty)\"},void 0!==i&&(i.Log=a);var o=function(e){if(!(e instanceof ArrayBuffer))throw\"Needs an array buffer\";this.buffer=e,this.dataview=new DataView(e),this.position=0};o.prototype.getPosition=function(){return this.position},o.prototype.getEndPosition=function(){return this.buffer.byteLength},o.prototype.getLength=function(){return this.buffer.byteLength},o.prototype.seek=function(e){var t=Math.max(0,Math.min(this.buffer.byteLength,e));return this.position=isNaN(t)||!isFinite(t)?0:t,!0},o.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()},o.prototype.readAnyInt=function(e,t){var i=0;if(this.position+e<=this.buffer.byteLength){switch(e){case 1:i=t?this.dataview.getInt8(this.position):this.dataview.getUint8(this.position);break;case 2:i=t?this.dataview.getInt16(this.position):this.dataview.getUint16(this.position);break;case 3:if(t)throw\"No method for reading signed 24 bits values\";i=this.dataview.getUint8(this.position)<<16,i|=this.dataview.getUint8(this.position)<<8,i|=this.dataview.getUint8(this.position);break;case 4:i=t?this.dataview.getInt32(this.position):this.dataview.getUint32(this.position);break;case 8:if(t)throw\"No method for reading signed 64 bits values\";i=this.dataview.getUint32(this.position)<<32,i|=this.dataview.getUint32(this.position);break;default:throw\"readInt method not implemented for size: \"+e}return this.position+=e,i}throw\"Not enough bytes in buffer\"},o.prototype.readUint8=function(){return this.readAnyInt(1,!1)},o.prototype.readUint16=function(){return this.readAnyInt(2,!1)},o.prototype.readUint24=function(){return this.readAnyInt(3,!1)},o.prototype.readUint32=function(){return this.readAnyInt(4,!1)},o.prototype.readUint64=function(){return this.readAnyInt(8,!1)},o.prototype.readString=function(e){if(this.position+e<=this.buffer.byteLength){for(var t=\"\",i=0;i<e;i++)t+=String.fromCharCode(this.readUint8());return t}throw\"Not enough bytes in buffer\"},o.prototype.readCString=function(){for(var e=[];;){var t=this.readUint8();if(0===t)break;e.push(t)}return String.fromCharCode.apply(null,e)},o.prototype.readInt8=function(){return this.readAnyInt(1,!0)},o.prototype.readInt16=function(){return this.readAnyInt(2,!0)},o.prototype.readInt32=function(){return this.readAnyInt(4,!0)},o.prototype.readInt64=function(){return this.readAnyInt(8,!1)},o.prototype.readUint8Array=function(e){for(var t=new Uint8Array(e),i=0;i<e;i++)t[i]=this.readUint8();return t},o.prototype.readInt16Array=function(e){for(var t=new Int16Array(e),i=0;i<e;i++)t[i]=this.readInt16();return t},o.prototype.readUint16Array=function(e){for(var t=new Int16Array(e),i=0;i<e;i++)t[i]=this.readUint16();return t},o.prototype.readUint32Array=function(e){for(var t=new Uint32Array(e),i=0;i<e;i++)t[i]=this.readUint32();return t},o.prototype.readInt32Array=function(e){for(var t=new Int32Array(e),i=0;i<e;i++)t[i]=this.readInt32();return t},void 0!==i&&(i.MP4BoxStream=o);var l=function e(t,i,n){this._byteOffset=i||0,t instanceof ArrayBuffer?this.buffer=t:\"object\"==(\"undefined\"==typeof t?\"undefined\":s(t))?(this.dataView=t,i&&(this._byteOffset+=i)):this.buffer=new ArrayBuffer(t||0),this.position=0,this.endianness=null==n?e.LITTLE_ENDIAN:n};l.prototype={},l.prototype.getPosition=function(){return this.position},l.prototype._realloc=function(e){if(this._dynamicSize){var t=this._byteOffset+this.position+e,i=this._buffer.byteLength;if(t<=i)t>this._byteLength&&(this._byteLength=t);else{for(i<1&&(i=1);t>i;)i*=2;var n=new ArrayBuffer(i),r=new Uint8Array(this._buffer);new Uint8Array(n,0,r.length).set(r),this.buffer=n,this._byteLength=t}}},l.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var e=new ArrayBuffer(this._byteLength),t=new Uint8Array(e),i=new Uint8Array(this._buffer,0,t.length);t.set(i),this.buffer=e}},l.BIG_ENDIAN=!1,l.LITTLE_ENDIAN=!0,l.prototype._byteLength=0,Object.defineProperty(l.prototype,\"byteLength\",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(l.prototype,\"buffer\",{get:function(){return this._trimAlloc(),this._buffer},set:function(e){this._buffer=e,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(l.prototype,\"byteOffset\",{get:function(){return this._byteOffset},set:function(e){this._byteOffset=e,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(l.prototype,\"dataView\",{get:function(){return this._dataView},set:function(e){this._byteOffset=e.byteOffset,this._buffer=e.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+e.byteLength}}),l.prototype.seek=function(e){var t=Math.max(0,Math.min(this.byteLength,e));this.position=isNaN(t)||!isFinite(t)?0:t},l.prototype.isEof=function(){return this.position>=this._byteLength},l.prototype.mapUint8Array=function(e){this._realloc(1*e);var t=new Uint8Array(this._buffer,this.byteOffset+this.position,e);return this.position+=1*e,t},l.prototype.readInt32Array=function(e,t){e=null==e?this.byteLength-this.position/4:e;var i=new Int32Array(e);return l.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,e*i.BYTES_PER_ELEMENT),l.arrayToNative(i,null==t?this.endianness:t),this.position+=i.byteLength,i},l.prototype.readInt16Array=function(e,t){e=null==e?this.byteLength-this.position/2:e;var i=new Int16Array(e);return l.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,e*i.BYTES_PER_ELEMENT),l.arrayToNative(i,null==t?this.endianness:t),this.position+=i.byteLength,i},l.prototype.readInt8Array=function(e){e=null==e?this.byteLength-this.position:e;var t=new Int8Array(e);return l.memcpy(t.buffer,0,this.buffer,this.byteOffset+this.position,e*t.BYTES_PER_ELEMENT),this.position+=t.byteLength,t},l.prototype.readUint32Array=function(e,t){e=null==e?this.byteLength-this.position/4:e;var i=new Uint32Array(e);return l.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,e*i.BYTES_PER_ELEMENT),l.arrayToNative(i,null==t?this.endianness:t),this.position+=i.byteLength,i},l.prototype.readUint16Array=function(e,t){e=null==e?this.byteLength-this.position/2:e;var i=new Uint16Array(e);return l.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,e*i.BYTES_PER_ELEMENT),l.arrayToNative(i,null==t?this.endianness:t),this.position+=i.byteLength,i},l.prototype.readUint8Array=function(e){e=null==e?this.byteLength-this.position:e;var t=new Uint8Array(e);return l.memcpy(t.buffer,0,this.buffer,this.byteOffset+this.position,e*t.BYTES_PER_ELEMENT),this.position+=t.byteLength,t},l.prototype.readFloat64Array=function(e,t){e=null==e?this.byteLength-this.position/8:e;var i=new Float64Array(e);return l.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,e*i.BYTES_PER_ELEMENT),l.arrayToNative(i,null==t?this.endianness:t),this.position+=i.byteLength,i},l.prototype.readFloat32Array=function(e,t){e=null==e?this.byteLength-this.position/4:e;var i=new Float32Array(e);return l.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,e*i.BYTES_PER_ELEMENT),l.arrayToNative(i,null==t?this.endianness:t),this.position+=i.byteLength,i},l.prototype.readInt32=function(e){var t=this._dataView.getInt32(this.position,null==e?this.endianness:e);return this.position+=4,t},l.prototype.readInt16=function(e){var t=this._dataView.getInt16(this.position,null==e?this.endianness:e);return this.position+=2,t},l.prototype.readInt8=function(){var e=this._dataView.getInt8(this.position);return this.position+=1,e},l.prototype.readUint32=function(e){var t=this._dataView.getUint32(this.position,null==e?this.endianness:e);return this.position+=4,t},l.prototype.readUint16=function(e){var t=this._dataView.getUint16(this.position,null==e?this.endianness:e);return this.position+=2,t},l.prototype.readUint8=function(){var e=this._dataView.getUint8(this.position);return this.position+=1,e},l.prototype.readFloat32=function(e){var t=this._dataView.getFloat32(this.position,null==e?this.endianness:e);return this.position+=4,t},l.prototype.readFloat64=function(e){var t=this._dataView.getFloat64(this.position,null==e?this.endianness:e);return this.position+=8,t},l.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,l.memcpy=function(e,t,i,n,r){var a=new Uint8Array(e,t,r),s=new Uint8Array(i,n,r);a.set(s)},l.arrayToNative=function(e,t){return t==this.endianness?e:this.flipArrayEndianness(e)},l.nativeToEndian=function(e,t){return this.endianness==t?e:this.flipArrayEndianness(e)},l.flipArrayEndianness=function(e){for(var t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),i=0;i<e.byteLength;i+=e.BYTES_PER_ELEMENT)for(var n=i+e.BYTES_PER_ELEMENT-1,r=i;n>r;n--,r++){var a=t[r];t[r]=t[n],t[n]=a}return e},l.prototype.failurePosition=0,String.fromCharCodeUint8=function(e){for(var t=[],i=0;i<e.length;i++)t[i]=e[i];return String.fromCharCode.apply(null,t)},l.prototype.readString=function(e,t){return null==t||\"ASCII\"==t?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(null==e?this.byteLength-this.position:e)]):new TextDecoder(t).decode(this.mapUint8Array(e))},l.prototype.readCString=function(e){var t=this.byteLength-this.position,i=new Uint8Array(this._buffer,this._byteOffset+this.position),n=t;null!=e&&(n=Math.min(e,t));for(var r=0;r<n&&0!==i[r];r++);var a=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(r)]);return null!=e?this.position+=n-r:r!=t&&(this.position+=1),a};var u=Math.pow(2,32);l.prototype.readInt64=function(){return this.readInt32()*u+this.readUint32()},l.prototype.readUint64=function(){return this.readUint32()*u+this.readUint32()},l.prototype.readInt64=function(){return this.readUint32()*u+this.readUint32()},l.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()},void 0!==i&&(i.DataStream=l),l.prototype.save=function(e){var t=new Blob([this.buffer]);if(!window.URL||!URL.createObjectURL)throw\"DataStream.save: Can't create object URL.\";var i=window.URL.createObjectURL(t),n=document.createElement(\"a\");document.body.appendChild(n),n.setAttribute(\"href\",i),n.setAttribute(\"download\",e),n.setAttribute(\"target\",\"_self\"),n.click(),window.URL.revokeObjectURL(i)},l.prototype._dynamicSize=!0,Object.defineProperty(l.prototype,\"dynamicSize\",{get:function(){return this._dynamicSize},set:function(e){e||this._trimAlloc(),this._dynamicSize=e}}),l.prototype.shift=function(e){var t=new ArrayBuffer(this._byteLength-e),i=new Uint8Array(t),n=new Uint8Array(this._buffer,e,i.length);i.set(n),this.buffer=t,this.position-=e},l.prototype.writeInt32Array=function(e,t){if(this._realloc(4*e.length),e instanceof Int32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)l.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt32Array(e.length,t);else for(var i=0;i<e.length;i++)this.writeInt32(e[i],t)},l.prototype.writeInt16Array=function(e,t){if(this._realloc(2*e.length),e instanceof Int16Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)l.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt16Array(e.length,t);else for(var i=0;i<e.length;i++)this.writeInt16(e[i],t)},l.prototype.writeInt8Array=function(e){if(this._realloc(1*e.length),e instanceof Int8Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)l.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt8Array(e.length);else for(var t=0;t<e.length;t++)this.writeInt8(e[t])},l.prototype.writeUint32Array=function(e,t){if(this._realloc(4*e.length),e instanceof Uint32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)l.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint32Array(e.length,t);else for(var i=0;i<e.length;i++)this.writeUint32(e[i],t)},l.prototype.writeUint16Array=function(e,t){if(this._realloc(2*e.length),e instanceof Uint16Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)l.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint16Array(e.length,t);else for(var i=0;i<e.length;i++)this.writeUint16(e[i],t)},l.prototype.writeUint8Array=function(e){if(this._realloc(1*e.length),e instanceof Uint8Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)l.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint8Array(e.length);else for(var t=0;t<e.length;t++)this.writeUint8(e[t]);\n},l.prototype.writeFloat64Array=function(e,t){if(this._realloc(8*e.length),e instanceof Float64Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)l.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapFloat64Array(e.length,t);else for(var i=0;i<e.length;i++)this.writeFloat64(e[i],t)},l.prototype.writeFloat32Array=function(e,t){if(this._realloc(4*e.length),e instanceof Float32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)l.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapFloat32Array(e.length,t);else for(var i=0;i<e.length;i++)this.writeFloat32(e[i],t)},l.prototype.writeInt32=function(e,t){this._realloc(4),this._dataView.setInt32(this.position,e,null==t?this.endianness:t),this.position+=4},l.prototype.writeInt16=function(e,t){this._realloc(2),this._dataView.setInt16(this.position,e,null==t?this.endianness:t),this.position+=2},l.prototype.writeInt8=function(e){this._realloc(1),this._dataView.setInt8(this.position,e),this.position+=1},l.prototype.writeUint32=function(e,t){this._realloc(4),this._dataView.setUint32(this.position,e,null==t?this.endianness:t),this.position+=4},l.prototype.writeUint16=function(e,t){this._realloc(2),this._dataView.setUint16(this.position,e,null==t?this.endianness:t),this.position+=2},l.prototype.writeUint8=function(e){this._realloc(1),this._dataView.setUint8(this.position,e),this.position+=1},l.prototype.writeFloat32=function(e,t){this._realloc(4),this._dataView.setFloat32(this.position,e,null==t?this.endianness:t),this.position+=4},l.prototype.writeFloat64=function(e,t){this._realloc(8),this._dataView.setFloat64(this.position,e,null==t?this.endianness:t),this.position+=8},l.prototype.writeUCS2String=function(e,t,i){null==i&&(i=e.length);for(var n=0;n<e.length&&n<i;n++)this.writeUint16(e.charCodeAt(n),t);for(;n<i;n++)this.writeUint16(0)},l.prototype.writeString=function(e,t,i){var n=0;if(null==t||\"ASCII\"==t)if(null!=i){var r=Math.min(e.length,i);for(n=0;n<r;n++)this.writeUint8(e.charCodeAt(n));for(;n<i;n++)this.writeUint8(0)}else for(n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));else this.writeUint8Array(new TextEncoder(t).encode(e.substring(0,i)))},l.prototype.writeCString=function(e,t){var i=0;if(null!=t){var n=Math.min(e.length,t);for(i=0;i<n;i++)this.writeUint8(e.charCodeAt(i));for(;i<t;i++)this.writeUint8(0)}else{for(i=0;i<e.length;i++)this.writeUint8(e.charCodeAt(i));this.writeUint8(0)}},l.prototype.writeStruct=function(e,t){for(var i=0;i<e.length;i+=2){var n=e[i+1];this.writeType(n,t[e[i]],t)}},l.prototype.writeType=function(e,t,i){var n;if(\"function\"==typeof e)return e(this,t);if(\"object\"==(\"undefined\"==typeof e?\"undefined\":s(e))&&!(e instanceof Array))return e.set(this,t,i);var r=null,a=\"ASCII\",o=this.position;switch(\"string\"==typeof e&&/:/.test(e)&&(n=e.split(\":\"),e=n[0],r=parseInt(n[1])),\"string\"==typeof e&&/,/.test(e)&&(n=e.split(\",\"),e=n[0],a=parseInt(n[1])),e){case\"uint8\":this.writeUint8(t);break;case\"int8\":this.writeInt8(t);break;case\"uint16\":this.writeUint16(t,this.endianness);break;case\"int16\":this.writeInt16(t,this.endianness);break;case\"uint32\":this.writeUint32(t,this.endianness);break;case\"int32\":this.writeInt32(t,this.endianness);break;case\"float32\":this.writeFloat32(t,this.endianness);break;case\"float64\":this.writeFloat64(t,this.endianness);break;case\"uint16be\":this.writeUint16(t,l.BIG_ENDIAN);break;case\"int16be\":this.writeInt16(t,l.BIG_ENDIAN);break;case\"uint32be\":this.writeUint32(t,l.BIG_ENDIAN);break;case\"int32be\":this.writeInt32(t,l.BIG_ENDIAN);break;case\"float32be\":this.writeFloat32(t,l.BIG_ENDIAN);break;case\"float64be\":this.writeFloat64(t,l.BIG_ENDIAN);break;case\"uint16le\":this.writeUint16(t,l.LITTLE_ENDIAN);break;case\"int16le\":this.writeInt16(t,l.LITTLE_ENDIAN);break;case\"uint32le\":this.writeUint32(t,l.LITTLE_ENDIAN);break;case\"int32le\":this.writeInt32(t,l.LITTLE_ENDIAN);break;case\"float32le\":this.writeFloat32(t,l.LITTLE_ENDIAN);break;case\"float64le\":this.writeFloat64(t,l.LITTLE_ENDIAN);break;case\"cstring\":this.writeCString(t,r);break;case\"string\":this.writeString(t,a,r);break;case\"u16string\":this.writeUCS2String(t,this.endianness,r);break;case\"u16stringle\":this.writeUCS2String(t,l.LITTLE_ENDIAN,r);break;case\"u16stringbe\":this.writeUCS2String(t,l.BIG_ENDIAN,r);break;default:if(3==e.length){for(var u=e[1],d=0;d<t.length;d++)this.writeType(u,t[d]);break}this.writeStruct(e,t)}null!=r&&(this.position=o,this._realloc(r),this.position=o+r)},l.prototype.writeUint64=function(e){var t=Math.floor(e/u);this.writeUint32(t),this.writeUint32(4294967295&e)},l.prototype.writeUint24=function(e){this.writeUint8((16711680&e)>>16),this.writeUint8((65280&e)>>8),this.writeUint8(255&e)},l.prototype.adjustUint32=function(e,t){var i=this.position;this.seek(e),this.writeUint32(t),this.seek(i)},l.prototype.mapInt32Array=function(e,t){this._realloc(4*e);var i=new Int32Array(this._buffer,this.byteOffset+this.position,e);return l.arrayToNative(i,null==t?this.endianness:t),this.position+=4*e,i},l.prototype.mapInt16Array=function(e,t){this._realloc(2*e);var i=new Int16Array(this._buffer,this.byteOffset+this.position,e);return l.arrayToNative(i,null==t?this.endianness:t),this.position+=2*e,i},l.prototype.mapInt8Array=function(e){this._realloc(1*e);var t=new Int8Array(this._buffer,this.byteOffset+this.position,e);return this.position+=1*e,t},l.prototype.mapUint32Array=function(e,t){this._realloc(4*e);var i=new Uint32Array(this._buffer,this.byteOffset+this.position,e);return l.arrayToNative(i,null==t?this.endianness:t),this.position+=4*e,i},l.prototype.mapUint16Array=function(e,t){this._realloc(2*e);var i=new Uint16Array(this._buffer,this.byteOffset+this.position,e);return l.arrayToNative(i,null==t?this.endianness:t),this.position+=2*e,i},l.prototype.mapFloat64Array=function(e,t){this._realloc(8*e);var i=new Float64Array(this._buffer,this.byteOffset+this.position,e);return l.arrayToNative(i,null==t?this.endianness:t),this.position+=8*e,i},l.prototype.mapFloat32Array=function(e,t){this._realloc(4*e);var i=new Float32Array(this._buffer,this.byteOffset+this.position,e);return l.arrayToNative(i,null==t?this.endianness:t),this.position+=4*e,i};var d=function(e){this.buffers=[],this.bufferIndex=-1,e&&(this.insertBuffer(e),this.bufferIndex=0)};(d.prototype=new l(new ArrayBuffer,0,l.BIG_ENDIAN)).initialized=function(){var e;return this.bufferIndex>-1||(this.buffers.length>0?0===(e=this.buffers[0]).fileStart?(this.buffer=e,this.bufferIndex=0,a.debug(\"MultiBufferStream\",\"Stream ready for parsing\"),!0):(a.warn(\"MultiBufferStream\",\"The first buffer should have a fileStart of 0\"),this.logBufferLevel(),!1):(a.warn(\"MultiBufferStream\",\"No buffer to start parsing from\"),this.logBufferLevel(),!1))},ArrayBuffer.concat=function(e,t){a.debug(\"ArrayBuffer\",\"Trying to create a new buffer of size: \"+(e.byteLength+t.byteLength));var i=new Uint8Array(e.byteLength+t.byteLength);return i.set(new Uint8Array(e),0),i.set(new Uint8Array(t),e.byteLength),i.buffer},d.prototype.reduceBuffer=function(e,t,i){var n;return(n=new Uint8Array(i)).set(new Uint8Array(e,t,i)),n.buffer.fileStart=e.fileStart+t,n.buffer.usedBytes=0,n.buffer},d.prototype.insertBuffer=function(e){for(var t=!0,i=0;i<this.buffers.length;i++){var n=this.buffers[i];if(e.fileStart<=n.fileStart){if(e.fileStart===n.fileStart){if(e.byteLength>n.byteLength){this.buffers.splice(i,1),i--;continue}a.warn(\"MultiBufferStream\",\"Buffer (fileStart: \"+e.fileStart+\" - Length: \"+e.byteLength+\") already appended, ignoring\")}else e.fileStart+e.byteLength<=n.fileStart||(e=this.reduceBuffer(e,0,n.fileStart-e.fileStart)),a.debug(\"MultiBufferStream\",\"Appending new buffer (fileStart: \"+e.fileStart+\" - Length: \"+e.byteLength+\")\"),this.buffers.splice(i,0,e),0===i&&(this.buffer=e);t=!1;break}if(e.fileStart<n.fileStart+n.byteLength){var r=n.fileStart+n.byteLength-e.fileStart,s=e.byteLength-r;if(!(s>0)){t=!1;break}e=this.reduceBuffer(e,r,s)}}t&&(a.debug(\"MultiBufferStream\",\"Appending new buffer (fileStart: \"+e.fileStart+\" - Length: \"+e.byteLength+\")\"),this.buffers.push(e),0===i&&(this.buffer=e))},d.prototype.logBufferLevel=function(e){var t,i,n,r,s,o=[],l=\"\";for(n=0,r=0,t=0;t<this.buffers.length;t++)i=this.buffers[t],0===t?(s={},o.push(s),s.start=i.fileStart,s.end=i.fileStart+i.byteLength,l+=\"[\"+s.start+\"-\"):s.end===i.fileStart?s.end=i.fileStart+i.byteLength:((s={}).start=i.fileStart,l+=o[o.length-1].end-1+\"], [\"+s.start+\"-\",s.end=i.fileStart+i.byteLength,o.push(s)),n+=i.usedBytes,r+=i.byteLength;o.length>0&&(l+=s.end-1+\"]\");var u=e?a.info:a.debug;0===this.buffers.length?u(\"MultiBufferStream\",\"No more buffer in memory\"):u(\"MultiBufferStream\",this.buffers.length+\" stored buffer(s) (\"+n+\"/\"+r+\" bytes): \"+l)},d.prototype.cleanBuffers=function(){var e,t;for(e=0;e<this.buffers.length;e++)(t=this.buffers[e]).usedBytes===t.byteLength&&(a.debug(\"MultiBufferStream\",\"Removing buffer #\"+e),this.buffers.splice(e,1),e--)},d.prototype.mergeNextBuffer=function(){var e;if(this.bufferIndex+1<this.buffers.length){if((e=this.buffers[this.bufferIndex+1]).fileStart===this.buffer.fileStart+this.buffer.byteLength){var t=this.buffer.byteLength,i=this.buffer.usedBytes,n=this.buffer.fileStart;return this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,e),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=i,this.buffer.fileStart=n,a.debug(\"ISOFile\",\"Concatenating buffer for box parsing (length: \"+t+\"->\"+this.buffer.byteLength+\")\"),!0}return!1}return!1},d.prototype.findPosition=function(e,t,i){var n,r=null,s=-1;for(n=!0===e?0:this.bufferIndex;n<this.buffers.length&&(r=this.buffers[n]).fileStart<=t;)s=n,i&&(r.fileStart+r.byteLength<=t?r.usedBytes=r.byteLength:r.usedBytes=t-r.fileStart,this.logBufferLevel()),n++;return-1!==s&&(r=this.buffers[s]).fileStart+r.byteLength>=t?(a.debug(\"MultiBufferStream\",\"Found position in existing buffer #\"+s),s):-1},d.prototype.findEndContiguousBuf=function(e){var t,i,n,r=void 0!==e?e:this.bufferIndex;if(i=this.buffers[r],this.buffers.length>r+1)for(t=r+1;t<this.buffers.length&&(n=this.buffers[t]).fileStart===i.fileStart+i.byteLength;t++)i=n;return i.fileStart+i.byteLength},d.prototype.getEndFilePositionAfter=function(e){var t=this.findPosition(!0,e,!1);return-1!==t?this.findEndContiguousBuf(t):e},d.prototype.addUsedBytes=function(e){this.buffer.usedBytes+=e,this.logBufferLevel()},d.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()},d.prototype.seek=function(e,t,i){var n;return-1!==(n=this.findPosition(t,e,i))?(this.buffer=this.buffers[n],this.bufferIndex=n,this.position=e-this.buffer.fileStart,a.debug(\"MultiBufferStream\",\"Repositioning parser at buffer position: \"+this.position),!0):(a.debug(\"MultiBufferStream\",\"Position \"+e+\" not found in buffered data\"),!1)},d.prototype.getPosition=function(){if(-1===this.bufferIndex||null===this.buffers[this.bufferIndex])throw\"Error accessing position in the MultiBufferStream\";return this.buffers[this.bufferIndex].fileStart+this.position},d.prototype.getLength=function(){return this.byteLength},d.prototype.getEndPosition=function(){if(-1===this.bufferIndex||null===this.buffers[this.bufferIndex])throw\"Error accessing position in the MultiBufferStream\";return this.buffers[this.bufferIndex].fileStart+this.byteLength},void 0!==i&&(i.MultiBufferStream=d);var c=function(){var e=[];e[3]=\"ES_Descriptor\",e[4]=\"DecoderConfigDescriptor\",e[5]=\"DecoderSpecificInfo\",e[6]=\"SLConfigDescriptor\",this.getDescriptorName=function(t){return e[t]};var t=this,i={};return this.parseOneDescriptor=function(t){var n,r,s,o=0;for(n=t.readUint8(),s=t.readUint8();128&s;)o=(127&s)<<7,s=t.readUint8();return o+=127&s,a.debug(\"MPEG4DescriptorParser\",\"Found \"+(e[n]||\"Descriptor \"+n)+\", size \"+o+\" at position \"+t.getPosition()),(r=e[n]?new i[e[n]](o):new i.Descriptor(o)).parse(t),r},i.Descriptor=function(e,t){this.tag=e,this.size=t,this.descs=[]},i.Descriptor.prototype.parse=function(e){this.data=e.readUint8Array(this.size)},i.Descriptor.prototype.findDescriptor=function(e){for(var t=0;t<this.descs.length;t++)if(this.descs[t].tag==e)return this.descs[t];return null},i.Descriptor.prototype.parseRemainingDescriptors=function(e){for(var i=e.position;e.position<i+this.size;){var n=t.parseOneDescriptor(e);this.descs.push(n)}},i.ES_Descriptor=function(e){i.Descriptor.call(this,3,e)},i.ES_Descriptor.prototype=new i.Descriptor,i.ES_Descriptor.prototype.parse=function(e){if(this.ES_ID=e.readUint16(),this.flags=e.readUint8(),this.size-=3,128&this.flags?(this.dependsOn_ES_ID=e.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,64&this.flags){var t=e.readUint8();this.URL=e.readString(t),this.size-=t+1}else this.URL=\"\";32&this.flags?(this.OCR_ES_ID=e.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(e)},i.ES_Descriptor.prototype.getOTI=function(e){var t=this.findDescriptor(4);return t?t.oti:0},i.ES_Descriptor.prototype.getAudioConfig=function(e){var t=this.findDescriptor(4);if(!t)return null;var i=t.findDescriptor(5);if(i&&i.data){var n=(248&i.data[0])>>3;return 31===n&&i.data.length>=2&&(n=32+((7&i.data[0])<<3)+((224&i.data[1])>>5)),n}return null},i.DecoderConfigDescriptor=function(e){i.Descriptor.call(this,4,e)},i.DecoderConfigDescriptor.prototype=new i.Descriptor,i.DecoderConfigDescriptor.prototype.parse=function(e){this.oti=e.readUint8(),this.streamType=e.readUint8(),this.bufferSize=e.readUint24(),this.maxBitrate=e.readUint32(),this.avgBitrate=e.readUint32(),this.size-=13,this.parseRemainingDescriptors(e)},i.DecoderSpecificInfo=function(e){i.Descriptor.call(this,5,e)},i.DecoderSpecificInfo.prototype=new i.Descriptor,i.SLConfigDescriptor=function(e){i.Descriptor.call(this,6,e)},i.SLConfigDescriptor.prototype=new i.Descriptor,this};void 0!==i&&(i.MPEG4DescriptorParser=c);var h={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:[\"mdat\",\"idat\",\"free\",\"skip\",\"meco\",\"strk\"],FULL_BOXES:[\"hmhd\",\"nmhd\",\"iods\",\"xml \",\"bxml\",\"ipro\",\"mere\"],CONTAINER_BOXES:[[\"moov\",[\"trak\",\"pssh\"]],[\"trak\"],[\"edts\"],[\"mdia\"],[\"minf\"],[\"dinf\"],[\"stbl\",[\"sgpd\",\"sbgp\"]],[\"mvex\",[\"trex\"]],[\"moof\",[\"traf\"]],[\"traf\",[\"trun\",\"sgpd\",\"sbgp\"]],[\"vttc\"],[\"tref\"],[\"iref\"],[\"mfra\",[\"tfra\"]],[\"meco\"],[\"hnti\"],[\"hinf\"],[\"strk\"],[\"strd\"],[\"sinf\"],[\"rinf\"],[\"schi\"],[\"trgr\"],[\"udta\",[\"kind\"]],[\"iprp\",[\"ipma\"]],[\"ipco\"]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){h.FullBox.prototype=new h.Box,h.ContainerBox.prototype=new h.Box,h.SampleEntry.prototype=new h.Box,h.TrackGroupTypeBox.prototype=new h.FullBox,h.BASIC_BOXES.forEach(function(e){h.createBoxCtor(e)}),h.FULL_BOXES.forEach(function(e){h.createFullBoxCtor(e)}),h.CONTAINER_BOXES.forEach(function(e){h.createContainerBoxCtor(e[0],null,e[1])})},Box:function(e,t,i){this.type=e,this.size=t,this.uuid=i},FullBox:function(e,t,i){h.Box.call(this,e,t,i),this.flags=0,this.version=0},ContainerBox:function(e,t,i){h.Box.call(this,e,t,i),this.boxes=[]},SampleEntry:function(e,t,i,n){h.ContainerBox.call(this,e,t),this.hdr_size=i,this.start=n},SampleGroupEntry:function(e){this.grouping_type=e},TrackGroupTypeBox:function(e,t){h.FullBox.call(this,e,t)},createBoxCtor:function(e,t){h.boxCodes.push(e),h[e+\"Box\"]=function(t){h.Box.call(this,e,t)},h[e+\"Box\"].prototype=new h.Box,t&&(h[e+\"Box\"].prototype.parse=t)},createFullBoxCtor:function(e,t){h[e+\"Box\"]=function(t){h.FullBox.call(this,e,t)},h[e+\"Box\"].prototype=new h.FullBox,h[e+\"Box\"].prototype.parse=function(e){this.parseFullHeader(e),t&&t.call(this,e)}},addSubBoxArrays:function(e){if(e){this.subBoxNames=e;for(var t=e.length,i=0;i<t;i++)this[e[i]+\"s\"]=[]}},createContainerBoxCtor:function(e,t,i){h[e+\"Box\"]=function(t){h.ContainerBox.call(this,e,t),h.addSubBoxArrays.call(this,i)},h[e+\"Box\"].prototype=new h.ContainerBox,t&&(h[e+\"Box\"].prototype.parse=t)},createMediaSampleEntryCtor:function(e,t,i){h.sampleEntryCodes[e]=[],h[e+\"SampleEntry\"]=function(e,t){h.SampleEntry.call(this,e,t),h.addSubBoxArrays.call(this,i)},h[e+\"SampleEntry\"].prototype=new h.SampleEntry,t&&(h[e+\"SampleEntry\"].prototype.parse=t)},createSampleEntryCtor:function(e,t,i,n){h.sampleEntryCodes[e].push(t),h[t+\"SampleEntry\"]=function(i){h[e+\"SampleEntry\"].call(this,t,i),h.addSubBoxArrays.call(this,n)},h[t+\"SampleEntry\"].prototype=new h[e+\"SampleEntry\"],i&&(h[t+\"SampleEntry\"].prototype.parse=i)},createEncryptedSampleEntryCtor:function(e,t,i){h.createSampleEntryCtor.call(this,e,t,i,[\"sinf\"])},createSampleGroupCtor:function(e,t){h[e+\"SampleGroupEntry\"]=function(t){h.SampleGroupEntry.call(this,e,t)},h[e+\"SampleGroupEntry\"].prototype=new h.SampleGroupEntry,t&&(h[e+\"SampleGroupEntry\"].prototype.parse=t)},createTrackGroupCtor:function(e,t){h[e+\"TrackGroupTypeBox\"]=function(t){h.TrackGroupTypeBox.call(this,e,t)},h[e+\"TrackGroupTypeBox\"].prototype=new h.TrackGroupTypeBox,t&&(h[e+\"TrackGroupTypeBox\"].prototype.parse=t)},createUUIDBox:function(e,t,i,n){h.UUIDs.push(e),h.UUIDBoxes[e]=function(n){t?h.FullBox.call(this,\"uuid\",n,e):i?h.ContainerBox.call(this,\"uuid\",n,e):h.Box.call(this,\"uuid\",n,e)},h.UUIDBoxes[e].prototype=t?new h.FullBox:i?new h.ContainerBox:new h.Box,n&&(h.UUIDBoxes[e].prototype.parse=t?function(e){this.parseFullHeader(e),n&&n.call(this,e)}:n)}};h.initialize(),h.TKHD_FLAG_ENABLED=1,h.TKHD_FLAG_IN_MOVIE=2,h.TKHD_FLAG_IN_PREVIEW=4,h.TFHD_FLAG_BASE_DATA_OFFSET=1,h.TFHD_FLAG_SAMPLE_DESC=2,h.TFHD_FLAG_SAMPLE_DUR=8,h.TFHD_FLAG_SAMPLE_SIZE=16,h.TFHD_FLAG_SAMPLE_FLAGS=32,h.TFHD_FLAG_DUR_EMPTY=65536,h.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,h.TRUN_FLAGS_DATA_OFFSET=1,h.TRUN_FLAGS_FIRST_FLAG=4,h.TRUN_FLAGS_DURATION=256,h.TRUN_FLAGS_SIZE=512,h.TRUN_FLAGS_FLAGS=1024,h.TRUN_FLAGS_CTS_OFFSET=2048,h.Box.prototype.add=function(e){return this.addBox(new h[e+\"Box\"])},h.Box.prototype.addBox=function(e){return this.boxes.push(e),this[e.type+\"s\"]?this[e.type+\"s\"].push(e):this[e.type]=e,e},h.Box.prototype.set=function(e,t){return this[e]=t,this},h.Box.prototype.addEntry=function(e,t){var i=t||\"entries\";return this[i]||(this[i]=[]),this[i].push(e),this},void 0!==i&&(i.BoxParser=h),h.parseUUID=function(e){return h.parseHex16(e)},h.parseHex16=function(e){for(var t=\"\",i=0;i<16;i++){var n=e.readUint8().toString(16);t+=1===n.length?\"0\"+n:n}return t},h.parseOneBox=function(e,t,i){var n,r,s,o=e.getPosition(),l=0;if(e.getEndPosition()-o<8)return a.debug(\"BoxParser\",\"Not enough data in stream to parse the type and size of the box\"),{code:h.ERR_NOT_ENOUGH_DATA};if(i&&i<8)return a.debug(\"BoxParser\",\"Not enough bytes left in the parent box to parse a new box\"),{code:h.ERR_NOT_ENOUGH_DATA};var u=e.readUint32(),d=e.readString(4),c=d;if(a.debug(\"BoxParser\",\"Found box of type '\"+d+\"' and size \"+u+\" at position \"+o),l=8,\"uuid\"==d){if(e.getEndPosition()-e.getPosition()<16||i-l<16)return e.seek(o),a.debug(\"BoxParser\",\"Not enough bytes left in the parent box to parse a UUID box\"),{code:h.ERR_NOT_ENOUGH_DATA};l+=16,c=s=h.parseUUID(e)}if(1==u){if(e.getEndPosition()-e.getPosition()<8||i&&i-l<8)return e.seek(o),a.warn(\"BoxParser\",'Not enough data in stream to parse the extended size of the \"'+d+'\" box'),{code:h.ERR_NOT_ENOUGH_DATA};u=e.readUint64(),l+=8}else if(0===u)if(i)u=i;else if(\"mdat\"!==d)return a.error(\"BoxParser\",\"Unlimited box size not supported for type: '\"+d+\"'\"),n=new h.Box(d,u),{code:h.OK,box:n,size:n.size};return u<l?(a.error(\"BoxParser\",\"Box of type \"+d+\" has an invalid size \"+u+\" (too small to be a box)\"),{code:h.ERR_NOT_ENOUGH_DATA,type:d,size:u,hdr_size:l,start:o}):i&&u>i?(a.error(\"BoxParser\",\"Box of type '\"+d+\"' has a size \"+u+\" greater than its container size \"+i),{code:h.ERR_NOT_ENOUGH_DATA,type:d,size:u,hdr_size:l,start:o}):o+u>e.getEndPosition()?(e.seek(o),a.info(\"BoxParser\",\"Not enough data in stream to parse the entire '\"+d+\"' box\"),{code:h.ERR_NOT_ENOUGH_DATA,type:d,size:u,hdr_size:l,start:o}):t?{code:h.OK,type:d,size:u,hdr_size:l,start:o}:(h[d+\"Box\"]?n=new h[d+\"Box\"](u):\"uuid\"!==d?(a.warn(\"BoxParser\",\"Unknown box type: '\"+d+\"'\"),(n=new h.Box(d,u)).has_unparsed_data=!0):h.UUIDBoxes[s]?n=new h.UUIDBoxes[s](u):(a.warn(\"BoxParser\",\"Unknown uuid type: '\"+s+\"'\"),(n=new h.Box(d,u)).uuid=s,n.has_unparsed_data=!0),n.hdr_size=l,n.start=o,n.write===h.Box.prototype.write&&\"mdat\"!==n.type&&(a.info(\"BoxParser\",\"'\"+c+\"' box writing not yet implemented, keeping unparsed data in memory for later write\"),n.parseDataAndRewind(e)),n.parse(e),(r=e.getPosition()-(n.start+n.size))<0?(a.warn(\"BoxParser\",\"Parsing of box '\"+c+\"' did not read the entire indicated box data size (missing \"+-r+\" bytes), seeking forward\"),e.seek(n.start+n.size)):r>0&&(a.error(\"BoxParser\",\"Parsing of box '\"+c+\"' read \"+r+\" more bytes than the indicated box data size, seeking backwards\"),e.seek(n.start+n.size)),{code:h.OK,box:n,size:n.size})},h.Box.prototype.parse=function(e){\"mdat\"!=this.type?this.data=e.readUint8Array(this.size-this.hdr_size):0===this.size?e.seek(e.getEndPosition()):e.seek(this.start+this.size)},h.Box.prototype.parseDataAndRewind=function(e){this.data=e.readUint8Array(this.size-this.hdr_size),e.position-=this.size-this.hdr_size},h.FullBox.prototype.parseDataAndRewind=function(e){this.parseFullHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,e.position-=this.size-this.hdr_size},h.FullBox.prototype.parseFullHeader=function(e){this.version=e.readUint8(),this.flags=e.readUint24(),this.hdr_size+=4},h.FullBox.prototype.parse=function(e){this.parseFullHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size)},h.ContainerBox.prototype.parse=function(e){for(var t,i;e.getPosition()<this.start+this.size;){if((t=h.parseOneBox(e,!1,this.size-(e.getPosition()-this.start))).code!==h.OK)return;if(i=t.box,this.boxes.push(i),this.subBoxNames&&-1!=this.subBoxNames.indexOf(i.type))this[this.subBoxNames[this.subBoxNames.indexOf(i.type)]+\"s\"].push(i);else{var n=\"uuid\"!==i.type?i.type:i.uuid;this[n]?a.warn(\"Box of type \"+n+\" already stored in field of this type\"):this[n]=i}}},h.Box.prototype.parseLanguage=function(e){this.language=e.readUint16();var t=[];t[0]=this.language>>10&31,t[1]=this.language>>5&31,t[2]=31&this.language,this.languageString=String.fromCharCode(t[0]+96,t[1]+96,t[2]+96)},h.SAMPLE_ENTRY_TYPE_VISUAL=\"Visual\",h.SAMPLE_ENTRY_TYPE_AUDIO=\"Audio\",h.SAMPLE_ENTRY_TYPE_HINT=\"Hint\",h.SAMPLE_ENTRY_TYPE_METADATA=\"Metadata\",h.SAMPLE_ENTRY_TYPE_SUBTITLE=\"Subtitle\",h.SAMPLE_ENTRY_TYPE_SYSTEM=\"System\",h.SAMPLE_ENTRY_TYPE_TEXT=\"Text\",h.SampleEntry.prototype.parseHeader=function(e){e.readUint8Array(6),this.data_reference_index=e.readUint16(),this.hdr_size+=8},h.SampleEntry.prototype.parse=function(e){this.parseHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size)},h.SampleEntry.prototype.parseDataAndRewind=function(e){this.parseHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,e.position-=this.size-this.hdr_size},h.SampleEntry.prototype.parseFooter=function(e){h.ContainerBox.prototype.parse.call(this,e)},h.createMediaSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_HINT),h.createMediaSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_METADATA),h.createMediaSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_SUBTITLE),h.createMediaSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_SYSTEM),h.createMediaSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_TEXT),h.createMediaSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_VISUAL,function(e){var t;this.parseHeader(e),e.readUint16(),e.readUint16(),e.readUint32Array(3),this.width=e.readUint16(),this.height=e.readUint16(),this.horizresolution=e.readUint32(),this.vertresolution=e.readUint32(),e.readUint32(),this.frame_count=e.readUint16(),t=Math.min(31,e.readUint8()),this.compressorname=e.readString(t),t<31&&e.readString(31-t),this.depth=e.readUint16(),e.readUint16(),this.parseFooter(e)}),h.createMediaSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_AUDIO,function(e){this.parseHeader(e),e.readUint32Array(2),this.channel_count=e.readUint16(),this.samplesize=e.readUint16(),e.readUint16(),e.readUint16(),this.samplerate=e.readUint32()/65536,this.parseFooter(e)}),h.createSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_VISUAL,\"avc1\"),h.createSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_VISUAL,\"avc2\"),h.createSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_VISUAL,\"avc3\"),h.createSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_VISUAL,\"avc4\"),h.createSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_VISUAL,\"av01\"),h.createSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_VISUAL,\"hvc1\"),h.createSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_VISUAL,\"hev1\"),h.createSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_AUDIO,\"mp4a\"),h.createSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_AUDIO,\"ac-3\"),h.createSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_AUDIO,\"ec-3\"),h.createEncryptedSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_VISUAL,\"encv\"),h.createEncryptedSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_AUDIO,\"enca\"),h.createEncryptedSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_SUBTITLE,\"encu\"),h.createEncryptedSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_SYSTEM,\"encs\"),h.createEncryptedSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_TEXT,\"enct\"),h.createEncryptedSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_METADATA,\"encm\"),h.createBoxCtor(\"av1C\",function(e){var t=e.readUint8();if(t>>7&!1)a.error(\"av1C marker problem\");else if(this.version=127&t,1===this.version)if(t=e.readUint8(),this.seq_profile=t>>5&7,this.seq_level_idx_0=31&t,t=e.readUint8(),this.seq_tier_0=t>>7&1,this.high_bitdepth=t>>6&1,this.twelve_bit=t>>5&1,this.monochrome=t>>4&1,this.chroma_subsampling_x=t>>3&1,this.chroma_subsampling_y=t>>2&1,this.chroma_sample_position=3&t,t=e.readUint8(),this.reserved_1=t>>5&7,0===this.reserved_1){if(this.initial_presentation_delay_present=t>>4&1,1===this.initial_presentation_delay_present)this.initial_presentation_delay_minus_one=15&t;else if(this.reserved_2=15&t,0!==this.reserved_2)return void a.error(\"av1C reserved_2 parsing problem\");var i=this.size-this.hdr_size-4;this.configOBUs=e.readUint8Array(i)}else a.error(\"av1C reserved_1 parsing problem\");else a.error(\"av1C version \"+this.version+\" not supported\")}),h.createBoxCtor(\"avcC\",function(e){var t,i;for(this.configurationVersion=e.readUint8(),this.AVCProfileIndication=e.readUint8(),this.profile_compatibility=e.readUint8(),this.AVCLevelIndication=e.readUint8(),this.lengthSizeMinusOne=3&e.readUint8(),this.nb_SPS_nalus=31&e.readUint8(),i=this.size-this.hdr_size-6,this.SPS=[],t=0;t<this.nb_SPS_nalus;t++)this.SPS[t]={},this.SPS[t].length=e.readUint16(),this.SPS[t].nalu=e.readUint8Array(this.SPS[t].length),i-=2+this.SPS[t].length;for(this.nb_PPS_nalus=e.readUint8(),i--,this.PPS=[],t=0;t<this.nb_PPS_nalus;t++)this.PPS[t]={},this.PPS[t].length=e.readUint16(),this.PPS[t].nalu=e.readUint8Array(this.PPS[t].length),i-=2+this.PPS[t].length;i>0&&(this.ext=e.readUint8Array(i))}),h.createBoxCtor(\"btrt\",function(e){this.bufferSizeDB=e.readUint32(),this.maxBitrate=e.readUint32(),this.avgBitrate=e.readUint32()}),h.createBoxCtor(\"clap\",function(e){this.cleanApertureWidthN=e.readUint32(),this.cleanApertureWidthD=e.readUint32(),this.cleanApertureHeightN=e.readUint32(),this.cleanApertureHeightD=e.readUint32(),this.horizOffN=e.readUint32(),this.horizOffD=e.readUint32(),this.vertOffN=e.readUint32(),this.vertOffD=e.readUint32()}),h.createBoxCtor(\"clli\",function(e){this.max_content_light_level=e.readUint16(),this.max_pic_average_light_level=e.readUint16()}),h.createFullBoxCtor(\"co64\",function(e){var t,i;if(t=e.readUint32(),this.chunk_offsets=[],0===this.version)for(i=0;i<t;i++)this.chunk_offsets.push(e.readUint64())}),h.createFullBoxCtor(\"CoLL\",function(e){this.maxCLL=e.readUint16(),this.maxFALL=e.readUint16()}),h.createBoxCtor(\"colr\",function(e){if(this.colour_type=e.readString(4),\"nclx\"===this.colour_type){this.colour_primaries=e.readUint16(),this.transfer_characteristics=e.readUint16(),this.matrix_coefficients=e.readUint16();var t=e.readUint8();this.full_range_flag=t>>7}else(\"rICC\"===this.colour_type||\"prof\"===this.colour_type)&&(this.ICC_profile=e.readUint8Array(this.size-4))}),h.createFullBoxCtor(\"cprt\",function(e){this.parseLanguage(e),this.notice=e.readCString()}),h.createFullBoxCtor(\"cslg\",function(e){0===this.version&&(this.compositionToDTSShift=e.readInt32(),this.leastDecodeToDisplayDelta=e.readInt32(),this.greatestDecodeToDisplayDelta=e.readInt32(),this.compositionStartTime=e.readInt32(),this.compositionEndTime=e.readInt32())}),h.createFullBoxCtor(\"ctts\",function(e){var t,i;if(t=e.readUint32(),this.sample_counts=[],this.sample_offsets=[],0===this.version)for(i=0;i<t;i++){this.sample_counts.push(e.readUint32());var n=e.readInt32();n<0&&a.warn(\"BoxParser\",\"ctts box uses negative values without using version 1\"),this.sample_offsets.push(n)}else if(1==this.version)for(i=0;i<t;i++)this.sample_counts.push(e.readUint32()),this.sample_offsets.push(e.readInt32())}),h.createBoxCtor(\"dac3\",function(e){var t=e.readUint8(),i=e.readUint8(),n=e.readUint8();this.fscod=t>>6,this.bsid=t>>1&31,this.bsmod=(1&t)<<2|i>>6&3,this.acmod=i>>3&7,this.lfeon=i>>2&1,this.bit_rate_code=3&i|n>>5&7}),h.createBoxCtor(\"dec3\",function(e){var t=e.readUint16();this.data_rate=t>>3,this.num_ind_sub=7&t,this.ind_subs=[];for(var i=0;i<this.num_ind_sub+1;i++){var n={};this.ind_subs.push(n);var r=e.readUint8(),a=e.readUint8(),s=e.readUint8();n.fscod=r>>6,n.bsid=r>>1&31,n.bsmod=(1&r)<<4|a>>4&15,n.acmod=a>>1&7,n.lfeon=1&a,n.num_dep_sub=s>>1&15,n.num_dep_sub>0&&(n.chan_loc=(1&s)<<8|e.readUint8())}}),h.createFullBoxCtor(\"dfLa\",function(e){var t=[],i=[\"STREAMINFO\",\"PADDING\",\"APPLICATION\",\"SEEKTABLE\",\"VORBIS_COMMENT\",\"CUESHEET\",\"PICTURE\",\"RESERVED\"];for(this.parseFullHeader(e);;){var n=e.readUint8(),r=Math.min(127&n,i.length-1);if(r?e.readUint8Array(e.readUint24()):(e.readUint8Array(13),this.samplerate=e.readUint32()>>12,e.readUint8Array(20)),t.push(i[r]),128&n)break}this.numMetadataBlocks=t.length+\" (\"+t.join(\", \")+\")\"}),h.createBoxCtor(\"dimm\",function(e){this.bytessent=e.readUint64()}),h.createBoxCtor(\"dmax\",function(e){this.time=e.readUint32()}),h.createBoxCtor(\"dmed\",function(e){this.bytessent=e.readUint64()}),h.createFullBoxCtor(\"dref\",function(e){var t,i;this.entries=[];for(var n=e.readUint32(),r=0;r<n;r++){if((t=h.parseOneBox(e,!1,this.size-(e.getPosition()-this.start))).code!==h.OK)return;i=t.box,this.entries.push(i)}}),h.createBoxCtor(\"drep\",function(e){this.bytessent=e.readUint64()}),h.createFullBoxCtor(\"elng\",function(e){this.extended_language=e.readString(this.size-this.hdr_size)}),h.createFullBoxCtor(\"elst\",function(e){this.entries=[];for(var t=e.readUint32(),i=0;i<t;i++){var n={};this.entries.push(n),1===this.version?(n.segment_duration=e.readUint64(),n.media_time=e.readInt64()):(n.segment_duration=e.readUint32(),n.media_time=e.readInt32()),n.media_rate_integer=e.readInt16(),n.media_rate_fraction=e.readInt16()}}),h.createFullBoxCtor(\"emsg\",function(e){1==this.version?(this.timescale=e.readUint32(),this.presentation_time=e.readUint64(),this.event_duration=e.readUint32(),this.id=e.readUint32(),this.scheme_id_uri=e.readCString(),this.value=e.readCString()):(this.scheme_id_uri=e.readCString(),this.value=e.readCString(),this.timescale=e.readUint32(),this.presentation_time_delta=e.readUint32(),this.event_duration=e.readUint32(),this.id=e.readUint32());var t=this.size-this.hdr_size-(16+(this.scheme_id_uri.length+1)+(this.value.length+1));1==this.version&&(t-=4),this.message_data=e.readUint8Array(t)}),h.createFullBoxCtor(\"esds\",function(e){var t=e.readUint8Array(this.size-this.hdr_size);if(void 0!==c){var i=new c;this.esd=i.parseOneDescriptor(new l(t.buffer,0,l.BIG_ENDIAN))}}),h.createBoxCtor(\"fiel\",function(e){this.fieldCount=e.readUint8(),this.fieldOrdering=e.readUint8()}),h.createBoxCtor(\"frma\",function(e){this.data_format=e.readString(4)}),h.createBoxCtor(\"ftyp\",function(e){var t=this.size-this.hdr_size;this.major_brand=e.readString(4),this.minor_version=e.readUint32(),t-=8,this.compatible_brands=[];for(var i=0;t>=4;)this.compatible_brands[i]=e.readString(4),t-=4,i++}),h.createFullBoxCtor(\"hdlr\",function(e){0===this.version&&(e.readUint32(),this.handler=e.readString(4),e.readUint32Array(3),this.name=e.readString(this.size-this.hdr_size-20),\"\\0\"===this.name[this.name.length-1]&&(this.name=this.name.slice(0,-1)))}),h.createBoxCtor(\"hvcC\",function(e){var t,i,n,r;this.configurationVersion=e.readUint8(),\nr=e.readUint8(),this.general_profile_space=r>>6,this.general_tier_flag=(32&r)>>5,this.general_profile_idc=31&r,this.general_profile_compatibility=e.readUint32(),this.general_constraint_indicator=e.readUint8Array(6),this.general_level_idc=e.readUint8(),this.min_spatial_segmentation_idc=4095&e.readUint16(),this.parallelismType=3&e.readUint8(),this.chroma_format_idc=3&e.readUint8(),this.bit_depth_luma_minus8=7&e.readUint8(),this.bit_depth_chroma_minus8=7&e.readUint8(),this.avgFrameRate=e.readUint16(),r=e.readUint8(),this.constantFrameRate=r>>6,this.numTemporalLayers=(13&r)>>3,this.temporalIdNested=(4&r)>>2,this.lengthSizeMinusOne=3&r,this.nalu_arrays=[];var a=e.readUint8();for(t=0;t<a;t++){var s=[];this.nalu_arrays.push(s),r=e.readUint8(),s.completeness=(128&r)>>7,s.nalu_type=63&r;var o=e.readUint16();for(i=0;i<o;i++){var l={};s.push(l),n=e.readUint16(),l.data=e.readUint8Array(n)}}}),h.createFullBoxCtor(\"iinf\",function(e){var t;0===this.version?this.entry_count=e.readUint16():this.entry_count=e.readUint32(),this.item_infos=[];for(var i=0;i<this.entry_count;i++){if((t=h.parseOneBox(e,!1,this.size-(e.getPosition()-this.start))).code!==h.OK)return;\"infe\"!==t.box.type&&a.error(\"BoxParser\",\"Expected 'infe' box, got \"+t.box.type),this.item_infos[i]=t.box}}),h.createFullBoxCtor(\"iloc\",function(e){var t;t=e.readUint8(),this.offset_size=t>>4&15,this.length_size=15&t,t=e.readUint8(),this.base_offset_size=t>>4&15,1===this.version||2===this.version?this.index_size=15&t:this.index_size=0,this.items=[];var i=0;if(this.version<2)i=e.readUint16();else{if(2!==this.version)throw\"version of iloc box not supported\";i=e.readUint32()}for(var n=0;n<i;n++){var r={};if(this.items.push(r),this.version<2)r.item_ID=e.readUint16();else{if(2!==this.version)throw\"version of iloc box not supported\";r.item_ID=e.readUint16()}switch(1===this.version||2===this.version?r.construction_method=15&e.readUint16():r.construction_method=0,r.data_reference_index=e.readUint16(),this.base_offset_size){case 0:r.base_offset=0;break;case 4:r.base_offset=e.readUint32();break;case 8:r.base_offset=e.readUint64();break;default:throw\"Error reading base offset size\"}var a=e.readUint16();r.extents=[];for(var s=0;s<a;s++){var o={};if(r.extents.push(o),1===this.version||2===this.version)switch(this.index_size){case 0:o.extent_index=0;break;case 4:o.extent_index=e.readUint32();break;case 8:o.extent_index=e.readUint64();break;default:throw\"Error reading extent index\"}switch(this.offset_size){case 0:o.extent_offset=0;break;case 4:o.extent_offset=e.readUint32();break;case 8:o.extent_offset=e.readUint64();break;default:throw\"Error reading extent index\"}switch(this.length_size){case 0:o.extent_length=0;break;case 4:o.extent_length=e.readUint32();break;case 8:o.extent_length=e.readUint64();break;default:throw\"Error reading extent index\"}}}}),h.createFullBoxCtor(\"infe\",function(e){return 0!==this.version&&1!==this.version||(this.item_ID=e.readUint16(),this.item_protection_index=e.readUint16(),this.item_name=e.readCString(),this.content_type=e.readCString(),this.content_encoding=e.readCString()),1===this.version?(this.extension_type=e.readString(4),a.warn(\"BoxParser\",\"Cannot parse extension type\"),void e.seek(this.start+this.size)):void(this.version>=2&&(2===this.version?this.item_ID=e.readUint16():3===this.version&&(this.item_ID=e.readUint32()),this.item_protection_index=e.readUint16(),this.item_type=e.readString(4),this.item_name=e.readCString(),\"mime\"===this.item_type?(this.content_type=e.readCString(),this.content_encoding=e.readCString()):\"uri \"===this.item_type&&(this.item_uri_type=e.readCString())))}),h.createFullBoxCtor(\"ipma\",function(e){var t,i;for(entry_count=e.readUint32(),this.associations=[],t=0;t<entry_count;t++){var n={};this.associations.push(n),this.version<1?n.id=e.readUint16():n.id=e.readUint32();var r=e.readUint8();for(n.props=[],i=0;i<r;i++){var a=e.readUint8(),s={};n.props.push(s),s.essential=(128&a)>>7==1,1&this.flags?s.property_index=(127&a)<<8|e.readUint8():s.property_index=127&a}}}),h.createFullBoxCtor(\"iref\",function(e){var t,i;for(this.references=[];e.getPosition()<this.start+this.size;){if((t=h.parseOneBox(e,!0,this.size-(e.getPosition()-this.start))).code!==h.OK)return;(i=0===this.version?new h.SingleItemTypeReferenceBox(t.type,t.size,t.hdr_size,t.start):new h.SingleItemTypeReferenceBoxLarge(t.type,t.size,t.hdr_size,t.start)).write===h.Box.prototype.write&&\"mdat\"!==i.type&&(a.warn(\"BoxParser\",i.type+\" box writing not yet implemented, keeping unparsed data in memory for later write\"),i.parseDataAndRewind(e)),i.parse(e),this.references.push(i)}}),h.createBoxCtor(\"irot\",function(e){this.angle=3&e.readUint8()}),h.createFullBoxCtor(\"ispe\",function(e){this.image_width=e.readUint32(),this.image_height=e.readUint32()}),h.createFullBoxCtor(\"kind\",function(e){this.schemeURI=e.readCString(),this.value=e.readCString()}),h.createFullBoxCtor(\"leva\",function(e){var t=e.readUint8();this.levels=[];for(var i=0;i<t;i++){var n={};this.levels[i]=n,n.track_ID=e.readUint32();var r=e.readUint8();switch(n.padding_flag=r>>7,n.assignment_type=127&r,n.assignment_type){case 0:n.grouping_type=e.readString(4);break;case 1:n.grouping_type=e.readString(4),n.grouping_type_parameter=e.readUint32();break;case 2:case 3:break;case 4:n.sub_track_id=e.readUint32();break;default:a.warn(\"BoxParser\",\"Unknown leva assignement type\")}}}),h.createBoxCtor(\"maxr\",function(e){this.period=e.readUint32(),this.bytes=e.readUint32()}),h.createBoxCtor(\"mdcv\",function(e){this.display_primaries=[],this.display_primaries[0]={},this.display_primaries[0].x=e.readUint16(),this.display_primaries[0].y=e.readUint16(),this.display_primaries[1]={},this.display_primaries[1].x=e.readUint16(),this.display_primaries[1].y=e.readUint16(),this.display_primaries[2]={},this.display_primaries[2].x=e.readUint16(),this.display_primaries[2].y=e.readUint16(),this.white_point={},this.white_point.x=e.readUint16(),this.white_point.y=e.readUint16(),this.max_display_mastering_luminance=e.readUint32(),this.min_display_mastering_luminance=e.readUint32()}),h.createFullBoxCtor(\"mdhd\",function(e){1==this.version?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.timescale=e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.timescale=e.readUint32(),this.duration=e.readUint32()),this.parseLanguage(e),e.readUint16()}),h.createFullBoxCtor(\"mehd\",function(e){1&this.flags&&(a.warn(\"BoxParser\",\"mehd box incorrectly uses flags set to 1, converting version to 1\"),this.version=1),1==this.version?this.fragment_duration=e.readUint64():this.fragment_duration=e.readUint32()}),h.createFullBoxCtor(\"meta\",function(e){this.boxes=[],h.ContainerBox.prototype.parse.call(this,e)}),h.createFullBoxCtor(\"mfhd\",function(e){this.sequence_number=e.readUint32()}),h.createFullBoxCtor(\"mfro\",function(e){this._size=e.readUint32()}),h.createFullBoxCtor(\"mvhd\",function(e){1==this.version?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.timescale=e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.timescale=e.readUint32(),this.duration=e.readUint32()),this.rate=e.readUint32(),this.volume=e.readUint16()>>8,e.readUint16(),e.readUint32Array(2),this.matrix=e.readUint32Array(9),e.readUint32Array(6),this.next_track_id=e.readUint32()}),h.createBoxCtor(\"npck\",function(e){this.packetssent=e.readUint32()}),h.createBoxCtor(\"nump\",function(e){this.packetssent=e.readUint64()}),h.createFullBoxCtor(\"padb\",function(e){var t=e.readUint32();this.padbits=[];for(var i=0;i<Math.floor((t+1)/2);i++)this.padbits=e.readUint8()}),h.createBoxCtor(\"pasp\",function(e){this.hSpacing=e.readUint32(),this.vSpacing=e.readUint32()}),h.createBoxCtor(\"payl\",function(e){this.text=e.readString(this.size-this.hdr_size)}),h.createBoxCtor(\"payt\",function(e){this.payloadID=e.readUint32();var t=e.readUint8();this.rtpmap_string=e.readString(t)}),h.createFullBoxCtor(\"pdin\",function(e){var t=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var i=0;i<t;i++)this.rate[i]=e.readUint32(),this.initial_delay[i]=e.readUint32()}),h.createFullBoxCtor(\"pitm\",function(e){0===this.version?this.item_id=e.readUint16():this.item_id=e.readUint32()}),h.createFullBoxCtor(\"pixi\",function(e){var t;for(this.num_channels=e.readUint8(),this.bits_per_channels=[],t=0;t<this.num_channels;t++)this.bits_per_channels[t]=e.readUint8()}),h.createBoxCtor(\"pmax\",function(e){this.bytes=e.readUint32()}),h.createFullBoxCtor(\"prft\",function(e){this.ref_track_id=e.readUint32(),this.ntp_timestamp=e.readUint64(),0===this.version?this.media_time=e.readUint32():this.media_time=e.readUint64()}),h.createFullBoxCtor(\"pssh\",function(e){if(this.system_id=h.parseHex16(e),this.version>0){var t=e.readUint32();this.kid=[];for(var i=0;i<t;i++)this.kid[i]=h.parseHex16(e)}var n=e.readUint32();n>0&&(this.data=e.readUint8Array(n))}),h.createFullBoxCtor(\"clef\",function(e){this.width=e.readUint32(),this.height=e.readUint32()}),h.createFullBoxCtor(\"enof\",function(e){this.width=e.readUint32(),this.height=e.readUint32()}),h.createFullBoxCtor(\"prof\",function(e){this.width=e.readUint32(),this.height=e.readUint32()}),h.createContainerBoxCtor(\"tapt\",null,[\"clef\",\"prof\",\"enof\"]),h.createBoxCtor(\"rtp \",function(e){this.descriptionformat=e.readString(4),this.sdptext=e.readString(this.size-this.hdr_size-4)}),h.createFullBoxCtor(\"saio\",function(e){1&this.flags&&(this.aux_info_type=e.readUint32(),this.aux_info_type_parameter=e.readUint32());var t=e.readUint32();this.offset=[];for(var i=0;i<t;i++)0===this.version?this.offset[i]=e.readUint32():this.offset[i]=e.readUint64()}),h.createFullBoxCtor(\"saiz\",function(e){1&this.flags&&(this.aux_info_type=e.readUint32(),this.aux_info_type_parameter=e.readUint32()),this.default_sample_info_size=e.readUint8();var t=e.readUint32();if(this.sample_info_size=[],0===this.default_sample_info_size)for(var i=0;i<t;i++)this.sample_info_size[i]=e.readUint8()}),h.createSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_METADATA,\"mett\",function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)}),h.createSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_METADATA,\"metx\",function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.namespace=e.readCString(),this.schema_location=e.readCString(),this.parseFooter(e)}),h.createSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_SUBTITLE,\"sbtt\",function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)}),h.createSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_SUBTITLE,\"stpp\",function(e){this.parseHeader(e),this.namespace=e.readCString(),this.schema_location=e.readCString(),this.auxiliary_mime_types=e.readCString(),this.parseFooter(e)}),h.createSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_SUBTITLE,\"stxt\",function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)}),h.createSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_SUBTITLE,\"tx3g\",function(e){this.parseHeader(e),this.displayFlags=e.readUint32(),this.horizontal_justification=e.readInt8(),this.vertical_justification=e.readInt8(),this.bg_color_rgba=e.readUint8Array(4),this.box_record=e.readInt16Array(4),this.style_record=e.readUint8Array(12),this.parseFooter(e)}),h.createSampleEntryCtor(h.SAMPLE_ENTRY_TYPE_METADATA,\"wvtt\",function(e){this.parseHeader(e),this.parseFooter(e)}),h.createSampleGroupCtor(\"alst\",function(e){var t,i=e.readUint16();for(this.first_output_sample=e.readUint16(),this.sample_offset=[],t=0;t<i;t++)this.sample_offset[t]=e.readUint32();var n=this.description_length-4-4*i;for(this.num_output_samples=[],this.num_total_samples=[],t=0;t<n/4;t++)this.num_output_samples[t]=e.readUint16(),this.num_total_samples[t]=e.readUint16()}),h.createSampleGroupCtor(\"avll\",function(e){this.layerNumber=e.readUint8(),this.accurateStatisticsFlag=e.readUint8(),this.avgBitRate=e.readUint16(),this.avgFrameRate=e.readUint16()}),h.createSampleGroupCtor(\"avss\",function(e){this.subSequenceIdentifier=e.readUint16(),this.layerNumber=e.readUint8();var t=e.readUint8();this.durationFlag=t>>7,this.avgRateFlag=t>>6&1,this.durationFlag&&(this.duration=e.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=e.readUint8(),this.avgBitRate=e.readUint16(),this.avgFrameRate=e.readUint16()),this.dependency=[];for(var i=e.readUint8(),n=0;n<i;n++){var r={};this.dependency.push(r),r.subSeqDirectionFlag=e.readUint8(),r.layerNumber=e.readUint8(),r.subSequenceIdentifier=e.readUint16()}}),h.createSampleGroupCtor(\"dtrt\",function(e){a.warn(\"BoxParser\",\"Sample Group type: \"+this.grouping_type+\" not fully parsed\")}),h.createSampleGroupCtor(\"mvif\",function(e){a.warn(\"BoxParser\",\"Sample Group type: \"+this.grouping_type+\" not fully parsed\")}),h.createSampleGroupCtor(\"prol\",function(e){this.roll_distance=e.readInt16()}),h.createSampleGroupCtor(\"rap \",function(e){var t=e.readUint8();this.num_leading_samples_known=t>>7,this.num_leading_samples=127&t}),h.createSampleGroupCtor(\"rash\",function(e){if(this.operation_point_count=e.readUint16(),this.description_length!==2+(1===this.operation_point_count?2:6*this.operation_point_count)+9)a.warn(\"BoxParser\",\"Mismatch in \"+this.grouping_type+\" sample group length\"),this.data=e.readUint8Array(this.description_length-2);else{if(1===this.operation_point_count)this.target_rate_share=e.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var t=0;t<this.operation_point_count;t++)this.available_bitrate[t]=e.readUint32(),this.target_rate_share[t]=e.readUint16()}this.maximum_bitrate=e.readUint32(),this.minimum_bitrate=e.readUint32(),this.discard_priority=e.readUint8()}}),h.createSampleGroupCtor(\"roll\",function(e){this.roll_distance=e.readInt16()}),h.SampleGroupEntry.prototype.parse=function(e){a.warn(\"BoxParser\",\"Unknown Sample Group type: \"+this.grouping_type),this.data=e.readUint8Array(this.description_length)},h.createSampleGroupCtor(\"scif\",function(e){a.warn(\"BoxParser\",\"Sample Group type: \"+this.grouping_type+\" not fully parsed\")}),h.createSampleGroupCtor(\"scnm\",function(e){a.warn(\"BoxParser\",\"Sample Group type: \"+this.grouping_type+\" not fully parsed\")}),h.createSampleGroupCtor(\"seig\",function(e){this.reserved=e.readUint8();var t=e.readUint8();this.crypt_byte_block=t>>4,this.skip_byte_block=15&t,this.isProtected=e.readUint8(),this.Per_Sample_IV_Size=e.readUint8(),this.KID=h.parseHex16(e),this.constant_IV_size=0,this.constant_IV=0,1===this.isProtected&&0===this.Per_Sample_IV_Size&&(this.constant_IV_size=e.readUint8(),this.constant_IV=e.readUint8Array(this.constant_IV_size))}),h.createSampleGroupCtor(\"stsa\",function(e){a.warn(\"BoxParser\",\"Sample Group type: \"+this.grouping_type+\" not fully parsed\")}),h.createSampleGroupCtor(\"sync\",function(e){var t=e.readUint8();this.NAL_unit_type=63&t}),h.createSampleGroupCtor(\"tele\",function(e){var t=e.readUint8();this.level_independently_decodable=t>>7}),h.createSampleGroupCtor(\"tsas\",function(e){a.warn(\"BoxParser\",\"Sample Group type: \"+this.grouping_type+\" not fully parsed\")}),h.createSampleGroupCtor(\"tscl\",function(e){a.warn(\"BoxParser\",\"Sample Group type: \"+this.grouping_type+\" not fully parsed\")}),h.createSampleGroupCtor(\"vipr\",function(e){a.warn(\"BoxParser\",\"Sample Group type: \"+this.grouping_type+\" not fully parsed\")}),h.createFullBoxCtor(\"sbgp\",function(e){this.grouping_type=e.readString(4),1===this.version?this.grouping_type_parameter=e.readUint32():this.grouping_type_parameter=0,this.entries=[];for(var t=e.readUint32(),i=0;i<t;i++){var n={};this.entries.push(n),n.sample_count=e.readInt32(),n.group_description_index=e.readInt32()}}),h.createFullBoxCtor(\"schm\",function(e){this.scheme_type=e.readString(4),this.scheme_version=e.readUint32(),1&this.flags&&(this.scheme_uri=e.readString(this.size-this.hdr_size-8))}),h.createBoxCtor(\"sdp \",function(e){this.sdptext=e.readString(this.size-this.hdr_size)}),h.createFullBoxCtor(\"sdtp\",function(e){var t,i=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var n=0;n<i;n++)t=e.readUint8(),this.is_leading[n]=t>>6,this.sample_depends_on[n]=t>>4&3,this.sample_is_depended_on[n]=t>>2&3,this.sample_has_redundancy[n]=3&t}),h.createFullBoxCtor(\"senc\"),h.createFullBoxCtor(\"sgpd\",function(e){this.grouping_type=e.readString(4),a.debug(\"BoxParser\",\"Found Sample Groups of type \"+this.grouping_type),1===this.version?this.default_length=e.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=e.readUint32()),this.entries=[];for(var t=e.readUint32(),i=0;i<t;i++){var n;n=h[this.grouping_type+\"SampleGroupEntry\"]?new h[this.grouping_type+\"SampleGroupEntry\"](this.grouping_type):new h.SampleGroupEntry(this.grouping_type),this.entries.push(n),1===this.version&&0===this.default_length?n.description_length=e.readUint32():n.description_length=this.default_length,n.write===h.SampleGroupEntry.prototype.write&&(a.info(\"BoxParser\",\"SampleGroup for type \"+this.grouping_type+\" writing not yet implemented, keeping unparsed data in memory for later write\"),n.data=e.readUint8Array(n.description_length),e.position-=n.description_length),n.parse(e)}}),h.createFullBoxCtor(\"sidx\",function(e){this.reference_ID=e.readUint32(),this.timescale=e.readUint32(),0===this.version?(this.earliest_presentation_time=e.readUint32(),this.first_offset=e.readUint32()):(this.earliest_presentation_time=e.readUint64(),this.first_offset=e.readUint64()),e.readUint16(),this.references=[];for(var t=e.readUint16(),i=0;i<t;i++){var n={};this.references.push(n);var r=e.readUint32();n.reference_type=r>>31&1,n.referenced_size=2147483647&r,n.subsegment_duration=e.readUint32(),r=e.readUint32(),n.starts_with_SAP=r>>31&1,n.SAP_type=r>>28&7,n.SAP_delta_time=268435455&r}}),h.SingleItemTypeReferenceBox=function(e,t,i,n){h.Box.call(this,e,t),this.hdr_size=i,this.start=n},h.SingleItemTypeReferenceBox.prototype=new h.Box,h.SingleItemTypeReferenceBox.prototype.parse=function(e){this.from_item_ID=e.readUint16();var t=e.readUint16();this.references=[];for(var i=0;i<t;i++)this.references[i]=e.readUint16()},h.SingleItemTypeReferenceBoxLarge=function(e,t,i,n){h.Box.call(this,e,t),this.hdr_size=i,this.start=n},h.SingleItemTypeReferenceBoxLarge.prototype=new h.Box,h.SingleItemTypeReferenceBoxLarge.prototype.parse=function(e){this.from_item_ID=e.readUint32();var t=e.readUint16();this.references=[];for(var i=0;i<t;i++)this.references[i]=e.readUint32()},h.createFullBoxCtor(\"SmDm\",function(e){this.primaryRChromaticity_x=e.readUint16(),this.primaryRChromaticity_y=e.readUint16(),this.primaryGChromaticity_x=e.readUint16(),this.primaryGChromaticity_y=e.readUint16(),this.primaryBChromaticity_x=e.readUint16(),this.primaryBChromaticity_y=e.readUint16(),this.whitePointChromaticity_x=e.readUint16(),this.whitePointChromaticity_y=e.readUint16(),this.luminanceMax=e.readUint32(),this.luminanceMin=e.readUint32()}),h.createFullBoxCtor(\"smhd\",function(e){this.balance=e.readUint16(),e.readUint16()}),h.createFullBoxCtor(\"ssix\",function(e){this.subsegments=[];for(var t=e.readUint32(),i=0;i<t;i++){var n={};this.subsegments.push(n),n.ranges=[];for(var r=e.readUint32(),a=0;a<r;a++){var s={};n.ranges.push(s),s.level=e.readUint8(),s.range_size=e.readUint24()}}}),h.createFullBoxCtor(\"stco\",function(e){var t;if(t=e.readUint32(),this.chunk_offsets=[],0===this.version)for(var i=0;i<t;i++)this.chunk_offsets.push(e.readUint32())}),h.createFullBoxCtor(\"stdp\",function(e){var t=(this.size-this.hdr_size)/2;this.priority=[];for(var i=0;i<t;i++)this.priority[i]=e.readUint16()}),h.createFullBoxCtor(\"sthd\"),h.createFullBoxCtor(\"stri\",function(e){this.switch_group=e.readUint16(),this.alternate_group=e.readUint16(),this.sub_track_id=e.readUint32();var t=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var i=0;i<t;i++)this.attribute_list[i]=e.readUint32()}),h.createFullBoxCtor(\"stsc\",function(e){var t,i;if(t=e.readUint32(),this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],0===this.version)for(i=0;i<t;i++)this.first_chunk.push(e.readUint32()),this.samples_per_chunk.push(e.readUint32()),this.sample_description_index.push(e.readUint32())}),h.createFullBoxCtor(\"stsd\",function(e){var t,i,n,r;for(this.entries=[],n=e.readUint32(),t=1;t<=n;t++){if((i=h.parseOneBox(e,!0,this.size-(e.getPosition()-this.start))).code!==h.OK)return;h[i.type+\"SampleEntry\"]?((r=new h[i.type+\"SampleEntry\"](i.size)).hdr_size=i.hdr_size,r.start=i.start):(a.warn(\"BoxParser\",\"Unknown sample entry type: \"+i.type),r=new h.SampleEntry(i.type,i.size,i.hdr_size,i.start)),r.write===h.SampleEntry.prototype.write&&(a.info(\"BoxParser\",\"SampleEntry \"+r.type+\" box writing not yet implemented, keeping unparsed data in memory for later write\"),r.parseDataAndRewind(e)),r.parse(e),this.entries.push(r)}}),h.createFullBoxCtor(\"stsg\",function(e){this.grouping_type=e.readUint32();var t=e.readUint16();this.group_description_index=[];for(var i=0;i<t;i++)this.group_description_index[i]=e.readUint32()}),h.createFullBoxCtor(\"stsh\",function(e){var t,i;if(t=e.readUint32(),this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],0===this.version)for(i=0;i<t;i++)this.shadowed_sample_numbers.push(e.readUint32()),this.sync_sample_numbers.push(e.readUint32())}),h.createFullBoxCtor(\"stss\",function(e){var t,i;if(i=e.readUint32(),0===this.version)for(this.sample_numbers=[],t=0;t<i;t++)this.sample_numbers.push(e.readUint32())}),h.createFullBoxCtor(\"stsz\",function(e){var t;if(this.sample_sizes=[],0===this.version)for(this.sample_size=e.readUint32(),this.sample_count=e.readUint32(),t=0;t<this.sample_count;t++)0===this.sample_size?this.sample_sizes.push(e.readUint32()):this.sample_sizes[t]=this.sample_size}),h.createFullBoxCtor(\"stts\",function(e){var t,i,n;if(t=e.readUint32(),this.sample_counts=[],this.sample_deltas=[],0===this.version)for(i=0;i<t;i++)this.sample_counts.push(e.readUint32()),(n=e.readInt32())<0&&(a.warn(\"BoxParser\",\"File uses negative stts sample delta, using value 1 instead, sync may be lost!\"),n=1),this.sample_deltas.push(n)}),h.createFullBoxCtor(\"stvi\",function(e){var t=e.readUint32();this.single_view_allowed=3&t,this.stereo_scheme=e.readUint32();var i,n,r=e.readUint32();for(this.stereo_indication_type=e.readString(r),this.boxes=[];e.getPosition()<this.start+this.size;){if((i=h.parseOneBox(e,!1,this.size-(e.getPosition()-this.start))).code!==h.OK)return;n=i.box,this.boxes.push(n),this[n.type]=n}}),h.createBoxCtor(\"styp\",function(e){h.ftypBox.prototype.parse.call(this,e)}),h.createFullBoxCtor(\"stz2\",function(e){var t,i;if(this.sample_sizes=[],0===this.version)if(this.reserved=e.readUint24(),this.field_size=e.readUint8(),i=e.readUint32(),4===this.field_size)for(t=0;t<i;t+=2){var n=e.readUint8();this.sample_sizes[t]=n>>4&15,this.sample_sizes[t+1]=15&n}else if(8===this.field_size)for(t=0;t<i;t++)this.sample_sizes[t]=e.readUint8();else if(16===this.field_size)for(t=0;t<i;t++)this.sample_sizes[t]=e.readUint16();else a.error(\"BoxParser\",\"Error in length field in stz2 box\")}),h.createFullBoxCtor(\"subs\",function(e){var t,i,n,r;for(n=e.readUint32(),this.entries=[],t=0;t<n;t++){var a={};if(this.entries[t]=a,a.sample_delta=e.readUint32(),a.subsamples=[],(r=e.readUint16())>0)for(i=0;i<r;i++){var s={};a.subsamples.push(s),1==this.version?s.size=e.readUint32():s.size=e.readUint16(),s.priority=e.readUint8(),s.discardable=e.readUint8(),s.codec_specific_parameters=e.readUint32()}}}),h.createFullBoxCtor(\"tenc\",function(e){if(e.readUint8(),0===this.version)e.readUint8();else{var t=e.readUint8();this.default_crypt_byte_block=t>>4&15,this.default_skip_byte_block=15&t}this.default_isProtected=e.readUint8(),this.default_Per_Sample_IV_Size=e.readUint8(),this.default_KID=h.parseHex16(e),1===this.default_isProtected&&0===this.default_Per_Sample_IV_Size&&(this.default_constant_IV_size=e.readUint8(),this.default_constant_IV=e.readUint8Array(this.default_constant_IV_size))}),h.createFullBoxCtor(\"tfdt\",function(e){1==this.version?this.baseMediaDecodeTime=e.readUint64():this.baseMediaDecodeTime=e.readUint32()}),h.createFullBoxCtor(\"tfhd\",function(e){var t=0;this.track_id=e.readUint32(),this.size-this.hdr_size>t&&this.flags&h.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=e.readUint64(),t+=8):this.base_data_offset=0,this.size-this.hdr_size>t&&this.flags&h.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=e.readUint32(),t+=4):this.default_sample_description_index=0,this.size-this.hdr_size>t&&this.flags&h.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=e.readUint32(),t+=4):this.default_sample_duration=0,this.size-this.hdr_size>t&&this.flags&h.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=e.readUint32(),t+=4):this.default_sample_size=0,this.size-this.hdr_size>t&&this.flags&h.TFHD_FLAG_SAMPLE_FLAGS?(this.default_sample_flags=e.readUint32(),t+=4):this.default_sample_flags=0}),h.createFullBoxCtor(\"tfra\",function(e){this.track_ID=e.readUint32(),e.readUint24();var t=e.readUint8();this.length_size_of_traf_num=t>>4&3,this.length_size_of_trun_num=t>>2&3,this.length_size_of_sample_num=3&t,this.entries=[];for(var i=e.readUint32(),n=0;n<i;n++)1===this.version?(this.time=e.readUint64(),this.moof_offset=e.readUint64()):(this.time=e.readUint32(),this.moof_offset=e.readUint32()),this.traf_number=e[\"readUint\"+8*(this.length_size_of_traf_num+1)](),this.trun_number=e[\"readUint\"+8*(this.length_size_of_trun_num+1)](),this.sample_number=e[\"readUint\"+8*(this.length_size_of_sample_num+1)]()}),h.createFullBoxCtor(\"tkhd\",function(e){1==this.version?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.track_id=e.readUint32(),e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.track_id=e.readUint32(),e.readUint32(),this.duration=e.readUint32()),e.readUint32Array(2),this.layer=e.readInt16(),this.alternate_group=e.readInt16(),this.volume=e.readInt16()>>8,e.readUint16(),this.matrix=e.readInt32Array(9),this.width=e.readUint32(),this.height=e.readUint32()}),h.createBoxCtor(\"tmax\",function(e){this.time=e.readUint32()}),h.createBoxCtor(\"tmin\",function(e){this.time=e.readUint32()}),h.createBoxCtor(\"totl\",function(e){this.bytessent=e.readUint32()}),h.createBoxCtor(\"tpay\",function(e){this.bytessent=e.readUint32()}),h.createBoxCtor(\"tpyl\",function(e){this.bytessent=e.readUint64()}),h.TrackGroupTypeBox.prototype.parse=function(e){this.parseFullHeader(e),this.track_group_id=e.readUint32()},h.createTrackGroupCtor(\"msrc\"),h.TrackReferenceTypeBox=function(e,t,i,n){h.Box.call(this,e,t),this.hdr_size=i,this.start=n},h.TrackReferenceTypeBox.prototype=new h.Box,h.TrackReferenceTypeBox.prototype.parse=function(e){this.track_ids=e.readUint32Array((this.size-this.hdr_size)/4)},h.trefBox.prototype.parse=function(e){for(var t,i;e.getPosition()<this.start+this.size;){if((t=h.parseOneBox(e,!0,this.size-(e.getPosition()-this.start))).code!==h.OK)return;(i=new h.TrackReferenceTypeBox(t.type,t.size,t.hdr_size,t.start)).write===h.Box.prototype.write&&\"mdat\"!==i.type&&(a.info(\"BoxParser\",\"TrackReference \"+i.type+\" box writing not yet implemented, keeping unparsed data in memory for later write\"),i.parseDataAndRewind(e)),i.parse(e),this.boxes.push(i)}},h.createFullBoxCtor(\"trep\",function(e){for(this.track_ID=e.readUint32(),this.boxes=[];e.getPosition()<this.start+this.size;){if(ret=h.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),ret.code!==h.OK)return;box=ret.box,this.boxes.push(box)}}),h.createFullBoxCtor(\"trex\",function(e){this.track_id=e.readUint32(),this.default_sample_description_index=e.readUint32(),this.default_sample_duration=e.readUint32(),this.default_sample_size=e.readUint32(),this.default_sample_flags=e.readUint32()}),h.createBoxCtor(\"trpy\",function(e){this.bytessent=e.readUint64()}),h.createFullBoxCtor(\"trun\",function(e){var t=0;if(this.sample_count=e.readUint32(),t+=4,this.size-this.hdr_size>t&&this.flags&h.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=e.readInt32(),t+=4):this.data_offset=0,this.size-this.hdr_size>t&&this.flags&h.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=e.readUint32(),t+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>t)for(var i=0;i<this.sample_count;i++)this.flags&h.TRUN_FLAGS_DURATION&&(this.sample_duration[i]=e.readUint32()),this.flags&h.TRUN_FLAGS_SIZE&&(this.sample_size[i]=e.readUint32()),this.flags&h.TRUN_FLAGS_FLAGS&&(this.sample_flags[i]=e.readUint32()),this.flags&h.TRUN_FLAGS_CTS_OFFSET&&(0===this.version?this.sample_composition_time_offset[i]=e.readUint32():this.sample_composition_time_offset[i]=e.readInt32())}),h.createFullBoxCtor(\"tsel\",function(e){this.switch_group=e.readUint32();var t=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var i=0;i<t;i++)this.attribute_list[i]=e.readUint32()}),h.createFullBoxCtor(\"txtC\",function(e){this.config=e.readCString()}),h.createFullBoxCtor(\"url \",function(e){1!==this.flags&&(this.location=e.readCString())}),h.createFullBoxCtor(\"urn \",function(e){this.name=e.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=e.readCString())}),h.createUUIDBox(\"a5d40b30e81411ddba2f0800200c9a66\",!0,!1,function(e){this.LiveServerManifest=e.readString(this.size-this.hdr_size).replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#039;\")}),h.createUUIDBox(\"d08a4f1810f34a82b6c832d8aba183d3\",!0,!1,function(e){this.system_id=h.parseHex16(e);var t=e.readUint32();t>0&&(this.data=e.readUint8Array(t))}),h.createUUIDBox(\"a2394f525a9b4f14a2446c427c648df4\",!0,!1),h.createUUIDBox(\"8974dbce7be74c5184f97148f9882554\",!0,!1,function(e){this.default_AlgorithmID=e.readUint24(),this.default_IV_size=e.readUint8(),this.default_KID=h.parseHex16(e)}),h.createUUIDBox(\"d4807ef2ca3946958e5426cb9e46a79f\",!0,!1,function(e){this.fragment_count=e.readUint8(),this.entries=[];for(var t=0;t<this.fragment_count;t++){var i={},n=0,r=0;1===this.version?(n=e.readUint64(),r=e.readUint64()):(n=e.readUint32(),r=e.readUint32()),i.absolute_time=n,i.absolute_duration=r,this.entries.push(i)}}),h.createUUIDBox(\"6d1d9b0542d544e680e2141daff757b2\",!0,!1,function(e){1===this.version?(this.absolute_time=e.readUint64(),this.duration=e.readUint64()):(this.absolute_time=e.readUint32(),this.duration=e.readUint32())}),h.createFullBoxCtor(\"vmhd\",function(e){this.graphicsmode=e.readUint16(),this.opcolor=e.readUint16Array(3)}),h.createFullBoxCtor(\"vpcC\",function(e){var t;1===this.version?(this.profile=e.readUint8(),this.level=e.readUint8(),t=e.readUint8(),this.bitDepth=t>>4,this.chromaSubsampling=t>>1&7,this.videoFullRangeFlag=1&t,this.colourPrimaries=e.readUint8(),this.transferCharacteristics=e.readUint8(),this.matrixCoefficients=e.readUint8(),this.codecIntializationDataSize=e.readUint16(),this.codecIntializationData=e.readUint8Array(this.codecIntializationDataSize)):(this.profile=e.readUint8(),this.level=e.readUint8(),t=e.readUint8(),this.bitDepth=t>>4&15,this.colorSpace=15&t,t=e.readUint8(),this.chromaSubsampling=t>>4&15,this.transferFunction=t>>1&7,this.videoFullRangeFlag=1&t,this.codecIntializationDataSize=e.readUint16(),this.codecIntializationData=e.readUint8Array(this.codecIntializationDataSize))}),h.createBoxCtor(\"vttC\",function(e){this.text=e.readString(this.size-this.hdr_size)}),h.SampleEntry.prototype.isVideo=function(){return!1},h.SampleEntry.prototype.isAudio=function(){return!1},h.SampleEntry.prototype.isSubtitle=function(){return!1},h.SampleEntry.prototype.isMetadata=function(){return!1},h.SampleEntry.prototype.isHint=function(){return!1},h.SampleEntry.prototype.getCodec=function(){return this.type.replace(\".\",\"\")},h.SampleEntry.prototype.getWidth=function(){return\"\"},h.SampleEntry.prototype.getHeight=function(){return\"\"},h.SampleEntry.prototype.getChannelCount=function(){return\"\"},h.SampleEntry.prototype.getSampleRate=function(){return\"\"},h.SampleEntry.prototype.getSampleSize=function(){return\"\"},h.VisualSampleEntry.prototype.isVideo=function(){\nreturn!0},h.VisualSampleEntry.prototype.getWidth=function(){return this.width},h.VisualSampleEntry.prototype.getHeight=function(){return this.height},h.AudioSampleEntry.prototype.isAudio=function(){return!0},h.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count},h.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate},h.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize},h.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0},h.MetadataSampleEntry.prototype.isMetadata=function(){return!0},h.decimalToHex=function(e,t){var i=Number(e).toString(16);for(t=null==t?t=2:t;i.length<t;)i=\"0\"+i;return i},h.avc1SampleEntry.prototype.getCodec=h.avc2SampleEntry.prototype.getCodec=h.avc3SampleEntry.prototype.getCodec=h.avc4SampleEntry.prototype.getCodec=function(){var e=h.SampleEntry.prototype.getCodec.call(this);return this.avcC?e+\".\"+h.decimalToHex(this.avcC.AVCProfileIndication)+h.decimalToHex(this.avcC.profile_compatibility)+h.decimalToHex(this.avcC.AVCLevelIndication):e},h.hev1SampleEntry.prototype.getCodec=h.hvc1SampleEntry.prototype.getCodec=function(){var e,t=h.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(t+=\".\",this.hvcC.general_profile_space){case 0:t+=\"\";break;case 1:t+=\"A\";break;case 2:t+=\"B\";break;case 3:t+=\"C\"}t+=this.hvcC.general_profile_idc,t+=\".\";var i=this.hvcC.general_profile_compatibility,n=0;for(e=0;e<32&&(n|=1&i,31!=e);e++)n<<=1,i>>=1;t+=h.decimalToHex(n,0),t+=\".\",t+=0===this.hvcC.general_tier_flag?\"L\":\"H\",t+=this.hvcC.general_level_idc;var r=!1,a=\"\";for(e=5;e>=0;e--)(this.hvcC.general_constraint_indicator[e]||r)&&(a=\".\"+h.decimalToHex(this.hvcC.general_constraint_indicator[e],0)+a,r=!0);t+=a}return t},h.mp4aSampleEntry.prototype.getCodec=function(){var e=h.SampleEntry.prototype.getCodec.call(this);if(this.esds&&this.esds.esd){var t=this.esds.esd.getOTI(),i=this.esds.esd.getAudioConfig();return e+\".\"+h.decimalToHex(t)+(i?\".\"+i:\"\")}return e},h.stxtSampleEntry.prototype.getCodec=function(){var e=h.SampleEntry.prototype.getCodec.call(this);return this.mime_format?e+\".\"+this.mime_format:e},h.av01SampleEntry.prototype.getCodec=function(){var e,t=h.SampleEntry.prototype.getCodec.call(this);return 2===this.av1C.seq_profile&&1===this.av1C.high_bitdepth?e=1===this.av1C.twelve_bit?\"12\":\"10\":this.av1C.seq_profile<=2&&(e=1===this.av1C.high_bitdepth?\"10\":\"08\"),t+\".\"+this.av1C.seq_profile+\".\"+this.av1C.seq_level_idx_0+(this.av1C.seq_tier_0?\"H\":\"M\")+\".\"+e},h.Box.prototype.writeHeader=function(e,t){this.size+=8,this.size>u&&(this.size+=8),\"uuid\"===this.type&&(this.size+=16),a.debug(\"BoxWriter\",\"Writing box \"+this.type+\" of size: \"+this.size+\" at position \"+e.getPosition()+(t||\"\")),this.size>u?e.writeUint32(1):(this.sizePosition=e.getPosition(),e.writeUint32(this.size)),e.writeString(this.type,null,4),\"uuid\"===this.type&&e.writeUint8Array(this.uuid),this.size>u&&e.writeUint64(this.size)},h.FullBox.prototype.writeHeader=function(e){this.size+=4,h.Box.prototype.writeHeader.call(this,e,\" v=\"+this.version+\" f=\"+this.flags),e.writeUint8(this.version),e.writeUint24(this.flags)},h.Box.prototype.write=function(e){\"mdat\"===this.type?this.data&&(this.size=this.data.length,this.writeHeader(e),e.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(e),this.data&&e.writeUint8Array(this.data))},h.ContainerBox.prototype.write=function(e){this.size=0,this.writeHeader(e);for(var t=0;t<this.boxes.length;t++)this.boxes[t]&&(this.boxes[t].write(e),this.size+=this.boxes[t].size);a.debug(\"BoxWriter\",\"Adjusting box \"+this.type+\" with new size \"+this.size),e.adjustUint32(this.sizePosition,this.size)},h.TrackReferenceTypeBox.prototype.write=function(e){this.size=4*this.track_ids.length,this.writeHeader(e),e.writeUint32Array(this.track_ids)},h.avcCBox.prototype.write=function(e){var t;for(this.size=7,t=0;t<this.SPS.length;t++)this.size+=2+this.SPS[t].length;for(t=0;t<this.PPS.length;t++)this.size+=2+this.PPS[t].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(e),e.writeUint8(this.configurationVersion),e.writeUint8(this.AVCProfileIndication),e.writeUint8(this.profile_compatibility),e.writeUint8(this.AVCLevelIndication),e.writeUint8(this.lengthSizeMinusOne+252),e.writeUint8(this.SPS.length+224),t=0;t<this.SPS.length;t++)e.writeUint16(this.SPS[t].length),e.writeUint8Array(this.SPS[t].nalu);for(e.writeUint8(this.PPS.length),t=0;t<this.PPS.length;t++)e.writeUint16(this.PPS[t].length),e.writeUint8Array(this.PPS[t].nalu);this.ext&&e.writeUint8Array(this.ext)},h.co64Box.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(e),e.writeUint32(this.chunk_offsets.length),t=0;t<this.chunk_offsets.length;t++)e.writeUint64(this.chunk_offsets[t])},h.cslgBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=20,this.writeHeader(e),e.writeInt32(this.compositionToDTSShift),e.writeInt32(this.leastDecodeToDisplayDelta),e.writeInt32(this.greatestDecodeToDisplayDelta),e.writeInt32(this.compositionStartTime),e.writeInt32(this.compositionEndTime)},h.cttsBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(e),e.writeUint32(this.sample_counts.length),t=0;t<this.sample_counts.length;t++)e.writeUint32(this.sample_counts[t]),1===this.version?e.writeInt32(this.sample_offsets[t]):e.writeUint32(this.sample_offsets[t])},h.drefBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.entries.length);for(var t=0;t<this.entries.length;t++)this.entries[t].write(e),this.size+=this.entries[t].size;a.debug(\"BoxWriter\",\"Adjusting box \"+this.type+\" with new size \"+this.size),e.adjustUint32(this.sizePosition,this.size)},h.elngBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(e),e.writeString(this.extended_language)},h.elstBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(e),e.writeUint32(this.entries.length);for(var t=0;t<this.entries.length;t++){var i=this.entries[t];e.writeUint32(i.segment_duration),e.writeInt32(i.media_time),e.writeInt16(i.media_rate_integer),e.writeInt16(i.media_rate_fraction)}},h.emsgBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=16+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(e),e.writeCString(this.scheme_id_uri),e.writeCString(this.value),e.writeUint32(this.timescale),e.writeUint32(this.presentation_time_delta),e.writeUint32(this.event_duration),e.writeUint32(this.id),e.writeUint8Array(this.message_data)},h.ftypBox.prototype.write=function(e){this.size=8+4*this.compatible_brands.length,this.writeHeader(e),e.writeString(this.major_brand,null,4),e.writeUint32(this.minor_version);for(var t=0;t<this.compatible_brands.length;t++)e.writeString(this.compatible_brands[t],null,4)},h.hdlrBox.prototype.write=function(e){this.size=20+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(e),e.writeUint32(0),e.writeString(this.handler,null,4),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeCString(this.name)},h.kindBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(e),e.writeCString(this.schemeURI),e.writeCString(this.value)},h.mdhdBox.prototype.write=function(e){this.size=20,this.flags=0,this.version=0,this.writeHeader(e),e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.timescale),e.writeUint32(this.duration),e.writeUint16(this.language),e.writeUint16(0)},h.mehdBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.fragment_duration)},h.mfhdBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.sequence_number)},h.mvhdBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=96,this.writeHeader(e),e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.timescale),e.writeUint32(this.duration),e.writeUint32(this.rate),e.writeUint16(this.volume<<8),e.writeUint16(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32Array(this.matrix),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(this.next_track_id)},h.SampleEntry.prototype.writeHeader=function(e){this.size=8,h.Box.prototype.writeHeader.call(this,e),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint16(this.data_reference_index)},h.SampleEntry.prototype.writeFooter=function(e){for(var t=0;t<this.boxes.length;t++)this.boxes[t].write(e),this.size+=this.boxes[t].size;a.debug(\"BoxWriter\",\"Adjusting box \"+this.type+\" with new size \"+this.size),e.adjustUint32(this.sizePosition,this.size)},h.SampleEntry.prototype.write=function(e){this.writeHeader(e),e.writeUint8Array(this.data),this.size+=this.data.length,a.debug(\"BoxWriter\",\"Adjusting box \"+this.type+\" with new size \"+this.size),e.adjustUint32(this.sizePosition,this.size)},h.VisualSampleEntry.prototype.write=function(e){this.writeHeader(e),this.size+=70,e.writeUint16(0),e.writeUint16(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint16(this.width),e.writeUint16(this.height),e.writeUint32(this.horizresolution),e.writeUint32(this.vertresolution),e.writeUint32(0),e.writeUint16(this.frame_count),e.writeUint8(Math.min(31,this.compressorname.length)),e.writeString(this.compressorname,null,31),e.writeUint16(this.depth),e.writeInt16(-1),this.writeFooter(e)},h.AudioSampleEntry.prototype.write=function(e){this.writeHeader(e),this.size+=20,e.writeUint32(0),e.writeUint32(0),e.writeUint16(this.channel_count),e.writeUint16(this.samplesize),e.writeUint16(0),e.writeUint16(0),e.writeUint32(this.samplerate<<16),this.writeFooter(e)},h.stppSampleEntry.prototype.write=function(e){this.writeHeader(e),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,e.writeCString(this.namespace),e.writeCString(this.schema_location),e.writeCString(this.auxiliary_mime_types),this.writeFooter(e)},h.SampleGroupEntry.prototype.write=function(e){e.writeUint8Array(this.data)},h.sbgpBox.prototype.write=function(e){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(e),e.writeString(this.grouping_type,null,4),e.writeUint32(this.grouping_type_parameter),e.writeUint32(this.entries.length);for(var t=0;t<this.entries.length;t++){var i=this.entries[t];e.writeInt32(i.sample_count),e.writeInt32(i.group_description_index)}},h.sgpdBox.prototype.write=function(e){var t,i;for(this.flags=0,this.size=12,t=0;t<this.entries.length;t++)i=this.entries[t],1===this.version&&(0===this.default_length&&(this.size+=4),this.size+=i.data.length);for(this.writeHeader(e),e.writeString(this.grouping_type,null,4),1===this.version&&e.writeUint32(this.default_length),this.version>=2&&e.writeUint32(this.default_sample_description_index),e.writeUint32(this.entries.length),t=0;t<this.entries.length;t++)i=this.entries[t],1===this.version&&0===this.default_length&&e.writeUint32(i.description_length),i.write(e)},h.sidxBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=20+12*this.references.length,this.writeHeader(e),e.writeUint32(this.reference_ID),e.writeUint32(this.timescale),e.writeUint32(this.earliest_presentation_time),e.writeUint32(this.first_offset),e.writeUint16(0),e.writeUint16(this.references.length);for(var t=0;t<this.references.length;t++){var i=this.references[t];e.writeUint32(i.reference_type<<31|i.referenced_size),e.writeUint32(i.subsegment_duration),e.writeUint32(i.starts_with_SAP<<31|i.SAP_type<<28|i.SAP_delta_time)}},h.stcoBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(e),e.writeUint32(this.chunk_offsets.length),e.writeUint32Array(this.chunk_offsets)},h.stscBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(e),e.writeUint32(this.first_chunk.length),t=0;t<this.first_chunk.length;t++)e.writeUint32(this.first_chunk[t]),e.writeUint32(this.samples_per_chunk[t]),e.writeUint32(this.sample_description_index[t])},h.stsdBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(e),e.writeUint32(this.entries.length),this.size+=4,t=0;t<this.entries.length;t++)this.entries[t].write(e),this.size+=this.entries[t].size;a.debug(\"BoxWriter\",\"Adjusting box \"+this.type+\" with new size \"+this.size),e.adjustUint32(this.sizePosition,this.size)},h.stshBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(e),e.writeUint32(this.shadowed_sample_numbers.length),t=0;t<this.shadowed_sample_numbers.length;t++)e.writeUint32(this.shadowed_sample_numbers[t]),e.writeUint32(this.sync_sample_numbers[t])},h.stssBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(e),e.writeUint32(this.sample_numbers.length),e.writeUint32Array(this.sample_numbers)},h.stszBox.prototype.write=function(e){var t,i=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0)for(t=0;t+1<this.sample_sizes.length;){if(this.sample_sizes[t+1]!==this.sample_sizes[0]){i=!1;break}t++}else i=!1;this.size=8,i||(this.size+=4*this.sample_sizes.length),this.writeHeader(e),i?e.writeUint32(this.sample_sizes[0]):e.writeUint32(0),e.writeUint32(this.sample_sizes.length),i||e.writeUint32Array(this.sample_sizes)},h.sttsBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(e),e.writeUint32(this.sample_counts.length),t=0;t<this.sample_counts.length;t++)e.writeUint32(this.sample_counts[t]),e.writeUint32(this.sample_deltas[t])},h.tfdtBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4,1===this.version&&(this.size+=4),this.writeHeader(e),1===this.version?e.writeUint64(this.baseMediaDecodeTime):e.writeUint32(this.baseMediaDecodeTime)},h.tfhdBox.prototype.write=function(e){this.version=0,this.size=4,this.flags&h.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&h.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&h.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&h.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&h.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(e),e.writeUint32(this.track_id),this.flags&h.TFHD_FLAG_BASE_DATA_OFFSET&&e.writeUint64(this.base_data_offset),this.flags&h.TFHD_FLAG_SAMPLE_DESC&&e.writeUint32(this.default_sample_description_index),this.flags&h.TFHD_FLAG_SAMPLE_DUR&&e.writeUint32(this.default_sample_duration),this.flags&h.TFHD_FLAG_SAMPLE_SIZE&&e.writeUint32(this.default_sample_size),this.flags&h.TFHD_FLAG_SAMPLE_FLAGS&&e.writeUint32(this.default_sample_flags)},h.tkhdBox.prototype.write=function(e){this.version=0,this.size=80,this.writeHeader(e),e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.track_id),e.writeUint32(0),e.writeUint32(this.duration),e.writeUint32(0),e.writeUint32(0),e.writeInt16(this.layer),e.writeInt16(this.alternate_group),e.writeInt16(this.volume<<8),e.writeUint16(0),e.writeInt32Array(this.matrix),e.writeUint32(this.width),e.writeUint32(this.height)},h.trexBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=20,this.writeHeader(e),e.writeUint32(this.track_id),e.writeUint32(this.default_sample_description_index),e.writeUint32(this.default_sample_duration),e.writeUint32(this.default_sample_size),e.writeUint32(this.default_sample_flags)},h.trunBox.prototype.write=function(e){this.version=0,this.size=4,this.flags&h.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&h.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&h.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&h.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&h.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&h.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(e),e.writeUint32(this.sample_count),this.flags&h.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=e.getPosition(),e.writeInt32(this.data_offset)),this.flags&h.TRUN_FLAGS_FIRST_FLAG&&e.writeUint32(this.first_sample_flags);for(var t=0;t<this.sample_count;t++)this.flags&h.TRUN_FLAGS_DURATION&&e.writeUint32(this.sample_duration[t]),this.flags&h.TRUN_FLAGS_SIZE&&e.writeUint32(this.sample_size[t]),this.flags&h.TRUN_FLAGS_FLAGS&&e.writeUint32(this.sample_flags[t]),this.flags&h.TRUN_FLAGS_CTS_OFFSET&&(0===this.version?e.writeUint32(this.sample_composition_time_offset[t]):e.writeInt32(this.sample_composition_time_offset[t]))},h[\"url Box\"].prototype.write=function(e){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(e),this.location&&e.writeCString(this.location)},h[\"urn Box\"].prototype.write=function(e){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(e),e.writeCString(this.name),this.location&&e.writeCString(this.location)},h.vmhdBox.prototype.write=function(e){this.version=0,this.flags=1,this.size=8,this.writeHeader(e),e.writeUint16(this.graphicsmode),e.writeUint16Array(this.opcolor)},h.cttsBox.prototype.unpack=function(e){var t,i,n;for(n=0,t=0;t<this.sample_counts.length;t++)for(i=0;i<this.sample_counts[t];i++)e[n].pts=e[n].dts+this.sample_offsets[t],n++},h.sttsBox.prototype.unpack=function(e){var t,i,n;for(n=0,t=0;t<this.sample_counts.length;t++)for(i=0;i<this.sample_counts[t];i++)e[n].dts=0===n?0:e[n-1].dts+this.sample_deltas[t],n++},h.stcoBox.prototype.unpack=function(e){var t;for(t=0;t<this.chunk_offsets.length;t++)e[t].offset=this.chunk_offsets[t]},h.stscBox.prototype.unpack=function(e){var t,i,n,r,a;for(r=0,a=0,t=0;t<this.first_chunk.length;t++)for(i=0;i<(t+1<this.first_chunk.length?this.first_chunk[t+1]:1/0);i++)for(a++,n=0;n<this.samples_per_chunk[t];n++){if(!e[r])return;e[r].description_index=this.sample_description_index[t],e[r].chunk_index=a,r++}},h.stszBox.prototype.unpack=function(e){var t;for(t=0;t<this.sample_sizes.length;t++)e[t].size=this.sample_sizes[t]},h.DIFF_BOXES_PROP_NAMES=[\"boxes\",\"entries\",\"references\",\"subsamples\",\"items\",\"item_infos\",\"extents\",\"associations\",\"subsegments\",\"ranges\",\"seekLists\",\"seekPoints\",\"esd\",\"levels\"],h.DIFF_PRIMITIVE_ARRAY_PROP_NAMES=[\"compatible_brands\",\"matrix\",\"opcolor\",\"sample_counts\",\"sample_counts\",\"sample_deltas\",\"first_chunk\",\"samples_per_chunk\",\"sample_sizes\",\"chunk_offsets\",\"sample_offsets\",\"sample_description_index\",\"sample_duration\"],h.boxEqualFields=function(e,t){if(e&&!t)return!1;var i;for(i in e)if(!(h.DIFF_BOXES_PROP_NAMES.indexOf(i)>-1||e[i]instanceof h.Box||t[i]instanceof h.Box||void 0===e[i]||void 0===t[i]||\"function\"==typeof e[i]||\"function\"==typeof t[i]||e.subBoxNames&&e.subBoxNames.indexOf(i.slice(0,4))>-1||t.subBoxNames&&t.subBoxNames.indexOf(i.slice(0,4))>-1||\"data\"===i||\"start\"===i||\"size\"===i||\"creation_time\"===i||\"modification_time\"===i||h.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(i)>-1||e[i]===t[i]))return!1;return!0},h.boxEqual=function(e,t){if(!h.boxEqualFields(e,t))return!1;for(var i=0;i<h.DIFF_BOXES_PROP_NAMES.length;i++){var n=h.DIFF_BOXES_PROP_NAMES[i];if(e[n]&&t[n]&&!h.boxEqual(e[n],t[n]))return!1}return!0};var f=function(){};f.prototype.parseSample=function(e){var t,i,n=new o(e.buffer);for(t=[];!n.isEos();)(i=h.parseOneBox(n,!1)).code===h.OK&&\"vttc\"===i.box.type&&t.push(i.box);return t},f.prototype.getText=function(e,t,i){function n(e,t,i){return i=i||\"0\",(e+=\"\").length>=t?e:new Array(t-e.length+1).join(i)+e}function r(e){var t=Math.floor(e/3600),i=Math.floor((e-3600*t)/60),r=Math.floor(e-3600*t-60*i),a=Math.floor(1e3*(e-3600*t-60*i-r));return n(t,2)+\":\"+n(i,2)+\":\"+n(r,2)+\".\"+n(a,3)}for(var a=this.parseSample(i),s=\"\",o=0;o<a.length;o++){var l=a[o];s+=r(e)+\" --> \"+r(t)+\"\\r\\n\",s+=l.payl.text}return s};var p=function(){};p.prototype.parseSample=function(e){var t,i={};i.resources=[];var n=new o(e.data.buffer);if(e.subsamples&&0!==e.subsamples.length){if(i.documentString=n.readString(e.subsamples[0].size),e.subsamples.length>1)for(t=1;t<e.subsamples.length;t++)i.resources[t]=n.readUint8Array(e.subsamples[t].size)}else i.documentString=n.readString(e.data.length);return\"undefined\"!=typeof DOMParser&&(i.document=(new DOMParser).parseFromString(i.documentString,\"application/xml\")),i};var m=function(){};m.prototype.parseSample=function(e){return new o(e.data.buffer).readString(e.data.length)},m.prototype.parseConfig=function(e){var t=new o(e.buffer);return t.readUint32(),t.readCString()},void 0!==i&&(i.XMLSubtitlein4Parser=p,i.Textin4Parser=m);var g=function(e){this.stream=e||new d,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.onSidx=null,this.sidxSent=!1};g.prototype.setSegmentOptions=function(e,t,i){var n=this.getTrackById(e);if(n){var r={};this.fragmentedTracks.push(r),r.id=e,r.user=t,r.trak=n,n.nextSample=0,r.segmentStream=null,r.nb_samples=1e3,r.rapAlignement=!0,i&&(i.nbSamples&&(r.nb_samples=i.nbSamples),i.rapAlignement&&(r.rapAlignement=i.rapAlignement))}},g.prototype.unsetSegmentOptions=function(e){for(var t=-1,i=0;i<this.fragmentedTracks.length;i++)this.fragmentedTracks[i].id==e&&(t=i);t>-1&&this.fragmentedTracks.splice(t,1)},g.prototype.setExtractionOptions=function(e,t,i){var n=this.getTrackById(e);if(n){var r={};this.extractedTracks.push(r),r.id=e,r.user=t,r.trak=n,n.nextSample=0,r.nb_samples=1e3,r.samples=[],i&&i.nbSamples&&(r.nb_samples=i.nbSamples)}},g.prototype.unsetExtractionOptions=function(e){for(var t=-1,i=0;i<this.extractedTracks.length;i++)this.extractedTracks[i].id==e&&(t=i);t>-1&&this.extractedTracks.splice(t,1)},g.prototype.parse=function(){var e,t;if(!this.restoreParsePosition||this.restoreParsePosition())for(;;){if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}if(this.saveParsePosition&&this.saveParsePosition(),(e=h.parseOneBox(this.stream,!1)).code===h.ERR_NOT_ENOUGH_DATA){if(this.processIncompleteBox){if(this.processIncompleteBox(e))continue;return}return}var i;switch(i=\"uuid\"!==(t=e.box).type?t.type:t.uuid,this.boxes.push(t),i){case\"mdat\":this.mdats.push(t);break;case\"moof\":this.moofs.push(t);break;case\"moov\":this.moovStartFound=!0,0===this.mdats.length&&(this.isProgressive=!0);default:void 0!==this[i]&&a.warn(\"ISOFile\",\"Duplicate Box of type: \"+i+\", overriding previous occurrence\"),this[i]=t}this.updateUsedBytes&&this.updateUsedBytes(t,e)}},g.prototype.checkBuffer=function(e){if(null==e)throw\"Buffer must be defined and non empty\";if(void 0===e.fileStart)throw\"Buffer must have a fileStart property\";return 0===e.byteLength?(a.warn(\"ISOFile\",\"Ignoring empty buffer (fileStart: \"+e.fileStart+\")\"),this.stream.logBufferLevel(),!1):(a.info(\"ISOFile\",\"Processing buffer (fileStart: \"+e.fileStart+\")\"),e.usedBytes=0,this.stream.insertBuffer(e),this.stream.logBufferLevel(),!!this.stream.initialized()||(a.warn(\"ISOFile\",\"Not ready to start parsing\"),!1))},g.prototype.appendBuffer=function(e,t){var i;if(this.checkBuffer(e))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(t),this.nextSeekPosition?(i=this.nextSeekPosition,this.nextSeekPosition=void 0):i=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(i=this.stream.getEndFilePositionAfter(i))):i=this.nextParsePosition?this.nextParsePosition:0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(a.info(\"ISOFile\",\"Done processing buffer (fileStart: \"+e.fileStart+\") - next buffer to fetch should have a fileStart position of \"+i),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),a.info(\"ISOFile\",\"Sample data size in memory: \"+this.getAllocatedSampleDataSize())),i},g.prototype.getInfo=function(){var e,t,i,n,r,a={},s=new Date(\"1904-01-01T00:00:00Z\").getTime();if(this.moov)for(a.hasMoov=!0,a.duration=this.moov.mvhd.duration,a.timescale=this.moov.mvhd.timescale,a.isFragmented=null!=this.moov.mvex,a.isFragmented&&this.moov.mvex.mehd&&(a.fragment_duration=this.moov.mvex.mehd.fragment_duration),a.isProgressive=this.isProgressive,a.hasIOD=null!=this.moov.iods,a.brands=[],a.brands.push(this.ftyp.major_brand),a.brands=a.brands.concat(this.ftyp.compatible_brands),a.created=new Date(s+1e3*this.moov.mvhd.creation_time),a.modified=new Date(s+1e3*this.moov.mvhd.modification_time),a.tracks=[],a.audioTracks=[],a.videoTracks=[],a.subtitleTracks=[],a.metadataTracks=[],a.hintTracks=[],a.otherTracks=[],e=0;e<this.moov.traks.length;e++){if(r=(i=this.moov.traks[e]).mdia.minf.stbl.stsd.entries[0],n={},a.tracks.push(n),n.id=i.tkhd.track_id,n.name=i.mdia.hdlr.name,n.references=[],i.tref)for(t=0;t<i.tref.boxes.length;t++)ref={},n.references.push(ref),ref.type=i.tref.boxes[t].type,ref.track_ids=i.tref.boxes[t].track_ids;i.edts&&(n.edits=i.edts.elst.entries),n.created=new Date(s+1e3*i.tkhd.creation_time),n.modified=new Date(s+1e3*i.tkhd.modification_time),n.movie_duration=i.tkhd.duration,n.movie_timescale=a.timescale,n.layer=i.tkhd.layer,n.alternate_group=i.tkhd.alternate_group,n.volume=i.tkhd.volume,n.matrix=i.tkhd.matrix,n.track_width=i.tkhd.width/65536,n.track_height=i.tkhd.height/65536,n.timescale=i.mdia.mdhd.timescale,n.cts_shift=i.mdia.minf.stbl.cslg,n.duration=i.mdia.mdhd.duration,n.samples_duration=i.samples_duration,n.codec=r.getCodec(),n.kind=i.udta&&i.udta.kinds.length?i.udta.kinds[0]:{schemeURI:\"\",value:\"\"},n.language=i.mdia.elng?i.mdia.elng.extended_language:i.mdia.mdhd.languageString,n.nb_samples=i.samples.length,n.size=i.samples_size,n.bitrate=8*n.size*n.timescale/n.samples_duration,r.isAudio()?(n.type=\"audio\",a.audioTracks.push(n),n.audio={},n.audio.sample_rate=r.getSampleRate(),n.audio.channel_count=r.getChannelCount(),n.audio.sample_size=r.getSampleSize()):r.isVideo()?(n.type=\"video\",a.videoTracks.push(n),n.video={},n.video.width=r.getWidth(),n.video.height=r.getHeight()):r.isSubtitle()?(n.type=\"subtitles\",a.subtitleTracks.push(n)):r.isHint()?(n.type=\"metadata\",a.hintTracks.push(n)):r.isMetadata()?(n.type=\"metadata\",a.metadataTracks.push(n)):(n.type=\"metadata\",a.otherTracks.push(n))}else a.hasMoov=!1;if(a.mime=\"\",a.hasMoov&&a.tracks){for(a.videoTracks&&a.videoTracks.length>0?a.mime+='video/mp4; codecs=\"':a.audioTracks&&a.audioTracks.length>0?a.mime+='audio/mp4; codecs=\"':a.mime+='application/mp4; codecs=\"',e=0;e<a.tracks.length;e++)0!==e&&(a.mime+=\",\"),a.mime+=a.tracks[e].codec;a.mime+='\"; profiles=\"',a.mime+=this.ftyp.compatible_brands.join(),a.mime+='\"'}return a},g.prototype.processSamples=function(e){var t,i;if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&null!==this.onSegment)for(t=0;t<this.fragmentedTracks.length;t++){var n=this.fragmentedTracks[t];for(i=n.trak;i.nextSample<i.samples.length&&this.sampleProcessingStarted;){a.debug(\"ISOFile\",\"Creating media fragment on track #\"+n.id+\" for sample \"+i.nextSample);var r=this.createFragment(n.id,i.nextSample,n.segmentStream);if(!r)break;if(n.segmentStream=r,i.nextSample++,(i.nextSample%n.nb_samples==0||e||i.nextSample>=i.samples.length)&&(a.info(\"ISOFile\",\"Sending fragmented data on track #\"+n.id+\" for samples [\"+Math.max(0,i.nextSample-n.nb_samples)+\",\"+(i.nextSample-1)+\"]\"),a.info(\"ISOFile\",\"Sample data size in memory: \"+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(n.id,n.user,n.segmentStream.buffer,i.nextSample,e||i.nextSample>=i.samples.length),n.segmentStream=null,n!==this.fragmentedTracks[t]))break}}if(null!==this.onSamples)for(t=0;t<this.extractedTracks.length;t++){var s=this.extractedTracks[t];for(i=s.trak;i.nextSample<i.samples.length&&this.sampleProcessingStarted;){a.debug(\"ISOFile\",\"Exporting on track #\"+s.id+\" sample #\"+i.nextSample);var o=this.getSample(i,i.nextSample);if(!o)break;if(i.nextSample++,s.samples.push(o),(i.nextSample%s.nb_samples==0||i.nextSample>=i.samples.length)&&(a.debug(\"ISOFile\",\"Sending samples on track #\"+s.id+\" for sample \"+i.nextSample),this.onSamples&&this.onSamples(s.id,s.user,s.samples),s.samples=[],s!==this.extractedTracks[t]))break}}}},g.prototype.getBox=function(e){var t=this.getBoxes(e,!0);return t.length?t[0]:null},g.prototype.getBoxes=function(e,t){var i=[];return g._sweep.call(this,e,i,t),i},g._sweep=function(e,t,i){for(var n in this.type&&this.type==e&&t.push(this),this.boxes){if(t.length&&i)return;g._sweep.call(this.boxes[n],e,t,i)}},g.prototype.getTrackSamplesInfo=function(e){var t=this.getTrackById(e);return t?t.samples:void 0},g.prototype.getTrackSample=function(e,t){var i=this.getTrackById(e);return this.getSample(i,t)},g.prototype.releaseUsedSamples=function(e,t){var i=0,n=this.getTrackById(e);n.lastValidSample||(n.lastValidSample=0);for(var r=n.lastValidSample;r<t;r++)i+=this.releaseSample(n,r);a.info(\"ISOFile\",\"Track #\"+e+\" released samples up to \"+t+\" (released size: \"+i+\", remaining: \"+this.samplesDataSize+\")\"),n.lastValidSample=t},g.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples(!1)},g.prototype.stop=function(){this.sampleProcessingStarted=!1},g.prototype.flush=function(){a.info(\"ISOFile\",\"Flushing remaining samples\"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)},g.prototype.seekTrack=function(e,t,i){var n,r,s,o,l=0,u=0;if(0===i.samples.length)return a.info(\"ISOFile\",\"No sample in track, cannot seek! Using time \"+a.getDurationString(0,1)+\" and offset: 0\"),{offset:0,time:0};for(n=0;n<i.samples.length;n++){if(r=i.samples[n],0===n)u=0,o=r.timescale;else if(r.cts>e*r.timescale){u=n-1;break}t&&r.is_sync&&(l=n)}for(t&&(u=l),e=i.samples[u].cts,i.nextSample=u;i.samples[u].alreadyRead===i.samples[u].size&&i.samples[u+1];)u++;return s=i.samples[u].offset+i.samples[u].alreadyRead,a.info(\"ISOFile\",\"Seeking to \"+(t?\"RAP\":\"\")+\" sample #\"+i.nextSample+\" on track \"+i.tkhd.track_id+\", time \"+a.getDurationString(e,o)+\" and offset: \"+s),{offset:s,time:e/o}},g.prototype.seek=function(e,t){var i,n,r,s=this.moov,o={offset:1/0,time:1/0};if(this.moov){for(r=0;r<s.traks.length;r++)i=s.traks[r],(n=this.seekTrack(e,t,i)).offset<o.offset&&(o.offset=n.offset),n.time<o.time&&(o.time=n.time);return a.info(\"ISOFile\",\"Seeking at time \"+a.getDurationString(o.time,1)+\" needs a buffer with a fileStart position of \"+o.offset),o.offset===1/0?o={offset:this.nextParsePosition,time:0}:o.offset=this.stream.getEndFilePositionAfter(o.offset),a.info(\"ISOFile\",\"Adjusted seek position (after checking data already in buffer): \"+o.offset),o}throw\"Cannot seek: moov not received!\"},g.prototype.equal=function(e){for(var t=0;t<this.boxes.length&&t<e.boxes.length;){var i=this.boxes[t],n=e.boxes[t];if(!h.boxEqual(i,n))return!1;t++}return!0},void 0!==i&&(i.ISOFile=g),g.prototype.lastBoxStartPosition=0,g.prototype.parsingMdat=null,g.prototype.nextParsePosition=0,g.prototype.discardMdatData=!1,g.prototype.processIncompleteBox=function(e){var t;return\"mdat\"===e.type?(t=new h[e.type+\"Box\"](e.size),this.parsingMdat=t,\nthis.boxes.push(t),this.mdats.push(t),t.start=e.start,t.hdr_size=e.hdr_size,this.stream.addUsedBytes(t.hdr_size),this.lastBoxStartPosition=t.start+t.size,this.stream.seek(t.start+t.size,!1,this.discardMdatData)?(this.parsingMdat=null,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=t.start+t.size,!1)):(\"moov\"===e.type&&(this.moovStartFound=!0,0===this.mdats.length&&(this.isProgressive=!0)),this.stream.mergeNextBuffer&&this.stream.mergeNextBuffer()?(this.nextParsePosition=this.stream.getEndPosition(),!0):(e.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+e.size:this.nextParsePosition=this.stream.getEndPosition(),!1))},g.prototype.hasIncompleteMdat=function(){return null!==this.parsingMdat},g.prototype.processIncompleteMdat=function(){var e;return e=this.parsingMdat,this.stream.seek(e.start+e.size,!1,this.discardMdatData)?(a.debug(\"ISOFile\",\"Found 'mdat' end in buffered data\"),this.parsingMdat=null,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)},g.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)},g.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()},g.prototype.updateUsedBytes=function(e,t){this.stream.addUsedBytes&&(\"mdat\"===e.type?(this.stream.addUsedBytes(e.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(e.size-e.hdr_size)):this.stream.addUsedBytes(e.size))},g.prototype.add=h.Box.prototype.add,g.prototype.addBox=h.Box.prototype.addBox,g.prototype.init=function(e){var t=e||{},i=(this.add(\"ftyp\").set(\"major_brand\",t.brands&&t.brands[0]||\"iso4\").set(\"minor_version\",0).set(\"compatible_brands\",t.brands||[\"iso4\"]),this.add(\"moov\"));return i.add(\"mvhd\").set(\"timescale\",t.timescale||600).set(\"rate\",t.rate||1).set(\"creation_time\",0).set(\"modification_time\",0).set(\"duration\",t.duration||0).set(\"volume\",1).set(\"matrix\",[0,0,0,0,0,0,0,0,0]).set(\"next_track_id\",1),i.add(\"mvex\"),this},g.prototype.addTrack=function(e){this.moov||this.init(e);var t=e||{};t.width=t.width||320,t.height=t.height||320,t.id=t.id||this.moov.mvhd.next_track_id,t.type=t.type||\"avc1\";var i=this.moov.add(\"trak\");this.moov.mvhd.next_track_id=t.id+1,i.add(\"tkhd\").set(\"flags\",h.TKHD_FLAG_ENABLED|h.TKHD_FLAG_IN_MOVIE|h.TKHD_FLAG_IN_PREVIEW).set(\"creation_time\",0).set(\"modification_time\",0).set(\"track_id\",t.id).set(\"duration\",t.duration||0).set(\"layer\",t.layer||0).set(\"alternate_group\",0).set(\"volume\",1).set(\"matrix\",[0,0,0,0,0,0,0,0,0]).set(\"width\",t.width).set(\"height\",t.height);var n=i.add(\"mdia\");n.add(\"mdhd\").set(\"creation_time\",0).set(\"modification_time\",0).set(\"timescale\",t.timescale||1).set(\"duration\",t.media_duration||0).set(\"language\",t.language||0),n.add(\"hdlr\").set(\"handler\",t.hdlr||\"vide\").set(\"name\",t.name||\"Track created with MP4Box.js\"),n.add(\"elng\").set(\"extended_language\",t.language||\"fr-FR\");var r=n.add(\"minf\");if(void 0!==h[t.type+\"SampleEntry\"]){var a=new h[t.type+\"SampleEntry\"];a.data_reference_index=1;var s=\"\";for(var o in h.sampleEntryCodes)for(var l=h.sampleEntryCodes[o],u=0;u<l.length;u++)if(l.indexOf(t.type)>-1){s=o;break}switch(s){case\"Visual\":r.add(\"vmhd\").set(\"graphicsmode\",0).set(\"opcolor\",[0,0,0]),a.set(\"width\",t.width).set(\"height\",t.height).set(\"horizresolution\",72<<16).set(\"vertresolution\",72<<16).set(\"frame_count\",1).set(\"compressorname\",t.type+\" Compressor\").set(\"depth\",24);break;case\"Audio\":r.add(\"smhd\").set(\"balance\",t.balance||0),a.set(\"channel_count\",t.channel_count||2).set(\"samplesize\",t.samplesize||16).set(\"samplerate\",t.samplerate||65536);break;case\"Hint\":r.add(\"hmhd\");break;case\"Subtitle\":switch(r.add(\"sthd\"),t.type){case\"stpp\":a.set(\"namespace\",t.namespace||\"nonamespace\").set(\"schema_location\",t.schema_location||\"\").set(\"auxiliary_mime_types\",t.auxiliary_mime_types||\"\")}break;case\"Metadata\":case\"System\":default:r.add(\"nmhd\")}t.description&&a.addBox(t.description),t.description_boxes&&t.description_boxes.forEach(function(e){a.addBox(e)}),r.add(\"dinf\").add(\"dref\").addEntry((new h[\"url Box\"]).set(\"flags\",1));var d=r.add(\"stbl\");return d.add(\"stsd\").addEntry(a),d.add(\"stts\").set(\"sample_counts\",[]).set(\"sample_deltas\",[]),d.add(\"stsc\").set(\"first_chunk\",[]).set(\"samples_per_chunk\",[]).set(\"sample_description_index\",[]),d.add(\"stco\").set(\"chunk_offsets\",[]),d.add(\"stsz\").set(\"sample_sizes\",[]),this.moov.mvex.add(\"trex\").set(\"track_id\",t.id).set(\"default_sample_description_index\",t.default_sample_description_index||1).set(\"default_sample_duration\",t.default_sample_duration||0).set(\"default_sample_size\",t.default_sample_size||0).set(\"default_sample_flags\",t.default_sample_flags||0),this.buildTrakSampleLists(i),t.id}},h.Box.prototype.computeSize=function(e){var t=e||new l;t.endianness=l.BIG_ENDIAN,this.write(t)},g.prototype.addSample=function(e,t,i){var n=i||{},r={},a=this.getTrackById(e);if(null!==a){r.number=a.samples.length,r.track_id=a.tkhd.track_id,r.timescale=a.mdia.mdhd.timescale,r.description_index=n.sample_description_index?n.sample_description_index-1:0,r.description=a.mdia.minf.stbl.stsd.entries[r.description_index],r.data=t,r.size=t.length,r.alreadyRead=r.size,r.duration=n.duration||1,r.cts=n.cts||0,r.dts=n.dts||0,r.is_sync=n.is_sync||!1,r.is_leading=n.is_leading||0,r.depends_on=n.depends_on||0,r.is_depended_on=n.is_depended_on||0,r.has_redundancy=n.has_redundancy||0,r.degradation_priority=n.degradation_priority||0,r.offset=0,r.subsamples=n.subsamples,a.samples.push(r),a.samples_size+=r.size,a.samples_duration+=r.duration,this.processSamples();var s=g.createSingleSampleMoof(r);return this.addBox(s),s.computeSize(),s.trafs[0].truns[0].data_offset=s.size+8,this.add(\"mdat\").data=t,r}},g.createSingleSampleMoof=function(e){var t=new h.moofBox;t.add(\"mfhd\").set(\"sequence_number\",this.nextMoofNumber),this.nextMoofNumber++;var i=t.add(\"traf\");return i.add(\"tfhd\").set(\"track_id\",e.track_id).set(\"flags\",h.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),i.add(\"tfdt\").set(\"baseMediaDecodeTime\",e.dts),i.add(\"trun\").set(\"flags\",h.TRUN_FLAGS_DATA_OFFSET|h.TRUN_FLAGS_DURATION|h.TRUN_FLAGS_SIZE|h.TRUN_FLAGS_FLAGS|h.TRUN_FLAGS_CTS_OFFSET).set(\"data_offset\",0).set(\"first_sample_flags\",0).set(\"sample_count\",1).set(\"sample_duration\",[e.duration]).set(\"sample_size\",[e.size]).set(\"sample_flags\",[0]).set(\"sample_composition_time_offset\",[e.cts-e.dts]),t},g.prototype.lastMoofIndex=0,g.prototype.samplesDataSize=0,g.prototype.resetTables=function(){var e,t,i,n,r,a;for(this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0,e=0;e<this.moov.traks.length;e++){(t=this.moov.traks[e]).tkhd.duration=0,t.mdia.mdhd.duration=0,(t.mdia.minf.stbl.stco||t.mdia.minf.stbl.co64).chunk_offsets=[],(i=t.mdia.minf.stbl.stsc).first_chunk=[],i.samples_per_chunk=[],i.sample_description_index=[],(t.mdia.minf.stbl.stsz||t.mdia.minf.stbl.stz2).sample_sizes=[],(n=t.mdia.minf.stbl.stts).sample_counts=[],n.sample_deltas=[],(r=t.mdia.minf.stbl.ctts)&&(r.sample_counts=[],r.sample_offsets=[]),a=t.mdia.minf.stbl.stss;var s=t.mdia.minf.stbl.boxes.indexOf(a);-1!=s&&(t.mdia.minf.stbl.boxes[s]=null)}},g.initSampleGroups=function(e,t,i,n,r){function a(e,t,i){this.grouping_type=e,this.grouping_type_parameter=t,this.sbgp=i,this.last_sample_in_run=-1,this.entry_index=-1}var s,o,l,u;for(t&&(t.sample_groups_info=[]),e.sample_groups_info||(e.sample_groups_info=[]),o=0;o<i.length;o++){for(u=i[o].grouping_type+\"/\"+i[o].grouping_type_parameter,l=new a(i[o].grouping_type,i[o].grouping_type_parameter,i[o]),t&&(t.sample_groups_info[u]=l),e.sample_groups_info[u]||(e.sample_groups_info[u]=l),s=0;s<n.length;s++)n[s].grouping_type===i[o].grouping_type&&(l.description=n[s],l.description.used=!0);if(r)for(s=0;s<r.length;s++)r[s].grouping_type===i[o].grouping_type&&(l.fragment_description=r[s],l.fragment_description.used=!0,l.is_fragment=!0)}if(t){if(r)for(o=0;o<r.length;o++)!r[o].used&&r[o].version>=2&&(u=r[o].grouping_type+\"/0\",(l=new a(r[o].grouping_type,0)).is_fragment=!0,t.sample_groups_info[u]||(t.sample_groups_info[u]=l))}else for(o=0;o<n.length;o++)!n[o].used&&n[o].version>=2&&(u=n[o].grouping_type+\"/0\",l=new a(n[o].grouping_type,0),e.sample_groups_info[u]||(e.sample_groups_info[u]=l))},g.setSampleGroupProperties=function(e,t,i,n){var r,a;for(r in t.sample_groups=[],n){var s;t.sample_groups[r]={},t.sample_groups[r].grouping_type=n[r].grouping_type,t.sample_groups[r].grouping_type_parameter=n[r].grouping_type_parameter,i>=n[r].last_sample_in_run&&(n[r].last_sample_in_run<0&&(n[r].last_sample_in_run=0),n[r].entry_index++,n[r].entry_index<=n[r].sbgp.entries.length-1&&(n[r].last_sample_in_run+=n[r].sbgp.entries[n[r].entry_index].sample_count)),n[r].entry_index<=n[r].sbgp.entries.length-1?t.sample_groups[r].group_description_index=n[r].sbgp.entries[n[r].entry_index].group_description_index:t.sample_groups[r].group_description_index=-1,0!==t.sample_groups[r].group_description_index&&(s=n[r].fragment_description?n[r].fragment_description:n[r].description,t.sample_groups[r].group_description_index>0?(a=t.sample_groups[r].group_description_index>65535?(t.sample_groups[r].group_description_index>>16)-1:t.sample_groups[r].group_description_index-1,s&&a>=0&&(t.sample_groups[r].description=s.entries[a])):s&&s.version>=2&&s.default_group_description_index>0&&(t.sample_groups[r].description=s.entries[s.default_group_description_index-1]))}},g.process_sdtp=function(e,t,i){t&&(e?(t.is_leading=e.is_leading[i],t.depends_on=e.sample_depends_on[i],t.is_depended_on=e.sample_is_depended_on[i],t.has_redundancy=e.sample_has_redundancy[i]):(t.is_leading=0,t.depends_on=0,t.is_depended_on=0,t.has_redundancy=0))},g.prototype.buildSampleLists=function(){var e,t;for(e=0;e<this.moov.traks.length;e++)t=this.moov.traks[e],this.buildTrakSampleLists(t)},g.prototype.buildTrakSampleLists=function(e){var t,i,n,r,a,s,o,l,u,d,c,h,f,p,m,_,v,y,b,A,E,w,T,S;if(e.samples=[],e.samples_duration=0,e.samples_size=0,i=e.mdia.minf.stbl.stco||e.mdia.minf.stbl.co64,n=e.mdia.minf.stbl.stsc,r=e.mdia.minf.stbl.stsz||e.mdia.minf.stbl.stz2,a=e.mdia.minf.stbl.stts,s=e.mdia.minf.stbl.ctts,o=e.mdia.minf.stbl.stss,l=e.mdia.minf.stbl.stsd,u=e.mdia.minf.stbl.subs,h=e.mdia.minf.stbl.stdp,d=e.mdia.minf.stbl.sbgps,c=e.mdia.minf.stbl.sgpds,y=-1,b=-1,A=-1,E=-1,w=0,T=0,S=0,g.initSampleGroups(e,null,d,c),void 0!==r){for(t=0;t<r.sample_sizes.length;t++){var C={};C.number=t,C.track_id=e.tkhd.track_id,C.timescale=e.mdia.mdhd.timescale,C.alreadyRead=0,e.samples[t]=C,C.size=r.sample_sizes[t],e.samples_size+=C.size,0===t?(p=1,f=0,C.chunk_index=p,C.chunk_run_index=f,v=n.samples_per_chunk[f],_=0,m=f+1<n.first_chunk.length?n.first_chunk[f+1]-1:1/0):t<v?(C.chunk_index=p,C.chunk_run_index=f):(p++,C.chunk_index=p,_=0,p<=m||(m=++f+1<n.first_chunk.length?n.first_chunk[f+1]-1:1/0),C.chunk_run_index=f,v+=n.samples_per_chunk[f]),C.description_index=n.sample_description_index[C.chunk_run_index]-1,C.description=l.entries[C.description_index],C.offset=i.chunk_offsets[C.chunk_index-1]+_,_+=C.size,t>y&&(b++,y<0&&(y=0),y+=a.sample_counts[b]),t>0?(e.samples[t-1].duration=a.sample_deltas[b],e.samples_duration+=e.samples[t-1].duration,C.dts=e.samples[t-1].dts+e.samples[t-1].duration):C.dts=0,s?(t>=A&&(E++,A<0&&(A=0),A+=s.sample_counts[E]),C.cts=e.samples[t].dts+s.sample_offsets[E]):C.cts=C.dts,o?(t==o.sample_numbers[w]-1?(C.is_sync=!0,w++):(C.is_sync=!1,C.degradation_priority=0),u&&u.entries[T].sample_delta+S==t+1&&(C.subsamples=u.entries[T].subsamples,S+=u.entries[T].sample_delta,T++)):C.is_sync=!0,g.process_sdtp(e.mdia.minf.stbl.sdtp,C,C.number),C.degradation_priority=h?h.priority[t]:0,u&&u.entries[T].sample_delta+S==t&&(C.subsamples=u.entries[T].subsamples,S+=u.entries[T].sample_delta),(d.length>0||c.length>0)&&g.setSampleGroupProperties(e,C,t,e.sample_groups_info)}t>0&&(e.samples[t-1].duration=Math.max(e.mdia.mdhd.duration-e.samples[t-1].dts,0),e.samples_duration+=e.samples[t-1].duration)}},g.prototype.updateSampleLists=function(){var e,t,i,n,r,a,s,o,l,u,d,c,f,p,m;if(void 0!==this.moov)for(;this.lastMoofIndex<this.moofs.length;)if(l=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,\"moof\"==l.type)for(u=l,e=0;e<u.trafs.length;e++){for(d=u.trafs[e],c=this.getTrackById(d.tfhd.track_id),f=this.getTrexById(d.tfhd.track_id),n=d.tfhd.flags&h.TFHD_FLAG_SAMPLE_DESC?d.tfhd.default_sample_description_index:f?f.default_sample_description_index:1,r=d.tfhd.flags&h.TFHD_FLAG_SAMPLE_DUR?d.tfhd.default_sample_duration:f?f.default_sample_duration:0,a=d.tfhd.flags&h.TFHD_FLAG_SAMPLE_SIZE?d.tfhd.default_sample_size:f?f.default_sample_size:0,s=d.tfhd.flags&h.TFHD_FLAG_SAMPLE_FLAGS?d.tfhd.default_sample_flags:f?f.default_sample_flags:0,d.sample_number=0,d.sbgps.length>0&&g.initSampleGroups(c,d,d.sbgps,c.mdia.minf.stbl.sgpds,d.sgpds),t=0;t<d.truns.length;t++){var _=d.truns[t];for(i=0;i<_.sample_count;i++){(p={}).moof_number=this.lastMoofIndex,p.number_in_traf=d.sample_number,d.sample_number++,p.number=c.samples.length,d.first_sample_index=c.samples.length,c.samples.push(p),p.track_id=c.tkhd.track_id,p.timescale=c.mdia.mdhd.timescale,p.description_index=n-1,p.description=c.mdia.minf.stbl.stsd.entries[p.description_index],p.size=a,_.flags&h.TRUN_FLAGS_SIZE&&(p.size=_.sample_size[i]),c.samples_size+=p.size,p.duration=r,_.flags&h.TRUN_FLAGS_DURATION&&(p.duration=_.sample_duration[i]),c.samples_duration+=p.duration,c.first_traf_merged||i>0?p.dts=c.samples[c.samples.length-2].dts+c.samples[c.samples.length-2].duration:(d.tfdt?p.dts=d.tfdt.baseMediaDecodeTime:p.dts=0,c.first_traf_merged=!0),p.cts=p.dts,_.flags&h.TRUN_FLAGS_CTS_OFFSET&&(p.cts=p.dts+_.sample_composition_time_offset[i]),m=s,_.flags&h.TRUN_FLAGS_FLAGS?m=_.sample_flags[i]:0===i&&_.flags&h.TRUN_FLAGS_FIRST_FLAG&&(m=_.first_sample_flags),p.is_sync=!(m>>16&1),p.is_leading=m>>26&3,p.depends_on=m>>24&3,p.is_depended_on=m>>22&3,p.has_redundancy=m>>20&3,p.degradation_priority=65535&m;var v=!!(d.tfhd.flags&h.TFHD_FLAG_BASE_DATA_OFFSET),y=!!(d.tfhd.flags&h.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),b=!!(_.flags&h.TRUN_FLAGS_DATA_OFFSET),A=0;A=v?d.tfhd.base_data_offset:y||0===t?u.start:o,p.offset=0===t&&0===i?b?A+_.data_offset:A:o,o=p.offset+p.size,(d.sbgps.length>0||d.sgpds.length>0||c.mdia.minf.stbl.sbgps.length>0||c.mdia.minf.stbl.sgpds.length>0)&&g.setSampleGroupProperties(c,p,p.number_in_traf,d.sample_groups_info)}}if(d.subs){c.has_fragment_subsamples=!0;var E=d.first_sample_index;for(t=0;t<d.subs.entries.length;t++)E+=d.subs.entries[t].sample_delta,(p=c.samples[E-1]).subsamples=d.subs.entries[t].subsamples}}},g.prototype.getSample=function(e,t){var i,n=e.samples[t];if(!this.moov)return null;if(n.data){if(n.alreadyRead==n.size)return n}else n.data=new Uint8Array(n.size),n.alreadyRead=0,this.samplesDataSize+=n.size,a.debug(\"ISOFile\",\"Allocating sample #\"+t+\" on track #\"+e.tkhd.track_id+\" of size \"+n.size+\" (total: \"+this.samplesDataSize+\")\");for(;;){var r=this.stream.findPosition(!0,n.offset+n.alreadyRead,!1);if(!(r>-1))return null;var s=(i=this.stream.buffers[r]).byteLength-(n.offset+n.alreadyRead-i.fileStart);if(n.size-n.alreadyRead<=s)return a.debug(\"ISOFile\",\"Getting sample #\"+t+\" data (alreadyRead: \"+n.alreadyRead+\" offset: \"+(n.offset+n.alreadyRead-i.fileStart)+\" read size: \"+(n.size-n.alreadyRead)+\" full size: \"+n.size+\")\"),l.memcpy(n.data.buffer,n.alreadyRead,i,n.offset+n.alreadyRead-i.fileStart,n.size-n.alreadyRead),i.usedBytes+=n.size-n.alreadyRead,this.stream.logBufferLevel(),n.alreadyRead=n.size,n;if(0===s)return null;a.debug(\"ISOFile\",\"Getting sample #\"+t+\" partial data (alreadyRead: \"+n.alreadyRead+\" offset: \"+(n.offset+n.alreadyRead-i.fileStart)+\" read size: \"+s+\" full size: \"+n.size+\")\"),l.memcpy(n.data.buffer,n.alreadyRead,i,n.offset+n.alreadyRead-i.fileStart,s),n.alreadyRead+=s,i.usedBytes+=s,this.stream.logBufferLevel()}},g.prototype.releaseSample=function(e,t){var i=e.samples[t];return i.data?(this.samplesDataSize-=i.size,i.data=null,i.alreadyRead=0,i.size):0},g.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize},g.prototype.getCodecs=function(){var e,t=\"\";for(e=0;e<this.moov.traks.length;e++)e>0&&(t+=\",\"),t+=this.moov.traks[e].mdia.minf.stbl.stsd.entries[0].getCodec();return t},g.prototype.getTrexById=function(e){var t;if(!this.moov||!this.moov.mvex)return null;for(t=0;t<this.moov.mvex.trexs.length;t++){var i=this.moov.mvex.trexs[t];if(i.track_id==e)return i}return null},g.prototype.getTrackById=function(e){if(void 0===this.moov)return null;for(var t=0;t<this.moov.traks.length;t++){var i=this.moov.traks[t];if(i.tkhd.track_id==e)return i}return null},g.prototype.items=[],g.prototype.itemsDataSize=0,g.prototype.flattenItemInfo=function(){var e,t,i,n=this.items,r=this.meta;if(null!=r&&void 0!==r.hdlr&&void 0!==r.iinf){for(e=0;e<r.iinf.item_infos.length;e++)(i={}).id=r.iinf.item_infos[e].item_ID,n[i.id]=i,i.ref_to=[],i.name=r.iinf.item_infos[e].item_name,r.iinf.item_infos[e].protection_index>0&&(i.protection=r.ipro.protections[r.iinf.item_infos[e].protection_index-1]),r.iinf.item_infos[e].item_type?i.type=r.iinf.item_infos[e].item_type:i.type=\"mime\",i.content_type=r.iinf.item_infos[e].content_type,i.content_encoding=r.iinf.item_infos[e].content_encoding;if(r.iloc)for(e=0;e<r.iloc.items.length;e++){var s=r.iloc.items[e];switch(i=n[s.item_ID],0!==s.data_reference_index&&(a.warn(\"Item storage with reference to other files: not supported\"),i.source=r.dinf.boxes[s.data_reference_index-1]),s.construction_method){case 0:break;case 1:case 2:a.warn(\"Item storage with construction_method : not supported\")}for(i.extents=[],i.size=0,t=0;t<s.extents.length;t++)i.extents[t]={},i.extents[t].offset=s.extents[t].extent_offset+s.base_offset,i.extents[t].length=s.extents[t].extent_length,i.extents[t].alreadyRead=0,i.size+=i.extents[t].length}if(r.pitm&&(n[r.pitm.item_id].primary=!0),r.iref)for(e=0;e<r.iref.references.length;e++){var o=r.iref.references[e];for(t=0;t<o.references.length;t++)n[o.from_item_ID].ref_to.push({type:o.type,id:o.references[t]})}if(r.iprp)for(var l=0;l<r.iprp.ipmas.length;l++){var u=r.iprp.ipmas[l];for(e=0;e<u.associations.length;e++){var d=u.associations[e];for(void 0===(i=n[d.id]).properties&&(i.properties={},i.properties.boxes=[]),t=0;t<d.props.length;t++){var c=d.props[t];if(c.property_index>0){var h=r.iprp.ipco.boxes[c.property_index-1];i.properties[h.type]=h,i.properties.boxes.push(h)}}}}}},g.prototype.getItem=function(e){var t,i;if(!this.meta)return null;if(!(i=this.items[e]).data&&i.size)i.data=new Uint8Array(i.size),i.alreadyRead=0,this.itemsDataSize+=i.size,a.debug(\"ISOFile\",\"Allocating item #\"+e+\" of size \"+i.size+\" (total: \"+this.itemsDataSize+\")\");else if(i.alreadyRead===i.size)return i;for(var n=0;n<i.extents.length;n++){var r=i.extents[n];if(r.alreadyRead!==r.length){var s=this.stream.findPosition(!0,r.offset+r.alreadyRead,!1);if(!(s>-1))return null;var o=(t=this.stream.buffers[s]).byteLength-(r.offset+r.alreadyRead-t.fileStart);if(!(r.length-r.alreadyRead<=o))return a.debug(\"ISOFile\",\"Getting item #\"+e+\" extent #\"+n+\" partial data (alreadyRead: \"+r.alreadyRead+\" offset: \"+(r.offset+r.alreadyRead-t.fileStart)+\" read size: \"+o+\" full extent size: \"+r.length+\" full item size: \"+i.size+\")\"),l.memcpy(i.data.buffer,i.alreadyRead,t,r.offset+r.alreadyRead-t.fileStart,o),r.alreadyRead+=o,i.alreadyRead+=o,t.usedBytes+=o,this.stream.logBufferLevel(),null;a.debug(\"ISOFile\",\"Getting item #\"+e+\" extent #\"+n+\" data (alreadyRead: \"+r.alreadyRead+\" offset: \"+(r.offset+r.alreadyRead-t.fileStart)+\" read size: \"+(r.length-r.alreadyRead)+\" full extent size: \"+r.length+\" full item size: \"+i.size+\")\"),l.memcpy(i.data.buffer,i.alreadyRead,t,r.offset+r.alreadyRead-t.fileStart,r.length-r.alreadyRead),t.usedBytes+=r.length-r.alreadyRead,this.stream.logBufferLevel(),i.alreadyRead+=r.length-r.alreadyRead,r.alreadyRead=r.length}}return i.alreadyRead===i.size?i:null},g.prototype.releaseItem=function(e){var t=this.items[e];if(t.data){this.itemsDataSize-=t.size,t.data=null,t.alreadyRead=0;for(var i=0;i<t.extents.length;i++)t.extents[i].alreadyRead=0;return t.size}return 0},g.prototype.processItems=function(e){for(var t in this.items){var i=this.items[t];this.getItem(i.id),e&&!i.sent&&(e(i),i.sent=!0,i.data=null)}},g.prototype.hasItem=function(e){for(var t in this.items){var i=this.items[t];if(i.name===e)return i.id}return-1},g.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.handler:null},g.prototype.getPrimaryItem=function(){return this.meta&&this.meta.pitm?this.getItem(this.meta.pitm.item_id):null},g.prototype.itemToFragmentedTrackFile=function(e){var t=e||{},i=null;if(null==(i=t.itemId?this.getItem(t.itemId):this.getPrimaryItem()))return null;var n=new g;n.discardMdatData=!1;var r={type:i.type,description_boxes:i.properties.boxes};i.properties.ispe&&(r.width=i.properties.ispe.image_width,r.height=i.properties.ispe.image_height);var a=n.addTrack(r);return a?(n.addSample(a,i.data),n):null},g.prototype.write=function(e){for(var t=0;t<this.boxes.length;t++)this.boxes[t].write(e)},g.prototype.createFragment=function(e,t,i){var n=this.getTrackById(e),r=this.getSample(n,t);if(null==r)return r=n.samples[t],this.nextSeekPosition?this.nextSeekPosition=Math.min(r.offset+r.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=n.samples[t].offset+r.alreadyRead,null;var s=i||new l;s.endianness=l.BIG_ENDIAN;var o=g.createSingleSampleMoof(r);o.write(s),o.trafs[0].truns[0].data_offset=o.size+8,a.debug(\"MP4Box\",\"Adjusting data_offset with new value \"+o.trafs[0].truns[0].data_offset),s.adjustUint32(o.trafs[0].truns[0].data_offset_position,o.trafs[0].truns[0].data_offset);var u=new h.mdatBox;return u.data=r.data,u.write(s),s},g.writeInitializationSegment=function(e,t,i,n){var r;a.debug(\"ISOFile\",\"Generating initialization segment\");var s=new l;s.endianness=l.BIG_ENDIAN,e.write(s);var o=t.add(\"mvex\");for(i&&o.add(\"mehd\").set(\"fragment_duration\",i),r=0;r<t.traks.length;r++)o.add(\"trex\").set(\"track_id\",t.traks[r].tkhd.track_id).set(\"default_sample_description_index\",1).set(\"default_sample_duration\",n).set(\"default_sample_size\",0).set(\"default_sample_flags\",65536);return t.write(s),s.buffer},g.prototype.save=function(e){var t=new l;t.endianness=l.BIG_ENDIAN,this.write(t),t.save(e)},g.prototype.getBuffer=function(){var e=new l;return e.endianness=l.BIG_ENDIAN,this.write(e),e.buffer},g.prototype.initializeSegmentation=function(){var e,t,i,n;for(null===this.onSegment&&a.warn(\"MP4Box\",\"No segmentation callback set!\"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.resetTables()),t=[],e=0;e<this.fragmentedTracks.length;e++){var r=new h.moovBox;r.mvhd=this.moov.mvhd,r.boxes.push(r.mvhd),i=this.getTrackById(this.fragmentedTracks[e].id),r.boxes.push(i),r.traks.push(i),(n={}).id=i.tkhd.track_id,n.user=this.fragmentedTracks[e].user,n.buffer=g.writeInitializationSegment(this.ftyp,r,this.moov.mvex&&this.moov.mvex.mehd?this.moov.mvex.mehd.fragment_duration:void 0,this.moov.traks[e].samples.length>0?this.moov.traks[e].samples[0].duration:0),t.push(n)}return t},h.Box.prototype.printHeader=function(e){this.size+=8,this.size>u&&(this.size+=8),\"uuid\"===this.type&&(this.size+=16),e.log(e.indent+\"size:\"+this.size),e.log(e.indent+\"type:\"+this.type)},h.FullBox.prototype.printHeader=function(e){this.size+=4,h.Box.prototype.printHeader.call(this,e),e.log(e.indent+\"version:\"+this.version),e.log(e.indent+\"flags:\"+this.flags)},h.Box.prototype.print=function(e){this.printHeader(e)},h.ContainerBox.prototype.print=function(e){this.printHeader(e);for(var t=0;t<this.boxes.length;t++)if(this.boxes[t]){var i=e.indent;e.indent+=\" \",this.boxes[t].print(e),e.indent=i}},g.prototype.print=function(e){e.indent=\"\";for(var t=0;t<this.boxes.length;t++)this.boxes[t]&&this.boxes[t].print(e)},h.mvhdBox.prototype.print=function(e){h.FullBox.prototype.printHeader.call(this,e),e.log(e.indent+\"creation_time: \"+this.creation_time),e.log(e.indent+\"modification_time: \"+this.modification_time),e.log(e.indent+\"timescale: \"+this.timescale),e.log(e.indent+\"duration: \"+this.duration),e.log(e.indent+\"rate: \"+this.rate),e.log(e.indent+\"volume: \"+(this.volume>>8)),e.log(e.indent+\"matrix: \"+this.matrix.join(\", \")),e.log(e.indent+\"next_track_id: \"+this.next_track_id)},h.tkhdBox.prototype.print=function(e){h.FullBox.prototype.printHeader.call(this,e),e.log(e.indent+\"creation_time: \"+this.creation_time),e.log(e.indent+\"modification_time: \"+this.modification_time),e.log(e.indent+\"track_id: \"+this.track_id),e.log(e.indent+\"duration: \"+this.duration),e.log(e.indent+\"volume: \"+(this.volume>>8)),e.log(e.indent+\"matrix: \"+this.matrix.join(\", \")),e.log(e.indent+\"layer: \"+this.layer),e.log(e.indent+\"alternate_group: \"+this.alternate_group),e.log(e.indent+\"width: \"+this.width),e.log(e.indent+\"height: \"+this.height)};var _={createFile:function(e,t){var i=void 0===e||e,n=new g(t);return n.discardMdatData=!i,n}};void 0!==i&&(i.createFile=_.createFile)},{}],41:[function(e,t,i){function n(e){return e&&\"object\"==(\"undefined\"==typeof e?\"undefined\":s(e))&&\"default\"in e?e:{default:e}}Object.defineProperty(i,\"__esModule\",{value:!0});var r=e(\"@videojs/vhs-utils/cjs/resolve-url\"),a=e(\"global/window\"),o=e(\"@videojs/vhs-utils/cjs/decode-b64-to-uint8-array\"),l=e(\"@xmldom/xmldom\"),u=n(r),d=n(a),c=n(o),h=function(e){return!!e&&\"object\"==(\"undefined\"==typeof e?\"undefined\":s(e))},f=function e(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return i.reduce(function(t,i){return\"object\"!=(\"undefined\"==typeof i?\"undefined\":s(i))||Object.keys(i).forEach(function(n){Array.isArray(t[n])&&Array.isArray(i[n])?t[n]=t[n].concat(i[n]):h(t[n])&&h(i[n])?t[n]=e(t[n],i[n]):t[n]=i[n]}),t},{})},p=function(e){return e.reduce(function(e,t){return e.concat(t)},[])},m=function(e){if(!e.length)return[];for(var t=[],i=0;i<e.length;i++)t.push(e[i]);return t},g=\"INVALID_NUMBER_OF_PERIOD\",_=\"DASH_EMPTY_MANIFEST\",v=\"DASH_INVALID_XML\",y=\"NO_BASE_URL\",b=\"SEGMENT_TIME_UNSPECIFIED\",A=\"UNSUPPORTED_UTC_TIMING_SCHEME\",E=function(e){var t=e.baseUrl,i=void 0===t?\"\":t,n=e.source,r=void 0===n?\"\":n,a=e.range,s=void 0===a?\"\":a,o=e.indexRange,l=void 0===o?\"\":o,d={uri:r,resolvedUri:u.default(i||\"\",r)};if(s||l){var c=(s||l).split(\"-\"),h=parseInt(c[0],10),f=parseInt(c[1],10);d.byterange={length:f-h+1,offset:h}}return d},w=function(e){return e&&\"number\"!=typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e},T={static:function(e){var t=e.duration,i=e.timescale,n=void 0===i?1:i,r=e.sourceDuration,a=e.periodDuration,s=w(e.endNumber),o=t/n;return\"number\"==typeof s?{start:0,end:s}:\"number\"==typeof a?{start:0,end:a/o}:{start:0,end:r/o}},dynamic:function(e){var t=e.NOW,i=e.clientOffset,n=e.availabilityStartTime,r=e.timescale,a=void 0===r?1:r,s=e.duration,o=e.start,l=void 0===o?0:o,u=e.minimumUpdatePeriod,d=void 0===u?0:u,c=e.timeShiftBufferDepth,h=void 0===c?1/0:c,f=w(e.endNumber),p=(t+i)/1e3,m=n+l,g=p+d-m,_=Math.ceil(g*a/s),v=Math.floor((p-m-h)*a/s),y=Math.floor((p-m)*a/s);return{start:Math.max(0,v),end:\"number\"==typeof f?f:Math.min(_,y)}}},S=function(e){var t=e.type,i=e.duration,n=e.timescale,r=void 0===n?1:n,a=e.periodDuration,s=e.sourceDuration,o=T[t](e),l=function(e,t){for(var i=[],n=e;n<t;n++)i.push(n);return i}(o.start,o.end).map(function(e){return function(t,i){var n=e.duration,r=e.timescale,a=void 0===r?1:r,s=e.periodIndex,o=e.startNumber;return{number:(void 0===o?1:o)+t,duration:n/a,timeline:s,time:i*n}}}(e));if(\"static\"===t){var u=l.length-1,d=\"number\"==typeof a?a:s;l[u].duration=d-i/r*u}return l},C=function(e){var t=e.baseUrl,i=e.initialization,n=void 0===i?{}:i,r=e.sourceDuration,a=e.indexRange,s=void 0===a?\"\":a,o=e.duration;if(!t)throw new Error(y);var l=E({baseUrl:t,source:n.sourceURL,range:n.range}),u=E({baseUrl:t,source:t,indexRange:s});if(u.map=l,o){var d=S(e);d.length&&(u.duration=d[0].duration,u.timeline=d[0].timeline)}else r&&(u.duration=r,u.timeline=0);return u.number=0,[u]},k=function(e,t,i){for(var n=e.sidx.map?e.sidx.map:null,r=e.sidx.duration,a=e.timeline||0,s=e.sidx.byterange,o=s.offset+s.length,l=t.timescale,u=t.references.filter(function(e){return 1!==e.referenceType}),d=[],c=e.endList?\"static\":\"dynamic\",h=o+t.firstOffset,f=0;f<u.length;f++){var p=t.references[f],m=p.referencedSize,g=p.subsegmentDuration,_=C({baseUrl:i,timescale:l,timeline:a,periodIndex:a,duration:g,sourceDuration:r,indexRange:h+\"-\"+(h+m-1),type:c})[0];n&&(_.map=n),d.push(_),h+=m}return e.segments=d,e},L=function(e){return e&&e.uri+\"-\"+(t=e.byterange,i=t.offset+t.length-1,t.offset+\"-\"+i);var t,i},x=function(e){var t;return(t=e.reduce(function(e,t){var i,n=t.attributes.id+(t.attributes.lang||\"\");return e[n]?(t.segments[0]&&(t.segments[0].discontinuity=!0),(i=e[n].segments).push.apply(i,t.segments),t.attributes.contentProtection&&(e[n].attributes.contentProtection=t.attributes.contentProtection)):e[n]=t,e},{}),Object.keys(t).map(function(e){return t[e]})).map(function(e){var t,i;return e.discontinuityStarts=(t=e.segments,i=\"discontinuity\",t.reduce(function(e,t,n){return t[i]&&e.push(n),e},[])),e})},I=function(e,t){var i=L(e.sidx),n=i&&t[i]&&t[i].sidx;return n&&k(e,n,e.sidx.resolvedUri),e},P=function(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var i in e)e[i]=I(e[i],t);return e},R=function(e){var t,i=e.attributes,n=e.segments,r=e.sidx,a={attributes:(t={NAME:i.id,AUDIO:\"audio\",SUBTITLES:\"subs\",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},t[\"PROGRAM-ID\"]=1,t),uri:\"\",endList:\"static\"===i.type,timeline:i.periodIndex,resolvedUri:\"\",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1};return i.contentProtection&&(a.contentProtection=i.contentProtection),r&&(a.sidx=r),a},D=function(e){var t=e.attributes;return\"video/mp4\"===t.mimeType||\"video/webm\"===t.mimeType||\"video\"===t.contentType},O=function(e){var t=e.attributes;return\"audio/mp4\"===t.mimeType||\"audio/webm\"===t.mimeType||\"audio\"===t.contentType},M=function(e){var t=e.attributes;return\"text/vtt\"===t.mimeType||\"text\"===t.contentType},U=function(e,t,i){var n;if(void 0===i&&(i={}),!e.length)return{};var r=e[0].attributes,a=r.sourceDuration,s=r.type,o=r.suggestedPresentationDelay,l=r.minimumUpdatePeriod,u=x(e.filter(D)).map(R),d=x(e.filter(O)),c=e.filter(M),h=e.map(function(e){return e.attributes.captionServices}).filter(Boolean),f={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(n={AUDIO:{},VIDEO:{}},n[\"CLOSED-CAPTIONS\"]={},n.SUBTITLES={},n),uri:\"\",duration:a,playlists:P(u,i)};l>=0&&(f.minimumUpdatePeriod=1e3*l),t&&(f.locations=t),\"dynamic\"===s&&(f.suggestedPresentationDelay=o);var p=0===f.playlists.length;return d.length&&(f.mediaGroups.AUDIO.audio=function(e,t,i){var n;void 0===t&&(t={}),void 0===i&&(i=!1);var r=e.reduce(function(e,r){var a=r.attributes.role&&r.attributes.role.value||\"\",s=r.attributes.lang||\"\",o=r.attributes.label||\"main\";if(s&&!r.attributes.label){var l=a?\" (\"+a+\")\":\"\";o=\"\"+r.attributes.lang+l}e[o]||(e[o]={language:s,autoselect:!0,default:\"main\"===a,playlists:[],uri:\"\"});var u=I(function(e,t){var i,n=e.attributes,r=e.segments,a=e.sidx,s={attributes:(i={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},i[\"PROGRAM-ID\"]=1,i),uri:\"\",endList:\"static\"===n.type,timeline:n.periodIndex,resolvedUri:\"\",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1};return n.contentProtection&&(s.contentProtection=n.contentProtection),a&&(s.sidx=a),t&&(s.attributes.AUDIO=\"audio\",s.attributes.SUBTITLES=\"subs\"),s}(r,i),t);return e[o].playlists.push(u),void 0===n&&\"main\"===a&&((n=r).default=!0),e},{});return n||(r[Object.keys(r)[0]].default=!0),r}(d,i,p)),c.length&&(f.mediaGroups.SUBTITLES.subs=function(e,t){return void 0===t&&(t={}),e.reduce(function(e,i){var n=i.attributes.lang||\"text\";return e[n]||(e[n]={language:n,default:!1,autoselect:!1,playlists:[],uri:\"\"}),e[n].playlists.push(I(function(e){var t,i=e.attributes,n=e.segments;void 0===n&&(n=[{uri:i.baseUrl,timeline:i.periodIndex,resolvedUri:i.baseUrl||\"\",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration);var r=((t={NAME:i.id,BANDWIDTH:i.bandwidth})[\"PROGRAM-ID\"]=1,t);return i.codecs&&(r.CODECS=i.codecs),\n{attributes:r,uri:\"\",endList:\"static\"===i.type,timeline:i.periodIndex,resolvedUri:i.baseUrl||\"\",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1}}(i),t)),e},{})}(c,i)),h.length&&(f.mediaGroups[\"CLOSED-CAPTIONS\"].cc=h.reduce(function(e,t){return t?(t.forEach(function(t){var i=t.channel,n=t.language;e[n]={autoselect:!1,default:!1,instreamId:i,language:n},t.hasOwnProperty(\"aspectRatio\")&&(e[n].aspectRatio=t.aspectRatio),t.hasOwnProperty(\"easyReader\")&&(e[n].easyReader=t.easyReader),t.hasOwnProperty(\"3D\")&&(e[n][\"3D\"]=t[\"3D\"])}),e):e},{})),f},j=function(e,t,i){var n=e.NOW,r=e.clientOffset,a=e.availabilityStartTime,s=e.timescale,o=void 0===s?1:s,l=e.start,u=void 0===l?0:l,d=e.minimumUpdatePeriod,c=(n+r)/1e3+(void 0===d?0:d)-(a+u);return Math.ceil((c*o-t)/i)},B=function(e,t){for(var i=e.type,n=e.minimumUpdatePeriod,r=void 0===n?0:n,a=e.media,s=void 0===a?\"\":a,o=e.sourceDuration,l=e.timescale,u=void 0===l?1:l,d=e.startNumber,c=void 0===d?1:d,h=e.periodIndex,f=[],p=-1,m=0;m<t.length;m++){var g=t[m],_=g.d,v=g.r||0,y=g.t||0;p<0&&(p=y),y&&y>p&&(p=y);var b=void 0;if(v<0){var A=m+1;b=A===t.length?\"dynamic\"===i&&r>0&&s.indexOf(\"$Number$\")>0?j(e,p,_):(o*u-p)/_:(t[A].t-p)/_}else b=v+1;for(var E=c+f.length+b,w=c+f.length;w<E;)f.push({number:w,duration:_/u,time:p,timeline:h}),p+=_,w++}return f},N=/\\$([A-z]*)(?:(%0)([0-9]+)d)?\\$/g,F=function(e,t){return e.replace(N,function(e){return function(t,i,n,r){if(\"$$\"===t)return\"$\";if(void 0===e[i])return t;var a=\"\"+e[i];return\"RepresentationID\"===i?a:(r=n?parseInt(r,10):1,a.length>=r?a:\"\"+new Array(r-a.length+1).join(\"0\")+a)}}(t))},V=function(e,t){var i={RepresentationID:e.id,Bandwidth:e.bandwidth||0},n=e.initialization,r=void 0===n?{sourceURL:\"\",range:\"\"}:n,a=E({baseUrl:e.baseUrl,source:F(r.sourceURL,i),range:r.range});return function(e,t){return e.duration||t?e.duration?S(e):B(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]}(e,t).map(function(t){i.Number=t.number,i.Time=t.time;var n=F(e.media||\"\",i),r=e.timescale||1,s=e.presentationTimeOffset||0,o=e.periodStart+(t.time-s)/r;return{uri:n,timeline:t.timeline,duration:t.duration,resolvedUri:u.default(e.baseUrl||\"\",n),map:a,number:t.number,presentationTime:o}})},H=function(e,t){var i=e.duration,n=e.segmentUrls,r=void 0===n?[]:n,a=e.periodStart;if(!i&&!t||i&&t)throw new Error(b);var s,o=r.map(function(t){return function(e,t){var i=e.baseUrl,n=e.initialization,r=void 0===n?{}:n,a=E({baseUrl:i,source:r.sourceURL,range:r.range}),s=E({baseUrl:i,source:t.media,range:t.mediaRange});return s.map=a,s}(e,t)});return i&&(s=S(e)),t&&(s=B(e,t)),s.map(function(t,i){if(o[i]){var n=o[i],r=e.timescale||1,s=e.presentationTimeOffset||0;return n.timeline=t.timeline,n.duration=t.duration,n.number=t.number,n.presentationTime=a+(t.time-s)/r,n}}).filter(function(e){return e})},z=function(e){var t,i,n=e.attributes,r=e.segmentInfo;r.template?(i=V,t=f(n,r.template)):r.base?(i=C,t=f(n,r.base)):r.list&&(i=H,t=f(n,r.list));var a={attributes:n};if(!i)return a;var s=i(t,r.segmentTimeline);if(t.duration){var o=t,l=o.duration,u=o.timescale,d=void 0===u?1:u;t.duration=l/d}else s.length?t.duration=s.reduce(function(e,t){return Math.max(e,Math.ceil(t.duration))},0):t.duration=0;return a.attributes=t,a.segments=s,r.base&&t.indexRange&&(a.sidx=s[0],a.segments=[]),a},G=function(e){return e.map(z)},Y=function(e,t){return m(e.childNodes).filter(function(e){return e.tagName===t})},W=function(e){return e.textContent.trim()},q=function(e){var t=/P(?:(\\d*)Y)?(?:(\\d*)M)?(?:(\\d*)D)?(?:T(?:(\\d*)H)?(?:(\\d*)M)?(?:([\\d.]*)S)?)?/.exec(e);if(!t)return 0;var i=t.slice(1),n=i[0],r=i[1],a=i[2],s=i[3],o=i[4],l=i[5];return 31536e3*parseFloat(n||0)+2592e3*parseFloat(r||0)+86400*parseFloat(a||0)+3600*parseFloat(s||0)+60*parseFloat(o||0)+parseFloat(l||0)},Q={mediaPresentationDuration:function(e){return q(e)},availabilityStartTime:function(e){return/^\\d+-\\d+-\\d+T\\d+:\\d+:\\d+(\\.\\d+)?$/.test(t=e)&&(t+=\"Z\"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:function(e){return q(e)},suggestedPresentationDelay:function(e){return q(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return q(e)},start:function(e){return q(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?q(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},J=function(e){return e&&e.attributes?m(e.attributes).reduce(function(e,t){var i=Q[t.name]||Q.DEFAULT;return e[t.name]=i(t.value),e},{}):{}},K={\"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b\":\"org.w3.clearkey\",\"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed\":\"com.widevine.alpha\",\"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95\":\"com.microsoft.playready\",\"urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb\":\"com.adobe.primetime\"},X=function(e,t){return t.length?p(e.map(function(e){return t.map(function(t){return u.default(e,W(t))})})):e},Z=function(e){var t=Y(e,\"SegmentTemplate\")[0],i=Y(e,\"SegmentList\")[0],n=i&&Y(i,\"SegmentURL\").map(function(e){return f({tag:\"SegmentURL\"},J(e))}),r=Y(e,\"SegmentBase\")[0],a=i||t,s=a&&Y(a,\"SegmentTimeline\")[0],o=i||r||t,l=o&&Y(o,\"Initialization\")[0],u=t&&J(t);u&&l?u.initialization=l&&J(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});var d={template:u,segmentTimeline:s&&Y(s,\"S\").map(function(e){return J(e)}),list:i&&f(J(i),{segmentUrls:n,initialization:J(l)}),base:r&&f(J(r),{initialization:J(l)})};return Object.keys(d).forEach(function(e){d[e]||delete d[e]}),d},$=function(e,t,i){return function(n){var r,a=J(n),s=X(t,Y(n,\"BaseURL\")),o=Y(n,\"Role\")[0],l={role:J(o)},u=f(e,a,l),d=Y(n,\"Accessibility\")[0],h=\"urn:scte:dash:cc:cea-608:2015\"===(r=J(d)).schemeIdUri?r.value.split(\";\").map(function(e){var t,i;if(i=e,/^CC\\d=/.test(e)){var n=e.split(\"=\");t=n[0],i=n[1]}else/^CC\\d$/.test(e)&&(t=e);return{channel:t,language:i}}):\"urn:scte:dash:cc:cea-708:2015\"===r.schemeIdUri?r.value.split(\";\").map(function(e){var t={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,\"3D\":0};if(/=/.test(e)){var i=e.split(\"=\"),n=i[0],r=i[1],a=void 0===r?\"\":r;t.channel=n,t.language=e,a.split(\",\").forEach(function(e){var i=e.split(\":\"),n=i[0],r=i[1];\"lang\"===n?t.language=r:\"er\"===n?t.easyReader=Number(r):\"war\"===n?t.aspectRatio=Number(r):\"3D\"===n&&(t[\"3D\"]=Number(r))})}else t.language=e;return t.channel&&(t.channel=\"SERVICE\"+t.channel),t}):void 0;h&&(u=f(u,{captionServices:h}));var m=Y(n,\"Label\")[0];if(m&&m.childNodes.length){var g=m.childNodes[0].nodeValue.trim();u=f(u,{label:g})}var _=Y(n,\"ContentProtection\").reduce(function(e,t){var i=J(t),n=K[i.schemeIdUri];if(n){e[n]={attributes:i};var r=Y(t,\"cenc:pssh\")[0];if(r){var a=W(r),s=a&&c.default(a);e[n].pssh=s}}return e},{});Object.keys(_).length&&(u=f(u,{contentProtection:_}));var v=Z(n),y=Y(n,\"Representation\"),b=f(i,v);return p(y.map(function(e,t,i){return function(n){var r=Y(n,\"BaseURL\"),a=X(t,r),s=f(e,J(n)),o=Z(n);return a.map(function(e){return{segmentInfo:f(i,o),attributes:f(s,{baseUrl:e})}})}}(u,s,b)))}},ee=function(e,t){return function(i,n){var r=X(t,Y(i.node,\"BaseURL\")),a=parseInt(i.attributes.id,10),s=d.default.isNaN(a)?n:a,o=f(e,{periodIndex:s,periodStart:i.attributes.start});\"number\"==typeof i.attributes.duration&&(o.periodDuration=i.attributes.duration);var l=Y(i.node,\"AdaptationSet\"),u=Z(i.node);return p(l.map($(o,r,u)))}},te=function(e,t){void 0===t&&(t={});var i=t,n=i.manifestUri,r=void 0===n?\"\":n,a=i.NOW,s=void 0===a?Date.now():a,o=i.clientOffset,l=void 0===o?0:o,u=Y(e,\"Period\");if(!u.length)throw new Error(g);var d=Y(e,\"Location\"),c=J(e),h=X([r],Y(e,\"BaseURL\"));c.type=c.type||\"static\",c.sourceDuration=c.mediaPresentationDuration||0,c.NOW=s,c.clientOffset=l,d.length&&(c.locations=d.map(W));var f=[];return u.forEach(function(e,t){var i=J(e),n=f[t-1];i.start=function(e){var t=e.attributes,i=e.priorPeriodAttributes,n=e.mpdType;return\"number\"==typeof t.start?t.start:i&&\"number\"==typeof i.start&&\"number\"==typeof i.duration?i.start+i.duration:i||\"static\"!==n?null:0}({attributes:i,priorPeriodAttributes:n?n.attributes:null,mpdType:c.type}),f.push({node:e,attributes:i})}),{locations:c.locations,representationInfo:p(f.map(ee(c,h)))}},ie=function(e){if(\"\"===e)throw new Error(_);var t,i,n=new l.DOMParser;try{i=(t=n.parseFromString(e,\"application/xml\"))&&\"MPD\"===t.documentElement.tagName?t.documentElement:null}catch(e){}if(!i||i&&i.getElementsByTagName(\"parsererror\").length>0)throw new Error(v);return i};i.VERSION=\"0.19.0\",i.addSidxSegmentsToPlaylist=k,i.generateSidxKey=L,i.inheritAttributes=te,i.parse=function(e,t){void 0===t&&(t={});var i=te(ie(e),t),n=G(i.representationInfo);return U(n,i.locations,t.sidxMapping)},i.parseUTCTiming=function(e){return function(e){var t=Y(e,\"UTCTiming\")[0];if(!t)return null;var i=J(t);switch(i.schemeIdUri){case\"urn:mpeg:dash:utc:http-head:2014\":case\"urn:mpeg:dash:utc:http-head:2012\":i.method=\"HEAD\";break;case\"urn:mpeg:dash:utc:http-xsdate:2014\":case\"urn:mpeg:dash:utc:http-iso:2014\":case\"urn:mpeg:dash:utc:http-xsdate:2012\":case\"urn:mpeg:dash:utc:http-iso:2012\":i.method=\"GET\";break;case\"urn:mpeg:dash:utc:direct:2014\":case\"urn:mpeg:dash:utc:direct:2012\":i.method=\"DIRECT\",i.value=Date.parse(i.value);break;case\"urn:mpeg:dash:utc:http-ntp:2014\":case\"urn:mpeg:dash:utc:ntp:2014\":case\"urn:mpeg:dash:utc:sntp:2014\":default:throw new Error(A)}return i}(ie(e))},i.stringToMpdXml=ie,i.toM3u8=U,i.toPlaylists=G},{\"@videojs/vhs-utils/cjs/decode-b64-to-uint8-array\":13,\"@videojs/vhs-utils/cjs/resolve-url\":20,\"@xmldom/xmldom\":28,\"global/window\":35}],42:[function(e,t,i){var n=Math.pow(2,32);t.exports=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},r=12;0===i.version?(i.earliestPresentationTime=t.getUint32(r),i.firstOffset=t.getUint32(r+4),r+=8):(i.earliestPresentationTime=t.getUint32(r)*n+t.getUint32(r+4),i.firstOffset=t.getUint32(r+8)*n+t.getUint32(r+12),r+=16),r+=2;var a=t.getUint16(r);for(r+=2;a>0;r+=12,a--)i.references.push({referenceType:(128&e[r])>>>7,referencedSize:2147483647&t.getUint32(r),subsegmentDuration:t.getUint32(r+4),startsWithSap:!!(128&e[r+8]),sapType:(112&e[r+8])>>>4,sapDeltaTime:268435455&t.getUint32(r+8)});return i}},{}],43:[function(e,t,i){var n,r,a,s,o,l,u;n=function(e){return 9e4*e},r=function(e,t){return e*t},a=function(e){return e/9e4},s=function(e,t){return e/t},o=function(e,t){return n(s(e,t))},l=function(e,t){return r(a(e),t)},u=function(e,t,i){return a(i?e:e-t)},t.exports={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:n,secondsToAudioTs:r,videoTsToSeconds:a,audioTsToSeconds:s,audioTsToVideoTs:o,videoTsToAudioTs:l,metadataTsToSeconds:u}},{}],44:[function(e,t,i){function n(){throw new Error(\"setTimeout has not been defined\")}function r(){throw new Error(\"clearTimeout has not been defined\")}function a(e){if(d===setTimeout)return setTimeout(e,0);if((d===n||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function s(){m&&f&&(m=!1,f.length?p=f.concat(p):g=-1,p.length&&o())}function o(){if(!m){var e=a(s);m=!0;for(var t=p.length;t;){for(f=p,p=[];++g<t;)f&&f[g].run();g=-1,t=p.length}f=null,m=!1,function(e){if(c===clearTimeout)return clearTimeout(e);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var d,c,h=t.exports={};!function(){try{d=\"function\"==typeof setTimeout?setTimeout:n}catch(e){d=n}try{c=\"function\"==typeof clearTimeout?clearTimeout:r}catch(e){c=r}}();var f,p=[],m=!1,g=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];p.push(new l(e,t)),1!==p.length||m||a(o)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title=\"browser\",h.browser=!0,h.env={},h.argv=[],h.version=\"\",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(e){return[]},h.binding=function(e){throw new Error(\"process.binding is not supported\")},h.cwd=function(){return\"/\"},h.chdir=function(e){throw new Error(\"process.chdir is not supported\")},h.umask=function(){return 0}},{}],45:[function(e,t,i){t.exports=function(e,t){var i,n=null;try{i=JSON.parse(e,t)}catch(e){n=e}return[n,i]}},{}],46:[function(i,n,o){var l,u,d,c,h,f;l=this,u=/^((?:[a-zA-Z0-9+\\-.]+:)?)(\\/\\/[^\\/?#]*)?((?:[^\\/?#]*\\/)*[^;?#]*)?(;[^?#]*)?(\\?[^#]*)?(#[^]*)?$/,d=/^([^\\/?#]*)([^]*)$/,c=/(?:\\/|^)\\.(?=\\/)/g,h=/(?:\\/|^)\\.\\.\\/(?!\\.\\.\\/)[^\\/]*(?=\\/)/g,f={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),!(t=t.trim())){if(!i.alwaysNormalize)return e;var n=f.parseURL(e);if(!n)throw new Error(\"Error trying to parse base URL.\");return n.path=f.normalizePath(n.path),f.buildURLFromParts(n)}var r=f.parseURL(t);if(!r)throw new Error(\"Error trying to parse relative URL.\");if(r.scheme)return i.alwaysNormalize?(r.path=f.normalizePath(r.path),f.buildURLFromParts(r)):t;var a=f.parseURL(e);if(!a)throw new Error(\"Error trying to parse base URL.\");if(!a.netLoc&&a.path&&\"/\"!==a.path[0]){var s=d.exec(a.path);a.netLoc=s[1],a.path=s[2]}a.netLoc&&!a.path&&(a.path=\"/\");var o={scheme:a.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(o.netLoc=a.netLoc,\"/\"!==r.path[0]))if(r.path){var l=a.path,u=l.substring(0,l.lastIndexOf(\"/\")+1)+r.path;o.path=f.normalizePath(u)}else o.path=a.path,r.params||(o.params=a.params,r.query||(o.query=a.query));return null===o.path&&(o.path=i.alwaysNormalize?f.normalizePath(r.path):r.path),f.buildURLFromParts(o)},parseURL:function(e){var t=u.exec(e);return t?{scheme:t[1]||\"\",netLoc:t[2]||\"\",path:t[3]||\"\",params:t[4]||\"\",query:t[5]||\"\",fragment:t[6]||\"\"}:null},normalizePath:function(e){for(e=e.split(\"\").reverse().join(\"\").replace(c,\"\");e.length!==(e=e.replace(h,\"\")).length;);return e.split(\"\").reverse().join(\"\")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},\"object\"==(\"undefined\"==typeof o?\"undefined\":s(o))&&\"object\"==(\"undefined\"==typeof n?\"undefined\":s(n))?n.exports=f:(r=[],a=function(){return f}.apply(t,r),!(void 0!==a&&(e.exports=a)))},{}],47:[function(e,t,i){function n(e){return e&&\"object\"==(\"undefined\"==typeof e?\"undefined\":s(e))&&\"default\"in e?e:{default:e}}function r(e,t){ct(e).forEach(function(i){return t(e[i],i)})}function a(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return Object.assign?Fe.default.apply(void 0,[e].concat(i)):(i.forEach(function(t){t&&r(t,function(t,i){e[i]=t})}),e)}function o(e){return!!e&&\"object\"==(\"undefined\"==typeof e?\"undefined\":s(e))}function l(e){return o(e)&&\"[object Object]\"===dt.call(e)&&e.constructor===Object}function u(e,t){if(!e||!t)return\"\";if(\"function\"==typeof Be.default.getComputedStyle){var i;try{i=Be.default.getComputedStyle(e)}catch(e){return\"\"}return i?i.getPropertyValue(t)||i[t]:\"\"}return\"\"}function d(e){return\"string\"==typeof e&&Boolean(e.trim())}function c(e){if(e.indexOf(\" \")>=0)throw new Error(\"class has illegal whitespace characters\")}function h(){return Ne.default===Be.default.document}function f(e){return o(e)&&1===e.nodeType}function p(){try{return Be.default.parent!==Be.default.self}catch(e){return!0}}function m(e){return function(t,i){if(!d(t))return Ne.default[e](null);d(i)&&(i=Ne.default.querySelector(i));var n=f(i)?i:Ne.default;return n[e]&&n[e](t)}}function g(e,t,i,n){void 0===e&&(e=\"div\"),void 0===t&&(t={}),void 0===i&&(i={});var r=Ne.default.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var i=t[e];-1!==e.indexOf(\"aria-\")||\"role\"===e||\"type\"===e?(lt.warn(\"Setting attributes in the second argument of createEl()\\nhas been deprecated. Use the third argument instead.\\ncreateEl(type, properties, attributes). Attempting to set \"+e+\" to \"+i+\".\"),r.setAttribute(e,i)):\"textContent\"===e?_(r,i):r[e]===i&&\"tabIndex\"!==e||(r[e]=i)}),Object.getOwnPropertyNames(i).forEach(function(e){r.setAttribute(e,i[e])}),n&&U(r,n),r}function _(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function v(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function y(e,t){return c(t),e.classList?e.classList.contains(t):(i=t,new RegExp(\"(^|\\\\s)\"+i+\"($|\\\\s)\")).test(e.className);var i}function b(e,t){return e.classList?e.classList.add(t):y(e,t)||(e.className=(e.className+\" \"+t).trim()),e}function A(e,t){return e?(e.classList?e.classList.remove(t):(c(t),e.className=e.className.split(/\\s+/).filter(function(e){return e!==t}).join(\" \")),e):(lt.warn(\"removeClass was called with an element that doesn't exist\"),null)}function E(e,t,i){var n=y(e,t);if(\"function\"==typeof i&&(i=i(e,t)),\"boolean\"!=typeof i&&(i=!n),i!==n)return i?b(e,t):A(e,t),e}function w(e,t){Object.getOwnPropertyNames(t).forEach(function(i){var n=t[i];null==n||!1===n?e.removeAttribute(i):e.setAttribute(i,!0===n?\"\":n)})}function T(e){var t={},i=\",autoplay,controls,playsinline,loop,muted,default,defaultMuted,\";if(e&&e.attributes&&e.attributes.length>0)for(var n=e.attributes,r=n.length-1;r>=0;r--){var a=n[r].name,s=n[r].value;\"boolean\"!=typeof e[a]&&-1===i.indexOf(\",\"+a+\",\")||(s=null!==s),t[a]=s}return t}function S(e,t){return e.getAttribute(t)}function C(e,t,i){e.setAttribute(t,i)}function k(e,t){e.removeAttribute(t)}function L(){Ne.default.body.focus(),Ne.default.onselectstart=function(){return!1}}function x(){Ne.default.onselectstart=function(){return!0}}function I(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),i={};return[\"bottom\",\"height\",\"left\",\"right\",\"top\",\"width\"].forEach(function(e){void 0!==t[e]&&(i[e]=t[e])}),i.height||(i.height=parseFloat(u(e,\"height\"))),i.width||(i.width=parseFloat(u(e,\"width\"))),i}}function P(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};for(var t=e.offsetWidth,i=e.offsetHeight,n=0,r=0;e.offsetParent&&e!==Ne.default[et.fullscreenElement];)n+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;return{left:n,top:r,width:t,height:i}}function R(e,t){var i={x:0,y:0};if(It)for(var n=e;n&&\"html\"!==n.nodeName.toLowerCase();){var r=u(n,\"transform\");if(/^matrix/.test(r)){var a=r.slice(7,-1).split(/,\\s/).map(Number);i.x+=a[4],i.y+=a[5]}else if(/^matrix3d/.test(r)){var s=r.slice(9,-1).split(/,\\s/).map(Number);i.x+=s[12],i.y+=s[13]}n=n.parentNode}var o={},l=P(t.target),d=P(e),c=d.width,h=d.height,f=t.offsetY-(d.top-l.top),p=t.offsetX-(d.left-l.left);return t.changedTouches&&(p=t.changedTouches[0].pageX-d.left,f=t.changedTouches[0].pageY+d.top,It&&(p-=i.x,f-=i.y)),o.y=1-Math.max(0,Math.min(1,f/h)),o.x=Math.max(0,Math.min(1,p/c)),o}function D(e){return o(e)&&3===e.nodeType}function O(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function M(e){return\"function\"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return\"function\"==typeof e&&(e=e()),f(e)||D(e)?e:\"string\"==typeof e&&/\\S/.test(e)?Ne.default.createTextNode(e):void 0}).filter(function(e){return e})}function U(e,t){return M(t).forEach(function(t){return e.appendChild(t)}),e}function j(e,t){return U(O(e),t)}function B(e){return void 0===e.button&&void 0===e.buttons||0===e.button&&void 0===e.buttons||\"mouseup\"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons}function N(e,t){h()&&(t&&(st=t),Be.default.setTimeout(jt,e))}function F(){Ut=!0,Be.default.removeEventListener(\"load\",F)}function V(){return Vt++}function H(e,t){if(Gt.has(e)){var i=Gt.get(e);0===i.handlers[t].length&&(delete i.handlers[t],e.removeEventListener?e.removeEventListener(t,i.dispatcher,!1):e.detachEvent&&e.detachEvent(\"on\"+t,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&Gt.delete(e)}}function z(e,t,i,n){i.forEach(function(i){e(t,i,n)})}function G(e){function t(){return!0}function i(){return!1}if(e.fixed_)return e;if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){var n=e||Be.default.event;for(var r in e={},n)\"layerX\"!==r&&\"layerY\"!==r&&\"keyLocation\"!==r&&\"webkitMovementX\"!==r&&\"webkitMovementY\"!==r&&(\"returnValue\"===r&&n.preventDefault||(e[r]=n[r]));if(e.target||(e.target=e.srcElement||Ne.default),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){n.preventDefault&&n.preventDefault(),e.returnValue=!1,n.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),e.cancelBubble=!0,n.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=i,e.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=i,null!==e.clientX&&void 0!==e.clientX){var a=Ne.default.documentElement,s=Ne.default.body;e.pageX=e.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),e.pageY=e.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}function Y(e,t,i){if(Array.isArray(t))return z(Y,e,t,i);Gt.has(e)||Gt.set(e,{});var n=Gt.get(e);if(n.handlers||(n.handlers={}),n.handlers[t]||(n.handlers[t]=[]),i.guid||(i.guid=V()),n.handlers[t].push(i),n.dispatcher||(n.disabled=!1,n.dispatcher=function(t,i){if(!n.disabled){t=G(t);var r=n.handlers[t.type];if(r)for(var a=r.slice(0),s=0,o=a.length;s<o&&!t.isImmediatePropagationStopped();s++)try{a[s].call(e,t,i)}catch(e){lt.error(e)}}}),1===n.handlers[t].length)if(e.addEventListener){var r=!1;(function(){if(\"boolean\"!=typeof Ht){Ht=!1;try{var e=Object.defineProperty({},\"passive\",{get:function(){Ht=!0}});Be.default.addEventListener(\"test\",null,e),Be.default.removeEventListener(\"test\",null,e)}catch(e){}}return Ht})()&&Yt.indexOf(t)>-1&&(r={passive:!0}),e.addEventListener(t,n.dispatcher,r)}else e.attachEvent&&e.attachEvent(\"on\"+t,n.dispatcher)}function W(e,t,i){if(Gt.has(e)){var n=Gt.get(e);if(n.handlers){if(Array.isArray(t))return z(W,e,t,i);var r=function(e,t){n.handlers[t]=[],H(e,t)};if(void 0!==t){var a=n.handlers[t];if(a)if(i){if(i.guid)for(var s=0;s<a.length;s++)a[s].guid===i.guid&&a.splice(s--,1);H(e,t)}else r(e,t)}else for(var o in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},o)&&r(e,o)}}}function q(e,t,i){var n=Gt.has(e)?Gt.get(e):{},r=e.parentNode||e.ownerDocument;if(\"string\"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=G(t),n.dispatcher&&n.dispatcher.call(e,t,i),r&&!t.isPropagationStopped()&&!0===t.bubbles)q.call(null,r,t,i);else if(!r&&!t.defaultPrevented&&t.target&&t.target[t.type]){Gt.has(t.target)||Gt.set(t.target,{});var a=Gt.get(t.target);t.target[t.type]&&(a.disabled=!0,\"function\"==typeof t.target[t.type]&&t.target[t.type](),a.disabled=!1)}return!t.defaultPrevented}function Q(e,t,i){if(Array.isArray(t))return z(Q,e,t,i);var n=function n(){W(e,t,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||V(),Y(e,t,n)}function J(e,t,i){var n=function n(){W(e,t,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||V(),Y(e,t,n)}function K(e,t){void 0===t&&(t={});var i=t.eventBusKey;if(i){if(!e[i].nodeName)throw new Error('The eventBusKey \"'+i+'\" does not refer to an element.');e.eventBusEl_=e[i]}else e.eventBusEl_=g(\"span\",{className:\"vjs-event-bus\"});return a(e,ri),e.eventedCallbacks&&e.eventedCallbacks.forEach(function(e){e()}),e.on(\"dispose\",function(){e.off(),[e,e.el_,e.eventBusEl_].forEach(function(e){e&&Gt.has(e)&&Gt.delete(e)}),Be.default.setTimeout(function(){e.eventBusEl_=null},0)}),e}function X(e,t){return a(e,ai),e.state=a({},e.state,t),\"function\"==typeof e.handleStateChanged&&Xt(e)&&e.on(\"statechanged\",e.handleStateChanged),e}function Z(){for(var e={},t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return i.forEach(function(t){t&&r(t,function(t,i){l(t)?(l(e[i])||(e[i]={}),e[i]=Z(e[i],t)):e[i]=t})}),e}function $(e,t,i,n){return function(e,t,i){if(\"number\"!=typeof t||t<0||t>i)throw new Error(\"Failed to execute '\"+e+\"' on 'TimeRanges': The index provided (\"+t+\") is non-numeric or out of bounds (0-\"+i+\").\")}(e,n,i.length-1),i[n][t]}function ee(e){var t;return t=void 0===e||0===e.length?{length:0,start:function(){throw new Error(\"This TimeRanges object is empty\")},end:function(){throw new Error(\"This TimeRanges object is empty\")}}:{length:e.length,start:$.bind(null,\"start\",0,e),end:$.bind(null,\"end\",1,e)},Be.default.Symbol&&Be.default.Symbol.iterator&&(t[Be.default.Symbol.iterator]=function(){return(e||[]).values()}),t}function te(e,t){return Array.isArray(e)?ee(e):void 0===e||void 0===t?ee():ee([[e,t]])}function ie(e,t){var i,n,r=0;if(!t)return 0;e&&e.length||(e=te(0,0));for(var a=0;a<e.length;a++)i=e.start(a),(n=e.end(a))>t&&(n=t),r+=n-i;return r/t}function ne(e){return e instanceof ne?e:(\"number\"==typeof e?this.code=e:\"string\"==typeof e?this.message=e:o(e)&&(\"number\"==typeof e.code&&(this.code=e.code),a(this,e)),void(this.message||(this.message=ne.defaultMessages[this.code]||\"\")))}function re(e){return null!=e&&\"function\"==typeof e.then}function ae(e){re(e)&&e.then(null,function(e){})}function se(e,t,i){e.setTimeout(function(){return function e(t,i,n,r,s,o){void 0===t&&(t={}),void 0===i&&(i=[]),void 0===s&&(s=[]),void 0===o&&(o=!1);var l=i,u=l[0],d=l.slice(1);if(\"string\"==typeof u)e(t,qi[u],n,r,s,o);else if(u){var c=function(e,t){var i=Qi[e.id()],n=null;if(null==i)return n=t(e),Qi[e.id()]=[[t,n]],n;for(var r=0;r<i.length;r++){var a=i[r],s=a[0],o=a[1];s===t&&(n=o)}return null===n&&(n=t(e),i.push([t,n])),n}(r,u);if(!c.setSource)return s.push(c),e(t,d,n,r,s,o);c.setSource(a({},t),function(i,a){return i?e(t,d,n,r,s,o):(s.push(c),void e(a,t.type===a.type?d:qi[a.type],n,r,s,o))})}else d.length?e(t,d,n,r,s,o):o?n(t,s):e(t,qi[\"*\"],n,r,s,!0)}(t,qi[t.type],i,e)},1)}function oe(e,t,i,n){void 0===n&&(n=null);var r=\"call\"+oi(i),a=e.reduce(le(r),n),s=a===Ji,o=s?null:t[i](a);return function(e,t,i,n){for(var r=e.length-1;r>=0;r--){var a=e[r];a[t]&&a[t](n,i)}}(e,i,o,s),o}function le(e){return function(t,i){return t===Ji?Ji:i[e]?i[e](t):t}}function ue(e){if(!e.type){var t=en(e.src);t&&(e.type=t)}return e}function de(e,t){var i;if(4===e.length)i=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error(\"Invalid color code provided, \"+e+\"; must be formatted as e.g. #f0e or #f604e2.\");i=e.slice(1)}return\"rgba(\"+parseInt(i.slice(0,2),16)+\",\"+parseInt(i.slice(2,4),16)+\",\"+parseInt(i.slice(4,6),16)+\",\"+t+\")\"}function ce(e,t,i){try{e.style[t]=i}catch(e){return}}function he(e,t){return void 0===t&&(t=e),fn(e,t)}function fe(e,t){if(t&&(e=t(e)),e&&\"none\"!==e)return e}function pe(e,t,i){var n=pe.getPlayer(e);if(n)return t&&lt.warn('Player \"'+e+'\" is already initialised. Options will not be applied.'),i&&n.ready(i),n;var r=\"string\"==typeof e?Dt(\"#\"+Qr(e)):e;if(!f(r))throw new TypeError(\"The element or ID supplied is not valid. (videojs)\");r.ownerDocument.defaultView&&r.ownerDocument.body.contains(r)||lt.warn(\"The element supplied is not included in the DOM\"),t=t||{},Ze(\"beforesetup\").forEach(function(e){var i=e(r,Z(t));o(i)&&!Array.isArray(i)?t=Z(t,i):lt.error(\"please return an object in beforesetup hooks\")});var a=hi.getComponent(\"Player\");return n=new a(r,t,i),Ze(\"setup\").forEach(function(e){return e(n)}),n}function me(){}for(var ge,_e=e(\"global/window\"),ve=e(\"global/document\"),ye=e(\"@babel/runtime/helpers/extends\"),be=e(\"@babel/runtime/helpers/assertThisInitialized\"),Ae=e(\"@babel/runtime/helpers/inheritsLoose\"),Ee=e(\"safe-json-parse/tuple\"),we=e(\"keycode\"),Te=e(\"@videojs/xhr\"),Se=e(\"videojs-vtt.js\"),Ce=e(\"@babel/runtime/helpers/construct\"),ke=e(\"@babel/runtime/helpers/inherits\"),Le=e(\"@videojs/vhs-utils/cjs/resolve-url.js\"),xe=e(\"m3u8-parser\"),Ie=e(\"@videojs/vhs-utils/cjs/codecs.js\"),Pe=e(\"@videojs/vhs-utils/cjs/media-types.js\"),Re=e(\"mpd-parser\"),De=e(\"mux.js/lib/tools/parse-sidx\"),Oe=e(\"@videojs/vhs-utils/cjs/id3-helpers\"),Me=e(\"@videojs/vhs-utils/cjs/containers\"),Ue=e(\"@videojs/vhs-utils/cjs/byte-helpers\"),je=e(\"mux.js/lib/utils/clock\"),Be=n(_e),Ne=n(ve),Fe=n(ye),Ve=n(be),He=n(Ae),ze=n(Ee),Ge=n(we),Ye=n(Te),We=n(Se),qe=n(Ce),Qe=n(ke),Je=n(Le),Ke=n(De),Xe={},Ze=function(e,t){return Xe[e]=Xe[e]||[],t&&(Xe[e]=Xe[e].concat(t)),Xe[e]},$e=function(e,t){var i=Ze(e).indexOf(t);return!(i<=-1||(Xe[e]=Xe[e].slice(),Xe[e].splice(i,1),0))},et={prefixed:!0},tt=[[\"requestFullscreen\",\"exitFullscreen\",\"fullscreenElement\",\"fullscreenEnabled\",\"fullscreenchange\",\"fullscreenerror\",\"fullscreen\"],[\"webkitRequestFullscreen\",\"webkitExitFullscreen\",\"webkitFullscreenElement\",\"webkitFullscreenEnabled\",\"webkitfullscreenchange\",\"webkitfullscreenerror\",\"-webkit-full-screen\"],[\"mozRequestFullScreen\",\"mozCancelFullScreen\",\"mozFullScreenElement\",\"mozFullScreenEnabled\",\"mozfullscreenchange\",\"mozfullscreenerror\",\"-moz-full-screen\"],[\"msRequestFullscreen\",\"msExitFullscreen\",\"msFullscreenElement\",\"msFullscreenEnabled\",\"MSFullscreenChange\",\"MSFullscreenError\",\"-ms-fullscreen\"]],it=tt[0],nt=0;nt<tt.length;nt++)if(tt[nt][1]in Ne.default){ge=tt[nt];break}if(ge){for(var rt=0;rt<ge.length;rt++)et[it[rt]]=ge[rt];et.prefixed=ge[0]!==it[0]}var at,st,ot=[],lt=function e(t){var i,n=\"info\",r=function e(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];i(\"log\",n,r)};return i=function(e,t){return function(i,n,r){var a=t.levels[n],s=new RegExp(\"^(\"+a+\")$\");if(\"log\"!==i&&r.unshift(i.toUpperCase()+\":\"),r.unshift(e+\":\"),ot){ot.push([].concat(r));var o=ot.length-1e3;ot.splice(0,o>0?o:0)}if(Be.default.console){var l=Be.default.console[i];l||\"debug\"!==i||(l=Be.default.console.info||Be.default.console.log),l&&a&&s.test(i)&&l[Array.isArray(r)?\"apply\":\"call\"](Be.default.console,r)}}}(t,r),r.createLogger=function(i){return e(t+\": \"+i)},r.levels={all:\"debug|log|warn|error\",off:\"\",debug:\"debug|log|warn|error\",info:\"log|warn|error\",warn:\"warn|error\",error:\"error\",DEFAULT:n},r.level=function(e){if(\"string\"==typeof e){if(!r.levels.hasOwnProperty(e))throw new Error('\"'+e+'\" in not a valid log level');n=e}return n},(r.history=function(){return ot?[].concat(ot):[]}).filter=function(e){return(ot||[]).filter(function(t){return new RegExp(\".*\"+e+\".*\").test(t[0])})},r.history.clear=function(){ot&&(ot.length=0)},r.history.disable=function(){null!==ot&&(ot.length=0,ot=null)},r.history.enable=function(){null===ot&&(ot=[])},r.error=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i(\"error\",n,t)},r.warn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i(\"warn\",n,t)},r.debug=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i(\"debug\",n,t)},r}(\"VIDEOJS\"),ut=lt.createLogger,dt=Object.prototype.toString,ct=function(e){return o(e)?Object.keys(e):[]},ht=Be.default.navigator&&Be.default.navigator.userAgent||\"\",ft=/AppleWebKit\\/([\\d.]+)/i.exec(ht),pt=ft?parseFloat(ft.pop()):null,mt=/iPod/i.test(ht),gt=(at=ht.match(/OS (\\d+)_/i))&&at[1]?at[1]:null,_t=/Android/i.test(ht),vt=function(){var e=ht.match(/Android (\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),i=e[2]&&parseFloat(e[2]);return t&&i?parseFloat(e[1]+\".\"+e[2]):t||null}(),yt=_t&&vt<5&&pt<537,bt=/Firefox/i.test(ht),At=/Edg/i.test(ht),Et=!At&&(/Chrome/i.test(ht)||/CriOS/i.test(ht)),wt=function(){var e=ht.match(/(Chrome|CriOS)\\/(\\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),Tt=function(){var e=/MSIE\\s(\\d+)\\.\\d/.exec(ht),t=e&&parseFloat(e[1]);return!t&&/Trident\\/7.0/i.test(ht)&&/rv:11.0/.test(ht)&&(t=11),t}(),St=/Safari/i.test(ht)&&!Et&&!_t&&!At,Ct=/Windows/i.test(ht),kt=Boolean(h()&&(\"ontouchstart\"in Be.default||Be.default.navigator.maxTouchPoints||Be.default.DocumentTouch&&Be.default.document instanceof Be.default.DocumentTouch)),Lt=/iPad/i.test(ht)||St&&kt&&!/iPhone/i.test(ht),xt=/iPhone/i.test(ht)&&!Lt,It=xt||Lt||mt,Pt=(St||It)&&!Et,Rt=Object.freeze({\n__proto__:null,IS_IPOD:mt,IOS_VERSION:gt,IS_ANDROID:_t,ANDROID_VERSION:vt,IS_NATIVE_ANDROID:yt,IS_FIREFOX:bt,IS_EDGE:At,IS_CHROME:Et,CHROME_VERSION:wt,IE_VERSION:Tt,IS_SAFARI:St,IS_WINDOWS:Ct,TOUCH_ENABLED:kt,IS_IPAD:Lt,IS_IPHONE:xt,IS_IOS:It,IS_ANY_SAFARI:Pt}),Dt=m(\"querySelector\"),Ot=m(\"querySelectorAll\"),Mt=Object.freeze({__proto__:null,isReal:h,isEl:f,isInFrame:p,createEl:g,textContent:_,prependTo:v,hasClass:y,addClass:b,removeClass:A,toggleClass:E,setAttributes:w,getAttributes:T,getAttribute:S,setAttribute:C,removeAttribute:k,blockTextSelection:L,unblockTextSelection:x,getBoundingClientRect:I,findPosition:P,getPointerPosition:R,isTextNode:D,emptyEl:O,normalizeContent:M,appendContent:U,insertContent:j,isSingleLeftClick:B,$:Dt,$$:Ot}),Ut=!1,jt=function(){if(!1!==st.options.autoSetup){var e=Array.prototype.slice.call(Ne.default.getElementsByTagName(\"video\")),t=Array.prototype.slice.call(Ne.default.getElementsByTagName(\"audio\")),i=Array.prototype.slice.call(Ne.default.getElementsByTagName(\"video-js\")),n=e.concat(t,i);if(n&&n.length>0)for(var r=0,a=n.length;r<a;r++){var s=n[r];if(!s||!s.getAttribute){N(1);break}void 0===s.player&&null!==s.getAttribute(\"data-setup\")&&st(s)}else Ut||N(1)}};h()&&(\"complete\"===Ne.default.readyState?F():Be.default.addEventListener(\"load\",F));var Bt,Nt=function(e){var t=Ne.default.createElement(\"style\");return t.className=e,t},Ft=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},Vt=3;Be.default.WeakMap||(Bt=function(){function e(){this.vdata=\"vdata\"+Math.floor(Be.default.performance&&Be.default.performance.now()||Date.now()),this.data={}}var t=e.prototype;return t.set=function(e,t){var i=e[this.vdata]||V();return e[this.vdata]||(e[this.vdata]=i),this.data[i]=t,this},t.get=function(e){var t=e[this.vdata];return t?this.data[t]:void lt(\"We have no data for this element\",e)},t.has=function(e){return e[this.vdata]in this.data},t.delete=function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},e}());var Ht,zt,Gt=Be.default.WeakMap?new WeakMap:new Bt,Yt=[\"touchstart\",\"touchmove\"],Wt=Object.freeze({__proto__:null,fixEvent:G,on:Y,off:W,trigger:q,one:Q,any:J}),qt=function(e,t,i){t.guid||(t.guid=V());var n=t.bind(e);return n.guid=i?i+\"_\"+t.guid:t.guid,n},Qt=function(e,t){var i=Be.default.performance.now();return function(){var n=Be.default.performance.now();n-i>=t&&(e.apply(void 0,arguments),i=n)}},Jt=function(){};Jt.prototype.allowedEvents_={},Jt.prototype.on=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},Y(this,e,t),this.addEventListener=i},Jt.prototype.addEventListener=Jt.prototype.on,Jt.prototype.off=function(e,t){W(this,e,t)},Jt.prototype.removeEventListener=Jt.prototype.off,Jt.prototype.one=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},Q(this,e,t),this.addEventListener=i},Jt.prototype.any=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},J(this,e,t),this.addEventListener=i},Jt.prototype.trigger=function(e){var t=e.type||e;\"string\"==typeof e&&(e={type:t}),e=G(e),this.allowedEvents_[t]&&this[\"on\"+t]&&this[\"on\"+t](e),q(this,e)},Jt.prototype.dispatchEvent=Jt.prototype.trigger,Jt.prototype.queueTrigger=function(e){var t=this;zt||(zt=new Map);var i=e.type||e,n=zt.get(this);n||(n=new Map,zt.set(this,n));var r=n.get(i);n.delete(i),Be.default.clearTimeout(r);var a=Be.default.setTimeout(function(){0===n.size&&(n=null,zt.delete(t)),t.trigger(e)},0);n.set(i,a)};var Kt=function(e){return\"function\"==typeof e.name?e.name():\"string\"==typeof e.name?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:\"undefined\"==typeof e?\"undefined\":s(e)},Xt=function(e){return e instanceof Jt||!!e.eventBusEl_&&[\"on\",\"one\",\"off\",\"trigger\"].every(function(t){return\"function\"==typeof e[t]})},Zt=function(e){return\"string\"==typeof e&&/\\S/.test(e)||Array.isArray(e)&&!!e.length},$t=function(e,t,i){if(!e||!e.nodeName&&!Xt(e))throw new Error(\"Invalid target for \"+Kt(t)+\"#\"+i+\"; must be a DOM node or evented object.\")},ei=function(e,t,i){if(!Zt(e))throw new Error(\"Invalid event type for \"+Kt(t)+\"#\"+i+\"; must be a non-empty string or array.\")},ti=function(e,t,i){if(\"function\"!=typeof e)throw new Error(\"Invalid listener for \"+Kt(t)+\"#\"+i+\"; must be a function.\")},ii=function(e,t,i){var n,r,a,s=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return s?(n=e.eventBusEl_,t.length>=3&&t.shift(),r=t[0],a=t[1]):(n=t[0],r=t[1],a=t[2]),$t(n,e,i),ei(r,e,i),ti(a,e,i),{isTargetingSelf:s,target:n,type:r,listener:a=qt(e,a)}},ni=function(e,t,i,n){$t(e,e,t),e.nodeName?Wt[t](e,i,n):e[t](i,n)},ri={on:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var r=ii(this,i,\"on\"),a=r.isTargetingSelf,s=r.target,o=r.type,l=r.listener;if(ni(s,\"on\",o,l),!a){var u=function(){return e.off(s,o,l)};u.guid=l.guid;var d=function(){return e.off(\"dispose\",u)};d.guid=l.guid,ni(this,\"on\",\"dispose\",u),ni(s,\"on\",\"dispose\",d)}},one:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var r=ii(this,i,\"one\"),a=r.isTargetingSelf,s=r.target,o=r.type,l=r.listener;if(a)ni(s,\"one\",o,l);else{var u=function t(){e.off(s,o,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];l.apply(null,n)};u.guid=l.guid,ni(s,\"one\",o,u)}},any:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var r=ii(this,i,\"any\"),a=r.isTargetingSelf,s=r.target,o=r.type,l=r.listener;if(a)ni(s,\"any\",o,l);else{var u=function t(){e.off(s,o,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];l.apply(null,n)};u.guid=l.guid,ni(s,\"any\",o,u)}},off:function(e,t,i){if(!e||Zt(e))W(this.eventBusEl_,e,t);else{var n=e,r=t;$t(n,this,\"off\"),ei(r,this,\"off\"),ti(i,this,\"off\"),i=qt(this,i),this.off(\"dispose\",i),n.nodeName?(W(n,r,i),W(n,\"dispose\",i)):Xt(n)&&(n.off(r,i),n.off(\"dispose\",i))}},trigger:function(e,t){$t(this.eventBusEl_,this,\"trigger\");var i=e&&\"string\"!=typeof e?e.type:e;if(!Zt(i)){var n=\"Invalid event type for \"+Kt(this)+\"#trigger; must be a non-empty string or object with a type key that has a non-empty value.\";if(!e)throw new Error(n);(this.log||lt).error(n)}return q(this.eventBusEl_,e,t)}},ai={state:{},setState:function(e){var t,i=this;return\"function\"==typeof e&&(e=e()),r(e,function(e,n){i.state[n]!==e&&((t=t||{})[n]={from:i.state[n],to:e}),i.state[n]=e}),t&&Xt(this)&&this.trigger({changes:t,type:\"statechanged\"}),t}},si=function(e){return\"string\"!=typeof e?e:e.replace(/./,function(e){return e.toLowerCase()})},oi=function(e){return\"string\"!=typeof e?e:e.replace(/./,function(e){return e.toUpperCase()})},li=function(){function e(){this.map_={}}var t=e.prototype;return t.has=function(e){return e in this.map_},t.delete=function(e){var t=this.has(e);return delete this.map_[e],t},t.set=function(e,t){return this.map_[e]=t,this},t.forEach=function(e,t){for(var i in this.map_)e.call(t,this.map_[i],i,this)},e}(),ui=Be.default.Map?Be.default.Map:li,di=function(){function e(){this.set_={}}var t=e.prototype;return t.has=function(e){return e in this.set_},t.delete=function(e){var t=this.has(e);return delete this.set_[e],t},t.add=function(e){return this.set_[e]=1,this},t.forEach=function(e,t){for(var i in this.set_)e.call(t,i,i,this)},e}(),ci=Be.default.Set?Be.default.Set:di,hi=function(){function e(e,t,i){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Z({},this.options_),t=this.options_=Z(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var n=e&&e.id&&e.id()||\"no_player\";this.id_=n+\"_component_\"+V()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),!1!==t.evented&&(K(this,{eventBusKey:this.el_?\"el_\":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,\"languagechange\",this.handleLanguagechange)),X(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new ci,this.setIntervalIds_=new ci,this.rafIds_=new ci,this.namedRafs_=new ui,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(i),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var t=e.prototype;return t.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:\"dispose\",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.el_=null),this.player_=null}},t.isDisposed=function(){return Boolean(this.isDisposed_)},t.player=function(){return this.player_},t.options=function(e){return e?(this.options_=Z(this.options_,e),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(e,t,i){return g(e,t,i)},t.localize=function(e,t,i){void 0===i&&(i=e);var n=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),a=r&&r[n],s=n&&n.split(\"-\")[0],o=r&&r[s],l=i;return a&&a[e]?l=a[e]:o&&o[e]&&(l=o[e]),t&&(l=l.replace(/\\{(\\d+)\\}/g,function(e,i){var n=t[i-1],r=n;return void 0===n&&(r=e),r})),l},t.handleLanguagechange=function(){},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(e){return this.childIndex_[e]},t.getChild=function(e){if(e)return this.childNameIndex_[e]},t.getDescendant=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t=t.reduce(function(e,t){return e.concat(t)},[]);for(var n=this,r=0;r<t.length;r++)if(!(n=n.getChild(t[r]))||!n.getChild)return;return n},t.addChild=function(t,i,n){var r,a;if(void 0===i&&(i={}),void 0===n&&(n=this.children_.length),\"string\"==typeof t){a=oi(t);var s=i.componentClass||a;i.name=a;var o=e.getComponent(s);if(!o)throw new Error(\"Component \"+s+\" does not exist\");if(\"function\"!=typeof o)return null;r=new o(this.player_||this,i)}else r=t;if(r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(n,0,r),r.parentComponent_=this,\"function\"==typeof r.id&&(this.childIndex_[r.id()]=r),(a=a||r.name&&oi(r.name()))&&(this.childNameIndex_[a]=r,this.childNameIndex_[si(a)]=r),\"function\"==typeof r.el&&r.el()){var l=null;this.children_[n+1]&&(this.children_[n+1].el_?l=this.children_[n+1].el_:f(this.children_[n+1])&&(l=this.children_[n+1])),this.contentEl().insertBefore(r.el(),l)}return r},t.removeChild=function(e){if(\"string\"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,i=this.children_.length-1;i>=0;i--)if(this.children_[i]===e){t=!0,this.children_.splice(i,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[oi(e.name())]=null,this.childNameIndex_[si(e.name())]=null;var n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},t.initChildren=function(){var t=this,i=this.options_.children;if(i){var n,r=this.options_,a=e.getComponent(\"Tech\");(n=Array.isArray(i)?i:Object.keys(i)).concat(Object.keys(this.options_).filter(function(e){return!n.some(function(t){return\"string\"==typeof t?e===t:e===t.name})})).map(function(e){var n,r;return\"string\"==typeof e?r=i[n=e]||t.options_[n]||{}:(n=e.name,r=e),{name:n,opts:r}}).filter(function(t){var i=e.getComponent(t.opts.componentClass||oi(t.name));return i&&!a.isTech(i)}).forEach(function(e){var i=e.name,n=e.opts;if(void 0!==r[i]&&(n=r[i]),!1!==n){!0===n&&(n={}),n.playerOptions=t.options_.playerOptions;var a=t.addChild(i,n);a&&(t[i]=a)}})}},t.buildCSSClass=function(){return\"\"},t.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},t.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger(\"ready\")},1)},t.$=function(e,t){return Dt(e,t||this.contentEl())},t.$$=function(e,t){return Ot(e,t||this.contentEl())},t.hasClass=function(e){return y(this.el_,e)},t.addClass=function(e){b(this.el_,e)},t.removeClass=function(e){A(this.el_,e)},t.toggleClass=function(e,t){E(this.el_,e,t)},t.show=function(){this.removeClass(\"vjs-hidden\")},t.hide=function(){this.addClass(\"vjs-hidden\")},t.lockShowing=function(){this.addClass(\"vjs-lock-showing\")},t.unlockShowing=function(){this.removeClass(\"vjs-lock-showing\")},t.getAttribute=function(e){return S(this.el_,e)},t.setAttribute=function(e,t){C(this.el_,e,t)},t.removeAttribute=function(e){k(this.el_,e)},t.width=function(e,t){return this.dimension(\"width\",e,t)},t.height=function(e,t){return this.dimension(\"height\",e,t)},t.dimensions=function(e,t){this.width(e,!0),this.height(t)},t.dimension=function(e,t,i){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(\"\"+t).indexOf(\"%\")||-1!==(\"\"+t).indexOf(\"px\")?this.el_.style[e]=t:this.el_.style[e]=\"auto\"===t?\"\":t+\"px\",void(i||this.trigger(\"componentresize\"));if(!this.el_)return 0;var n=this.el_.style[e],r=n.indexOf(\"px\");return-1!==r?parseInt(n.slice(0,r),10):parseInt(this.el_[\"offset\"+oi(e)],10)},t.currentDimension=function(e){var t=0;if(\"width\"!==e&&\"height\"!==e)throw new Error(\"currentDimension only accepts width or height value\");if(t=u(this.el_,e),0===(t=parseFloat(t))||isNaN(t)){var i=\"offset\"+oi(e);t=this.el_[i]}return t},t.currentDimensions=function(){return{width:this.currentDimension(\"width\"),height:this.currentDimension(\"height\")}},t.currentWidth=function(){return this.currentDimension(\"width\")},t.currentHeight=function(){return this.currentDimension(\"height\")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(e){this.player_&&(e.stopPropagation(),this.player_.handleKeyDown(e))},t.handleKeyPress=function(e){this.handleKeyDown(e)},t.emitTapEvents=function(){var e,t=0,i=null;this.on(\"touchstart\",function(n){1===n.touches.length&&(i={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},t=Be.default.performance.now(),e=!0)}),this.on(\"touchmove\",function(t){if(t.touches.length>1)e=!1;else if(i){var n=t.touches[0].pageX-i.pageX,r=t.touches[0].pageY-i.pageY;Math.sqrt(n*n+r*r)>10&&(e=!1)}});var n=function(){e=!1};this.on(\"touchleave\",n),this.on(\"touchcancel\",n),this.on(\"touchend\",function(n){i=null,!0===e&&Be.default.performance.now()-t<200&&(n.preventDefault(),this.trigger(\"tap\"))})},t.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=qt(this.player(),this.player().reportUserActivity);this.on(\"touchstart\",function(){t(),this.clearInterval(e),e=this.setInterval(t,250)});var i=function(i){t(),this.clearInterval(e)};this.on(\"touchmove\",t),this.on(\"touchend\",i),this.on(\"touchcancel\",i)}},t.setTimeout=function(e,t){var i,n=this;return e=qt(this,e),this.clearTimersOnDispose_(),i=Be.default.setTimeout(function(){n.setTimeoutIds_.has(i)&&n.setTimeoutIds_.delete(i),e()},t),this.setTimeoutIds_.add(i),i},t.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),Be.default.clearTimeout(e)),e},t.setInterval=function(e,t){e=qt(this,e),this.clearTimersOnDispose_();var i=Be.default.setInterval(e,t);return this.setIntervalIds_.add(i),i},t.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),Be.default.clearInterval(e)),e},t.requestAnimationFrame=function(e){var t,i=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=qt(this,e),t=Be.default.requestAnimationFrame(function(){i.rafIds_.has(t)&&i.rafIds_.delete(t),e()}),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},t.requestNamedAnimationFrame=function(e,t){var i=this;if(!this.namedRafs_.has(e)){this.clearTimersOnDispose_(),t=qt(this,t);var n=this.requestAnimationFrame(function(){t(),i.namedRafs_.has(e)&&i.namedRafs_.delete(e)});return this.namedRafs_.set(e,n),e}},t.cancelNamedAnimationFrame=function(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))},t.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),Be.default.cancelAnimationFrame(e)),e):this.clearTimeout(e)},t.clearTimersOnDispose_=function(){var e=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one(\"dispose\",function(){[[\"namedRafs_\",\"cancelNamedAnimationFrame\"],[\"rafIds_\",\"cancelAnimationFrame\"],[\"setTimeoutIds_\",\"clearTimeout\"],[\"setIntervalIds_\",\"clearInterval\"]].forEach(function(t){var i=t[0],n=t[1];e[i].forEach(function(t,i){return e[n](i)})}),e.clearingTimersOnDispose_=!1}))},e.registerComponent=function(t,i){if(\"string\"!=typeof t||!t)throw new Error('Illegal component name, \"'+t+'\"; must be a non-empty string.');var n,r=e.getComponent(\"Tech\"),a=r&&r.isTech(i),s=e===i||e.prototype.isPrototypeOf(i.prototype);if(a||!s)throw n=a?\"techs must be registered using Tech.registerTech()\":\"must be a Component subclass\",new Error('Illegal component, \"'+t+'\"; '+n+\".\");t=oi(t),e.components_||(e.components_={});var o=e.getComponent(\"Player\");if(\"Player\"===t&&o&&o.players){var l=o.players,u=Object.keys(l);if(l&&u.length>0&&u.map(function(e){return l[e]}).every(Boolean))throw new Error(\"Can not register Player component after player has been created.\")}return e.components_[t]=i,e.components_[si(t)]=i,i},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();hi.prototype.supportsRaf_=\"function\"==typeof Be.default.requestAnimationFrame&&\"function\"==typeof Be.default.cancelAnimationFrame,hi.registerComponent(\"Component\",hi),ne.prototype.code=0,ne.prototype.message=\"\",ne.prototype.status=null,ne.errorTypes=[\"MEDIA_ERR_CUSTOM\",\"MEDIA_ERR_ABORTED\",\"MEDIA_ERR_NETWORK\",\"MEDIA_ERR_DECODE\",\"MEDIA_ERR_SRC_NOT_SUPPORTED\",\"MEDIA_ERR_ENCRYPTED\"],ne.defaultMessages={1:\"You aborted the media playback\",2:\"A network error caused the media download to fail part-way.\",3:\"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.\",4:\"The media could not be loaded, either because the server or network failed or because the format is not supported.\",5:\"The media is encrypted and we do not have the keys to decrypt it.\"};for(var fi=0;fi<ne.errorTypes.length;fi++)ne[ne.errorTypes[fi]]=fi,ne.prototype[ne.errorTypes[fi]]=fi;var pi=function(e){return[\"kind\",\"label\",\"language\",\"id\",\"inBandMetadataTrackDispatchType\",\"mode\",\"src\"].reduce(function(t,i,n){return e[i]&&(t[i]=e[i]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})},mi=function(e){var t=e.$$(\"track\"),i=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=pi(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===i.indexOf(e)}).map(pi))},gi=function(e,t){return e.forEach(function(e){var i=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return i.addCue(e)})}),t.textTracks()},_i=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).handleKeyDown_=function(e){return n.handleKeyDown(e)},n.close_=function(e){return n.close(e)},n.opened_=n.hasBeenOpened_=n.hasBeenFilled_=!1,n.closeable(!n.options_.uncloseable),n.content(n.options_.content),n.contentEl_=g(\"div\",{className:\"vjs-modal-dialog-content\"},{role:\"document\"}),n.descEl_=g(\"p\",{className:\"vjs-modal-dialog-description vjs-control-text\",id:n.el().getAttribute(\"aria-describedby\")}),_(n.descEl_,n.description()),n.el_.appendChild(n.descEl_),n.el_.appendChild(n.contentEl_),n}He.default(t,e);var i=t.prototype;return i.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:this.buildCSSClass(),tabIndex:-1},{\"aria-describedby\":this.id()+\"_description\",\"aria-hidden\":\"true\",\"aria-label\":this.label(),role:\"dialog\"})},i.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},i.buildCSSClass=function(){return\"vjs-modal-dialog vjs-hidden \"+e.prototype.buildCSSClass.call(this)},i.label=function(){return this.localize(this.options_.label||\"Modal Window\")},i.description=function(){var e=this.options_.description||this.localize(\"This is a modal window.\");return this.closeable()&&(e+=\" \"+this.localize(\"This modal can be closed by pressing the Escape key or activating the close button.\")),e},i.open=function(){if(!this.opened_){var e=this.player();this.trigger(\"beforemodalopen\"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on(\"keydown\",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute(\"aria-hidden\",\"false\"),this.trigger(\"modalopen\"),this.hasBeenOpened_=!0}},i.opened=function(e){return\"boolean\"==typeof e&&this[e?\"open\":\"close\"](),this.opened_},i.close=function(){if(this.opened_){var e=this.player();this.trigger(\"beforemodalclose\"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off(\"keydown\",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute(\"aria-hidden\",\"true\"),this.trigger(\"modalclose\"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},i.closeable=function(e){if(\"boolean\"==typeof e){var t=this.closeable_=!!e,i=this.getChild(\"closeButton\");if(t&&!i){var n=this.contentEl_;this.contentEl_=this.el_,i=this.addChild(\"closeButton\",{controlText:\"Close Modal Dialog\"}),this.contentEl_=n,this.on(i,\"close\",this.close_)}!t&&i&&(this.off(i,\"close\",this.close_),this.removeChild(i),i.dispose())}return this.closeable_},i.fill=function(){this.fillWith(this.content())},i.fillWith=function(e){var t=this.contentEl(),i=t.parentNode,n=t.nextSibling;this.trigger(\"beforemodalfill\"),this.hasBeenFilled_=!0,i.removeChild(t),this.empty(),j(t,e),this.trigger(\"modalfill\"),n?i.insertBefore(t,n):i.appendChild(t);var r=this.getChild(\"closeButton\");r&&i.appendChild(r.el_)},i.empty=function(){this.trigger(\"beforemodalempty\"),O(this.contentEl()),this.trigger(\"modalempty\")},i.content=function(e){return void 0!==e&&(this.content_=e),this.content_},i.conditionalFocus_=function(){var e=Ne.default.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())},i.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},i.handleKeyDown=function(e){if(e.stopPropagation(),Ge.default.isEventKey(e,\"Escape\")&&this.closeable())return e.preventDefault(),void this.close();if(Ge.default.isEventKey(e,\"Tab\")){for(var t,i=this.focusableEls_(),n=this.el_.querySelector(\":focus\"),r=0;r<i.length;r++)if(n===i[r]){t=r;break}Ne.default.activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(i[i.length-1].focus(),e.preventDefault()):e.shiftKey||t!==i.length-1||(i[0].focus(),e.preventDefault())}},i.focusableEls_=function(){var e=this.el_.querySelectorAll(\"*\");return Array.prototype.filter.call(e,function(e){return(e instanceof Be.default.HTMLAnchorElement||e instanceof Be.default.HTMLAreaElement)&&e.hasAttribute(\"href\")||(e instanceof Be.default.HTMLInputElement||e instanceof Be.default.HTMLSelectElement||e instanceof Be.default.HTMLTextAreaElement||e instanceof Be.default.HTMLButtonElement)&&!e.hasAttribute(\"disabled\")||e instanceof Be.default.HTMLIFrameElement||e instanceof Be.default.HTMLObjectElement||e instanceof Be.default.HTMLEmbedElement||e.hasAttribute(\"tabindex\")&&-1!==e.getAttribute(\"tabindex\")||e.hasAttribute(\"contenteditable\")})},t}(hi);_i.prototype.options_={pauseOnOpen:!0,temporary:!0},hi.registerComponent(\"ModalDialog\",_i);var vi=function(e){function t(t){var i;void 0===t&&(t=[]),(i=e.call(this)||this).tracks_=[],Object.defineProperty(Ve.default(i),\"length\",{get:function(){return this.tracks_.length}});for(var n=0;n<t.length;n++)i.addTrack(t[n]);return i}He.default(t,e);var i=t.prototype;return i.addTrack=function(e){var t=this,i=this.tracks_.length;\"\"+i in this||Object.defineProperty(this,i,{get:function(){return this.tracks_[i]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:\"addtrack\",target:this})),e.labelchange_=function(){t.trigger({track:e,type:\"labelchange\",target:t})},Xt(e)&&e.addEventListener(\"labelchange\",e.labelchange_)},i.removeTrack=function(e){for(var t,i=0,n=this.length;i<n;i++)if(this[i]===e){(t=this[i]).off&&t.off(),this.tracks_.splice(i,1);break}t&&this.trigger({track:t,type:\"removetrack\",target:this})},i.getTrackById=function(e){for(var t=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===e){t=r;break}}return t},t}(Jt);for(var yi in vi.prototype.allowedEvents_={change:\"change\",addtrack:\"addtrack\",removetrack:\"removetrack\",labelchange:\"labelchange\"},vi.prototype.allowedEvents_)vi.prototype[\"on\"+yi]=null;var bi=function(e,t){for(var i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].enabled=!1)},Ai=function(e){function t(t){var i;void 0===t&&(t=[]);for(var n=t.length-1;n>=0;n--)if(t[n].enabled){bi(t,t[n]);break}return(i=e.call(this,t)||this).changing_=!1,i}He.default(t,e);var i=t.prototype;return i.addTrack=function(t){var i=this;t.enabled&&bi(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){i.changing_||(i.changing_=!0,bi(i,t),i.changing_=!1,i.trigger(\"change\"))},t.addEventListener(\"enabledchange\",t.enabledChange_))},i.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener(\"enabledchange\",t.enabledChange_),t.enabledChange_=null)},t}(vi),Ei=function(e,t){for(var i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].selected=!1)},wi=function(e){function t(t){var i;void 0===t&&(t=[]);for(var n=t.length-1;n>=0;n--)if(t[n].selected){Ei(t,t[n]);break}return(i=e.call(this,t)||this).changing_=!1,Object.defineProperty(Ve.default(i),\"selectedIndex\",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),i}He.default(t,e);var i=t.prototype;return i.addTrack=function(t){var i=this;t.selected&&Ei(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){i.changing_||(i.changing_=!0,Ei(i,t),i.changing_=!1,i.trigger(\"change\"))},t.addEventListener(\"selectedchange\",t.selectedChange_))},i.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener(\"selectedchange\",t.selectedChange_),t.selectedChange_=null)},t}(vi),Ti=function(e){function t(){return e.apply(this,arguments)||this}He.default(t,e);var i=t.prototype;return i.addTrack=function(t){var i=this;e.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return i.queueTrigger(\"change\")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return i.trigger(\"selectedlanguagechange\")}),t.addEventListener(\"modechange\",this.queueChange_),-1===[\"metadata\",\"chapters\"].indexOf(t.kind)&&t.addEventListener(\"modechange\",this.triggerSelectedlanguagechange_)},i.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener(\"modechange\",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener(\"modechange\",this.triggerSelectedlanguagechange_))},t}(vi),Si=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,\"length\",{get:function(){return this.trackElements_.length}});for(var t=0,i=e.length;t<i;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;\"\"+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,i=0,n=this.trackElements_.length;i<n;i++)if(e===this.trackElements_[i].track){t=this.trackElements_[i];break}return t},t.removeTrackElement_=function(e){for(var t=0,i=this.trackElements_.length;t<i;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&\"function\"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),\"function\"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}(),Ci=function(){function e(t){e.prototype.setCues_.call(this,t),Object.defineProperty(this,\"length\",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(e){var t=this.length||0,i=0,n=e.length;this.cues_=e,this.length_=e.length;var r=function(e){\"\"+e in this||Object.defineProperty(this,\"\"+e,{get:function(){return this.cues_[e]}})};if(t<n)for(i=t;i<n;i++)r.call(this,i)},t.getCueById=function(e){for(var t=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===e){t=r;break}}return t},e}(),ki={alternative:\"alternative\",captions:\"captions\",main:\"main\",sign:\"sign\",subtitles:\"subtitles\",commentary:\"commentary\"},Li={alternative:\"alternative\",descriptions:\"descriptions\",main:\"main\",\"main-desc\":\"main-desc\",translation:\"translation\",commentary:\"commentary\"},xi={subtitles:\"subtitles\",captions:\"captions\",descriptions:\"descriptions\",chapters:\"chapters\",metadata:\"metadata\"},Ii={disabled:\"disabled\",hidden:\"hidden\",showing:\"showing\"},Pi=function(e){function t(t){var i;void 0===t&&(t={}),i=e.call(this)||this;var n={id:t.id||\"vjs_track_\"+V(),kind:t.kind||\"\",language:t.language||\"\"},r=t.label||\"\",a=function(e){Object.defineProperty(Ve.default(i),e,{get:function(){return n[e]},set:function(){}})};for(var s in n)a(s);return Object.defineProperty(Ve.default(i),\"label\",{get:function(){return r},set:function(e){e!==r&&(r=e,this.trigger(\"labelchange\"))}}),i}return He.default(t,e),t}(Jt),Ri=function(e){var t=[\"protocol\",\"hostname\",\"port\",\"pathname\",\"search\",\"hash\",\"host\"],i=Ne.default.createElement(\"a\");i.href=e;for(var n={},r=0;r<t.length;r++)n[t[r]]=i[t[r]];return\"http:\"===n.protocol&&(n.host=n.host.replace(/:80$/,\"\")),\"https:\"===n.protocol&&(n.host=n.host.replace(/:443$/,\"\")),n.protocol||(n.protocol=Be.default.location.protocol),n.host||(n.host=Be.default.location.host),n},Di=function(e){if(!e.match(/^https?:\\/\\//)){var t=Ne.default.createElement(\"a\");t.href=e,e=t.href}return e},Oi=function(e){if(\"string\"==typeof e){var t=/^(\\/?)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?)(\\.([^\\.\\/\\?]+)))(?:[\\/]*|[\\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return\"\"},Mi=function(e,t){void 0===t&&(t=Be.default.location);var i=Ri(e);return(\":\"===i.protocol?t.protocol:i.protocol)+i.host!==t.protocol+t.host},Ui=Object.freeze({__proto__:null,parseUrl:Ri,getAbsoluteURL:Di,getFileExtension:Oi,isCrossOrigin:Mi}),ji=function(e,t){var i=new Be.default.WebVTT.Parser(Be.default,Be.default.vttjs,Be.default.WebVTT.StringDecoder()),n=[];i.oncue=function(e){t.addCue(e)},i.onparsingerror=function(e){n.push(e)},i.onflush=function(){t.trigger({type:\"loadeddata\",target:t})},i.parse(e),n.length>0&&(Be.default.console&&Be.default.console.groupCollapsed&&Be.default.console.groupCollapsed(\"Text Track parsing errors for \"+t.src),n.forEach(function(e){return lt.error(e)}),Be.default.console&&Be.default.console.groupEnd&&Be.default.console.groupEnd()),i.flush()},Bi=function(e,t){var i={uri:e},n=Mi(e);n&&(i.cors=n);var r=\"use-credentials\"===t.tech_.crossOrigin();r&&(i.withCredentials=r),Ye.default(i,qt(this,function(e,i,n){return e?lt.error(e,i):(t.loaded_=!0,void(\"function\"!=typeof Be.default.WebVTT?t.tech_&&t.tech_.any([\"vttjsloaded\",\"vttjserror\"],function(e){return\"vttjserror\"!==e.type?ji(n,t):void lt.error(\"vttjs failed to load, stopping trying to process \"+t.src)}):ji(n,t)))}))},Ni=function(e){function t(t){var i;if(void 0===t&&(t={}),\n!t.tech)throw new Error(\"A tech was not provided.\");var n=Z(t,{kind:xi[t.kind]||\"subtitles\",language:t.language||t.srclang||\"\"}),r=Ii[n.mode]||\"disabled\",a=n.default;\"metadata\"!==n.kind&&\"chapters\"!==n.kind||(r=\"hidden\"),(i=e.call(this,n)||this).tech_=n.tech,i.cues_=[],i.activeCues_=[],i.preload_=!1!==i.tech_.preloadTextTracks;var s=new Ci(i.cues_),o=new Ci(i.activeCues_),l=!1,u=qt(Ve.default(i),function(){this.tech_.isReady_&&!this.tech_.isDisposed()&&(this.activeCues=this.activeCues,l&&(this.trigger(\"cuechange\"),l=!1))});return i.tech_.one(\"dispose\",function(){i.tech_.off(\"timeupdate\",u)}),\"disabled\"!==r&&i.tech_.on(\"timeupdate\",u),Object.defineProperties(Ve.default(i),{default:{get:function(){return a},set:function(){}},mode:{get:function(){return r},set:function(e){Ii[e]&&r!==e&&(r=e,this.preload_||\"disabled\"===r||0!==this.cues.length||Bi(this.src,this),this.tech_.off(\"timeupdate\",u),\"disabled\"!==r&&this.tech_.on(\"timeupdate\",u),this.trigger(\"modechange\"))}},cues:{get:function(){return this.loaded_?s:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return o;for(var e=this.tech_.currentTime(),t=[],i=0,n=this.cues.length;i<n;i++){var r=this.cues[i];(r.startTime<=e&&r.endTime>=e||r.startTime===r.endTime&&r.startTime<=e&&r.startTime+.5>=e)&&t.push(r)}if(l=!1,t.length!==this.activeCues_.length)l=!0;else for(var a=0;a<t.length;a++)-1===this.activeCues_.indexOf(t[a])&&(l=!0);return this.activeCues_=t,o.setCues_(this.activeCues_),o},set:function(){}}}),n.src?(i.src=n.src,i.preload_||(i.loaded_=!0),(i.preload_||\"subtitles\"!==n.kind&&\"captions\"!==n.kind)&&Bi(i.src,Ve.default(i))):i.loaded_=!0,i}He.default(t,e);var i=t.prototype;return i.addCue=function(e){var t=e;if(Be.default.vttjs&&!(e instanceof Be.default.vttjs.VTTCue)){for(var i in t=new Be.default.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)i in t||(t[i]=e[i]);t.id=e.id,t.originalCue_=e}for(var n=this.tech_.textTracks(),r=0;r<n.length;r++)n[r]!==this&&n[r].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},i.removeCue=function(e){for(var t=this.cues_.length;t--;){var i=this.cues_[t];if(i===e||i.originalCue_&&i.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(Pi);Ni.prototype.allowedEvents_={cuechange:\"cuechange\"};var Fi=function(e){function t(t){var i;void 0===t&&(t={});var n=Z(t,{kind:Li[t.kind]||\"\"});i=e.call(this,n)||this;var r=!1;return Object.defineProperty(Ve.default(i),\"enabled\",{get:function(){return r},set:function(e){\"boolean\"==typeof e&&e!==r&&(r=e,this.trigger(\"enabledchange\"))}}),n.enabled&&(i.enabled=n.enabled),i.loaded_=!0,i}return He.default(t,e),t}(Pi),Vi=function(e){function t(t){var i;void 0===t&&(t={});var n=Z(t,{kind:ki[t.kind]||\"\"});i=e.call(this,n)||this;var r=!1;return Object.defineProperty(Ve.default(i),\"selected\",{get:function(){return r},set:function(e){\"boolean\"==typeof e&&e!==r&&(r=e,this.trigger(\"selectedchange\"))}}),n.selected&&(i.selected=n.selected),i}return He.default(t,e),t}(Pi),Hi=function(e){function t(t){var i,n;void 0===t&&(t={}),i=e.call(this)||this;var r=new Ni(t);return i.kind=r.kind,i.src=r.src,i.srclang=r.language,i.label=r.label,i.default=r.default,Object.defineProperties(Ve.default(i),{readyState:{get:function(){return n}},track:{get:function(){return r}}}),n=0,r.addEventListener(\"loadeddata\",function(){n=2,i.trigger({type:\"load\",target:Ve.default(i)})}),i}return He.default(t,e),t}(Jt);Hi.prototype.allowedEvents_={load:\"load\"},Hi.NONE=0,Hi.LOADING=1,Hi.LOADED=2,Hi.ERROR=3;var zi={audio:{ListClass:Ai,TrackClass:Fi,capitalName:\"Audio\"},video:{ListClass:wi,TrackClass:Vi,capitalName:\"Video\"},text:{ListClass:Ti,TrackClass:Ni,capitalName:\"Text\"}};Object.keys(zi).forEach(function(e){zi[e].getterName=e+\"Tracks\",zi[e].privateName=e+\"Tracks_\"});var Gi={remoteText:{ListClass:Ti,TrackClass:Ni,capitalName:\"RemoteText\",getterName:\"remoteTextTracks\",privateName:\"remoteTextTracks_\"},remoteTextEl:{ListClass:Si,TrackClass:Hi,capitalName:\"RemoteTextTrackEls\",getterName:\"remoteTextTrackEls\",privateName:\"remoteTextTrackEls_\"}},Yi=Fe.default({},zi,Gi);Gi.names=Object.keys(Gi),zi.names=Object.keys(zi),Yi.names=[].concat(Gi.names).concat(zi.names);var Wi=function(e){function t(t,i){var n;return void 0===t&&(t={}),void 0===i&&(i=function(){}),t.reportTouchActivity=!1,(n=e.call(this,null,t,i)||this).onDurationChange_=function(e){return n.onDurationChange(e)},n.trackProgress_=function(e){return n.trackProgress(e)},n.trackCurrentTime_=function(e){return n.trackCurrentTime(e)},n.stopTrackingCurrentTime_=function(e){return n.stopTrackingCurrentTime(e)},n.disposeSourceHandler_=function(e){return n.disposeSourceHandler(e)},n.hasStarted_=!1,n.on(\"playing\",function(){this.hasStarted_=!0}),n.on(\"loadstart\",function(){this.hasStarted_=!1}),Yi.names.forEach(function(e){var i=Yi[e];t&&t[i.getterName]&&(n[i.privateName]=t[i.getterName])}),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),[\"Text\",\"Audio\",\"Video\"].forEach(function(e){!1===t[\"native\"+e+\"Tracks\"]&&(n[\"featuresNative\"+e+\"Tracks\"]=!1)}),!1===t.nativeCaptions||!1===t.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.preloadTextTracks=!1!==t.preloadTextTracks,n.autoRemoteTextTracks_=new Yi.text.ListClass,n.initTrackListeners(),t.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||\"Unknown Tech\"),n}He.default(t,e);var i=t.prototype;return i.triggerSourceset=function(e){var t=this;this.isReady_||this.one(\"ready\",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:\"sourceset\"})},i.manualProgressOn=function(){this.on(\"durationchange\",this.onDurationChange_),this.manualProgress=!0,this.one(\"ready\",this.trackProgress_)},i.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off(\"durationchange\",this.onDurationChange_)},i.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(qt(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger(\"progress\"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},i.onDurationChange=function(e){this.duration_=this.duration()},i.buffered=function(){return te(0,0)},i.bufferedPercent=function(){return ie(this.buffered(),this.duration_)},i.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},i.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on(\"play\",this.trackCurrentTime_),this.on(\"pause\",this.stopTrackingCurrentTime_)},i.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off(\"play\",this.trackCurrentTime_),this.off(\"pause\",this.stopTrackingCurrentTime_)},i.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:\"timeupdate\",target:this,manuallyTriggered:!0})},250)},i.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:\"timeupdate\",target:this,manuallyTriggered:!0})},i.dispose=function(){this.clearTracks(zi.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},i.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach(function(e){for(var i=t[e+\"Tracks\"]()||[],n=i.length;n--;){var r=i[n];\"text\"===e&&t.removeRemoteTextTrack(r),i.removeTrack(r)}})},i.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var i=e[t];this.removeRemoteTextTrack(i)}},i.reset=function(){},i.crossOrigin=function(){},i.setCrossOrigin=function(){},i.error=function(e){return void 0!==e&&(this.error_=new ne(e),this.trigger(\"error\")),this.error_},i.played=function(){return this.hasStarted_?te(0,0):te()},i.play=function(){},i.setScrubbing=function(){},i.scrubbing=function(){},i.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:\"timeupdate\",target:this,manuallyTriggered:!0})},i.initTrackListeners=function(){var e=this;zi.names.forEach(function(t){var i=zi[t],n=function(){e.trigger(t+\"trackchange\")},r=e[i.getterName]();r.addEventListener(\"removetrack\",n),r.addEventListener(\"addtrack\",n),e.on(\"dispose\",function(){r.removeEventListener(\"removetrack\",n),r.removeEventListener(\"addtrack\",n)})})},i.addWebVttScript_=function(){var e=this;if(!Be.default.WebVTT)if(Ne.default.body.contains(this.el())){if(!this.options_[\"vtt.js\"]&&l(We.default)&&Object.keys(We.default).length>0)return void this.trigger(\"vttjsloaded\");var t=Ne.default.createElement(\"script\");t.src=this.options_[\"vtt.js\"]||\"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js\",t.onload=function(){e.trigger(\"vttjsloaded\")},t.onerror=function(){e.trigger(\"vttjserror\")},this.on(\"dispose\",function(){t.onload=null,t.onerror=null}),Be.default.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},i.emulateTextTracks=function(){var e=this,t=this.textTracks(),i=this.remoteTextTracks(),n=function(e){return t.addTrack(e.track)},r=function(e){return t.removeTrack(e.track)};i.on(\"addtrack\",n),i.on(\"removetrack\",r),this.addWebVttScript_();var a=function(){return e.trigger(\"texttrackchange\")},s=function(){a();for(var e=0;e<t.length;e++){var i=t[e];i.removeEventListener(\"cuechange\",a),\"showing\"===i.mode&&i.addEventListener(\"cuechange\",a)}};s(),t.addEventListener(\"change\",s),t.addEventListener(\"addtrack\",s),t.addEventListener(\"removetrack\",s),this.on(\"dispose\",function(){i.off(\"addtrack\",n),i.off(\"removetrack\",r),t.removeEventListener(\"change\",s),t.removeEventListener(\"addtrack\",s),t.removeEventListener(\"removetrack\",s);for(var e=0;e<t.length;e++)t[e].removeEventListener(\"cuechange\",a)})},i.addTextTrack=function(e,t,i){if(!e)throw new Error(\"TextTrack kind is required but was not provided\");return function(e,t,i,n,r){void 0===r&&(r={});var a=e.textTracks();r.kind=t,i&&(r.label=i),n&&(r.language=n),r.tech=e;var s=new Yi.text.TrackClass(r);return a.addTrack(s),s}(this,e,t,i)},i.createRemoteTextTrack=function(e){var t=Z(e,{tech:this});return new Gi.remoteTextEl.TrackClass(t)},i.addRemoteTextTrack=function(e,t){var i=this;void 0===e&&(e={});var n=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(lt.warn('Calling addRemoteTextTrack without explicitly setting the \"manualCleanup\" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!0!==t&&this.ready(function(){return i.autoRemoteTextTracks_.addTrack(n.track)}),n},i.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},i.getVideoPlaybackQuality=function(){return{}},i.requestPictureInPicture=function(){var e=this.options_.Promise||Be.default.Promise;if(e)return e.reject()},i.disablePictureInPicture=function(){return!0},i.setDisablePictureInPicture=function(){},i.setPoster=function(){},i.playsinline=function(){},i.setPlaysinline=function(){},i.overrideNativeAudioTracks=function(){},i.overrideNativeVideoTracks=function(){},i.canPlayType=function(){return\"\"},t.canPlayType=function(){return\"\"},t.canPlaySource=function(e,i){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,i){if(t.techs_||(t.techs_={}),!t.isTech(i))throw new Error(\"Tech \"+e+\" must be a Tech\");if(!t.canPlayType)throw new Error(\"Techs must have a static canPlayType method on them\");if(!t.canPlaySource)throw new Error(\"Techs must have a static canPlaySource method on them\");return e=oi(e),t.techs_[e]=i,t.techs_[si(e)]=i,\"Tech\"!==e&&t.defaultTechOrder_.push(e),i},t.getTech=function(e){if(e)return t.techs_&&t.techs_[e]?t.techs_[e]:(e=oi(e),Be.default&&Be.default.videojs&&Be.default.videojs[e]?(lt.warn(\"The \"+e+\" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)\"),Be.default.videojs[e]):void 0)},t}(hi);Yi.names.forEach(function(e){var t=Yi[e];Wi.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),Wi.prototype.featuresVolumeControl=!0,Wi.prototype.featuresMuteControl=!0,Wi.prototype.featuresFullscreenResize=!1,Wi.prototype.featuresPlaybackRate=!1,Wi.prototype.featuresProgressEvents=!1,Wi.prototype.featuresSourceset=!1,Wi.prototype.featuresTimeupdateEvents=!1,Wi.prototype.featuresNativeTextTracks=!1,Wi.withSourceHandlers=function(e){e.registerSourceHandler=function(t,i){var n=e.sourceHandlers;n||(n=e.sourceHandlers=[]),void 0===i&&(i=n.length),n.splice(i,0,t)},e.canPlayType=function(t){for(var i,n=e.sourceHandlers||[],r=0;r<n.length;r++)if(i=n[r].canPlayType(t))return i;return\"\"},e.selectSourceHandler=function(t,i){for(var n=e.sourceHandlers||[],r=0;r<n.length;r++)if(n[r].canHandleSource(t,i))return n[r];return null},e.canPlaySource=function(t,i){var n=e.selectSourceHandler(t,i);return n?n.canHandleSource(t,i):\"\"},[\"seekable\",\"seeking\",\"duration\"].forEach(function(e){var t=this[e];\"function\"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var i=e.selectSourceHandler(t,this.options_);i||(e.nativeSourceHandler?i=e.nativeSourceHandler:lt.error(\"No source handler found for the current source.\")),this.disposeSourceHandler(),this.off(\"dispose\",this.disposeSourceHandler_),i!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=i.handleSource(t,this,this.options_),this.one(\"dispose\",this.disposeSourceHandler_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks([\"audio\",\"video\"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},hi.registerComponent(\"Tech\",Wi),Wi.registerTech(\"Tech\",Wi),Wi.defaultTechOrder_=[];var qi={},Qi={},Ji={},Ki={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Xi={setCurrentTime:1,setMuted:1,setVolume:1},Zi={play:1,pause:1},$i={opus:\"video/ogg\",ogv:\"video/ogg\",mp4:\"video/mp4\",mov:\"video/mp4\",m4v:\"video/mp4\",mkv:\"video/x-matroska\",m4a:\"audio/mp4\",mp3:\"audio/mpeg\",aac:\"audio/aac\",caf:\"audio/x-caf\",flac:\"audio/flac\",oga:\"audio/ogg\",wav:\"audio/wav\",m3u8:\"application/x-mpegURL\",jpg:\"image/jpeg\",jpeg:\"image/jpeg\",gif:\"image/gif\",png:\"image/png\",svg:\"image/svg+xml\",webp:\"image/webp\"},en=function(e){void 0===e&&(e=\"\");var t=Oi(e);return $i[t.toLowerCase()]||\"\"},tn=function(e){function t(t,i,n){var r,a=Z({createEl:!1},i);if(r=e.call(this,t,a,n)||this,i.playerOptions.sources&&0!==i.playerOptions.sources.length)t.src(i.playerOptions.sources);else for(var s=0,o=i.playerOptions.techOrder;s<o.length;s++){var l=oi(o[s]),u=Wi.getTech(l);if(l||(u=hi.getComponent(l)),u&&u.isSupported()){t.loadTech_(l);break}}return r}return He.default(t,e),t}(hi);hi.registerComponent(\"MediaLoader\",tn);var nn=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).handleMouseOver_=function(e){return n.handleMouseOver(e)},n.handleMouseOut_=function(e){return n.handleMouseOut(e)},n.handleClick_=function(e){return n.handleClick(e)},n.handleKeyDown_=function(e){return n.handleKeyDown(e)},n.emitTapEvents(),n.enable(),n}He.default(t,e);var i=t.prototype;return i.createEl=function(e,t,i){void 0===e&&(e=\"div\"),void 0===t&&(t={}),void 0===i&&(i={}),t=a({className:this.buildCSSClass(),tabIndex:0},t),\"button\"===e&&lt.error(\"Creating a ClickableComponent with an HTML element of \"+e+\" is not supported; use a Button instead.\"),i=a({role:\"button\"},i),this.tabIndex_=t.tabIndex;var n=g(e,t,i);return n.appendChild(g(\"span\",{className:\"vjs-icon-placeholder\"},{\"aria-hidden\":!0})),this.createControlTextEl(n),n},i.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},i.createControlTextEl=function(e){return this.controlTextEl_=g(\"span\",{className:\"vjs-control-text\"},{\"aria-live\":\"polite\"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},i.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||\"Need Text\";var i=this.localize(e);this.controlText_=e,_(this.controlTextEl_,i),this.nonIconControl||this.player_.options_.noUITitleAttributes||t.setAttribute(\"title\",i)},i.buildCSSClass=function(){return\"vjs-control vjs-button \"+e.prototype.buildCSSClass.call(this)},i.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass(\"vjs-disabled\"),this.el_.setAttribute(\"aria-disabled\",\"false\"),void 0!==this.tabIndex_&&this.el_.setAttribute(\"tabIndex\",this.tabIndex_),this.on([\"tap\",\"click\"],this.handleClick_),this.on(\"keydown\",this.handleKeyDown_))},i.disable=function(){this.enabled_=!1,this.addClass(\"vjs-disabled\"),this.el_.setAttribute(\"aria-disabled\",\"true\"),void 0!==this.tabIndex_&&this.el_.removeAttribute(\"tabIndex\"),this.off(\"mouseover\",this.handleMouseOver_),this.off(\"mouseout\",this.handleMouseOut_),this.off([\"tap\",\"click\"],this.handleClick_),this.off(\"keydown\",this.handleKeyDown_)},i.handleLanguagechange=function(){this.controlText(this.controlText_)},i.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},i.handleKeyDown=function(t){Ge.default.isEventKey(t,\"Space\")||Ge.default.isEventKey(t,\"Enter\")?(t.preventDefault(),t.stopPropagation(),this.trigger(\"click\")):e.prototype.handleKeyDown.call(this,t)},t}(hi);hi.registerComponent(\"ClickableComponent\",nn);var rn=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).update(),n.update_=function(e){return n.update(e)},t.on(\"posterchange\",n.update_),n}He.default(t,e);var i=t.prototype;return i.dispose=function(){this.player().off(\"posterchange\",this.update_),e.prototype.dispose.call(this)},i.createEl=function(){return g(\"div\",{className:\"vjs-poster\",tabIndex:-1})},i.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},i.setSrc=function(e){var t=\"\";e&&(t='url(\"'+e+'\")'),this.el_.style.backgroundImage=t},i.handleClick=function(e){if(this.player_.controls()){var t=this.player_.usingPlugin(\"eme\")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(Tt||At)&&t||this.player_.tech(!0).focus(),this.player_.paused()?ae(this.player_.play()):this.player_.pause()}},t}(nn);hi.registerComponent(\"PosterImage\",rn);var an={monospace:\"monospace\",sansSerif:\"sans-serif\",serif:\"serif\",monospaceSansSerif:'\"Andale Mono\", \"Lucida Console\", monospace',monospaceSerif:'\"Courier New\", monospace',proportionalSansSerif:\"sans-serif\",proportionalSerif:\"serif\",casual:'\"Comic Sans MS\", Impact, fantasy',script:'\"Monotype Corsiva\", cursive',smallcaps:'\"Andale Mono\", \"Lucida Console\", monospace, sans-serif'},sn=function(e){function t(t,i,n){var r;r=e.call(this,t,i,n)||this;var a=function(e){return r.updateDisplay(e)};return t.on(\"loadstart\",function(e){return r.toggleDisplay(e)}),t.on(\"texttrackchange\",a),t.on(\"loadedmetadata\",function(e){return r.preselectTrack(e)}),t.ready(qt(Ve.default(r),function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on(\"fullscreenchange\",a),t.on(\"playerresize\",a),Be.default.addEventListener(\"orientationchange\",a),t.on(\"dispose\",function(){return Be.default.removeEventListener(\"orientationchange\",a)});for(var e=this.options_.playerOptions.tracks||[],i=0;i<e.length;i++)this.player_.addRemoteTextTrack(e[i],!0);this.preselectTrack()}})),r}He.default(t,e);var i=t.prototype;return i.preselectTrack=function(){for(var e,t,i,n={captions:1,subtitles:1},r=this.player_.textTracks(),a=this.player_.cache_.selectedLanguage,s=0;s<r.length;s++){var o=r[s];a&&a.enabled&&a.language&&a.language===o.language&&o.kind in n?o.kind===a.kind?i=o:i||(i=o):a&&!a.enabled?(i=null,e=null,t=null):o.default&&(\"descriptions\"!==o.kind||e?o.kind in n&&!t&&(t=o):e=o)}i?i.mode=\"showing\":t?t.mode=\"showing\":e&&(e.mode=\"showing\")},i.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-text-track-display\"},{\"aria-live\":\"off\",\"aria-atomic\":\"true\"})},i.clearDisplay=function(){\"function\"==typeof Be.default.WebVTT&&Be.default.WebVTT.processCues(Be.default,[],this.el_)},i.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var i=[],n=0;n<e.length;++n){var r=e[n];\"showing\"===r.mode&&i.push(r)}this.updateForTrack(i)}else{for(var a=null,s=null,o=e.length;o--;){var l=e[o];\"showing\"===l.mode&&(\"descriptions\"===l.kind?a=l:s=l)}s?(\"off\"!==this.getAttribute(\"aria-live\")&&this.setAttribute(\"aria-live\",\"off\"),this.updateForTrack(s)):a&&(\"assertive\"!==this.getAttribute(\"aria-live\")&&this.setAttribute(\"aria-live\",\"assertive\"),this.updateForTrack(a))}},i.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),i=e.activeCues,n=i.length;n--;){var r=i[n];if(r){var a=r.displayState;if(t.color&&(a.firstChild.style.color=t.color),t.textOpacity&&ce(a.firstChild,\"color\",de(t.color||\"#fff\",t.textOpacity)),t.backgroundColor&&(a.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&ce(a.firstChild,\"backgroundColor\",de(t.backgroundColor||\"#000\",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?ce(a,\"backgroundColor\",de(t.windowColor,t.windowOpacity)):a.style.backgroundColor=t.windowColor),t.edgeStyle&&(\"dropshadow\"===t.edgeStyle?a.firstChild.style.textShadow=\"2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222\":\"raised\"===t.edgeStyle?a.firstChild.style.textShadow=\"1px 1px #222, 2px 2px #222, 3px 3px #222\":\"depressed\"===t.edgeStyle?a.firstChild.style.textShadow=\"1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222\":\"uniform\"===t.edgeStyle&&(a.firstChild.style.textShadow=\"0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222\")),t.fontPercent&&1!==t.fontPercent){var s=Be.default.parseFloat(a.style.fontSize);a.style.fontSize=s*t.fontPercent+\"px\",a.style.height=\"auto\",a.style.top=\"auto\"}t.fontFamily&&\"default\"!==t.fontFamily&&(\"small-caps\"===t.fontFamily?a.firstChild.style.fontVariant=\"small-caps\":a.firstChild.style.fontFamily=an[t.fontFamily])}}},i.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),\"function\"==typeof Be.default.WebVTT&&!e.every(function(e){return!e.activeCues})){for(var t=[],i=0;i<e.length;++i)for(var n=e[i],r=0;r<n.activeCues.length;++r)t.push(n.activeCues[r]);Be.default.WebVTT.processCues(Be.default,t,this.el_);for(var a=0;a<e.length;++a){for(var s=e[a],o=0;o<s.activeCues.length;++o){var l=s.activeCues[o].displayState;b(l,\"vjs-text-track-cue\"),b(l,\"vjs-text-track-cue-\"+(s.language?s.language:a))}this.player_.textTrackSettings&&this.updateDisplayState(s)}}},t}(hi);hi.registerComponent(\"TextTrackDisplay\",sn);var on=function(e){function t(){return e.apply(this,arguments)||this}return He.default(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),i=this.localize(t?\"Audio Player\":\"Video Player\"),n=g(\"span\",{className:\"vjs-control-text\",textContent:this.localize(\"{1} is loading.\",[i])}),r=e.prototype.createEl.call(this,\"div\",{className:\"vjs-loading-spinner\",dir:\"ltr\"});return r.appendChild(n),r},t}(hi);hi.registerComponent(\"LoadingSpinner\",on);var ln=function(e){function t(){return e.apply(this,arguments)||this}He.default(t,e);var i=t.prototype;return i.createEl=function(e,t,i){void 0===t&&(t={}),void 0===i&&(i={});var n=g(\"button\",t=a({className:this.buildCSSClass()},t),i=a({type:\"button\"},i));return n.appendChild(g(\"span\",{className:\"vjs-icon-placeholder\"},{\"aria-hidden\":!0})),this.createControlTextEl(n),n},i.addChild=function(e,t){void 0===t&&(t={});var i=this.constructor.name;return lt.warn(\"Adding an actionable (user controllable) child to a Button (\"+i+\") is not supported; use a ClickableComponent instead.\"),hi.prototype.addChild.call(this,e,t)},i.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute(\"disabled\")},i.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute(\"disabled\",\"disabled\")},i.handleKeyDown=function(t){Ge.default.isEventKey(t,\"Space\")||Ge.default.isEventKey(t,\"Enter\")?t.stopPropagation():e.prototype.handleKeyDown.call(this,t)},t}(nn);hi.registerComponent(\"Button\",ln);var un=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).mouseused_=!1,n.on(\"mousedown\",function(e){return n.handleMouseDown(e)}),n}He.default(t,e);var i=t.prototype;return i.buildCSSClass=function(){return\"vjs-big-play-button\"},i.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var i=this.player_.usingPlugin(\"eme\")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return ae(t),void(!this.player_.tech(!0)||(Tt||At)&&i||this.player_.tech(!0).focus())}var n=this.player_.getChild(\"controlBar\"),r=n&&n.getChild(\"playToggle\");if(r){var a=function(){return r.focus()};re(t)?t.then(a,function(){}):this.setTimeout(a,1)}else this.player_.tech(!0).focus()},i.handleKeyDown=function(t){this.mouseused_=!1,e.prototype.handleKeyDown.call(this,t)},i.handleMouseDown=function(e){this.mouseused_=!0},t}(ln);un.prototype.controlText_=\"Play Video\",hi.registerComponent(\"BigPlayButton\",un);var dn=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).controlText(i&&i.controlText||n.localize(\"Close\")),n}He.default(t,e);var i=t.prototype;return i.buildCSSClass=function(){return\"vjs-close-button \"+e.prototype.buildCSSClass.call(this)},i.handleClick=function(e){this.trigger({type:\"close\",bubbles:!1})},i.handleKeyDown=function(t){Ge.default.isEventKey(t,\"Esc\")?(t.preventDefault(),t.stopPropagation(),this.trigger(\"click\")):e.prototype.handleKeyDown.call(this,t)},t}(ln);hi.registerComponent(\"CloseButton\",dn);var cn=function(e){function t(t,i){var n;return void 0===i&&(i={}),n=e.call(this,t,i)||this,i.replay=void 0===i.replay||i.replay,n.on(t,\"play\",function(e){return n.handlePlay(e)}),n.on(t,\"pause\",function(e){return n.handlePause(e)}),i.replay&&n.on(t,\"ended\",function(e){return n.handleEnded(e)}),n}He.default(t,e);var i=t.prototype;return i.buildCSSClass=function(){return\"vjs-play-control \"+e.prototype.buildCSSClass.call(this)},i.handleClick=function(e){this.player_.paused()?ae(this.player_.play()):this.player_.pause()},i.handleSeeked=function(e){this.removeClass(\"vjs-ended\"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},i.handlePlay=function(e){this.removeClass(\"vjs-ended\"),this.removeClass(\"vjs-paused\"),this.addClass(\"vjs-playing\"),this.controlText(\"Pause\")},i.handlePause=function(e){this.removeClass(\"vjs-playing\"),this.addClass(\"vjs-paused\"),this.controlText(\"Play\")},i.handleEnded=function(e){var t=this;this.removeClass(\"vjs-playing\"),this.addClass(\"vjs-ended\"),this.controlText(\"Replay\"),this.one(this.player_,\"seeked\",function(e){return t.handleSeeked(e)})},t}(ln);cn.prototype.controlText_=\"Play\",hi.registerComponent(\"PlayToggle\",cn);var hn=function(e,t){e=e<0?0:e;var i=Math.floor(e%60),n=Math.floor(e/60%60),r=Math.floor(e/3600),a=Math.floor(t/60%60),s=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(r=n=i=\"-\"),(r=r>0||s>0?r+\":\":\"\")+(n=((r||a>=10)&&n<10?\"0\"+n:n)+\":\")+(i=i<10?\"0\"+i:i)},fn=hn,pn=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).on(t,[\"timeupdate\",\"ended\"],function(e){return n.updateContent(e)}),n.updateTextNode_(),n}He.default(t,e);var i=t.prototype;return i.createEl=function(){var t=this.buildCSSClass(),i=e.prototype.createEl.call(this,\"div\",{className:t+\" vjs-time-control vjs-control\"}),n=g(\"span\",{className:\"vjs-control-text\",textContent:this.localize(this.labelText_)+\" \"},{role:\"presentation\"});return i.appendChild(n),this.contentEl_=g(\"span\",{className:t+\"-display\"},{\"aria-live\":\"off\",role:\"presentation\"}),i.appendChild(this.contentEl_),i},i.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},i.updateTextNode_=function(e){var t=this;void 0===e&&(e=0),e=he(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame(\"TimeDisplay#updateTextNode_\",function(){if(t.contentEl_){var e=t.textNode_;e&&t.contentEl_.firstChild!==e&&(e=null,lt.warn(\"TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.\")),t.textNode_=Ne.default.createTextNode(t.formattedTime_),t.textNode_&&(e?t.contentEl_.replaceChild(t.textNode_,e):t.contentEl_.appendChild(t.textNode_))}}))},i.updateContent=function(e){},t}(hi);pn.prototype.labelText_=\"Time\",pn.prototype.controlText_=\"Time\",hi.registerComponent(\"TimeDisplay\",pn);var mn=function(e){function t(){return e.apply(this,arguments)||this}He.default(t,e);var i=t.prototype;return i.buildCSSClass=function(){return\"vjs-current-time\"},i.updateContent=function(e){var t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)},t}(pn);mn.prototype.labelText_=\"Current Time\",mn.prototype.controlText_=\"Current Time\",hi.registerComponent(\"CurrentTimeDisplay\",mn);var gn=function(e){function t(t,i){var n,r=function(e){return n.updateContent(e)};return(n=e.call(this,t,i)||this).on(t,\"durationchange\",r),n.on(t,\"loadstart\",r),n.on(t,\"loadedmetadata\",r),n}He.default(t,e);var i=t.prototype;return i.buildCSSClass=function(){return\"vjs-duration\"},i.updateContent=function(e){var t=this.player_.duration();this.updateTextNode_(t)},t}(pn);gn.prototype.labelText_=\"Duration\",gn.prototype.controlText_=\"Duration\",hi.registerComponent(\"DurationDisplay\",gn);var _n=function(e){function t(){return e.apply(this,arguments)||this}return He.default(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,\"div\",{className:\"vjs-time-control vjs-time-divider\"},{\"aria-hidden\":!0}),i=e.prototype.createEl.call(this,\"div\"),n=e.prototype.createEl.call(this,\"span\",{textContent:\"/\"});return i.appendChild(n),t.appendChild(i),t},t}(hi);hi.registerComponent(\"TimeDivider\",_n);var vn=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).on(t,\"durationchange\",function(e){return n.updateContent(e)}),n}He.default(t,e);var i=t.prototype;return i.buildCSSClass=function(){return\"vjs-remaining-time\"},i.createEl=function(){var t=e.prototype.createEl.call(this);return t.insertBefore(g(\"span\",{},{\"aria-hidden\":!0},\"-\"),this.contentEl_),t},i.updateContent=function(e){var t;\"number\"==typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))},t}(pn);vn.prototype.labelText_=\"Remaining Time\",vn.prototype.controlText_=\"Remaining Time\",hi.registerComponent(\"RemainingTimeDisplay\",vn);var yn=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).updateShowing(),n.on(n.player(),\"durationchange\",function(e){return n.updateShowing(e)}),n}He.default(t,e);var i=t.prototype;return i.createEl=function(){var t=e.prototype.createEl.call(this,\"div\",{className:\"vjs-live-control vjs-control\"});return this.contentEl_=g(\"div\",{className:\"vjs-live-display\"},{\"aria-live\":\"off\"}),this.contentEl_.appendChild(g(\"span\",{className:\"vjs-control-text\",textContent:this.localize(\"Stream Type\")+\" \"})),this.contentEl_.appendChild(Ne.default.createTextNode(this.localize(\"LIVE\"))),t.appendChild(this.contentEl_),t},i.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},i.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(hi);hi.registerComponent(\"LiveDisplay\",yn);var bn=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).updateLiveEdgeStatus(),\nn.player_.liveTracker&&(n.updateLiveEdgeStatusHandler_=function(e){return n.updateLiveEdgeStatus(e)},n.on(n.player_.liveTracker,\"liveedgechange\",n.updateLiveEdgeStatusHandler_)),n}He.default(t,e);var i=t.prototype;return i.createEl=function(){var t=e.prototype.createEl.call(this,\"button\",{className:\"vjs-seek-to-live-control vjs-control\"});return this.textEl_=g(\"span\",{className:\"vjs-seek-to-live-text\",textContent:this.localize(\"LIVE\")},{\"aria-hidden\":\"true\"}),t.appendChild(this.textEl_),t},i.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute(\"aria-disabled\",!0),this.addClass(\"vjs-at-live-edge\"),this.controlText(\"Seek to live, currently playing live\")):(this.setAttribute(\"aria-disabled\",!1),this.removeClass(\"vjs-at-live-edge\"),this.controlText(\"Seek to live, currently behind live\"))},i.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},i.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,\"liveedgechange\",this.updateLiveEdgeStatusHandler_),this.textEl_=null,e.prototype.dispose.call(this)},t}(ln);bn.prototype.controlText_=\"Seek to live, currently playing live\",hi.registerComponent(\"SeekToLive\",bn);var An=function(e,t,i){return e=Number(e),Math.min(i,Math.max(t,isNaN(e)?t:e))},En=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).handleMouseDown_=function(e){return n.handleMouseDown(e)},n.handleMouseUp_=function(e){return n.handleMouseUp(e)},n.handleKeyDown_=function(e){return n.handleKeyDown(e)},n.handleClick_=function(e){return n.handleClick(e)},n.handleMouseMove_=function(e){return n.handleMouseMove(e)},n.update_=function(e){return n.update(e)},n.bar=n.getChild(n.options_.barName),n.vertical(!!n.options_.vertical),n.enable(),n}He.default(t,e);var i=t.prototype;return i.enabled=function(){return this.enabled_},i.enable=function(){this.enabled()||(this.on(\"mousedown\",this.handleMouseDown_),this.on(\"touchstart\",this.handleMouseDown_),this.on(\"keydown\",this.handleKeyDown_),this.on(\"click\",this.handleClick_),this.on(this.player_,\"controlsvisible\",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass(\"disabled\"),this.setAttribute(\"tabindex\",0),this.enabled_=!0)},i.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off(\"mousedown\",this.handleMouseDown_),this.off(\"touchstart\",this.handleMouseDown_),this.off(\"keydown\",this.handleKeyDown_),this.off(\"click\",this.handleClick_),this.off(this.player_,\"controlsvisible\",this.update_),this.off(e,\"mousemove\",this.handleMouseMove_),this.off(e,\"mouseup\",this.handleMouseUp_),this.off(e,\"touchmove\",this.handleMouseMove_),this.off(e,\"touchend\",this.handleMouseUp_),this.removeAttribute(\"tabindex\"),this.addClass(\"disabled\"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},i.createEl=function(t,i,n){return void 0===i&&(i={}),void 0===n&&(n={}),i.className=i.className+\" vjs-slider\",i=a({tabIndex:0},i),n=a({role:\"slider\",\"aria-valuenow\":0,\"aria-valuemin\":0,\"aria-valuemax\":100,tabIndex:0},n),e.prototype.createEl.call(this,t,i,n)},i.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;\"mousedown\"===e.type&&e.preventDefault(),\"touchstart\"!==e.type||Et||e.preventDefault(),L(),this.addClass(\"vjs-sliding\"),this.trigger(\"slideractive\"),this.on(t,\"mousemove\",this.handleMouseMove_),this.on(t,\"mouseup\",this.handleMouseUp_),this.on(t,\"touchmove\",this.handleMouseMove_),this.on(t,\"touchend\",this.handleMouseUp_),this.handleMouseMove(e)},i.handleMouseMove=function(e){},i.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;x(),this.removeClass(\"vjs-sliding\"),this.trigger(\"sliderinactive\"),this.off(e,\"mousemove\",this.handleMouseMove_),this.off(e,\"mouseup\",this.handleMouseUp_),this.off(e,\"touchmove\",this.handleMouseMove_),this.off(e,\"touchend\",this.handleMouseUp_),this.update()},i.update=function(){var e=this;if(this.el_&&this.bar){var t=this.getProgress();return t===this.progress_||(this.progress_=t,this.requestNamedAnimationFrame(\"Slider#update\",function(){var i=e.vertical()?\"height\":\"width\";e.bar.el().style[i]=(100*t).toFixed(2)+\"%\"})),t}},i.getProgress=function(){return Number(An(this.getPercent(),0,1).toFixed(4))},i.calculateDistance=function(e){var t=R(this.el_,e);return this.vertical()?t.y:t.x},i.handleKeyDown=function(t){Ge.default.isEventKey(t,\"Left\")||Ge.default.isEventKey(t,\"Down\")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):Ge.default.isEventKey(t,\"Right\")||Ge.default.isEventKey(t,\"Up\")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):e.prototype.handleKeyDown.call(this,t)},i.handleClick=function(e){e.stopPropagation(),e.preventDefault()},i.vertical=function(e){return void 0===e?this.vertical_||!1:(this.vertical_=!!e,void(this.vertical_?this.addClass(\"vjs-slider-vertical\"):this.addClass(\"vjs-slider-horizontal\")))},t}(hi);hi.registerComponent(\"Slider\",En);var wn=function(e,t){return An(e/t*100,0,100).toFixed(2)+\"%\"},Tn=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).partEls_=[],n.on(t,\"progress\",function(e){return n.update(e)}),n}He.default(t,e);var i=t.prototype;return i.createEl=function(){var t=e.prototype.createEl.call(this,\"div\",{className:\"vjs-load-progress\"}),i=g(\"span\",{className:\"vjs-control-text\"}),n=g(\"span\",{textContent:this.localize(\"Loaded\")}),r=Ne.default.createTextNode(\": \");return this.percentageEl_=g(\"span\",{className:\"vjs-control-text-loaded-percentage\",textContent:\"0%\"}),t.appendChild(i),i.appendChild(n),i.appendChild(r),i.appendChild(this.percentageEl_),t},i.dispose=function(){this.partEls_=null,this.percentageEl_=null,e.prototype.dispose.call(this)},i.update=function(e){var t=this;this.requestNamedAnimationFrame(\"LoadProgressBar#update\",function(){var e=t.player_.liveTracker,i=t.player_.buffered(),n=e&&e.isLive()?e.seekableEnd():t.player_.duration(),r=t.player_.bufferedEnd(),a=t.partEls_,s=wn(r,n);t.percent_!==s&&(t.el_.style.width=s,_(t.percentageEl_,s),t.percent_=s);for(var o=0;o<i.length;o++){var l=i.start(o),u=i.end(o),d=a[o];d||(d=t.el_.appendChild(g()),a[o]=d),d.dataset.start===l&&d.dataset.end===u||(d.dataset.start=l,d.dataset.end=u,d.style.left=wn(l,r),d.style.width=wn(u-l,r))}for(var c=a.length;c>i.length;c--)t.el_.removeChild(a[c-1]);a.length=i.length})},t}(hi);hi.registerComponent(\"LoadProgressBar\",Tn);var Sn=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).update=Qt(qt(Ve.default(n),n.update),30),n}He.default(t,e);var i=t.prototype;return i.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-time-tooltip\"},{\"aria-hidden\":\"true\"})},i.update=function(e,t,i){var n=P(this.el_),r=I(this.player_.el()),a=e.width*t;if(r&&n){var s=e.left-r.left+a,o=e.width-a+(r.right-e.right),l=n.width/2;s<l?l+=l-s:o<l&&(l=o),l<0?l=0:l>n.width&&(l=n.width),l=Math.round(l),this.el_.style.right=\"-\"+l+\"px\",this.write(i)}},i.write=function(e){_(this.el_,e)},i.updateTime=function(e,t,i,n){var r=this;this.requestNamedAnimationFrame(\"TimeTooltip#updateTime\",function(){var a,s=r.player_.duration();if(r.player_.liveTracker&&r.player_.liveTracker.isLive()){var o=r.player_.liveTracker.liveWindow(),l=o-t*o;a=(l<1?\"\":\"-\")+he(l,o)}else a=he(i,s);r.update(e,t,a),n&&n()})},t}(hi);hi.registerComponent(\"TimeTooltip\",Sn);var Cn=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).update=Qt(qt(Ve.default(n),n.update),30),n}He.default(t,e);var i=t.prototype;return i.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-play-progress vjs-slider-bar\"},{\"aria-hidden\":\"true\"})},i.update=function(e,t){var i=this.getChild(\"timeTooltip\");if(i){var n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();i.updateTime(e,t,n)}},t}(hi);Cn.prototype.options_={children:[]},It||_t||Cn.prototype.options_.children.push(\"timeTooltip\"),hi.registerComponent(\"PlayProgressBar\",Cn);var kn=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).update=Qt(qt(Ve.default(n),n.update),30),n}He.default(t,e);var i=t.prototype;return i.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-mouse-display\"})},i.update=function(e,t){var i=this,n=t*this.player_.duration();this.getChild(\"timeTooltip\").updateTime(e,t,n,function(){i.el_.style.left=e.width*t+\"px\"})},t}(hi);kn.prototype.options_={children:[\"timeTooltip\"]},hi.registerComponent(\"MouseTimeDisplay\",kn);var Ln=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).setEventHandlers_(),n}He.default(t,e);var i=t.prototype;return i.setEventHandlers_=function(){var e=this;this.update_=qt(this,this.update),this.update=Qt(this.update_,30),this.on(this.player_,[\"ended\",\"durationchange\",\"timeupdate\"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,\"liveedgechange\",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(t){return e.enableInterval_(t)},this.disableIntervalHandler_=function(t){return e.disableInterval_(t)},this.on(this.player_,[\"playing\"],this.enableIntervalHandler_),this.on(this.player_,[\"ended\",\"pause\",\"waiting\"],this.disableIntervalHandler_),\"hidden\"in Ne.default&&\"visibilityState\"in Ne.default&&this.on(Ne.default,\"visibilitychange\",this.toggleVisibility_)},i.toggleVisibility_=function(e){\"hidden\"===Ne.default.visibilityState?(this.cancelNamedAnimationFrame(\"SeekBar#update\"),this.cancelNamedAnimationFrame(\"Slider#update\"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())},i.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},i.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&\"ended\"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},i.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-progress-holder\"},{\"aria-label\":this.localize(\"Progress Bar\")})},i.update=function(t){var i=this;if(\"hidden\"!==Ne.default.visibilityState){var n=e.prototype.update.call(this);return this.requestNamedAnimationFrame(\"SeekBar#update\",function(){var e=i.player_.ended()?i.player_.duration():i.getCurrentTime_(),t=i.player_.liveTracker,r=i.player_.duration();t&&t.isLive()&&(r=i.player_.liveTracker.liveCurrentTime()),i.percent_!==n&&(i.el_.setAttribute(\"aria-valuenow\",(100*n).toFixed(2)),i.percent_=n),i.currentTime_===e&&i.duration_===r||(i.el_.setAttribute(\"aria-valuetext\",i.localize(\"progress bar timing: currentTime={1} duration={2}\",[he(e,r),he(r,r)],\"{1} of {2}\")),i.currentTime_=e,i.duration_=r),i.bar&&i.bar.update(I(i.el()),i.getProgress())}),n}},i.userSeek_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)},i.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},i.getPercent=function(){var e,t=this.getCurrentTime_(),i=this.player_.liveTracker;return i&&i.isLive()?(e=(t-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e},i.handleMouseDown=function(t){B(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},i.handleMouseMove=function(e){if(B(e)){var t,i=this.calculateDistance(e),n=this.player_.liveTracker;if(n&&n.isLive()){if(i>=.99)return void n.seekToLiveEdge();var r=n.seekableStart(),a=n.liveCurrentTime();if((t=r+i*n.liveWindow())>=a&&(t=a),t<=r&&(t=r+.1),t===1/0)return}else(t=i*this.player_.duration())===this.player_.duration()&&(t-=.1);this.userSeek_(t)}},i.enable=function(){e.prototype.enable.call(this);var t=this.getChild(\"mouseTimeDisplay\");t&&t.show()},i.disable=function(){e.prototype.disable.call(this);var t=this.getChild(\"mouseTimeDisplay\");t&&t.hide()},i.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:\"timeupdate\",target:this,manuallyTriggered:!0}),this.videoWasPlaying?ae(this.player_.play()):this.update_()},i.stepForward=function(){this.userSeek_(this.player_.currentTime()+5)},i.stepBack=function(){this.userSeek_(this.player_.currentTime()-5)},i.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyDown=function(t){var i=this.player_.liveTracker;if(Ge.default.isEventKey(t,\"Space\")||Ge.default.isEventKey(t,\"Enter\"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(Ge.default.isEventKey(t,\"Home\"))t.preventDefault(),t.stopPropagation(),this.userSeek_(0);else if(Ge.default.isEventKey(t,\"End\"))t.preventDefault(),t.stopPropagation(),i&&i.isLive()?this.userSeek_(i.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(Ge.default(t))){t.preventDefault(),t.stopPropagation();var n=10*(Ge.default.codes[Ge.default(t)]-Ge.default.codes[0])/100;i&&i.isLive()?this.userSeek_(i.seekableStart()+i.liveWindow()*n):this.userSeek_(this.player_.duration()*n)}else Ge.default.isEventKey(t,\"PgDn\")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):Ge.default.isEventKey(t,\"PgUp\")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):e.prototype.handleKeyDown.call(this,t)},i.dispose=function(){this.disableInterval_(),this.off(this.player_,[\"ended\",\"durationchange\",\"timeupdate\"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,\"liveedgechange\",this.update),this.off(this.player_,[\"playing\"],this.enableIntervalHandler_),this.off(this.player_,[\"ended\",\"pause\",\"waiting\"],this.disableIntervalHandler_),\"hidden\"in Ne.default&&\"visibilityState\"in Ne.default&&this.off(Ne.default,\"visibilitychange\",this.toggleVisibility_),e.prototype.dispose.call(this)},t}(En);Ln.prototype.options_={children:[\"loadProgressBar\",\"playProgressBar\"],barName:\"playProgressBar\"},It||_t||Ln.prototype.options_.children.splice(1,0,\"mouseTimeDisplay\"),hi.registerComponent(\"SeekBar\",Ln);var xn=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).handleMouseMove=Qt(qt(Ve.default(n),n.handleMouseMove),30),n.throttledHandleMouseSeek=Qt(qt(Ve.default(n),n.handleMouseSeek),30),n.handleMouseUpHandler_=function(e){return n.handleMouseUp(e)},n.handleMouseDownHandler_=function(e){return n.handleMouseDown(e)},n.enable(),n}He.default(t,e);var i=t.prototype;return i.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-progress-control vjs-control\"})},i.handleMouseMove=function(e){var t=this.getChild(\"seekBar\");if(t){var i=t.getChild(\"playProgressBar\"),n=t.getChild(\"mouseTimeDisplay\");if(i||n){var r=t.el(),a=P(r),s=R(r,e).x;s=An(s,0,1),n&&n.update(a,s),i&&i.update(a,t.getProgress())}}},i.handleMouseSeek=function(e){var t=this.getChild(\"seekBar\");t&&t.handleMouseMove(e)},i.enabled=function(){return this.enabled_},i.disable=function(){if(this.children().forEach(function(e){return e.disable&&e.disable()}),this.enabled()&&(this.off([\"mousedown\",\"touchstart\"],this.handleMouseDownHandler_),this.off(this.el_,\"mousemove\",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass(\"disabled\"),this.enabled_=!1,this.player_.scrubbing())){var e=this.getChild(\"seekBar\");this.player_.scrubbing(!1),e.videoWasPlaying&&ae(this.player_.play())}},i.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on([\"mousedown\",\"touchstart\"],this.handleMouseDownHandler_),this.on(this.el_,\"mousemove\",this.handleMouseMove),this.removeClass(\"disabled\"),this.enabled_=!0)},i.removeListenersAddedOnMousedownAndTouchstart=function(){var e=this.el_.ownerDocument;this.off(e,\"mousemove\",this.throttledHandleMouseSeek),this.off(e,\"touchmove\",this.throttledHandleMouseSeek),this.off(e,\"mouseup\",this.handleMouseUpHandler_),this.off(e,\"touchend\",this.handleMouseUpHandler_)},i.handleMouseDown=function(e){var t=this.el_.ownerDocument,i=this.getChild(\"seekBar\");i&&i.handleMouseDown(e),this.on(t,\"mousemove\",this.throttledHandleMouseSeek),this.on(t,\"touchmove\",this.throttledHandleMouseSeek),this.on(t,\"mouseup\",this.handleMouseUpHandler_),this.on(t,\"touchend\",this.handleMouseUpHandler_)},i.handleMouseUp=function(e){var t=this.getChild(\"seekBar\");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()},t}(hi);xn.prototype.options_={children:[\"seekBar\"]},hi.registerComponent(\"ProgressControl\",xn);var In=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).on(t,[\"enterpictureinpicture\",\"leavepictureinpicture\"],function(e){return n.handlePictureInPictureChange(e)}),n.on(t,[\"disablepictureinpicturechanged\",\"loadedmetadata\"],function(e){return n.handlePictureInPictureEnabledChange(e)}),n.disable(),n}He.default(t,e);var i=t.prototype;return i.buildCSSClass=function(){return\"vjs-picture-in-picture-control \"+e.prototype.buildCSSClass.call(this)},i.handlePictureInPictureEnabledChange=function(){Ne.default.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},i.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText(\"Exit Picture-in-Picture\"):this.controlText(\"Picture-in-Picture\"),this.handlePictureInPictureEnabledChange()},i.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(ln);In.prototype.controlText_=\"Picture-in-Picture\",hi.registerComponent(\"PictureInPictureToggle\",In);var Pn=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).on(t,\"fullscreenchange\",function(e){return n.handleFullscreenChange(e)}),!1===Ne.default[t.fsApi_.fullscreenEnabled]&&n.disable(),n}He.default(t,e);var i=t.prototype;return i.buildCSSClass=function(){return\"vjs-fullscreen-control \"+e.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText(\"Non-Fullscreen\"):this.controlText(\"Fullscreen\")},i.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(ln);Pn.prototype.controlText_=\"Fullscreen\",hi.registerComponent(\"FullscreenToggle\",Pn);var Rn=function(e){function t(){return e.apply(this,arguments)||this}return He.default(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,\"div\",{className:\"vjs-volume-level\"});return t.appendChild(e.prototype.createEl.call(this,\"span\",{className:\"vjs-control-text\"})),t},t}(hi);hi.registerComponent(\"VolumeLevel\",Rn);var Dn=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).update=Qt(qt(Ve.default(n),n.update),30),n}He.default(t,e);var i=t.prototype;return i.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-volume-tooltip\"},{\"aria-hidden\":\"true\"})},i.update=function(e,t,i,n){if(!i){var r=I(this.el_),a=I(this.player_.el()),s=e.width*t;if(!a||!r)return;var o=e.left-a.left+s,l=e.width-s+(a.right-e.right),u=r.width/2;o<u?u+=u-o:l<u&&(u=l),u<0?u=0:u>r.width&&(u=r.width),this.el_.style.right=\"-\"+u+\"px\"}this.write(n+\"%\")},i.write=function(e){_(this.el_,e)},i.updateVolume=function(e,t,i,n,r){var a=this;this.requestNamedAnimationFrame(\"VolumeLevelTooltip#updateVolume\",function(){a.update(e,t,i,n.toFixed(0)),r&&r()})},t}(hi);hi.registerComponent(\"VolumeLevelTooltip\",Dn);var On=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).update=Qt(qt(Ve.default(n),n.update),30),n}He.default(t,e);var i=t.prototype;return i.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-mouse-display\"})},i.update=function(e,t,i){var n=this,r=100*t;this.getChild(\"volumeLevelTooltip\").updateVolume(e,t,i,r,function(){i?n.el_.style.bottom=e.height*t+\"px\":n.el_.style.left=e.width*t+\"px\"})},t}(hi);On.prototype.options_={children:[\"volumeLevelTooltip\"]},hi.registerComponent(\"MouseVolumeLevelDisplay\",On);var Mn=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).on(\"slideractive\",function(e){return n.updateLastVolume_(e)}),n.on(t,\"volumechange\",function(e){return n.updateARIAAttributes(e)}),t.ready(function(){return n.updateARIAAttributes()}),n}He.default(t,e);var i=t.prototype;return i.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-volume-bar vjs-slider-bar\"},{\"aria-label\":this.localize(\"Volume Level\"),\"aria-live\":\"polite\"})},i.handleMouseDown=function(t){B(t)&&e.prototype.handleMouseDown.call(this,t)},i.handleMouseMove=function(e){var t=this.getChild(\"mouseVolumeLevelDisplay\");if(t){var i=this.el(),n=I(i),r=this.vertical(),a=R(i,e);a=r?a.y:a.x,a=An(a,0,1),t.update(n,a,r)}B(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},i.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},i.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},i.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},i.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},i.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute(\"aria-valuenow\",t),this.el_.setAttribute(\"aria-valuetext\",t+\"%\")},i.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},i.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one(\"sliderinactive\",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},t}(En);Mn.prototype.options_={children:[\"volumeLevel\"],barName:\"volumeLevel\"},It||_t||Mn.prototype.options_.children.splice(0,0,\"mouseVolumeLevelDisplay\"),Mn.prototype.playerEvent=\"volumechange\",hi.registerComponent(\"VolumeBar\",Mn);var Un=function(e){function t(t,i){var n;return void 0===i&&(i={}),i.vertical=i.vertical||!1,(void 0===i.volumeBar||l(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),n=e.call(this,t,i)||this,function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass(\"vjs-hidden\"),e.on(t,\"loadstart\",function(){t.tech_.featuresVolumeControl?e.removeClass(\"vjs-hidden\"):e.addClass(\"vjs-hidden\")})}(Ve.default(n),t),n.throttledHandleMouseMove=Qt(qt(Ve.default(n),n.handleMouseMove),30),n.handleMouseUpHandler_=function(e){return n.handleMouseUp(e)},n.on(\"mousedown\",function(e){return n.handleMouseDown(e)}),n.on(\"touchstart\",function(e){return n.handleMouseDown(e)}),n.on(\"mousemove\",function(e){return n.handleMouseMove(e)}),n.on(n.volumeBar,[\"focus\",\"slideractive\"],function(){n.volumeBar.addClass(\"vjs-slider-active\"),n.addClass(\"vjs-slider-active\"),n.trigger(\"slideractive\")}),n.on(n.volumeBar,[\"blur\",\"sliderinactive\"],function(){n.volumeBar.removeClass(\"vjs-slider-active\"),n.removeClass(\"vjs-slider-active\"),n.trigger(\"sliderinactive\")}),n}He.default(t,e);var i=t.prototype;return i.createEl=function(){var t=\"vjs-volume-horizontal\";return this.options_.vertical&&(t=\"vjs-volume-vertical\"),e.prototype.createEl.call(this,\"div\",{className:\"vjs-volume-control vjs-control \"+t})},i.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,\"mousemove\",this.throttledHandleMouseMove),this.on(t,\"touchmove\",this.throttledHandleMouseMove),this.on(t,\"mouseup\",this.handleMouseUpHandler_),this.on(t,\"touchend\",this.handleMouseUpHandler_)},i.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,\"mousemove\",this.throttledHandleMouseMove),this.off(t,\"touchmove\",this.throttledHandleMouseMove),this.off(t,\"mouseup\",this.handleMouseUpHandler_),this.off(t,\"touchend\",this.handleMouseUpHandler_)},i.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(hi);Un.prototype.options_={children:[\"volumeBar\"]},hi.registerComponent(\"VolumeControl\",Un);var jn=function(e){function t(t,i){var n;return n=e.call(this,t,i)||this,function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass(\"vjs-hidden\"),e.on(t,\"loadstart\",function(){t.tech_.featuresMuteControl?e.removeClass(\"vjs-hidden\"):e.addClass(\"vjs-hidden\")})}(Ve.default(n),t),n.on(t,[\"loadstart\",\"volumechange\"],function(e){return n.update(e)}),n}He.default(t,e);var i=t.prototype;return i.buildCSSClass=function(){return\"vjs-mute-control \"+e.prototype.buildCSSClass.call(this)},i.handleClick=function(e){var t=this.player_.volume(),i=this.player_.lastVolume_();if(0===t){var n=i<.1?.1:i;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},i.update=function(e){this.updateIcon_(),this.updateControlText_()},i.updateIcon_=function(){var e=this.player_.volume(),t=3;It&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var i=0;i<4;i++)A(this.el_,\"vjs-vol-\"+i);b(this.el_,\"vjs-vol-\"+t)},i.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?\"Unmute\":\"Mute\";this.controlText()!==e&&this.controlText(e)},t}(ln);jn.prototype.controlText_=\"Mute\",hi.registerComponent(\"MuteToggle\",jn);var Bn=function(e){function t(t,i){var n;return void 0===i&&(i={}),void 0!==i.inline?i.inline=i.inline:i.inline=!0,(void 0===i.volumeControl||l(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline),(n=e.call(this,t,i)||this).handleKeyPressHandler_=function(e){return n.handleKeyPress(e)},n.on(t,[\"loadstart\"],function(e){return n.volumePanelState_(e)}),n.on(n.muteToggle,\"keyup\",function(e){return n.handleKeyPress(e)}),n.on(n.volumeControl,\"keyup\",function(e){return n.handleVolumeControlKeyUp(e)}),n.on(\"keydown\",function(e){return n.handleKeyPress(e)}),n.on(\"mouseover\",function(e){return n.handleMouseOver(e)}),n.on(\"mouseout\",function(e){return n.handleMouseOut(e)}),n.on(n.volumeControl,[\"slideractive\"],n.sliderActive_),n.on(n.volumeControl,[\"sliderinactive\"],n.sliderInactive_),n}He.default(t,e);var i=t.prototype;return i.sliderActive_=function(){this.addClass(\"vjs-slider-active\")},i.sliderInactive_=function(){this.removeClass(\"vjs-slider-active\")},i.volumePanelState_=function(){this.volumeControl.hasClass(\"vjs-hidden\")&&this.muteToggle.hasClass(\"vjs-hidden\")&&this.addClass(\"vjs-hidden\"),this.volumeControl.hasClass(\"vjs-hidden\")&&!this.muteToggle.hasClass(\"vjs-hidden\")&&this.addClass(\"vjs-mute-toggle-only\")},i.createEl=function(){var t=\"vjs-volume-panel-horizontal\";return this.options_.inline||(t=\"vjs-volume-panel-vertical\"),e.prototype.createEl.call(this,\"div\",{className:\"vjs-volume-panel vjs-control \"+t})},i.dispose=function(){this.handleMouseOut(),e.prototype.dispose.call(this)},i.handleVolumeControlKeyUp=function(e){Ge.default.isEventKey(e,\"Esc\")&&this.muteToggle.focus()},i.handleMouseOver=function(e){this.addClass(\"vjs-hover\"),Y(Ne.default,\"keyup\",this.handleKeyPressHandler_)},i.handleMouseOut=function(e){this.removeClass(\"vjs-hover\"),W(Ne.default,\"keyup\",this.handleKeyPressHandler_)},i.handleKeyPress=function(e){Ge.default.isEventKey(e,\"Esc\")&&this.handleMouseOut()},t}(hi);Bn.prototype.options_={children:[\"muteToggle\",\"volumeControl\"]},hi.registerComponent(\"VolumePanel\",Bn);var Nn=function(e){function t(t,i){var n;return n=e.call(this,t,i)||this,i&&(n.menuButton_=i.menuButton),n.focusedChild_=-1,n.on(\"keydown\",function(e){return n.handleKeyDown(e)}),n.boundHandleBlur_=function(e){return n.handleBlur(e)},n.boundHandleTapClick_=function(e){return n.handleTapClick(e)},n}He.default(t,e);var i=t.prototype;return i.addEventListenerForItem=function(e){e instanceof hi&&(this.on(e,\"blur\",this.boundHandleBlur_),this.on(e,[\"tap\",\"click\"],this.boundHandleTapClick_))},i.removeEventListenerForItem=function(e){e instanceof hi&&(this.off(e,\"blur\",this.boundHandleBlur_),this.off(e,[\"tap\",\"click\"],this.boundHandleTapClick_))},i.removeChild=function(t){\"string\"==typeof t&&(t=this.getChild(t)),this.removeEventListenerForItem(t),e.prototype.removeChild.call(this,t)},i.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},i.createEl=function(){var t=this.options_.contentElType||\"ul\";this.contentEl_=g(t,{className:\"vjs-menu-content\"}),this.contentEl_.setAttribute(\"role\",\"menu\");var i=e.prototype.createEl.call(this,\"div\",{append:this.contentEl_,className:\"vjs-menu\"});return i.appendChild(this.contentEl_),Y(i,\"click\",function(e){e.preventDefault(),e.stopImmediatePropagation()}),i},i.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,e.prototype.dispose.call(this)},i.handleBlur=function(e){var t=e.relatedTarget||Ne.default.activeElement;if(!this.children().some(function(e){return e.el()===t})){var i=this.menuButton_;i&&i.buttonPressed_&&t!==i.el().firstChild&&i.unpressButton()}},i.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var t=this.children();if(!Array.isArray(t))return;var i=t.filter(function(t){return t.el()===e.target})[0];if(!i)return;\"CaptionSettingsMenuItem\"!==i.name()&&this.menuButton_.focus()}},i.handleKeyDown=function(e){Ge.default.isEventKey(e,\"Left\")||Ge.default.isEventKey(e,\"Down\")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(Ge.default.isEventKey(e,\"Right\")||Ge.default.isEventKey(e,\"Up\"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},i.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},i.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},i.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].hasClass(\"vjs-menu-title\")&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(hi);hi.registerComponent(\"Menu\",Nn);var Fn=function(e){function t(t,i){var n;void 0===i&&(i={}),(n=e.call(this,t,i)||this).menuButton_=new ln(t,i),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute(\"aria-haspopup\",\"true\");var r=ln.prototype.buildCSSClass();n.menuButton_.el_.className=n.buildCSSClass()+\" \"+r,n.menuButton_.removeClass(\"vjs-control\"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0;var a=function(e){return n.handleClick(e)};return n.handleMenuKeyUp_=function(e){return n.handleMenuKeyUp(e)},n.on(n.menuButton_,\"tap\",a),n.on(n.menuButton_,\"click\",a),n.on(n.menuButton_,\"keydown\",function(e){return n.handleKeyDown(e)}),n.on(n.menuButton_,\"mouseenter\",function(){n.addClass(\"vjs-hover\"),n.menu.show(),Y(Ne.default,\"keyup\",n.handleMenuKeyUp_)}),n.on(\"mouseleave\",function(e){return n.handleMouseLeave(e)}),n.on(\"keydown\",function(e){return n.handleSubmenuKeyDown(e)}),n}He.default(t,e);var i=t.prototype;return i.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute(\"aria-expanded\",\"false\"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},i.createMenu=function(){var e=new Nn(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=g(\"li\",{className:\"vjs-menu-title\",textContent:oi(this.options_.title),tabIndex:-1}),i=new hi(this.player_,{el:t});e.addItem(i)}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},i.createItems=function(){},i.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:this.buildWrapperCSSClass()},{})},i.buildWrapperCSSClass=function(){var t=\"vjs-menu-button\";return t+=!0===this.options_.inline?\"-inline\":\"-popup\",\"vjs-menu-button \"+t+\" \"+ln.prototype.buildCSSClass()+\" \"+e.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var t=\"vjs-menu-button\";return t+=!0===this.options_.inline?\"-inline\":\"-popup\",\"vjs-menu-button \"+t+\" \"+e.prototype.buildCSSClass.call(this)},i.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},i.dispose=function(){this.handleMouseLeave(),e.prototype.dispose.call(this)},i.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},i.handleMouseLeave=function(e){\nthis.removeClass(\"vjs-hover\"),W(Ne.default,\"keyup\",this.handleMenuKeyUp_)},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleKeyDown=function(e){Ge.default.isEventKey(e,\"Esc\")||Ge.default.isEventKey(e,\"Tab\")?(this.buttonPressed_&&this.unpressButton(),Ge.default.isEventKey(e,\"Tab\")||(e.preventDefault(),this.menuButton_.focus())):(Ge.default.isEventKey(e,\"Up\")||Ge.default.isEventKey(e,\"Down\"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},i.handleMenuKeyUp=function(e){(Ge.default.isEventKey(e,\"Esc\")||Ge.default.isEventKey(e,\"Tab\"))&&this.removeClass(\"vjs-hover\")},i.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},i.handleSubmenuKeyDown=function(e){(Ge.default.isEventKey(e,\"Esc\")||Ge.default.isEventKey(e,\"Tab\"))&&(this.buttonPressed_&&this.unpressButton(),Ge.default.isEventKey(e,\"Tab\")||(e.preventDefault(),this.menuButton_.focus()))},i.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute(\"aria-expanded\",\"true\"),It&&p())return;this.menu.focus()}},i.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute(\"aria-expanded\",\"false\"))},i.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass(\"vjs-disabled\"),this.menuButton_.disable()},i.enable=function(){this.enabled_=!0,this.removeClass(\"vjs-disabled\"),this.menuButton_.enable()},t}(hi);hi.registerComponent(\"MenuButton\",Fn);var Vn=function(e){function t(t,i){var n,r=i.tracks;if((n=e.call(this,t,i)||this).items.length<=1&&n.hide(),!r)return Ve.default(n);var a=qt(Ve.default(n),n.update);return r.addEventListener(\"removetrack\",a),r.addEventListener(\"addtrack\",a),r.addEventListener(\"labelchange\",a),n.player_.on(\"ready\",a),n.player_.on(\"dispose\",function(){r.removeEventListener(\"removetrack\",a),r.removeEventListener(\"addtrack\",a),r.removeEventListener(\"labelchange\",a)}),n}return He.default(t,e),t}(Fn);hi.registerComponent(\"TrackButton\",Vn);var Hn=[\"Tab\",\"Esc\",\"Up\",\"Down\",\"Right\",\"Left\"],zn=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).selectable=i.selectable,n.isSelected_=i.selected||!1,n.multiSelectable=i.multiSelectable,n.selected(n.isSelected_),n.selectable?n.multiSelectable?n.el_.setAttribute(\"role\",\"menuitemcheckbox\"):n.el_.setAttribute(\"role\",\"menuitemradio\"):n.el_.setAttribute(\"role\",\"menuitem\"),n}He.default(t,e);var i=t.prototype;return i.createEl=function(t,i,n){this.nonIconControl=!0;var r=e.prototype.createEl.call(this,\"li\",a({className:\"vjs-menu-item\",tabIndex:-1},i),n);return r.replaceChild(g(\"span\",{className:\"vjs-menu-item-text\",textContent:this.localize(this.options_.label)}),r.querySelector(\".vjs-icon-placeholder\")),r},i.handleKeyDown=function(t){Hn.some(function(e){return Ge.default.isEventKey(t,e)})||e.prototype.handleKeyDown.call(this,t)},i.handleClick=function(e){this.selected(!0)},i.selected=function(e){this.selectable&&(e?(this.addClass(\"vjs-selected\"),this.el_.setAttribute(\"aria-checked\",\"true\"),this.controlText(\", selected\"),this.isSelected_=!0):(this.removeClass(\"vjs-selected\"),this.el_.setAttribute(\"aria-checked\",\"false\"),this.controlText(\"\"),this.isSelected_=!1))},t}(nn);hi.registerComponent(\"MenuItem\",zn);var Gn=function(e){function t(t,i){var n,r=i.track,a=t.textTracks();i.label=r.label||r.language||\"Unknown\",i.selected=\"showing\"===r.mode,(n=e.call(this,t,i)||this).track=r,n.kinds=(i.kinds||[i.kind||n.track.kind]).filter(Boolean);var o,l=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.handleTracksChange.apply(Ve.default(n),t)},u=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.handleSelectedLanguageChange.apply(Ve.default(n),t)};return t.on([\"loadstart\",\"texttrackchange\"],l),a.addEventListener(\"change\",l),a.addEventListener(\"selectedlanguagechange\",u),n.on(\"dispose\",function(){t.off([\"loadstart\",\"texttrackchange\"],l),a.removeEventListener(\"change\",l),a.removeEventListener(\"selectedlanguagechange\",u)}),void 0===a.onchange&&n.on([\"tap\",\"click\"],function(){if(\"object\"!=s(Be.default.Event))try{o=new Be.default.Event(\"change\")}catch(e){}o||(o=Ne.default.createEvent(\"Event\")).initEvent(\"change\",!0,!0),a.dispatchEvent(o)}),n.handleTracksChange(),n}He.default(t,e);var i=t.prototype;return i.handleClick=function(t){var i=this.track,n=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),n)for(var r=0;r<n.length;r++){var a=n[r];-1!==this.kinds.indexOf(a.kind)&&(a===i?\"showing\"!==a.mode&&(a.mode=\"showing\"):\"disabled\"!==a.mode&&(a.mode=\"disabled\"))}},i.handleTracksChange=function(e){var t=\"showing\"===this.track.mode;t!==this.isSelected_&&this.selected(t)},i.handleSelectedLanguageChange=function(e){if(\"showing\"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},i.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(zn);hi.registerComponent(\"TextTrackMenuItem\",Gn);var Yn=function(e){function t(t,i){return i.track={player:t,kind:i.kind,kinds:i.kinds,default:!1,mode:\"disabled\"},i.kinds||(i.kinds=[i.kind]),i.label?i.track.label=i.label:i.track.label=i.kinds.join(\" and \")+\" off\",i.selectable=!0,i.multiSelectable=!1,e.call(this,t,i)||this}He.default(t,e);var i=t.prototype;return i.handleTracksChange=function(e){for(var t=this.player().textTracks(),i=!0,n=0,r=t.length;n<r;n++){var a=t[n];if(this.options_.kinds.indexOf(a.kind)>-1&&\"showing\"===a.mode){i=!1;break}}i!==this.isSelected_&&this.selected(i)},i.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),i=!0,n=0,r=t.length;n<r;n++){var a=t[n];if([\"captions\",\"descriptions\",\"subtitles\"].indexOf(a.kind)>-1&&\"showing\"===a.mode){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(Gn);hi.registerComponent(\"OffTextTrackMenuItem\",Yn);var Wn=function(e){function t(t,i){return void 0===i&&(i={}),i.tracks=t.textTracks(),e.call(this,t,i)||this}return He.default(t,e),t.prototype.createItems=function(e,t){var i;void 0===e&&(e=[]),void 0===t&&(t=Gn),this.label_&&(i=this.label_+\" off\"),e.push(new Yn(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;var n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<n.length;r++){var a=n[r];if(this.kinds_.indexOf(a.kind)>-1){var s=new t(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});s.addClass(\"vjs-\"+a.kind+\"-menu-item\"),e.push(s)}}return e},t}(Vn);hi.registerComponent(\"TextTrackButton\",Wn);var qn=function(e){function t(t,i){var n,r=i.track,a=i.cue,s=t.currentTime();return i.selectable=!0,i.multiSelectable=!1,i.label=a.text,i.selected=a.startTime<=s&&s<a.endTime,(n=e.call(this,t,i)||this).track=r,n.cue=a,r.addEventListener(\"cuechange\",qt(Ve.default(n),n.update)),n}He.default(t,e);var i=t.prototype;return i.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},i.update=function(e){var t=this.cue,i=this.player_.currentTime();this.selected(t.startTime<=i&&i<t.endTime)},t}(zn);hi.registerComponent(\"ChaptersTrackMenuItem\",qn);var Qn=function(e){function t(t,i,n){return e.call(this,t,i,n)||this}He.default(t,e);var i=t.prototype;return i.buildCSSClass=function(){return\"vjs-chapters-button \"+e.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return\"vjs-chapters-button \"+e.prototype.buildWrapperCSSClass.call(this)},i.update=function(t){this.track_&&(!t||\"addtrack\"!==t.type&&\"removetrack\"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},i.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener(\"load\",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode=\"hidden\";var i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener(\"load\",this.updateHandler_)}}},i.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var i=e[t];if(i.kind===this.kind_)return i}},i.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(oi(this.kind_))},i.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},i.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var i=0,n=t.length;i<n;i++){var r=t[i],a=new qn(this.player_,{track:this.track_,cue:r});e.push(a)}return e},t}(Wn);Qn.prototype.kind_=\"chapters\",Qn.prototype.controlText_=\"Chapters\",hi.registerComponent(\"ChaptersButton\",Qn);var Jn=function(e){function t(t,i,n){var r;r=e.call(this,t,i,n)||this;var a=t.textTracks(),s=qt(Ve.default(r),r.handleTracksChange);return a.addEventListener(\"change\",s),r.on(\"dispose\",function(){a.removeEventListener(\"change\",s)}),r}He.default(t,e);var i=t.prototype;return i.handleTracksChange=function(e){for(var t=this.player().textTracks(),i=!1,n=0,r=t.length;n<r;n++){var a=t[n];if(a.kind!==this.kind_&&\"showing\"===a.mode){i=!0;break}}i?this.disable():this.enable()},i.buildCSSClass=function(){return\"vjs-descriptions-button \"+e.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return\"vjs-descriptions-button \"+e.prototype.buildWrapperCSSClass.call(this)},t}(Wn);Jn.prototype.kind_=\"descriptions\",Jn.prototype.controlText_=\"Descriptions\",hi.registerComponent(\"DescriptionsButton\",Jn);var Kn=function(e){function t(t,i,n){return e.call(this,t,i,n)||this}He.default(t,e);var i=t.prototype;return i.buildCSSClass=function(){return\"vjs-subtitles-button \"+e.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return\"vjs-subtitles-button \"+e.prototype.buildWrapperCSSClass.call(this)},t}(Wn);Kn.prototype.kind_=\"subtitles\",Kn.prototype.controlText_=\"Subtitles\",hi.registerComponent(\"SubtitlesButton\",Kn);var Xn=function(e){function t(t,i){var n;return i.track={player:t,kind:i.kind,label:i.kind+\" settings\",selectable:!1,default:!1,mode:\"disabled\"},i.selectable=!1,i.name=\"CaptionSettingsMenuItem\",(n=e.call(this,t,i)||this).addClass(\"vjs-texttrack-settings\"),n.controlText(\", opens \"+i.kind+\" settings dialog\"),n}return He.default(t,e),t.prototype.handleClick=function(e){this.player().getChild(\"textTrackSettings\").open()},t}(Gn);hi.registerComponent(\"CaptionSettingsMenuItem\",Xn);var Zn=function(e){function t(t,i,n){return e.call(this,t,i,n)||this}He.default(t,e);var i=t.prototype;return i.buildCSSClass=function(){return\"vjs-captions-button \"+e.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return\"vjs-captions-button \"+e.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild(\"textTrackSettings\")||(t.push(new Xn(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(Wn);Zn.prototype.kind_=\"captions\",Zn.prototype.controlText_=\"Captions\",hi.registerComponent(\"CaptionsButton\",Zn);var $n=function(e){function t(){return e.apply(this,arguments)||this}return He.default(t,e),t.prototype.createEl=function(t,i,n){var r=e.prototype.createEl.call(this,t,i,n),a=r.querySelector(\".vjs-menu-item-text\");return\"captions\"===this.options_.track.kind&&(a.appendChild(g(\"span\",{className:\"vjs-icon-placeholder\"},{\"aria-hidden\":!0})),a.appendChild(g(\"span\",{className:\"vjs-control-text\",textContent:\" \"+this.localize(\"Captions\")}))),r},t}(Gn);hi.registerComponent(\"SubsCapsMenuItem\",$n);var er=function(e){function t(t,i){var n;return void 0===i&&(i={}),(n=e.call(this,t,i)||this).label_=\"subtitles\",[\"en\",\"en-us\",\"en-ca\",\"fr-ca\"].indexOf(n.player_.language_)>-1&&(n.label_=\"captions\"),n.menuButton_.controlText(oi(n.label_)),n}He.default(t,e);var i=t.prototype;return i.buildCSSClass=function(){return\"vjs-subs-caps-button \"+e.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return\"vjs-subs-caps-button \"+e.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild(\"textTrackSettings\")||(t.push(new Xn(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=e.prototype.createItems.call(this,t,$n)},t}(Wn);er.prototype.kinds_=[\"captions\",\"subtitles\"],er.prototype.controlText_=\"Subtitles\",hi.registerComponent(\"SubsCapsButton\",er);var tr=function(e){function t(t,i){var n,r=i.track,a=t.audioTracks();i.label=r.label||r.language||\"Unknown\",i.selected=r.enabled,(n=e.call(this,t,i)||this).track=r,n.addClass(\"vjs-\"+r.kind+\"-menu-item\");var s=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.handleTracksChange.apply(Ve.default(n),t)};return a.addEventListener(\"change\",s),n.on(\"dispose\",function(){a.removeEventListener(\"change\",s)}),n}He.default(t,e);var i=t.prototype;return i.createEl=function(t,i,n){var r=e.prototype.createEl.call(this,t,i,n),a=r.querySelector(\".vjs-menu-item-text\");return\"main-desc\"===this.options_.track.kind&&(a.appendChild(e.prototype.createEl.call(this,\"span\",{className:\"vjs-icon-placeholder\"},{\"aria-hidden\":!0})),a.appendChild(e.prototype.createEl.call(this,\"span\",{className:\"vjs-control-text\",textContent:this.localize(\"Descriptions\")}))),r},i.handleClick=function(t){e.prototype.handleClick.call(this,t),this.track.enabled=!0},i.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(zn);hi.registerComponent(\"AudioTrackMenuItem\",tr);var ir=function(e){function t(t,i){return void 0===i&&(i={}),i.tracks=t.audioTracks(),e.call(this,t,i)||this}He.default(t,e);var i=t.prototype;return i.buildCSSClass=function(){return\"vjs-audio-button \"+e.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return\"vjs-audio-button \"+e.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),i=0;i<t.length;i++){var n=t[i];e.push(new tr(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return e},t}(Vn);ir.prototype.controlText_=\"Audio Track\",hi.registerComponent(\"AudioTrackButton\",ir);var nr=function(e){function t(t,i){var n,r=i.rate,a=parseFloat(r,10);return i.label=r,i.selected=a===t.playbackRate(),i.selectable=!0,i.multiSelectable=!1,(n=e.call(this,t,i)||this).label=r,n.rate=a,n.on(t,\"ratechange\",function(e){return n.update(e)}),n}He.default(t,e);var i=t.prototype;return i.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},i.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(zn);nr.prototype.contentElType=\"button\",hi.registerComponent(\"PlaybackRateMenuItem\",nr);var rr=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).menuButton_.el_.setAttribute(\"aria-describedby\",n.labelElId_),n.updateVisibility(),n.updateLabel(),n.on(t,\"loadstart\",function(e){return n.updateVisibility(e)}),n.on(t,\"ratechange\",function(e){return n.updateLabel(e)}),n.on(t,\"playbackrateschange\",function(e){return n.handlePlaybackRateschange(e)}),n}He.default(t,e);var i=t.prototype;return i.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelElId_=\"vjs-playback-rate-value-label-\"+this.id_,this.labelEl_=g(\"div\",{className:\"vjs-playback-rate-value\",id:this.labelElId_,textContent:\"1x\"}),t.appendChild(this.labelEl_),t},i.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},i.buildCSSClass=function(){return\"vjs-playback-rate \"+e.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return\"vjs-playback-rate \"+e.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){for(var e=this.playbackRates(),t=[],i=e.length-1;i>=0;i--)t.push(new nr(this.player(),{rate:e[i]+\"x\"}));return t},i.updateARIAAttributes=function(){this.el().setAttribute(\"aria-valuenow\",this.player().playbackRate())},i.handleClick=function(e){for(var t=this.player().playbackRate(),i=this.playbackRates(),n=i[0],r=0;r<i.length;r++)if(i[r]>t){n=i[r];break}this.player().playbackRate(n)},i.handlePlaybackRateschange=function(e){this.update()},i.playbackRates=function(){var e=this.player();return e.playbackRates&&e.playbackRates()||[]},i.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},i.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass(\"vjs-hidden\"):this.addClass(\"vjs-hidden\")},i.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+\"x\")},t}(Fn);rr.prototype.controlText_=\"Playback Rate\",hi.registerComponent(\"PlaybackRateMenuButton\",rr);var ar=function(e){function t(){return e.apply(this,arguments)||this}He.default(t,e);var i=t.prototype;return i.buildCSSClass=function(){return\"vjs-spacer \"+e.prototype.buildCSSClass.call(this)},i.createEl=function(t,i,n){return void 0===t&&(t=\"div\"),void 0===i&&(i={}),void 0===n&&(n={}),i.className||(i.className=this.buildCSSClass()),e.prototype.createEl.call(this,t,i,n)},t}(hi);hi.registerComponent(\"Spacer\",ar);var sr=function(e){function t(){return e.apply(this,arguments)||this}He.default(t,e);var i=t.prototype;return i.buildCSSClass=function(){return\"vjs-custom-control-spacer \"+e.prototype.buildCSSClass.call(this)},i.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:this.buildCSSClass(),textContent:\" \"})},t}(ar);hi.registerComponent(\"CustomControlSpacer\",sr);var or=function(e){function t(){return e.apply(this,arguments)||this}return He.default(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-control-bar\",dir:\"ltr\"})},t}(hi);or.prototype.options_={children:[\"playToggle\",\"volumePanel\",\"currentTimeDisplay\",\"timeDivider\",\"durationDisplay\",\"progressControl\",\"liveDisplay\",\"seekToLive\",\"remainingTimeDisplay\",\"customControlSpacer\",\"playbackRateMenuButton\",\"chaptersButton\",\"descriptionsButton\",\"subsCapsButton\",\"audioTrackButton\",\"fullscreenToggle\"]},\"exitPictureInPicture\"in Ne.default&&or.prototype.options_.children.splice(or.prototype.options_.children.length-1,0,\"pictureInPictureToggle\"),hi.registerComponent(\"ControlBar\",or);var lr=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).on(t,\"error\",function(e){return n.open(e)}),n}He.default(t,e);var i=t.prototype;return i.buildCSSClass=function(){return\"vjs-error-display \"+e.prototype.buildCSSClass.call(this)},i.content=function(){var e=this.player().error();return e?this.localize(e.message):\"\"},t}(_i);lr.prototype.options_=Fe.default({},_i.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),hi.registerComponent(\"ErrorDisplay\",lr);var ur=[\"#000\",\"Black\"],dr=[\"#00F\",\"Blue\"],cr=[\"#0FF\",\"Cyan\"],hr=[\"#0F0\",\"Green\"],fr=[\"#F0F\",\"Magenta\"],pr=[\"#F00\",\"Red\"],mr=[\"#FFF\",\"White\"],gr=[\"#FF0\",\"Yellow\"],_r=[\"1\",\"Opaque\"],vr=[\"0.5\",\"Semi-Transparent\"],yr=[\"0\",\"Transparent\"],br={backgroundColor:{selector:\".vjs-bg-color > select\",id:\"captions-background-color-%s\",label:\"Color\",options:[ur,mr,pr,hr,dr,gr,fr,cr]},backgroundOpacity:{selector:\".vjs-bg-opacity > select\",id:\"captions-background-opacity-%s\",label:\"Transparency\",options:[_r,vr,yr]},color:{selector:\".vjs-fg-color > select\",id:\"captions-foreground-color-%s\",label:\"Color\",options:[mr,ur,pr,hr,dr,gr,fr,cr]},edgeStyle:{selector:\".vjs-edge-style > select\",id:\"%s\",label:\"Text Edge Style\",options:[[\"none\",\"None\"],[\"raised\",\"Raised\"],[\"depressed\",\"Depressed\"],[\"uniform\",\"Uniform\"],[\"dropshadow\",\"Dropshadow\"]]},fontFamily:{selector:\".vjs-font-family > select\",id:\"captions-font-family-%s\",label:\"Font Family\",options:[[\"proportionalSansSerif\",\"Proportional Sans-Serif\"],[\"monospaceSansSerif\",\"Monospace Sans-Serif\"],[\"proportionalSerif\",\"Proportional Serif\"],[\"monospaceSerif\",\"Monospace Serif\"],[\"casual\",\"Casual\"],[\"script\",\"Script\"],[\"small-caps\",\"Small Caps\"]]},fontPercent:{selector:\".vjs-font-percent > select\",id:\"captions-font-size-%s\",label:\"Font Size\",options:[[\"0.50\",\"50%\"],[\"0.75\",\"75%\"],[\"1.00\",\"100%\"],[\"1.25\",\"125%\"],[\"1.50\",\"150%\"],[\"1.75\",\"175%\"],[\"2.00\",\"200%\"],[\"3.00\",\"300%\"],[\"4.00\",\"400%\"]],default:2,parser:function(e){return\"1.00\"===e?null:Number(e)}},textOpacity:{selector:\".vjs-text-opacity > select\",id:\"captions-foreground-opacity-%s\",label:\"Transparency\",options:[_r,vr]},windowColor:{selector:\".vjs-window-color > select\",id:\"captions-window-color-%s\",label:\"Color\"},windowOpacity:{selector:\".vjs-window-opacity > select\",id:\"captions-window-opacity-%s\",label:\"Transparency\",options:[yr,vr,_r]}};br.windowColor.options=br.backgroundColor.options;var Ar=function(e){function t(t,i){var n;return i.temporary=!1,(n=e.call(this,t,i)||this).updateDisplay=n.updateDisplay.bind(Ve.default(n)),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=g(\"p\",{className:\"vjs-control-text\",textContent:n.localize(\"End of dialog window.\")}),n.el().appendChild(n.endDialog),n.setDefaults(),void 0===i.persistTextTrackSettings&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(\".vjs-done-button\"),\"click\",function(){n.saveSettings(),n.close()}),n.on(n.$(\".vjs-default-button\"),\"click\",function(){n.setDefaults(),n.updateDisplay()}),r(br,function(e){n.on(n.$(e.selector),\"change\",n.updateDisplay)}),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}He.default(t,e);var i=t.prototype;return i.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},i.createElSelect_=function(e,t,i){var n=this;void 0===t&&(t=\"\"),void 0===i&&(i=\"label\");var r=br[e],a=r.id.replace(\"%s\",this.id_),s=[t,a].join(\" \").trim();return[\"<\"+i+' id=\"'+a+'\" class=\"'+(\"label\"===i?\"vjs-label\":\"\")+'\">',this.localize(r.label),\"</\"+i+\">\",'<select aria-labelledby=\"'+s+'\">'].concat(r.options.map(function(e){var t=a+\"-\"+e[1].replace(/\\W+/g,\"\");return['<option id=\"'+t+'\" value=\"'+e[0]+'\" ','aria-labelledby=\"'+s+\" \"+t+'\">',n.localize(e[1]),\"</option>\"].join(\"\")})).concat(\"</select>\").join(\"\")},i.createElFgColor_=function(){var e=\"captions-text-legend-\"+this.id_;return['<fieldset class=\"vjs-fg-color vjs-track-setting\">','<legend id=\"'+e+'\">',this.localize(\"Text\"),\"</legend>\",this.createElSelect_(\"color\",e),'<span class=\"vjs-text-opacity vjs-opacity\">',this.createElSelect_(\"textOpacity\",e),\"</span>\",\"</fieldset>\"].join(\"\")},i.createElBgColor_=function(){var e=\"captions-background-\"+this.id_;return['<fieldset class=\"vjs-bg-color vjs-track-setting\">','<legend id=\"'+e+'\">',this.localize(\"Background\"),\"</legend>\",this.createElSelect_(\"backgroundColor\",e),'<span class=\"vjs-bg-opacity vjs-opacity\">',this.createElSelect_(\"backgroundOpacity\",e),\"</span>\",\"</fieldset>\"].join(\"\")},i.createElWinColor_=function(){var e=\"captions-window-\"+this.id_;return['<fieldset class=\"vjs-window-color vjs-track-setting\">','<legend id=\"'+e+'\">',this.localize(\"Window\"),\"</legend>\",this.createElSelect_(\"windowColor\",e),'<span class=\"vjs-window-opacity vjs-opacity\">',this.createElSelect_(\"windowOpacity\",e),\"</span>\",\"</fieldset>\"].join(\"\")},i.createElColors_=function(){return g(\"div\",{className:\"vjs-track-settings-colors\",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join(\"\")})},i.createElFont_=function(){return g(\"div\",{className:\"vjs-track-settings-font\",innerHTML:['<fieldset class=\"vjs-font-percent vjs-track-setting\">',this.createElSelect_(\"fontPercent\",\"\",\"legend\"),\"</fieldset>\",'<fieldset class=\"vjs-edge-style vjs-track-setting\">',this.createElSelect_(\"edgeStyle\",\"\",\"legend\"),\"</fieldset>\",'<fieldset class=\"vjs-font-family vjs-track-setting\">',this.createElSelect_(\"fontFamily\",\"\",\"legend\"),\"</fieldset>\"].join(\"\")})},i.createElControls_=function(){var e=this.localize(\"restore all settings to the default values\");return g(\"div\",{className:\"vjs-track-settings-controls\",innerHTML:['<button type=\"button\" class=\"vjs-default-button\" title=\"'+e+'\">',this.localize(\"Reset\"),'<span class=\"vjs-control-text\"> '+e+\"</span>\",\"</button>\",'<button type=\"button\" class=\"vjs-done-button\">'+this.localize(\"Done\")+\"</button>\"].join(\"\")})},i.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},i.label=function(){return this.localize(\"Caption Settings Dialog\")},i.description=function(){return this.localize(\"Beginning of dialog window. Escape will cancel and close the window.\")},i.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+\" vjs-text-track-settings\"},i.getValues=function(){var e,t,i,n=this;return t=function(e,t,i){var r,a,s=(r=n.$(t.selector),a=t.parser,fe(r.options[r.options.selectedIndex].value,a));return void 0!==s&&(e[i]=s),e},void 0===(i={})&&(i=0),ct(e=br).reduce(function(i,n){return t(i,e[n],n)},i)},i.setValues=function(e){var t=this;r(br,function(i,n){!function(e,t,i){if(t)for(var n=0;n<e.options.length;n++)if(fe(e.options[n].value,i)===t){e.selectedIndex=n;break}}(t.$(i.selector),e[n],i.parser)})},i.setDefaults=function(){var e=this;r(br,function(t){var i=t.hasOwnProperty(\"default\")?t.default:0;e.$(t.selector).selectedIndex=i})},i.restoreSettings=function(){var e;try{e=JSON.parse(Be.default.localStorage.getItem(\"vjs-text-track-settings\"))}catch(e){lt.warn(e)}e&&this.setValues(e)},i.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?Be.default.localStorage.setItem(\"vjs-text-track-settings\",JSON.stringify(e)):Be.default.localStorage.removeItem(\"vjs-text-track-settings\")}catch(e){lt.warn(e)}}},i.updateDisplay=function(){var e=this.player_.getChild(\"textTrackDisplay\");e&&e.updateDisplay()},i.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,i=e&&e.captionsButton;t?t.focus():i&&i.focus()},t}(_i);hi.registerComponent(\"TextTrackSettings\",Ar);var Er=function(e){function t(t,i){var n,r=i.ResizeObserver||Be.default.ResizeObserver;null===i.ResizeObserver&&(r=!1);var a=Z({createEl:!r,reportTouchActivity:!1},i);return(n=e.call(this,t,a)||this).ResizeObserver=i.ResizeObserver||Be.default.ResizeObserver,n.loadListener_=null,n.resizeObserver_=null,n.debouncedHandler_=function(e,t,i,n){var r;void 0===n&&(n=Be.default);var a=function a(){var a=this,s=arguments,o=function(){r=null,o=null,i||e.apply(a,s)};!r&&i&&e.apply(a,s),n.clearTimeout(r),r=n.setTimeout(o,t)};return a.cancel=function(){n.clearTimeout(r),r=null},a}(function(){n.resizeHandler()},100,!1,Ve.default(n)),r?(n.resizeObserver_=new n.ResizeObserver(n.debouncedHandler_),n.resizeObserver_.observe(t.el())):(n.loadListener_=function(){if(n.el_&&n.el_.contentWindow){var e=n.debouncedHandler_,t=n.unloadListener_=function(){W(this,\"resize\",e),W(this,\"unload\",t),t=null};Y(n.el_.contentWindow,\"unload\",t),Y(n.el_.contentWindow,\"resize\",e)}},n.one(\"load\",n.loadListener_)),n}He.default(t,e);var i=t.prototype;return i.createEl=function(){return e.prototype.createEl.call(this,\"iframe\",{className:\"vjs-resize-manager\",tabIndex:-1},{\"aria-hidden\":\"true\"})},i.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger(\"playerresize\")},i.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off(\"load\",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},t}(hi);hi.registerComponent(\"ResizeManager\",Er);var wr={trackingThreshold:30,liveTolerance:15},Tr=function(e){function t(t,i){var n,r=Z(wr,i,{createEl:!1});return(n=e.call(this,t,r)||this).handleVisibilityChange_=function(e){return n.handleVisibilityChange(e)},n.trackLiveHandler_=function(){return n.trackLive_()},n.handlePlay_=function(e){return n.handlePlay(e)},n.handleFirstTimeupdate_=function(e){return n.handleFirstTimeupdate(e)},n.handleSeeked_=function(e){return n.handleSeeked(e)},n.seekToLiveEdge_=function(e){return n.seekToLiveEdge(e)},n.reset_(),n.on(n.player_,\"durationchange\",function(e){return n.handleDurationchange(e)}),n.one(n.player_,\"canplay\",function(){return n.toggleTracking()}),Tt&&\"hidden\"in Ne.default&&\"visibilityState\"in Ne.default&&n.on(Ne.default,\"visibilitychange\",n.handleVisibilityChange_),n}He.default(t,e);var i=t.prototype;return i.handleVisibilityChange=function(){this.player_.duration()===1/0&&(Ne.default.hidden?this.stopTracking():this.startTracking())},i.trackLive_=function(){var e=this.player_.seekable();if(e&&e.length){var t=Number(Be.default.performance.now().toFixed(4)),i=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+i;var n=this.liveCurrentTime(),r=this.player_.currentTime(),a=this.player_.paused()||this.seekedBehindLive_||Math.abs(n-r)>this.options_.liveTolerance;this.timeupdateSeen_&&n!==1/0||(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger(\"liveedgechange\"))}},i.handleDurationchange=function(){this.toggleTracking()},i.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass(\"vjs-liveui\"),this.startTracking()):(this.player_.removeClass(\"vjs-liveui\"),this.stopTracking())},i.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,30),this.trackLive_(),this.on(this.player_,[\"play\",\"pause\"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,\"seeked\",this.handleSeeked_):(this.one(this.player_,\"play\",this.handlePlay_),this.one(this.player_,\"timeupdate\",this.handleFirstTimeupdate_)))},i.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,\"seeked\",this.handleSeeked_)},i.handleSeeked=function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()},i.handlePlay=function(){this.one(this.player_,\"timeupdate\",this.seekToLiveEdge_)},i.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,[\"play\",\"pause\"],this.trackLiveHandler_),this.off(this.player_,\"seeked\",this.handleSeeked_),this.off(this.player_,\"play\",this.handlePlay_),this.off(this.player_,\"timeupdate\",this.handleFirstTimeupdate_),this.off(this.player_,\"timeupdate\",this.seekToLiveEdge_)},i.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},i.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger(\"liveedgechange\"))},i.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],i=e?e.length:0;i--;)t.push(e.end(i));return t.length?t.sort()[t.length-1]:1/0},i.seekableStart=function(){for(var e=this.player_.seekable(),t=[],i=e?e.length:0;i--;)t.push(e.start(i));return t.length?t.sort()[0]:0},i.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()},i.isLive=function(){return this.isTracking()},i.atLiveEdge=function(){return!this.behindLiveEdge()},i.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},i.pastSeekEnd=function(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,\nthis.pastSeekEnd_},i.behindLiveEdge=function(){return this.behindLiveEdge_},i.isTracking=function(){return\"number\"==typeof this.trackingInterval_},i.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},i.dispose=function(){this.off(Ne.default,\"visibilitychange\",this.handleVisibilityChange_),this.stopTracking(),e.prototype.dispose.call(this)},t}(hi);hi.registerComponent(\"LiveTracker\",Tr);var Sr,Cr=function(e){var t=e.el();if(t.hasAttribute(\"src\"))return e.triggerSourceset(t.src),!0;var i=e.$$(\"source\"),n=[],r=\"\";if(!i.length)return!1;for(var a=0;a<i.length;a++){var s=i[a].src;s&&-1===n.indexOf(s)&&n.push(s)}return!!n.length&&(1===n.length&&(r=n[0]),e.triggerSourceset(r),!0)},kr=Object.defineProperty({},\"innerHTML\",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=Ne.default.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var i=Ne.default.createDocumentFragment();t.childNodes.length;)i.appendChild(t.childNodes[0]);return this.innerText=\"\",Be.default.Element.prototype.appendChild.call(this,i),this.innerHTML}}),Lr=function(e,t){for(var i={},n=0;n<e.length&&!((i=Object.getOwnPropertyDescriptor(e[n],t))&&i.set&&i.get);n++);return i.enumerable=!0,i.configurable=!0,i},xr=function(e){var t=e.el();if(!t.resetSourceWatch_){var i={},n=function(e){return Lr([e.el(),Be.default.HTMLMediaElement.prototype,Be.default.Element.prototype,kr],\"innerHTML\")}(e),r=function(i){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=i.apply(t,r);return Cr(e),s}};[\"append\",\"appendChild\",\"insertAdjacentHTML\"].forEach(function(e){t[e]&&(i[e]=t[e],t[e]=r(i[e]))}),Object.defineProperty(t,\"innerHTML\",Z(n,{set:r(n.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(i).forEach(function(e){t[e]=i[e]}),Object.defineProperty(t,\"innerHTML\",n)},e.one(\"sourceset\",t.resetSourceWatch_)}},Ir=Object.defineProperty({},\"src\",{get:function(){return this.hasAttribute(\"src\")?Di(Be.default.Element.prototype.getAttribute.call(this,\"src\")):\"\"},set:function(e){return Be.default.Element.prototype.setAttribute.call(this,\"src\",e),e}}),Pr=function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var i=function(e){return Lr([e.el(),Be.default.HTMLMediaElement.prototype,Ir],\"src\")}(e),n=t.setAttribute,r=t.load;Object.defineProperty(t,\"src\",Z(i,{set:function(n){var r=i.set.call(t,n);return e.triggerSourceset(t.src),r}})),t.setAttribute=function(i,r){var a=n.call(t,i,r);return/src/i.test(i)&&e.triggerSourceset(t.src),a},t.load=function(){var i=r.call(t);return Cr(e)||(e.triggerSourceset(\"\"),xr(e)),i},t.currentSrc?e.triggerSourceset(t.currentSrc):Cr(e)||xr(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=r,t.setAttribute=n,Object.defineProperty(t,\"src\",i),t.resetSourceWatch_&&t.resetSourceWatch_()}}}},Rr=function(e,t,i,n){void 0===n&&(n=!0);var r=function(i){return Object.defineProperty(e,t,{value:i,enumerable:!0,writable:!0})},a={configurable:!0,enumerable:!0,get:function(){var e=i();return r(e),e}};return n&&(a.set=r),Object.defineProperty(e,t,a)},Dr=function(e){function t(t,i){var n;n=e.call(this,t,i)||this;var r=t.source,a=!1;if(r&&(n.el_.currentSrc!==r.src||t.tag&&3===t.tag.initNetworkState_)?n.setSource(r):n.handleLateInit_(n.el_),t.enableSourceset&&n.setupSourcesetHandling_(),n.isScrubbing_=!1,n.el_.hasChildNodes()){for(var s=n.el_.childNodes,o=s.length,l=[];o--;){var u=s[o];\"track\"===u.nodeName.toLowerCase()&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(u),n.remoteTextTracks().addTrack(u.track),n.textTracks().addTrack(u.track),a||n.el_.hasAttribute(\"crossorigin\")||!Mi(u.src)||(a=!0)):l.push(u))}for(var d=0;d<l.length;d++)n.el_.removeChild(l[d])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&a&&lt.warn(\"Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\\nThis may prevent text tracks from loading.\"),n.restoreMetadataTracksInIOSNativePlayer_(),(kt||xt||yt)&&!0===t.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}He.default(t,e);var i=t.prototype;return i.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},i.setupSourcesetHandling_=function(){Pr(this)},i.restoreMetadataTracksInIOSNativePlayer_=function(){var e,t=this.textTracks(),i=function i(){e=[];for(var i=0;i<t.length;i++){var n=t[i];\"metadata\"===n.kind&&e.push({track:n,storedMode:n.mode})}};i(),t.addEventListener(\"change\",i),this.on(\"dispose\",function(){return t.removeEventListener(\"change\",i)});var n=function i(){for(var n=0;n<e.length;n++){var r=e[n];\"disabled\"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}t.removeEventListener(\"change\",i)};this.on(\"webkitbeginfullscreen\",function(){t.removeEventListener(\"change\",i),t.removeEventListener(\"change\",n),t.addEventListener(\"change\",n)}),this.on(\"webkitendfullscreen\",function(){t.removeEventListener(\"change\",i),t.addEventListener(\"change\",i),t.removeEventListener(\"change\",n)})},i.overrideNative_=function(e,t){var i=this;if(t===this[\"featuresNative\"+e+\"Tracks\"]){var n=e.toLowerCase();this[n+\"TracksListeners_\"]&&Object.keys(this[n+\"TracksListeners_\"]).forEach(function(e){i.el()[n+\"Tracks\"].removeEventListener(e,i[n+\"TracksListeners_\"][e])}),this[\"featuresNative\"+e+\"Tracks\"]=!t,this[n+\"TracksListeners_\"]=null,this.proxyNativeTracksForType_(n)}},i.overrideNativeAudioTracks=function(e){this.overrideNative_(\"Audio\",e)},i.overrideNativeVideoTracks=function(e){this.overrideNative_(\"Video\",e)},i.proxyNativeTracksForType_=function(e){var t=this,i=zi[e],n=this.el()[i.getterName],r=this[i.getterName]();if(this[\"featuresNative\"+i.capitalName+\"Tracks\"]&&n&&n.addEventListener){var a={change:function(i){var n={type:\"change\",target:r,currentTarget:r,srcElement:r};r.trigger(n),\"text\"===e&&t[Gi.remoteText.getterName]().trigger(n)},addtrack:function(e){r.addTrack(e.track)},removetrack:function(e){r.removeTrack(e.track)}},s=function(){for(var e=[],t=0;t<r.length;t++){for(var i=!1,a=0;a<n.length;a++)if(n[a]===r[t]){i=!0;break}i||e.push(r[t])}for(;e.length;)r.removeTrack(e.shift())};this[i.getterName+\"Listeners_\"]=a,Object.keys(a).forEach(function(e){var i=a[e];n.addEventListener(e,i),t.on(\"dispose\",function(t){return n.removeEventListener(e,i)})}),this.on(\"loadstart\",s),this.on(\"dispose\",function(e){return t.off(\"loadstart\",s)})}},i.proxyNativeTracks_=function(){var e=this;zi.names.forEach(function(t){e.proxyNativeTracksForType_(t)})},i.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var i=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(i,e),t.disposeMediaElement(e),e=i}else{e=Ne.default.createElement(\"video\");var n=Z({},this.options_.tag&&T(this.options_.tag));kt&&!0===this.options_.nativeControlsForTouch||delete n.controls,w(e,a(n,{id:this.options_.techId,class:\"vjs-tech\"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&C(e,\"preload\",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);for(var r=[\"loop\",\"muted\",\"playsinline\",\"autoplay\"],s=0;s<r.length;s++){var o=r[s],l=this.options_[o];void 0!==l&&(l?C(e,o,o):k(e,o),e[o]=l)}return e},i.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,i=function(){t=!0};this.on(\"loadstart\",i);var n=function(){t||this.trigger(\"loadstart\")};return this.on(\"loadedmetadata\",n),void this.ready(function(){this.off(\"loadstart\",i),this.off(\"loadedmetadata\",n),t||this.trigger(\"loadstart\")})}var r=[\"loadstart\"];r.push(\"loadedmetadata\"),e.readyState>=2&&r.push(\"loadeddata\"),e.readyState>=3&&r.push(\"canplay\"),e.readyState>=4&&r.push(\"canplaythrough\"),this.ready(function(){r.forEach(function(e){this.trigger(e)},this)})}},i.setScrubbing=function(e){this.isScrubbing_=e},i.scrubbing=function(){return this.isScrubbing_},i.setCurrentTime=function(e){try{this.isScrubbing_&&this.el_.fastSeek&&Pt?this.el_.fastSeek(e):this.el_.currentTime=e}catch(e){lt(e,\"Video is not ready. (Video.js)\")}},i.duration=function(){var e=this;return this.el_.duration===1/0&&_t&&Et&&0===this.el_.currentTime?(this.on(\"timeupdate\",function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger(\"durationchange\"),e.off(\"timeupdate\",t))}),NaN):this.el_.duration||NaN},i.width=function(){return this.el_.offsetWidth},i.height=function(){return this.el_.offsetHeight},i.proxyWebkitFullscreen_=function(){var e=this;if(\"webkitDisplayingFullscreen\"in this.el_){var t=function(){this.trigger(\"fullscreenchange\",{isFullscreen:!1})},i=function(){\"webkitPresentationMode\"in this.el_&&\"picture-in-picture\"!==this.el_.webkitPresentationMode&&(this.one(\"webkitendfullscreen\",t),this.trigger(\"fullscreenchange\",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on(\"webkitbeginfullscreen\",i),this.on(\"dispose\",function(){e.off(\"webkitbeginfullscreen\",i),e.off(\"webkitendfullscreen\",t)})}},i.supportsFullScreen=function(){if(\"function\"==typeof this.el_.webkitEnterFullScreen){var e=Be.default.navigator&&Be.default.navigator.userAgent||\"\";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},i.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)ae(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(e){this.trigger(\"fullscreenerror\",e)}},0);else try{e.webkitEnterFullScreen()}catch(e){this.trigger(\"fullscreenerror\",e)}},i.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger(\"fullscreenerror\",new Error(\"The video is not fullscreen\"))},i.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},i.src=function(e){return void 0===e?this.el_.src:void this.setSrc(e)},i.reset=function(){t.resetMediaElement(this.el_)},i.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},i.setControls=function(e){this.el_.controls=!!e},i.addTextTrack=function(t,i,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,i,n):e.prototype.addTextTrack.call(this,t,i,n)},i.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var i=Ne.default.createElement(\"track\");return t.kind&&(i.kind=t.kind),t.label&&(i.label=t.label),(t.language||t.srclang)&&(i.srclang=t.language||t.srclang),t.default&&(i.default=t.default),t.id&&(i.id=t.id),t.src&&(i.src=t.src),i},i.addRemoteTextTrack=function(t,i){var n=e.prototype.addRemoteTextTrack.call(this,t,i);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},i.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var i=this.$$(\"track\"),n=i.length;n--;)t!==i[n]&&t!==i[n].track||this.el().removeChild(i[n])},i.getVideoPlaybackQuality=function(){if(\"function\"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),Be.default.performance&&\"function\"==typeof Be.default.performance.now?e.creationTime=Be.default.performance.now():Be.default.performance&&Be.default.performance.timing&&\"number\"==typeof Be.default.performance.timing.navigationStart&&(e.creationTime=Be.default.Date.now()-Be.default.performance.timing.navigationStart),e},t}(Wi);Rr(Dr,\"TEST_VID\",function(){if(h()){var e=Ne.default.createElement(\"video\"),t=Ne.default.createElement(\"track\");return t.kind=\"captions\",t.srclang=\"en\",t.label=\"English\",e.appendChild(t),e}}),Dr.isSupported=function(){try{Dr.TEST_VID.volume=.5}catch(e){return!1}return!(!Dr.TEST_VID||!Dr.TEST_VID.canPlayType)},Dr.canPlayType=function(e){return Dr.TEST_VID.canPlayType(e)},Dr.canPlaySource=function(e,t){return Dr.canPlayType(e.type)},Dr.canControlVolume=function(){try{var e=Dr.TEST_VID.volume;return Dr.TEST_VID.volume=e/2+.1,e!==Dr.TEST_VID.volume}catch(e){return!1}},Dr.canMuteVolume=function(){try{var e=Dr.TEST_VID.muted;return Dr.TEST_VID.muted=!e,Dr.TEST_VID.muted?C(Dr.TEST_VID,\"muted\",\"muted\"):k(Dr.TEST_VID,\"muted\"),e!==Dr.TEST_VID.muted}catch(e){return!1}},Dr.canControlPlaybackRate=function(){if(_t&&Et&&wt<58)return!1;try{var e=Dr.TEST_VID.playbackRate;return Dr.TEST_VID.playbackRate=e/2+.1,e!==Dr.TEST_VID.playbackRate}catch(e){return!1}},Dr.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(Ne.default.createElement(\"video\"),\"src\",{get:e,set:e}),Object.defineProperty(Ne.default.createElement(\"audio\"),\"src\",{get:e,set:e}),Object.defineProperty(Ne.default.createElement(\"video\"),\"innerHTML\",{get:e,set:e}),Object.defineProperty(Ne.default.createElement(\"audio\"),\"innerHTML\",{get:e,set:e})}catch(e){return!1}return!0},Dr.supportsNativeTextTracks=function(){return Pt||It&&Et},Dr.supportsNativeVideoTracks=function(){return!(!Dr.TEST_VID||!Dr.TEST_VID.videoTracks)},Dr.supportsNativeAudioTracks=function(){return!(!Dr.TEST_VID||!Dr.TEST_VID.audioTracks)},Dr.Events=[\"loadstart\",\"suspend\",\"abort\",\"error\",\"emptied\",\"stalled\",\"loadedmetadata\",\"loadeddata\",\"canplay\",\"canplaythrough\",\"playing\",\"waiting\",\"seeking\",\"seeked\",\"ended\",\"durationchange\",\"timeupdate\",\"progress\",\"play\",\"pause\",\"ratechange\",\"resize\",\"volumechange\"],[[\"featuresVolumeControl\",\"canControlVolume\"],[\"featuresMuteControl\",\"canMuteVolume\"],[\"featuresPlaybackRate\",\"canControlPlaybackRate\"],[\"featuresSourceset\",\"canOverrideAttributes\"],[\"featuresNativeTextTracks\",\"supportsNativeTextTracks\"],[\"featuresNativeVideoTracks\",\"supportsNativeVideoTracks\"],[\"featuresNativeAudioTracks\",\"supportsNativeAudioTracks\"]].forEach(function(e){var t=e[0],i=e[1];Rr(Dr.prototype,t,function(){return Dr[i]()},!0)}),Dr.prototype.movingMediaElementInDOM=!It,Dr.prototype.featuresFullscreenResize=!0,Dr.prototype.featuresProgressEvents=!0,Dr.prototype.featuresTimeupdateEvents=!0,Dr.patchCanPlayType=function(){vt>=4&&!bt&&!Et&&(Sr=Dr.TEST_VID&&Dr.TEST_VID.constructor.prototype.canPlayType,Dr.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&/^application\\/(?:x-|vnd\\.apple\\.)mpegurl/i.test(e)?\"maybe\":Sr.call(this,e)})},Dr.unpatchCanPlayType=function(){var e=Dr.TEST_VID.constructor.prototype.canPlayType;return Sr&&(Dr.TEST_VID.constructor.prototype.canPlayType=Sr),e},Dr.patchCanPlayType(),Dr.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute(\"src\"),\"function\"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},Dr.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll(\"source\"),i=t.length;i--;)e.removeChild(t[i]);e.removeAttribute(\"src\"),\"function\"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},[\"muted\",\"defaultMuted\",\"autoplay\",\"controls\",\"loop\",\"playsinline\"].forEach(function(e){Dr.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),[\"muted\",\"defaultMuted\",\"autoplay\",\"loop\",\"playsinline\"].forEach(function(e){Dr.prototype[\"set\"+oi(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}}),[\"paused\",\"currentTime\",\"buffered\",\"volume\",\"poster\",\"preload\",\"error\",\"seeking\",\"seekable\",\"ended\",\"playbackRate\",\"defaultPlaybackRate\",\"disablePictureInPicture\",\"played\",\"networkState\",\"readyState\",\"videoWidth\",\"videoHeight\",\"crossOrigin\"].forEach(function(e){Dr.prototype[e]=function(){return this.el_[e]}}),[\"volume\",\"src\",\"poster\",\"preload\",\"playbackRate\",\"defaultPlaybackRate\",\"disablePictureInPicture\",\"crossOrigin\"].forEach(function(e){Dr.prototype[\"set\"+oi(e)]=function(t){this.el_[e]=t}}),[\"pause\",\"load\",\"play\"].forEach(function(e){Dr.prototype[e]=function(){return this.el_[e]()}}),Wi.withSourceHandlers(Dr),Dr.nativeSourceHandler={},Dr.nativeSourceHandler.canPlayType=function(e){try{return Dr.TEST_VID.canPlayType(e)}catch(e){return\"\"}},Dr.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Dr.nativeSourceHandler.canPlayType(e.type);if(e.src){var i=Oi(e.src);return Dr.nativeSourceHandler.canPlayType(\"video/\"+i)}return\"\"},Dr.nativeSourceHandler.handleSource=function(e,t,i){t.setSrc(e.src)},Dr.nativeSourceHandler.dispose=function(){},Dr.registerSourceHandler(Dr.nativeSourceHandler),Wi.registerTech(\"Html5\",Dr);var Or=[\"progress\",\"abort\",\"suspend\",\"emptied\",\"stalled\",\"loadedmetadata\",\"loadeddata\",\"timeupdate\",\"resize\",\"volumechange\",\"texttrackchange\"],Mr={canplay:\"CanPlay\",canplaythrough:\"CanPlayThrough\",playing:\"Playing\",seeked:\"Seeked\"},Ur=[\"tiny\",\"xsmall\",\"small\",\"medium\",\"large\",\"xlarge\",\"huge\"],jr={};Ur.forEach(function(e){var t=\"x\"===e.charAt(0)?\"x-\"+e.substring(1):e;jr[e]=\"vjs-layout-\"+t});var Br={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Nr=function(e){function t(i,n,r){var s;if(i.id=i.id||n.id||\"vjs_video_\"+V(),(n=a(t.getTagSettings(i),n)).initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if(\"function\"==typeof i.closest){var o=i.closest(\"[lang]\");o&&o.getAttribute&&(n.language=o.getAttribute(\"lang\"))}else for(var l=i;l&&1===l.nodeType;){if(T(l).hasOwnProperty(\"lang\")){n.language=l.getAttribute(\"lang\");break}l=l.parentNode}if((s=e.call(this,null,n,r)||this).boundDocumentFullscreenChange_=function(e){return s.documentFullscreenChange_(e)},s.boundFullWindowOnEscKey_=function(e){return s.fullWindowOnEscKey(e)},s.boundUpdateStyleEl_=function(e){return s.updateStyleEl_(e)},s.boundApplyInitTime_=function(e){return s.applyInitTime_(e)},s.boundUpdateCurrentBreakpoint_=function(e){return s.updateCurrentBreakpoint_(e)},s.boundHandleTechClick_=function(e){return s.handleTechClick_(e)},s.boundHandleTechDoubleClick_=function(e){return s.handleTechDoubleClick_(e)},s.boundHandleTechTouchStart_=function(e){return s.handleTechTouchStart_(e)},s.boundHandleTechTouchMove_=function(e){return s.handleTechTouchMove_(e)},s.boundHandleTechTouchEnd_=function(e){return s.handleTechTouchEnd_(e)},s.boundHandleTechTap_=function(e){return s.handleTechTap_(e)},s.isFullscreen_=!1,s.log=ut(s.id_),s.fsApi_=et,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error(\"No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?\");if(s.tag=i,s.tagAttributes=i&&T(i),s.language(s.options_.language),n.languages){var u={};Object.getOwnPropertyNames(n.languages).forEach(function(e){u[e.toLowerCase()]=n.languages[e]}),s.languages_=u}else s.languages_=t.prototype.options_.languages;s.resetCache_(),s.poster_=n.poster||\"\",s.controls_=!!n.controls,i.controls=!1,i.removeAttribute(\"controls\"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],i.hasAttribute(\"autoplay\")?s.autoplay(!0):s.autoplay(s.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(function(e){if(\"function\"!=typeof s[e])throw new Error('plugin \"'+e+'\" does not exist')}),s.scrubbing_=!1,s.el_=s.createEl(),K(Ve.default(s),{eventBusKey:\"el_\"}),s.fsApi_.requestFullscreen&&(Y(Ne.default,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on([\"playerreset\",\"resize\"],s.boundUpdateStyleEl_);var d=Z(s.options_);n.plugins&&Object.keys(n.plugins).forEach(function(e){s[e](n.plugins[e])}),n.debug&&s.debug(!0),s.options_.playerOptions=d,s.middleware_=[],s.playbackRates(n.playbackRates),s.initChildren(),s.isAudio(\"audio\"===i.nodeName.toLowerCase()),s.controls()?s.addClass(\"vjs-controls-enabled\"):s.addClass(\"vjs-controls-disabled\"),s.el_.setAttribute(\"role\",\"region\"),s.isAudio()?s.el_.setAttribute(\"aria-label\",s.localize(\"Audio Player\")):s.el_.setAttribute(\"aria-label\",s.localize(\"Video Player\")),s.isAudio()&&s.addClass(\"vjs-audio\"),s.flexNotSupported_()&&s.addClass(\"vjs-no-flex\"),kt&&s.addClass(\"vjs-touch-enabled\"),It||s.addClass(\"vjs-workinghover\"),t.players[s.id_]=Ve.default(s);var c=\"7.15.4\".split(\".\")[0];return s.addClass(\"vjs-v\"+c),s.userActive(!0),s.reportUserActivity(),s.one(\"play\",function(e){return s.listenForUserActivity_(e)}),s.on(\"stageclick\",function(e){return s.handleStageClick_(e)}),s.on(\"keydown\",function(e){return s.handleKeyDown(e)}),s.on(\"languagechange\",function(e){return s.handleLanguagechange(e)}),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s}He.default(t,e);var i=t.prototype;return i.dispose=function(){var i=this;this.trigger(\"dispose\"),this.off(\"dispose\"),W(Ne.default,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),W(Ne.default,\"keydown\",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=\"\"),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Qi[this.id()]=null,Yi.names.forEach(function(e){var t=Yi[e],n=i[t.getterName]();n&&n.off&&n.off()}),e.prototype.dispose.call(this)},i.createEl=function(){var t,i=this.tag,n=this.playerElIngest_=i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute(\"data-vjs-player\"),r=\"video-js\"===this.tag.tagName.toLowerCase();n?t=this.el_=i.parentNode:r||(t=this.el_=e.prototype.createEl.call(this,\"div\"));var a=T(i);if(r){for(t=this.el_=i,i=this.tag=Ne.default.createElement(\"video\");t.children.length;)i.appendChild(t.firstChild);y(t,\"video-js\")||b(t,\"video-js\"),t.appendChild(i),n=this.playerElIngest_=t,Object.keys(t).forEach(function(e){try{i[e]=t[e]}catch(e){}})}if(i.setAttribute(\"tabindex\",\"-1\"),a.tabindex=\"-1\",(Tt||Et&&Ct)&&(i.setAttribute(\"role\",\"application\"),a.role=\"application\"),i.removeAttribute(\"width\"),i.removeAttribute(\"height\"),\"width\"in a&&delete a.width,\"height\"in a&&delete a.height,Object.getOwnPropertyNames(a).forEach(function(e){r&&\"class\"===e||t.setAttribute(e,a[e]),r&&i.setAttribute(e,a[e])}),i.playerId=i.id,i.id+=\"_html5_api\",i.className=\"vjs-tech\",i.player=t.player=this,this.addClass(\"vjs-paused\"),!0!==Be.default.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Nt(\"vjs-styles-dimensions\");var s=Dt(\".vjs-styles-defaults\"),o=Dt(\"head\");o.insertBefore(this.styleEl_,s?s.nextSibling:o.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var l=i.getElementsByTagName(\"a\"),u=0;u<l.length;u++){var d=l.item(u);b(d,\"vjs-hidden\"),d.setAttribute(\"hidden\",\"hidden\")}return i.initNetworkState_=i.networkState,i.parentNode&&!n&&i.parentNode.insertBefore(t,i),v(i,t),this.children_.unshift(i),this.el_.setAttribute(\"lang\",this.language_),this.el_=t,t},i.crossOrigin=function(e){return e?void(\"anonymous\"===e||\"use-credentials\"===e?this.techCall_(\"setCrossOrigin\",e):lt.warn('crossOrigin must be \"anonymous\" or \"use-credentials\", given \"'+e+'\"')):this.techGet_(\"crossOrigin\")},i.width=function(e){return this.dimension(\"width\",e)},i.height=function(e){return this.dimension(\"height\",e)},i.dimension=function(e,t){var i=e+\"_\";if(void 0===t)return this[i]||0;if(\"\"===t||\"auto\"===t)return this[i]=void 0,void this.updateStyleEl_();var n=parseFloat(t);isNaN(n)?lt.error('Improper value \"'+t+'\" supplied for for '+e):(this[i]=n,this.updateStyleEl_())},i.fluid=function(e){var t,i,n=this;return void 0===e?!!this.fluid_:(this.fluid_=!!e,Xt(this)&&this.off([\"playerreset\",\"resize\"],this.boundUpdateStyleEl_),e?(this.addClass(\"vjs-fluid\"),this.fill(!1),i=function(){n.on([\"playerreset\",\"resize\"],n.boundUpdateStyleEl_)},Xt(t=this)?i():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(i))):this.removeClass(\"vjs-fluid\"),this.updateStyleEl_(),void 0)},i.fill=function(e){return void 0===e?!!this.fill_:(this.fill_=!!e,void(e?(this.addClass(\"vjs-fill\"),this.fluid(!1)):this.removeClass(\"vjs-fill\")))},i.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\\d+\\:\\d+$/.test(e))throw new Error(\"Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.\");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},i.updateStyleEl_=function(){if(!0!==Be.default.VIDEOJS_NO_DYNAMIC_STYLE){var e,t,i,n=(void 0!==this.aspectRatio_&&\"auto\"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+\":\"+this.videoHeight():\"16:9\").split(\":\"),r=n[1]/n[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/r:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*r,i=/^[^a-zA-Z]/.test(this.id())?\"dimensions-\"+this.id():this.id()+\"-dimensions\",this.addClass(i),Ft(this.styleEl_,\"\\n      .\"+i+\" {\\n        width: \"+e+\"px;\\n        height: \"+t+\"px;\\n      }\\n\\n      .\"+i+\".vjs-fluid {\\n        padding-top: \"+100*r+\"%;\\n      }\\n    \")}else{var a=\"number\"==typeof this.width_?this.width_:this.options_.width,s=\"number\"==typeof this.height_?this.height_:this.options_.height,o=this.tech_&&this.tech_.el();o&&(a>=0&&(o.width=a),s>=0&&(o.height=s))}},i.loadTech_=function(e,t){var i=this;this.tech_&&this.unloadTech_();var n=oi(e),r=e.charAt(0).toLowerCase()+e.slice(1);\"Html5\"!==n&&this.tag&&(Wi.getTech(\"Html5\").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var s=this.autoplay();(\"string\"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(s=!1);var o={source:t,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+\"_\"+r+\"_api\",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,\"vtt.js\":this.options_[\"vtt.js\"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Yi.names.forEach(function(e){var t=Yi[e];o[t.getterName]=i[t.privateName]}),a(o,this.options_[n]),a(o,this.options_[r]),a(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);var l=Wi.getTech(e);if(!l)throw new Error(\"No Tech named '\"+n+\"' exists! '\"+n+\"' should be registered using videojs.registerTech()'\");this.tech_=new l(o),this.tech_.ready(qt(this,this.handleTechReady_),!0),gi(this.textTracksJson_||[],this.tech_),Or.forEach(function(e){i.on(i.tech_,e,function(t){return i[\"handleTech\"+oi(e)+\"_\"](t)})}),Object.keys(Mr).forEach(function(e){i.on(i.tech_,e,function(t){0===i.tech_.playbackRate()&&i.tech_.seeking()?i.queuedCallbacks_.push({callback:i[\"handleTech\"+Mr[e]+\"_\"].bind(i),event:t}):i[\"handleTech\"+Mr[e]+\"_\"](t)})}),this.on(this.tech_,\"loadstart\",function(e){return i.handleTechLoadStart_(e)}),this.on(this.tech_,\"sourceset\",function(e){return i.handleTechSourceset_(e)}),this.on(this.tech_,\"waiting\",function(e){return i.handleTechWaiting_(e)}),this.on(this.tech_,\"ended\",function(e){return i.handleTechEnded_(e)}),this.on(this.tech_,\"seeking\",function(e){return i.handleTechSeeking_(e)}),this.on(this.tech_,\"play\",function(e){return i.handleTechPlay_(e)}),this.on(this.tech_,\"firstplay\",function(e){return i.handleTechFirstPlay_(e)}),this.on(this.tech_,\"pause\",function(e){return i.handleTechPause_(e)}),this.on(this.tech_,\"durationchange\",function(e){return i.handleTechDurationChange_(e)}),this.on(this.tech_,\"fullscreenchange\",function(e,t){return i.handleTechFullscreenChange_(e,t)}),this.on(this.tech_,\"fullscreenerror\",function(e,t){return i.handleTechFullscreenError_(e,t)}),this.on(this.tech_,\"enterpictureinpicture\",function(e){return i.handleTechEnterPictureInPicture_(e)}),this.on(this.tech_,\"leavepictureinpicture\",function(e){return i.handleTechLeavePictureInPicture_(e)}),this.on(this.tech_,\"error\",function(e){return i.handleTechError_(e)}),this.on(this.tech_,\"posterchange\",function(e){return i.handleTechPosterChange_(e)}),this.on(this.tech_,\"textdata\",function(e){return i.handleTechTextData_(e)}),this.on(this.tech_,\"ratechange\",function(e){return i.handleTechRateChange_(e)}),this.on(this.tech_,\"loadedmetadata\",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_(\"controls\")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||\"Html5\"===n&&this.tag||v(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},i.unloadTech_=function(){var e=this;Yi.names.forEach(function(t){var i=Yi[t];e[i.privateName]=e[i.getterName]()}),this.textTracksJson_=mi(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_=\"\",this.trigger(\"posterchange\")),this.isPosterFromTech_=!1},i.tech=function(e){return void 0===e&&lt.warn(\"Using the tech directly can be dangerous. I hope you know what you're doing.\\nSee https://github.com/videojs/video.js/issues/2617 for more info.\\n\"),this.tech_},i.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,\"click\",this.boundHandleTechClick_),this.on(this.tech_,\"dblclick\",this.boundHandleTechDoubleClick_),this.on(this.tech_,\"touchstart\",this.boundHandleTechTouchStart_),this.on(this.tech_,\"touchmove\",this.boundHandleTechTouchMove_),this.on(this.tech_,\"touchend\",this.boundHandleTechTouchEnd_),this.on(this.tech_,\"tap\",this.boundHandleTechTap_)},i.removeTechControlsListeners_=function(){this.off(this.tech_,\"tap\",this.boundHandleTechTap_),this.off(this.tech_,\"touchstart\",this.boundHandleTechTouchStart_),this.off(this.tech_,\"touchmove\",this.boundHandleTechTouchMove_),this.off(this.tech_,\"touchend\",this.boundHandleTechTouchEnd_),this.off(this.tech_,\"click\",this.boundHandleTechClick_),this.off(this.tech_,\"dblclick\",this.boundHandleTechDoubleClick_)},i.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_(\"setVolume\",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},i.handleTechLoadStart_=function(){this.removeClass(\"vjs-ended\"),this.removeClass(\"vjs-seeking\"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger(\"loadstart\")):(this.trigger(\"loadstart\"),this.trigger(\"firstplay\")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?\"play\":this.autoplay())},i.manualAutoplay_=function(e){var t=this;if(this.tech_&&\"string\"==typeof e){var i,n=function e(){var i=t.muted();t.muted(!0);var n=function(){t.muted(i)};t.playTerminatedQueue_.push(n);var e=t.play();if(re(e))return e.catch(function(e){throw n(),new Error(\"Rejection at manualAutoplay. Restoring muted value. \"+(e||\"\"))})};if(\"any\"!==e||this.muted()?i=\"muted\"!==e||this.muted()?this.play():n():re(i=this.play())&&(i=i.catch(n)),re(i))return i.then(function(){t.trigger({type:\"autoplay-success\",autoplay:e})}).catch(function(){t.trigger({type:\"autoplay-failure\",autoplay:e})})}},i.updateSourceCaches_=function(e){void 0===e&&(e=\"\");var t=e,i=\"\";\"string\"!=typeof t&&(t=e.src,i=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!i&&(i=function(e,t){if(!t)return\"\";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var i=e.cache_.sources.filter(function(e){return e.src===t});if(i.length)return i[0].type;for(var n=e.$$(\"source\"),r=0;r<n.length;r++){var a=n[r];if(a.type&&a.src&&a.src===t)return a.type}return en(t);\n}(this,t)),this.cache_.source=Z({},e,{src:t,type:i});for(var n=this.cache_.sources.filter(function(e){return e.src&&e.src===t}),r=[],a=this.$$(\"source\"),s=[],o=0;o<a.length;o++){var l=T(a[o]);r.push(l),l.src&&l.src===t&&s.push(l.src)}s.length&&!n.length?this.cache_.sources=r:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},i.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var i=function(e){return t.updateSourceCaches_(e)},n=this.currentSource().src,r=e.src;n&&!/^blob:/.test(n)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==n)&&(i=function(){}),i(r),e.src||this.tech_.any([\"sourceset\",\"loadstart\"],function(e){if(\"sourceset\"!==e.type){var i=t.techGet(\"currentSrc\");t.lastSource_.tech=i,t.updateSourceCaches_(i)}})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:\"sourceset\"})},i.hasStarted=function(e){return void 0===e?this.hasStarted_:void(e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass(\"vjs-has-started\"),this.trigger(\"firstplay\")):this.removeClass(\"vjs-has-started\")))},i.handleTechPlay_=function(){this.removeClass(\"vjs-ended\"),this.removeClass(\"vjs-paused\"),this.addClass(\"vjs-playing\"),this.hasStarted(!0),this.trigger(\"play\")},i.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger(\"ratechange\")},i.handleTechWaiting_=function(){var e=this;this.addClass(\"vjs-waiting\"),this.trigger(\"waiting\");var t=this.currentTime();this.on(\"timeupdate\",function i(){t!==e.currentTime()&&(e.removeClass(\"vjs-waiting\"),e.off(\"timeupdate\",i))})},i.handleTechCanPlay_=function(){this.removeClass(\"vjs-waiting\"),this.trigger(\"canplay\")},i.handleTechCanPlayThrough_=function(){this.removeClass(\"vjs-waiting\"),this.trigger(\"canplaythrough\")},i.handleTechPlaying_=function(){this.removeClass(\"vjs-waiting\"),this.trigger(\"playing\")},i.handleTechSeeking_=function(){this.addClass(\"vjs-seeking\"),this.trigger(\"seeking\")},i.handleTechSeeked_=function(){this.removeClass(\"vjs-seeking\"),this.removeClass(\"vjs-ended\"),this.trigger(\"seeked\")},i.handleTechFirstPlay_=function(){this.options_.starttime&&(lt.warn(\"Passing the `starttime` option to the player will be deprecated in 6.0\"),this.currentTime(this.options_.starttime)),this.addClass(\"vjs-has-started\"),this.trigger(\"firstplay\")},i.handleTechPause_=function(){this.removeClass(\"vjs-playing\"),this.addClass(\"vjs-paused\"),this.trigger(\"pause\")},i.handleTechEnded_=function(){this.addClass(\"vjs-ended\"),this.removeClass(\"vjs-waiting\"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger(\"ended\")},i.handleTechDurationChange_=function(){this.duration(this.techGet_(\"duration\"))},i.handleTechClick_=function(e){this.controls_&&(this.paused()?ae(this.play()):this.pause())},i.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(\".vjs-control-bar, .vjs-modal-dialog\"),function(t){return t.contains(e.target)})||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&\"function\"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},i.handleTechTap_=function(){this.userActive(!this.userActive())},i.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},i.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},i.handleTechTouchEnd_=function(e){e.cancelable&&e.preventDefault()},i.handleStageClick_=function(){this.reportUserActivity()},i.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass(\"vjs-fullscreen\"):this.removeClass(\"vjs-fullscreen\")},i.documentFullscreenChange_=function(e){var t=e.target.player;if(!t||t===this){var i=this.el(),n=Ne.default[this.fsApi_.fullscreenElement]===i;!n&&i.matches?n=i.matches(\":\"+this.fsApi_.fullscreen):!n&&i.msMatchesSelector&&(n=i.msMatchesSelector(\":\"+this.fsApi_.fullscreen)),this.isFullscreen(n)}},i.handleTechFullscreenChange_=function(e,t){t&&(t.nativeIOSFullscreen&&this.toggleClass(\"vjs-ios-native-fs\"),this.isFullscreen(t.isFullscreen))},i.handleTechFullscreenError_=function(e,t){this.trigger(\"fullscreenerror\",t)},i.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass(\"vjs-picture-in-picture\"):this.removeClass(\"vjs-picture-in-picture\")},i.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},i.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},i.handleTechError_=function(){var e=this.tech_.error();this.error(e)},i.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger(\"textdata\",e)},i.getCache=function(){return this.cache_},i.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:\"\",source:{},sources:[],playbackRates:[],volume:1}},i.techCall_=function(e,t){this.ready(function(){if(e in Xi)return function(e,t,i,n){return t[i](e.reduce(le(i),n))}(this.middleware_,this.tech_,e,t);if(e in Zi)return oe(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw lt(e),e}},!0)},i.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in Ki)return function(e,t,i){return e.reduceRight(le(i),t[i]())}(this.middleware_,this.tech_,e);if(e in Zi)return oe(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw lt(\"Video.js: \"+e+\" method not defined for \"+this.techName_+\" playback technology.\",t),t;if(\"TypeError\"===t.name)throw lt(\"Video.js: \"+e+\" unavailable on \"+this.techName_+\" playback technology element.\",t),this.tech_.isReady_=!1,t;throw lt(t),t}}},i.play=function(){var e=this,t=this.options_.Promise||Be.default.Promise;return t?new t(function(t){e.play_(t)}):this.play_()},i.play_=function(e){var t=this;void 0===e&&(e=ae),this.playCallbacks_.push(e);var i=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off([\"ready\",\"loadstart\"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!i)return this.waitToPlay_=function(e){t.play_()},this.one([\"ready\",\"loadstart\"],this.waitToPlay_),void(i||!Pt&&!It||this.load());var n=this.techGet_(\"play\");null===n?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(n)},i.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(e){e()})},i.runPlayCallbacks_=function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach(function(t){t(e)})},i.pause=function(){this.techCall_(\"pause\")},i.paused=function(){return!1!==this.techGet_(\"paused\")},i.played=function(){return this.techGet_(\"played\")||te(0,0)},i.scrubbing=function(e){return void 0===e?this.scrubbing_:(this.scrubbing_=!!e,this.techCall_(\"setScrubbing\",this.scrubbing_),e?this.addClass(\"vjs-scrubbing\"):this.removeClass(\"vjs-scrubbing\"),void 0)},i.currentTime=function(e){return void 0!==e?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_(\"setCurrentTime\",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off(\"canplay\",this.boundApplyInitTime_),void this.one(\"canplay\",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_(\"currentTime\")||0,this.cache_.currentTime)},i.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},i.duration=function(e){return void 0===e?void 0!==this.cache_.duration?this.cache_.duration:NaN:((e=parseFloat(e))<0&&(e=1/0),void(e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass(\"vjs-live\"):this.removeClass(\"vjs-live\"),isNaN(e)||this.trigger(\"durationchange\"))))},i.remainingTime=function(){return this.duration()-this.currentTime()},i.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},i.buffered=function(){var e=this.techGet_(\"buffered\");return e&&e.length||(e=te(0,0)),e},i.bufferedPercent=function(){return ie(this.buffered(),this.duration())},i.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),i=e.end(e.length-1);return i>t&&(i=t),i},i.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_(\"setVolume\",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_(\"volume\")),isNaN(t)?1:t)},i.muted=function(e){return void 0===e?this.techGet_(\"muted\")||!1:void this.techCall_(\"setMuted\",e)},i.defaultMuted=function(e){return void 0!==e?this.techCall_(\"setDefaultMuted\",e):this.techGet_(\"defaultMuted\")||!1},i.lastVolume_=function(e){return void 0===e||0===e?this.cache_.lastVolume:void(this.cache_.lastVolume=e)},i.supportsFullScreen=function(){return this.techGet_(\"supportsFullScreen\")||!1},i.isFullscreen=function(e){if(void 0!==e){var t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger(\"fullscreenchange\"),void this.toggleFullscreenClass_()}return this.isFullscreen_},i.requestFullscreen=function(e){var t=this.options_.Promise||Be.default.Promise;if(t){var i=this;return new t(function(t,n){function r(){i.off(\"fullscreenerror\",s),i.off(\"fullscreenchange\",a)}function a(){r(),t()}function s(e,t){r(),n(t)}i.one(\"fullscreenchange\",a),i.one(\"fullscreenerror\",s);var o=i.requestFullscreenHelper_(e);o&&(o.then(r,r),o.then(t,n))})}return this.requestFullscreenHelper_()},i.requestFullscreenHelper_=function(e){var t,i=this;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){var n=this.el_[this.fsApi_.requestFullscreen](t);return n&&n.then(function(){return i.isFullscreen(!0)},function(){return i.isFullscreen(!1)}),n}this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_(\"enterFullScreen\"):this.enterFullWindow()},i.exitFullscreen=function(){var e=this.options_.Promise||Be.default.Promise;if(e){var t=this;return new e(function(e,i){function n(){t.off(\"fullscreenerror\",a),t.off(\"fullscreenchange\",r)}function r(){n(),e()}function a(e,t){n(),i(t)}t.one(\"fullscreenchange\",r),t.one(\"fullscreenerror\",a);var s=t.exitFullscreenHelper_();s&&(s.then(n,n),s.then(e,i))})}return this.exitFullscreenHelper_()},i.exitFullscreenHelper_=function(){var e=this;if(this.fsApi_.requestFullscreen){var t=Ne.default[this.fsApi_.exitFullscreen]();return t&&ae(t.then(function(){return e.isFullscreen(!1)})),t}this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_(\"exitFullScreen\"):this.exitFullWindow()},i.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Ne.default.documentElement.style.overflow,Y(Ne.default,\"keydown\",this.boundFullWindowOnEscKey_),Ne.default.documentElement.style.overflow=\"hidden\",b(Ne.default.body,\"vjs-full-window\"),this.trigger(\"enterFullWindow\")},i.fullWindowOnEscKey=function(e){Ge.default.isEventKey(e,\"Esc\")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},i.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,W(Ne.default,\"keydown\",this.boundFullWindowOnEscKey_),Ne.default.documentElement.style.overflow=this.docOrigOverflow,A(Ne.default.body,\"vjs-full-window\"),this.trigger(\"exitFullWindow\")},i.disablePictureInPicture=function(e){return void 0===e?this.techGet_(\"disablePictureInPicture\"):(this.techCall_(\"setDisablePictureInPicture\",e),this.options_.disablePictureInPicture=e,this.trigger(\"disablepictureinpicturechanged\"),void 0)},i.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},i.requestPictureInPicture=function(){if(\"pictureInPictureEnabled\"in Ne.default&&!1===this.disablePictureInPicture())return this.techGet_(\"requestPictureInPicture\")},i.exitPictureInPicture=function(){if(\"pictureInPictureEnabled\"in Ne.default)return Ne.default.exitPictureInPicture()},i.handleKeyDown=function(e){var t=this.options_.userActions;t&&t.hotkeys&&(function(e){var t=e.tagName.toLowerCase();return!!e.isContentEditable||(\"input\"===t?-1===[\"button\",\"checkbox\",\"hidden\",\"radio\",\"reset\",\"submit\"].indexOf(e.type):-1!==[\"textarea\"].indexOf(t))}(this.el_.ownerDocument.activeElement)||(\"function\"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e)))},i.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},i=t.fullscreenKey,n=void 0===i?function(e){return Ge.default.isEventKey(e,\"f\")}:i,r=t.muteKey,a=void 0===r?function(e){return Ge.default.isEventKey(e,\"m\")}:r,s=t.playPauseKey,o=void 0===s?function(e){return Ge.default.isEventKey(e,\"k\")||Ge.default.isEventKey(e,\"Space\")}:s;if(n.call(this,e)){e.preventDefault(),e.stopPropagation();var l=hi.getComponent(\"FullscreenToggle\");!1!==Ne.default[this.fsApi_.fullscreenEnabled]&&l.prototype.handleClick.call(this,e)}else a.call(this,e)?(e.preventDefault(),e.stopPropagation(),hi.getComponent(\"MuteToggle\").prototype.handleClick.call(this,e)):o.call(this,e)&&(e.preventDefault(),e.stopPropagation(),hi.getComponent(\"PlayToggle\").prototype.handleClick.call(this,e))},i.canPlayType=function(e){for(var t,i=0,n=this.options_.techOrder;i<n.length;i++){var r=n[i],a=Wi.getTech(r);if(a||(a=hi.getComponent(r)),a){if(a.isSupported()&&(t=a.canPlayType(e)))return t}else lt.error('The \"'+r+'\" tech is undefined. Skipped browser support check for that tech.')}return\"\"},i.selectSource=function(e){var t,i=this,n=this.options_.techOrder.map(function(e){return[e,Wi.getTech(e)]}).filter(function(e){var t=e[0],i=e[1];return i?i.isSupported():(lt.error('The \"'+t+'\" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(e,t,i){var n;return e.some(function(e){return t.some(function(t){if(n=i(e,t))return!0})}),n},a=function(e,t){var n=e[0];if(e[1].canPlaySource(t,i.options_[n.toLowerCase()]))return{source:t,tech:n}};return(this.options_.sourceOrder?r(e,n,(t=a,function(e,i){return t(i,e)})):r(n,e,a))||!1},i.handleSrc_=function(e,t){var i=this;if(void 0===e)return this.cache_.src||\"\";this.resetRetryOnError_&&this.resetRetryOnError_();var n=function e(t){if(Array.isArray(t)){var i=[];t.forEach(function(t){t=e(t),Array.isArray(t)?i=i.concat(t):o(t)&&i.push(t)}),t=i}else t=\"string\"==typeof t&&t.trim()?[ue({src:t})]:o(t)&&\"string\"==typeof t.src&&t.src&&t.src.trim()?[ue(t)]:[];return t}(e);if(n.length){if(this.changingSrc_=!0,t||(this.cache_.sources=n),this.updateSourceCaches_(n[0]),se(this,n[0],function(e,r){var a,s;return i.middleware_=r,t||(i.cache_.sources=n),i.updateSourceCaches_(e),i.src_(e)?n.length>1?i.handleSrc_(n.slice(1)):(i.changingSrc_=!1,i.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void i.triggerReady()):(a=r,s=i.tech_,a.forEach(function(e){return e.setTech&&e.setTech(s)}),void 0)}),this.options_.retryOnError&&n.length>1){var r=function(){i.error(null),i.handleSrc_(n.slice(1),!0)},a=function(){i.off(\"error\",r)};this.one(\"error\",r),this.one(\"playing\",a),this.resetRetryOnError_=function(){i.off(\"error\",r),i.off(\"playing\",a)}}}else this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},i.src=function(e){return this.handleSrc_(e,!1)},i.src_=function(e){var t,i,n=this,r=this.selectSource([e]);return!r||(t=r.tech,i=this.techName_,oi(t)!==oi(i)?(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(function(){n.changingSrc_=!1}),!1):(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty(\"setSource\")?this.techCall_(\"setSource\",e):this.techCall_(\"src\",e.src),this.changingSrc_=!1},!0),!1))},i.load=function(){this.techCall_(\"load\")},i.reset=function(){var e=this,t=this.options_.Promise||Be.default.Promise;this.paused()||!t?this.doReset_():ae(this.play().then(function(){return e.doReset_()}))},i.doReset_=function(){this.tech_&&this.tech_.clearTracks(\"text\"),this.resetCache_(),this.poster(\"\"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_(\"reset\"),this.resetControlBarUI_(),Xt(this)&&this.trigger(\"playerreset\")},i.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},i.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar,t=e.durationDisplay,i=e.remainingTimeDisplay;t&&t.updateContent(),i&&i.updateContent()},i.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},i.resetVolumeBar_=function(){this.volume(1),this.trigger(\"volumechange\")},i.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},i.currentSource=function(){return this.cache_.source||{}},i.currentSrc=function(){return this.currentSource()&&this.currentSource().src||\"\"},i.currentType=function(){return this.currentSource()&&this.currentSource().type||\"\"},i.preload=function(e){return void 0!==e?(this.techCall_(\"setPreload\",e),void(this.options_.preload=e)):this.techGet_(\"preload\")},i.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;\"string\"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(\"string\"==typeof e?e:\"play\"),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_(\"setAutoplay\",t)},i.playsinline=function(e){return void 0!==e?(this.techCall_(\"setPlaysinline\",e),this.options_.playsinline=e,this):this.techGet_(\"playsinline\")},i.loop=function(e){return void 0!==e?(this.techCall_(\"setLoop\",e),void(this.options_.loop=e)):this.techGet_(\"loop\")},i.poster=function(e){return void 0===e?this.poster_:(e||(e=\"\"),void(e!==this.poster_&&(this.poster_=e,this.techCall_(\"setPoster\",e),this.isPosterFromTech_=!1,this.trigger(\"posterchange\"))))},i.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||\"\";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger(\"posterchange\"))}},i.controls=function(e){return void 0===e?!!this.controls_:(e=!!e,void(this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_(\"setControls\",e),this.controls_?(this.removeClass(\"vjs-controls-disabled\"),this.addClass(\"vjs-controls-enabled\"),this.trigger(\"controlsenabled\"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass(\"vjs-controls-enabled\"),this.addClass(\"vjs-controls-disabled\"),this.trigger(\"controlsdisabled\"),this.usingNativeControls()||this.removeTechControlsListeners_()))))},i.usingNativeControls=function(e){return void 0===e?!!this.usingNativeControls_:(e=!!e,void(this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass(\"vjs-using-native-controls\"),this.trigger(\"usingnativecontrols\")):(this.removeClass(\"vjs-using-native-controls\"),this.trigger(\"usingcustomcontrols\")))))},i.error=function(e){var t=this;if(void 0===e)return this.error_||null;if(Ze(\"beforeerror\").forEach(function(i){var n=i(t,e);o(n)&&!Array.isArray(n)||\"string\"==typeof n||\"number\"==typeof n||null===n?e=n:t.log.error(\"please return a value that MediaError expects in beforeerror hooks\")}),this.options_.suppressNotSupportedError&&e&&4===e.code){var i=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any([\"click\",\"touchstart\"],i),void this.one(\"loadstart\",function(){this.off([\"click\",\"touchstart\"],i)})}return null===e?(this.error_=e,this.removeClass(\"vjs-error\"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new ne(e),this.addClass(\"vjs-error\"),lt.error(\"(CODE:\"+this.error_.code+\" \"+ne.errorTypes[this.error_.code]+\")\",this.error_.message,this.error_),this.trigger(\"error\"),Ze(\"error\").forEach(function(e){return e(t,t.error_)}),void 0)},i.reportUserActivity=function(e){this.userActivity_=!0},i.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass(\"vjs-user-inactive\"),this.addClass(\"vjs-user-active\"),void this.trigger(\"useractive\");this.tech_&&this.tech_.one(\"mousemove\",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass(\"vjs-user-active\"),this.addClass(\"vjs-user-inactive\"),this.trigger(\"userinactive\")}},i.listenForUserActivity_=function(){var e,t,i,n=qt(this,this.reportUserActivity),r=function(t){n(),this.clearInterval(e)};this.on(\"mousedown\",function(){n(),this.clearInterval(e),e=this.setInterval(n,250)}),this.on(\"mousemove\",function(e){e.screenX===t&&e.screenY===i||(t=e.screenX,i=e.screenY,n())}),this.on(\"mouseup\",r),this.on(\"mouseleave\",r);var a,s=this.getChild(\"controlBar\");!s||It||_t||(s.on(\"mouseenter\",function(e){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),s.on(\"mouseleave\",function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on(\"keydown\",n),this.on(\"keyup\",n),this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(a);var e=this.options_.inactivityTimeout;e<=0||(a=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},i.playbackRate=function(e){return void 0===e?this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_(\"playbackRate\"):1:void this.techCall_(\"setPlaybackRate\",e)},i.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_(\"setDefaultPlaybackRate\",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_(\"defaultPlaybackRate\"):1},i.isAudio=function(e){return void 0===e?!!this.isAudio_:void(this.isAudio_=!!e)},i.addTextTrack=function(e,t,i){if(this.tech_)return this.tech_.addTextTrack(e,t,i)},i.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},i.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e.track;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)},i.getVideoPlaybackQuality=function(){return this.techGet_(\"getVideoPlaybackQuality\")},i.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},i.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},i.language=function(e){return void 0===e?this.language_:void(this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Xt(this)&&this.trigger(\"languagechange\")))},i.languages=function(){return Z(t.prototype.options_.languages,this.languages_)},i.toJSON=function(){var e=Z(this.options_),t=e.tracks;e.tracks=[];for(var i=0;i<t.length;i++){var n=t[i];(n=Z(n)).player=void 0,e.tracks[i]=n}return e},i.createModal=function(e,t){var i=this;(t=t||{}).content=e||\"\";var n=new _i(this,t);return this.addChild(n),n.on(\"dispose\",function(){i.removeChild(n)}),n.open(),n},i.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),i=0;i<Ur.length;i++){var n=Ur[i];if(t<=this.breakpoints_[n]){if(e===n)return;e&&this.removeClass(jr[e]),this.addClass(jr[n]),this.breakpoint_=n;break}}},i.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_=\"\",e&&this.removeClass(e)},i.breakpoints=function(e){return void 0===e||(this.breakpoint_=\"\",this.breakpoints_=a({},Br,e),this.updateCurrentBreakpoint_()),a(this.breakpoints_)},i.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on(\"playerresize\",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off(\"playerresize\",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},i.currentBreakpoint=function(){return this.breakpoint_},i.currentBreakpointClass=function(){return jr[this.breakpoint_]||\"\"},i.loadMedia=function(e,t){var i=this;if(e&&\"object\"==(\"undefined\"==typeof e?\"undefined\":s(e))){this.reset(),this.cache_.media=Z(e);var n=this.cache_.media,r=n.artwork,a=n.poster,o=n.src,l=n.textTracks;!r&&a&&(this.cache_.media.artwork=[{src:a,type:en(a)}]),o&&this.src(o),a&&this.poster(a),Array.isArray(l)&&l.forEach(function(e){return i.addRemoteTextTrack(e,!1)}),this.ready(t)}},i.getMedia=function(){if(!this.cache_.media){var e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}})};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:en(t.poster)}]),t}return Z(this.cache_.media)},t.getTagSettings=function(e){var t={sources:[],tracks:[]},i=T(e),n=i[\"data-setup\"];if(y(e,\"vjs-fill\")&&(i.fill=!0),y(e,\"vjs-fluid\")&&(i.fluid=!0),null!==n){var r=ze.default(n||\"{}\"),s=r[0],o=r[1];s&&lt.error(s),a(i,o)}if(a(t,i),e.hasChildNodes())for(var l=e.childNodes,u=0,d=l.length;u<d;u++){var c=l[u],h=c.nodeName.toLowerCase();\"source\"===h?t.sources.push(T(c)):\"track\"===h&&t.tracks.push(T(c))}return t},i.flexNotSupported_=function(){var e=Ne.default.createElement(\"i\");return!(\"flexBasis\"in e.style||\"webkitFlexBasis\"in e.style||\"mozFlexBasis\"in e.style||\"msFlexBasis\"in e.style||\"msFlexOrder\"in e.style)},i.debug=function(e){return void 0===e?this.debugEnabled_:void(e?(this.trigger(\"debugon\"),this.previousLogLevel_=this.log.level,this.log.level(\"debug\"),this.debugEnabled_=!0):(this.trigger(\"debugoff\"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1))},i.playbackRates=function(e){return void 0===e?this.cache_.playbackRates:void(Array.isArray(e)&&e.every(function(e){return\"number\"==typeof e})&&(this.cache_.playbackRates=e,this.trigger(\"playbackrateschange\")))},t}(hi);Yi.names.forEach(function(e){var t=Yi[e];Nr.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),Nr.prototype.crossorigin=Nr.prototype.crossOrigin,Nr.players={};var Fr=Be.default.navigator;Nr.prototype.options_={techOrder:Wi.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:[\"mediaLoader\",\"posterImage\",\"textTrackDisplay\",\"loadingSpinner\",\"bigPlayButton\",\"liveTracker\",\"controlBar\",\"errorDisplay\",\"textTrackSettings\",\"resizeManager\"],language:Fr&&(Fr.languages&&Fr.languages[0]||Fr.userLanguage||Fr.language)||\"en\",languages:{},notSupportedMessage:\"No compatible source was found for this media.\",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:\"hide\"}},breakpoints:{},responsive:!1},[\"ended\",\"seeking\",\"seekable\",\"networkState\",\"readyState\"].forEach(function(e){Nr.prototype[e]=function(){return this.techGet_(e)}}),Or.forEach(function(e){Nr.prototype[\"handleTech\"+oi(e)+\"_\"]=function(){return this.trigger(e)}}),hi.registerComponent(\"Player\",Nr);var Vr={},Hr=function(e){return Vr.hasOwnProperty(e)},zr=function(e){return Hr(e)?Vr[e]:void 0},Gr=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},Yr=function(e,t,i){var n=(i?\"before\":\"\")+\"pluginsetup\";e.trigger(n,t),e.trigger(n+\":\"+t.name,t)},Wr=function(e,t){return t.prototype.name=e,function(){Yr(this,{name:e,plugin:t,instance:null},!0);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var a=qe.default(t,[this].concat(n));return this[e]=function(){return a},Yr(this,a.getEventHash()),a}},qr=function(){function e(t){if(this.constructor===e)throw new Error(\"Plugin must be sub-classed; not directly instantiated.\");this.player=t,this.log||(this.log=this.player.log.createLogger(this.name)),K(this),delete this.trigger,X(this,this.constructor.defaultState),Gr(t,this.name),this.dispose=this.dispose.bind(this),t.on(\"dispose\",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},t.trigger=function(e,t){return void 0===t&&(t={}),q(this.eventBusEl_,e,this.getEventHash(t))},t.handleStateChanged=function(e){},t.dispose=function(){var e=this.name,t=this.player;this.trigger(\"dispose\"),this.off(),t.off(\"dispose\",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=Wr(e,Vr[e])},e.isBasic=function(t){var i=\"string\"==typeof t?zr(t):t;return\"function\"==typeof i&&!e.prototype.isPrototypeOf(i.prototype)},e.registerPlugin=function(t,i){if(\"string\"!=typeof t)throw new Error('Illegal plugin name, \"'+t+'\", must be a string, was '+(\"undefined\"==typeof t?\"undefined\":s(t))+\".\");if(Hr(t))lt.warn('A plugin named \"'+t+'\" already exists. You may want to avoid re-registering plugins!');else if(Nr.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, \"'+t+'\", cannot share a name with an existing player method!');if(\"function\"!=typeof i)throw new Error('Illegal plugin for \"'+t+'\", must be a function, was '+(\"undefined\"==typeof i?\"undefined\":s(i))+\".\");return Vr[t]=i,\"plugin\"!==t&&(e.isBasic(i)?Nr.prototype[t]=function(e,t){var i=function i(){Yr(this,{name:e,plugin:t,instance:null},!0);var i=t.apply(this,arguments);return Gr(this,e),Yr(this,{name:e,plugin:t,instance:i}),i};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i}(t,i):Nr.prototype[t]=Wr(t,i)),i},e.deregisterPlugin=function(e){if(\"plugin\"===e)throw new Error(\"Cannot de-register base plugin.\");Hr(e)&&(delete Vr[e],delete Nr.prototype[e])},e.getPlugins=function(e){var t;return void 0===e&&(e=Object.keys(Vr)),e.forEach(function(e){var i=zr(e);i&&((t=t||{})[e]=i)}),t},e.getPluginVersion=function(e){var t=zr(e);return t&&t.VERSION||\"\"},e}();qr.getPlugin=zr,qr.BASE_PLUGIN_NAME=\"plugin\",qr.registerPlugin(\"plugin\",qr),Nr.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},Nr.prototype.hasPlugin=function(e){return!!Hr(e)};var Qr=function(e){return 0===e.indexOf(\"#\")?e.slice(1):e};if(pe.hooks_=Xe,pe.hooks=Ze,pe.hook=function(e,t){Ze(e,t)},pe.hookOnce=function(e,t){Ze(e,[].concat(t).map(function(t){return function i(){return $e(e,i),t.apply(void 0,arguments)}}))},pe.removeHook=$e,!0!==Be.default.VIDEOJS_NO_DYNAMIC_STYLE&&h()){var Jr=Dt(\".vjs-styles-defaults\");if(!Jr){Jr=Nt(\"vjs-styles-defaults\");var Kr=Dt(\"head\");Kr&&Kr.insertBefore(Jr,Kr.firstChild),Ft(Jr,\"\\n      .video-js {\\n        width: 300px;\\n        height: 150px;\\n      }\\n\\n      .vjs-fluid {\\n        padding-top: 56.25%\\n      }\\n    \")}}N(1,pe),pe.VERSION=\"7.15.4\",pe.options=Nr.prototype.options_,pe.getPlayers=function(){return Nr.players},pe.getPlayer=function(e){var t,i=Nr.players;if(\"string\"==typeof e){var n=Qr(e),r=i[n];if(r)return r;t=Dt(\"#\"+n)}else t=e;if(f(t)){var a=t,s=a.player,o=a.playerId;if(s||i[o])return s||i[o]}},pe.getAllPlayers=function(){return Object.keys(Nr.players).map(function(e){return Nr.players[e]}).filter(Boolean)},pe.players=Nr.players,pe.getComponent=hi.getComponent,pe.registerComponent=function(e,t){Wi.isTech(t)&&lt.warn(\"The \"+e+\" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)\"),hi.registerComponent.call(hi,e,t)},pe.getTech=Wi.getTech,pe.registerTech=Wi.registerTech,pe.use=function(e,t){qi[e]=qi[e]||[],qi[e].push(t)},Object.defineProperty(pe,\"middleware\",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(pe.middleware,\"TERMINATOR\",{value:Ji,writeable:!1,enumerable:!0}),pe.browser=Rt,pe.TOUCH_ENABLED=kt,pe.extend=function(e,t){void 0===t&&(t={});var i=function(){\ne.apply(this,arguments)},n={};for(var r in\"object\"==(\"undefined\"==typeof t?\"undefined\":s(t))?(t.constructor!==Object.prototype.constructor&&(i=t.constructor),n=t):\"function\"==typeof t&&(i=t),Qe.default(i,e),e&&(i.super_=e),n)n.hasOwnProperty(r)&&(i.prototype[r]=n[r]);return i},pe.mergeOptions=Z,pe.bind=qt,pe.registerPlugin=qr.registerPlugin,pe.deregisterPlugin=qr.deregisterPlugin,pe.plugin=function(e,t){return lt.warn(\"videojs.plugin() is deprecated; use videojs.registerPlugin() instead\"),qr.registerPlugin(e,t)},pe.getPlugins=qr.getPlugins,pe.getPlugin=qr.getPlugin,pe.getPluginVersion=qr.getPluginVersion,pe.addLanguage=function(e,t){var i;return e=(\"\"+e).toLowerCase(),pe.options.languages=Z(pe.options.languages,((i={})[e]=t,i)),pe.options.languages[e]},pe.log=lt,pe.createLogger=ut,pe.createTimeRange=pe.createTimeRanges=te,pe.formatTime=he,pe.setFormatTime=function(e){fn=e},pe.resetFormatTime=function(){fn=hn},pe.parseUrl=Ri,pe.isCrossOrigin=Mi,pe.EventTarget=Jt,pe.on=Y,pe.one=Q,pe.off=W,pe.trigger=q,pe.xhr=Ye.default,pe.TextTrack=Ni,pe.AudioTrack=Fi,pe.VideoTrack=Vi,[\"isEl\",\"isTextNode\",\"createEl\",\"hasClass\",\"addClass\",\"removeClass\",\"toggleClass\",\"setAttributes\",\"getAttributes\",\"emptyEl\",\"appendContent\",\"insertContent\"].forEach(function(e){pe[e]=function(){return lt.warn(\"videojs.\"+e+\"() is deprecated; use videojs.dom.\"+e+\"() instead\"),Mt[e].apply(null,arguments)}}),pe.computedStyle=u,pe.dom=Mt,pe.url=Ui,pe.defineLazyProperty=Rr,pe.addLanguage(\"en\",{\"Non-Fullscreen\":\"Exit Fullscreen\"});/*! @name @videojs/http-streaming @version 2.10.2 @license Apache-2.0 */var Xr,Zr=Je.default,$r=function(e,t,i){return e&&i&&i.responseURL&&t!==i.responseURL?i.responseURL:t},ea=function(e){return pe.log.debug?pe.log.debug.bind(pe,\"VHS:\",e+\" >\"):function(){}},ta=function(e,t){var i,n=[];if(e&&e.length)for(i=0;i<e.length;i++)t(e.start(i),e.end(i))&&n.push([e.start(i),e.end(i)]);return pe.createTimeRanges(n)},ia=function(e,t){return ta(e,function(e,i){return e-.1<=t&&i+.1>=t})},na=function(e,t){return ta(e,function(e){return e-1/30>=t})},ra=function(e){var t=[];if(!e||!e.length)return\"\";for(var i=0;i<e.length;i++)t.push(e.start(i)+\" => \"+e.end(i));return t.join(\", \")},aa=function(e){for(var t=[],i=0;i<e.length;i++)t.push({start:e.start(i),end:e.end(i)});return t},sa=function(e){if(e&&e.length&&e.end)return e.end(e.length-1)},oa=pe.createTimeRange,la=function(e){return(e.segments||[]).reduce(function(e,t,i){return t.parts?t.parts.forEach(function(n,r){e.push({duration:n.duration,segmentIndex:i,partIndex:r,part:n,segment:t})}):e.push({duration:t.duration,segmentIndex:i,partIndex:null,segment:t,part:null}),e},[])},ua=function(e){var t=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return t&&t.parts||[]},da=function(e){var t=e.preloadSegment;if(t){var i=t.parts,n=(t.preloadHints||[]).reduce(function(e,t){return e+(\"PART\"===t.type?1:0)},0);return n+=i&&i.length?i.length:0}},ca=function(e,t){if(t.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var i=ua(t).length>0;return i&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:i&&t.partTargetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?3*t.targetDuration:0},ha=function(e,t,i){if(void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence)return 0;var n=function(e,t){var i=0,n=t-e.mediaSequence,r=e.segments[n];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;n--;){if(void 0!==(r=e.segments[n]).end)return{result:i+r.end,precise:!0};if(i+=r.duration,void 0!==r.start)return{result:i+r.start,precise:!0}}return{result:i,precise:!1}}(e,t);if(n.precise)return n.result;var r=function(e,t){for(var i,n=0,r=t-e.mediaSequence;r<e.segments.length;r++){if(void 0!==(i=e.segments[r]).start)return{result:i.start-n,precise:!0};if(n+=i.duration,void 0!==i.end)return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}}(e,t);return r.precise?r.result:n.result+i},fa=function(e,t,i){if(!e)return 0;if(\"number\"!=typeof i&&(i=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return Be.default.Infinity}return ha(e,t,i)},pa=function(e){var t=e.defaultDuration,i=e.durationList,n=e.startIndex,r=e.endIndex,a=0;if(n>r){var s=[r,n];n=s[0],r=s[1]}if(n<0){for(var o=n;o<Math.min(0,r);o++)a+=t;n=0}for(var l=n;l<r;l++)a+=i[l].duration;return a},ma=function(e,t,i,n){if(!e||!e.segments)return null;if(e.endList)return fa(e);if(null===t)return null;t=t||0;var r=ha(e,e.mediaSequence+e.segments.length,t);return i&&(r-=n=\"number\"==typeof n?n:ca(null,e)),Math.max(0,r)},ga=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},_a=function(e){return e.excludeUntil&&e.excludeUntil===1/0},va=function(e){var t=ga(e);return!e.disabled&&!t},ya=function(e,t){return t.attributes&&t.attributes[e]},ba=function(e,t){if(1===e.playlists.length)return!0;var i=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(function(e){return!!va(e)&&(e.attributes.BANDWIDTH||0)<i}).length},Aa=function(e,t){return!(!e&&!t||!e&&t||e&&!t||e!==t&&(!e.id||!t.id||e.id!==t.id)&&(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)&&(!e.uri||!t.uri||e.uri!==t.uri))},Ea=function(e,t){var i=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},n=!1;for(var r in i){for(var a in i[r])if(n=t(i[r][a]))break;if(n)break}return!!n},wa=function(e){if(!e||!e.playlists||!e.playlists.length)return Ea(e,function(e){return e.playlists&&e.playlists.length||e.uri});for(var t=function(t){var i=e.playlists[t],n=i.attributes&&i.attributes.CODECS;return n&&n.split(\",\").every(function(e){return Ie.isAudioCodec(e)})||Ea(e,function(e){return Aa(i,e)})?\"continue\":{v:!1}},i=0;i<e.playlists.length;i++){var n=t(i);if(\"continue\"!==n&&\"object\"==(\"undefined\"==typeof n?\"undefined\":s(n)))return n.v}return!0},Ta={liveEdgeDelay:ca,duration:fa,seekable:function(e,t,i){var n=t||0,r=ma(e,t,!0,i);return null===r?oa():oa(n,r)},getMediaInfoForTime:function(e){for(var t=e.playlist,i=e.currentTime,n=e.startingSegmentIndex,r=e.startingPartIndex,a=e.startTime,s=e.experimentalExactManifestTimings,o=i-a,l=la(t),u=0,d=0;d<l.length;d++){var c=l[d];if(n===c.segmentIndex&&(\"number\"!=typeof r||\"number\"!=typeof c.partIndex||r===c.partIndex)){u=d;break}}if(o<0){if(u>0)for(var h=u-1;h>=0;h--){var f=l[h];if(o+=f.duration,s){if(o<0)continue}else if(o+1/30<=0)continue;return{partIndex:f.partIndex,segmentIndex:f.segmentIndex,startTime:a-pa({defaultDuration:t.targetDuration,durationList:l,startIndex:u,endIndex:h})}}return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:i}}if(u<0){for(var p=u;p<0;p++)if((o-=t.targetDuration)<0)return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:i};u=0}for(var m=u;m<l.length;m++){var g=l[m];if(o-=g.duration,s){if(o>0)continue}else if(o-1/30>=0)continue;return{partIndex:g.partIndex,segmentIndex:g.segmentIndex,startTime:a+pa({defaultDuration:t.targetDuration,durationList:l,startIndex:u,endIndex:m})}}return{segmentIndex:l[l.length-1].segmentIndex,partIndex:l[l.length-1].partIndex,startTime:i}},isEnabled:va,isDisabled:function(e){return e.disabled},isBlacklisted:ga,isIncompatible:_a,playlistEnd:ma,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},hasAttribute:ya,estimateSegmentRequestTime:function(e,t,i,n){return void 0===n&&(n=0),ya(\"BANDWIDTH\",i)?(e*i.attributes.BANDWIDTH-8*n)/t:NaN},isLowestEnabledRendition:ba,isAudioOnly:wa,playlistMatch:Aa},Sa=pe.log,Ca=function(e,t){return e+\"-\"+t},ka=function(e,t){e.mediaGroups&&[\"AUDIO\",\"SUBTITLES\"].forEach(function(i){if(e.mediaGroups[i])for(var n in e.mediaGroups[i])for(var r in e.mediaGroups[i][n]){var a=e.mediaGroups[i][n][r];t(a,i,n,r)}})},La=function(e){var t=e.playlist,i=e.uri,n=e.id;t.id=n,t.playlistErrors_=0,i&&(t.uri=i),t.attributes=t.attributes||{}},xa=function(e,t){e.uri=t;for(var i=0;i<e.playlists.length;i++)if(!e.playlists[i].uri){var n=\"placeholder-uri-\"+i;e.playlists[i].uri=n}var r=wa(e);ka(e,function(t,i,n,a){var s=\"placeholder-uri-\"+i+\"-\"+n+\"-\"+a;if(!t.playlists||!t.playlists.length){if(r&&\"AUDIO\"===i&&!t.uri)for(var o=0;o<e.playlists.length;o++){var l=e.playlists[o];if(l.attributes&&l.attributes.AUDIO&&l.attributes.AUDIO===n)return}t.playlists=[Fe.default({},t)]}t.playlists.forEach(function(t,i){var n=Ca(i,s);t.uri?t.resolvedUri=t.resolvedUri||Zr(e.uri,t.uri):(t.uri=0===i?s:n,t.resolvedUri=t.uri),t.id=t.id||n,t.attributes=t.attributes||{},e.playlists[t.id]=t,e.playlists[t.uri]=t})}),function(e){for(var t=e.playlists.length;t--;){var i=e.playlists[t];La({playlist:i,id:Ca(t,i.uri)}),i.resolvedUri=Zr(e.uri,i.uri),e.playlists[i.id]=i,e.playlists[i.uri]=i,i.attributes.BANDWIDTH||Sa.warn(\"Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.\")}}(e),function(e){ka(e,function(t){t.uri&&(t.resolvedUri=Zr(e.uri,t.uri))})}(e)},Ia=pe.mergeOptions,Pa=pe.EventTarget,Ra=function(e,t){if(!e)return t;var i=Ia(e,t);if(e.preloadHints&&!t.preloadHints&&delete i.preloadHints,e.parts&&!t.parts)delete i.parts;else if(e.parts&&t.parts)for(var n=0;n<t.parts.length;n++)e.parts&&e.parts[n]&&(i.parts[n]=Ia(e.parts[n],t.parts[n]));return!e.skipped&&t.skipped&&(i.skipped=!1),e.preload&&!t.preload&&(i.preload=!1),i},Da=function(e,t){!e.resolvedUri&&e.uri&&(e.resolvedUri=Zr(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Zr(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Zr(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=Zr(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(e){e.resolvedUri||(e.resolvedUri=Zr(t,e.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(e){e.resolvedUri||(e.resolvedUri=Zr(t,e.uri))})},Oa=function(e){var t=e.segments||[],i=e.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints)for(var n=0;n<i.preloadHints.length;n++)if(\"MAP\"===i.preloadHints[n].type)return t;i.duration=e.targetDuration,i.preload=!0,t.push(i)}return t},Ma=function(e,t){return e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence},Ua=function(e,t,i){void 0===i&&(i=Ma);var n=Ia(e,{}),r=n.playlists[t.id];if(!r)return null;if(i(r,t))return null;t.segments=Oa(t);var a=Ia(r,t);if(a.preloadSegment&&!t.preloadSegment&&delete a.preloadSegment,r.segments){if(t.skip){t.segments=t.segments||[];for(var s=0;s<t.skip.skippedSegments;s++)t.segments.unshift({skipped:!0})}a.segments=function(e,t,i){var n=e.slice(),r=t.slice();i=i||0;for(var a,s=[],o=0;o<r.length;o++){var l=n[o+i],u=r[o];l?(a=l.map||a,s.push(Ra(l,u))):(a&&!u.map&&(u.map=a),s.push(u))}return s}(r.segments,t.segments,t.mediaSequence-r.mediaSequence)}a.segments.forEach(function(e){Da(e,a.resolvedUri)});for(var o=0;o<n.playlists.length;o++)n.playlists[o].id===t.id&&(n.playlists[o]=a);return n.playlists[t.id]=a,n.playlists[t.uri]=a,ka(e,function(e,i,n,r){if(e.playlists)for(var a=0;a<e.playlists.length;a++)t.id===e.playlists[a].id&&(e.playlists[a]=t)}),n},ja=function(e,t){var i=e.segments[e.segments.length-1],n=i&&i.parts&&i.parts[i.parts.length-1],r=n&&n.duration||i&&i.duration;return t&&r?1e3*r:500*(e.partTargetDuration||e.targetDuration||10)},Ba=function(e){function t(t,i,n){var r;if(void 0===n&&(n={}),r=e.call(this)||this,!t)throw new Error(\"A non-empty playlist URL or object is required\");r.logger_=ea(\"PlaylistLoader\");var a=n,s=a.withCredentials,o=void 0!==s&&s,l=a.handleManifestRedirects,u=void 0!==l&&l;r.src=t,r.vhs_=i,r.withCredentials=o,r.handleManifestRedirects=u;var d=i.options_;return r.customTagParsers=d&&d.customTagParsers||[],r.customTagMappers=d&&d.customTagMappers||[],r.experimentalLLHLS=d&&d.experimentalLLHLS||!1,r.state=\"HAVE_NOTHING\",r.handleMediaupdatetimeout_=r.handleMediaupdatetimeout_.bind(Ve.default(r)),r.on(\"mediaupdatetimeout\",r.handleMediaupdatetimeout_),r}He.default(t,e);var i=t.prototype;return i.handleMediaupdatetimeout_=function(){var e=this;if(\"HAVE_METADATA\"===this.state){var t=this.media(),i=Zr(this.master.uri,t.uri);this.experimentalLLHLS&&(i=function(e,t){if(t.endList)return e;var i=[];if(t.serverControl&&t.serverControl.canBlockReload){var n=t.preloadSegment,r=t.mediaSequence+t.segments.length;if(n){var a=n.parts||[],s=da(t)-1;s>-1&&s!==a.length-1&&i.push(\"_HLS_part=\"+s),(s>-1||a.length)&&r--}i.unshift(\"_HLS_msn=\"+r)}return t.serverControl&&t.serverControl.canSkipUntil&&i.unshift(\"_HLS_skip=\"+(t.serverControl.canSkipDateranges?\"v2\":\"YES\")),i.forEach(function(t,i){e+=\"\"+(0===i?\"?\":\"&\")+t}),e}(i,t)),this.state=\"HAVE_CURRENT_METADATA\",this.request=this.vhs_.xhr({uri:i,withCredentials:this.withCredentials},function(t,i){if(e.request)return t?e.playlistRequestError(e.request,e.media(),\"HAVE_METADATA\"):void e.haveMetadata({playlistString:e.request.responseText,url:e.media().uri,id:e.media().id})})}},i.playlistRequestError=function(e,t,i){var n=t.uri,r=t.id;this.request=null,i&&(this.state=i),this.error={playlist:this.master.playlists[r],status:e.status,message:\"HLS playlist request error at URL: \"+n+\".\",responseText:e.responseText,code:e.status>=500?4:2},this.trigger(\"error\")},i.parseManifest_=function(e){var t=this,i=e.url;return function(e){var t=e.onwarn,i=e.oninfo,n=e.manifestString,r=e.customTagParsers,a=void 0===r?[]:r,s=e.customTagMappers,o=void 0===s?[]:s,l=e.experimentalLLHLS,u=new xe.Parser;t&&u.on(\"warn\",t),i&&u.on(\"info\",i),a.forEach(function(e){return u.addParser(e)}),o.forEach(function(e){return u.addTagMapper(e)}),u.push(n),u.end();var d=u.manifest;if(l||([\"preloadSegment\",\"skip\",\"serverControl\",\"renditionReports\",\"partInf\",\"partTargetDuration\"].forEach(function(e){d.hasOwnProperty(e)&&delete d[e]}),d.segments&&d.segments.forEach(function(e){[\"parts\",\"preloadHints\"].forEach(function(t){e.hasOwnProperty(t)&&delete e[t]})})),!d.targetDuration){var c=10;d.segments&&d.segments.length&&(c=d.segments.reduce(function(e,t){return Math.max(e,t.duration)},0)),t&&t(\"manifest has no targetDuration defaulting to \"+c),d.targetDuration=c}var h=ua(d);if(h.length&&!d.partTargetDuration){var f=h.reduce(function(e,t){return Math.max(e,t.duration)},0);t&&(t(\"manifest has no partTargetDuration defaulting to \"+f),Sa.error(\"LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.\")),d.partTargetDuration=f}return d}({onwarn:function(e){var n=e.message;return t.logger_(\"m3u8-parser warn for \"+i+\": \"+n)},oninfo:function(e){var n=e.message;return t.logger_(\"m3u8-parser info for \"+i+\": \"+n)},manifestString:e.manifestString,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},i.haveMetadata=function(e){var t=e.playlistString,i=e.playlistObject,n=e.url,r=e.id;this.request=null,this.state=\"HAVE_METADATA\";var a=i||this.parseManifest_({url:n,manifestString:t});a.lastRequest=Date.now(),La({playlist:a,uri:n,id:r});var s=Ua(this.master,a);this.targetDuration=a.partTargetDuration||a.targetDuration,s?(this.master=s,this.media_=this.master.playlists[r]):this.trigger(\"playlistunchanged\"),this.updateMediaUpdateTimeout_(ja(this.media(),!!s)),this.trigger(\"loadedplaylist\")},i.dispose=function(){this.trigger(\"dispose\"),this.stopRequest(),Be.default.clearTimeout(this.mediaUpdateTimeout),Be.default.clearTimeout(this.finalRenditionTimeout),this.off()},i.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},i.media=function(e,t){var i=this;if(!e)return this.media_;if(\"HAVE_NOTHING\"===this.state)throw new Error(\"Cannot switch media playlist from \"+this.state);if(\"string\"==typeof e){if(!this.master.playlists[e])throw new Error(\"Unknown playlist URI: \"+e);e=this.master.playlists[e]}if(Be.default.clearTimeout(this.finalRenditionTimeout),t){var n=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=Be.default.setTimeout(this.media.bind(this,e,!1),n)}else{var r=this.state,a=!this.media_||e.id!==this.media_.id,s=this.master.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state=\"HAVE_METADATA\",this.media_=e,void(a&&(this.trigger(\"mediachanging\"),\"HAVE_MASTER\"===r?this.trigger(\"loadedmetadata\"):this.trigger(\"mediachange\")));if(this.updateMediaUpdateTimeout_(ja(e,!0)),a){if(this.state=\"SWITCHING_MEDIA\",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger(\"mediachanging\"),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},function(t,n){if(i.request){if(e.lastRequest=Date.now(),e.resolvedUri=$r(i.handleManifestRedirects,e.resolvedUri,n),t)return i.playlistRequestError(i.request,e,r);i.haveMetadata({playlistString:n.responseText,url:e.uri,id:e.id}),\"HAVE_MASTER\"===r?i.trigger(\"loadedmetadata\"):i.trigger(\"mediachange\")}})}}},i.pause=function(){this.mediaUpdateTimeout&&(Be.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),\"HAVE_NOTHING\"===this.state&&(this.started=!1),\"SWITCHING_MEDIA\"===this.state?this.media_?this.state=\"HAVE_METADATA\":this.state=\"HAVE_MASTER\":\"HAVE_CURRENT_METADATA\"===this.state&&(this.state=\"HAVE_METADATA\")},i.load=function(e){var t=this;this.mediaUpdateTimeout&&(Be.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var i=this.media();if(e){var n=i?(i.partTargetDuration||i.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=Be.default.setTimeout(function(){t.mediaUpdateTimeout=null,t.load()},n)}else this.started?i&&!i.endList?this.trigger(\"mediaupdatetimeout\"):this.trigger(\"loadedplaylist\"):this.start()},i.updateMediaUpdateTimeout_=function(e){var t=this;this.mediaUpdateTimeout&&(Be.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=Be.default.setTimeout(function(){t.mediaUpdateTimeout=null,t.trigger(\"mediaupdatetimeout\"),t.updateMediaUpdateTimeout_(e)},e))},i.start=function(){var e=this;return this.started=!0,\"object\"==s(this.src)?(this.src.uri||(this.src.uri=Be.default.location.href),this.src.resolvedUri=this.src.uri,void setTimeout(function(){e.setupInitialPlaylist(e.src)},0)):void(this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(t,i){if(e.request){if(e.request=null,t)return e.error={status:i.status,message:\"HLS playlist request error at URL: \"+e.src+\".\",responseText:i.responseText,code:2},\"HAVE_NOTHING\"===e.state&&(e.started=!1),e.trigger(\"error\");e.src=$r(e.handleManifestRedirects,e.src,i);var n=e.parseManifest_({manifestString:i.responseText,url:e.src});e.setupInitialPlaylist(n)}}))},i.srcUri=function(){return\"string\"==typeof this.src?this.src:this.src.uri},i.setupInitialPlaylist=function(e){if(this.state=\"HAVE_MASTER\",e.playlists)return this.master=e,xa(this.master,this.srcUri()),e.playlists.forEach(function(e){e.segments=Oa(e),e.segments.forEach(function(t){Da(t,e.resolvedUri)})}),this.trigger(\"loadedplaylist\"),void(this.request||this.media(this.master.playlists[0]));var t=this.srcUri()||Be.default.location.href;this.master=function(e,t){var i=Ca(0,t),n={mediaGroups:{AUDIO:{},VIDEO:{},\"CLOSED-CAPTIONS\":{},SUBTITLES:{}},uri:Be.default.location.href,resolvedUri:Be.default.location.href,playlists:[{uri:t,id:i,resolvedUri:t,attributes:{}}]};return n.playlists[i]=n.playlists[0],n.playlists[t]=n.playlists[0],n}(0,t),this.haveMetadata({playlistObject:e,url:t,id:this.master.playlists[0].id}),this.trigger(\"loadedmetadata\")},t}(Pa),Na=pe.xhr,Fa=pe.mergeOptions,Va=function(e,t,i,n){var r=\"arraybuffer\"===e.responseType?e.response:e.responseText;!t&&r&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=r.byteLength||r.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),i.headers&&(e.responseHeaders=i.headers),t&&\"ETIMEDOUT\"===t.code&&(e.timedout=!0),t||e.aborted||200===i.statusCode||206===i.statusCode||0===i.statusCode||(t=new Error(\"XHR Failed with a response of: \"+(e&&(r||e.responseText)))),n(t,e)},Ha=function(){var e=function e(t,i){t=Fa({timeout:45e3},t);var n=e.beforeRequest||pe.Vhs.xhr.beforeRequest;if(n&&\"function\"==typeof n){var r=n(t);r&&(t=r)}var a=(!0===pe.Vhs.xhr.original?Na:pe.Vhs.xhr)(t,function(e,t){return Va(a,e,t,i)}),s=a.abort;return a.abort=function(){return a.aborted=!0,s.apply(a,arguments)},a.uri=t.uri,a.requestTime=Date.now(),a};return e.original=!0,e},za=function(e){var t,i,n={};return e.byterange&&(n.Range=(t=e.byterange,i=t.offset+t.length-1,\"bytes=\"+t.offset+\"-\"+i)),n},Ga=function(e,t){return e.start(t)+\"-\"+e.end(t)},Ya=function(e,t){var i=e.toString(16);return\"00\".substring(0,2-i.length)+i+(t%2?\" \":\"\")},Wa=function(e){return e>=32&&e<126?String.fromCharCode(e):\".\"},qa=function(e){var t={};return Object.keys(e).forEach(function(i){var n=e[i];ArrayBuffer.isView(n)?t[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:t[i]=n}),t},Qa=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(\",\")},Ja=function(e){return e.resolvedUri},Ka=function(e){for(var t=Array.prototype.slice.call(e),i=\"\",n=0;n<t.length/16;n++)i+=t.slice(16*n,16*n+16).map(Ya).join(\"\")+\" \"+t.slice(16*n,16*n+16).map(Wa).join(\"\")+\"\\n\";return i},Xa=Object.freeze({__proto__:null,createTransferableMessage:qa,initSegmentId:Qa,segmentKeyId:Ja,hexDump:Ka,tagDump:function(e){var t=e.bytes;return Ka(t)},textRanges:function(e){var t,i=\"\";for(t=0;t<e.length;t++)i+=Ga(e,t)+\" \";return i}}),Za=function(e){var t=e.playlist,i=e.time,n=void 0===i?void 0:i,r=e.callback;if(!r)throw new Error(\"getProgramTime: callback must be provided\");if(!t||void 0===n)return r({message:\"getProgramTime: playlist and time must be provided\"});var a=function(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var i,n=0,r=0;r<t.segments.length&&!(e<=(n=(i=t.segments[r]).videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:n+i.duration));r++);var a=t.segments[t.segments.length-1];if(a.videoTimingInfo&&a.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>n){if(e>n+.25*a.duration)return null;i=a}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:n-i.duration,type:i.videoTimingInfo?\"accurate\":\"estimate\"}}(n,t);if(!a)return r({message:\"valid programTime was not found\"});if(\"estimate\"===a.type)return r({message:\"Accurate programTime could not be determined. Please seek to e.seekTime and try again\",seekTime:a.estimatedStart});var s={mediaSeconds:n},o=function(e,t){if(!t.dateTimeObject)return null;var i=t.videoTimingInfo.transmuxerPrependedSeconds,n=e-(t.videoTimingInfo.transmuxedPresentationStart+i);return new Date(t.dateTimeObject.getTime()+1e3*n)}(n,a.segment);return o&&(s.programDateTime=o.toISOString()),r(null,s)},$a=function e(t){var i=t.programTime,n=t.playlist,r=t.retryCount,a=void 0===r?2:r,s=t.seekTo,o=t.pauseAfterSeek,l=void 0===o||o,u=t.tech,d=t.callback;if(!d)throw new Error(\"seekToProgramTime: callback must be provided\");if(void 0===i||!n||!s)return d({message:\"seekToProgramTime: programTime, seekTo and playlist must be provided\"});if(!n.endList&&!u.hasStarted_)return d({message:\"player must be playing a live stream to start buffering\"});if(!function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0}(n))return d({message:\"programDateTime tags must be provided in the manifest \"+n.resolvedUri});var c=function(e,t){var i;try{i=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;var n=t.segments[0];if(i<n.dateTimeObject)return null;for(var r=0;r<t.segments.length-1&&(n=t.segments[r],!(i<t.segments[r+1].dateTimeObject));r++);var a,s=t.segments[t.segments.length-1],o=s.dateTimeObject,l=s.videoTimingInfo?(a=s.videoTimingInfo).transmuxedPresentationEnd-a.transmuxedPresentationStart-a.transmuxerPrependedSeconds:s.duration+.25*s.duration;return i>new Date(o.getTime()+1e3*l)?null:(i>o&&(n=s),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:Ta.duration(t,t.mediaSequence+t.segments.indexOf(n)),type:n.videoTimingInfo?\"accurate\":\"estimate\"})}(i,n);if(!c)return d({message:i+\" was not found in the stream\"});var h=c.segment,f=function(e,t){var i,n;try{i=new Date(e),n=new Date(t)}catch(e){}var r=i.getTime();return(n.getTime()-r)/1e3}(h.dateTimeObject,i);if(\"estimate\"===c.type)return 0===a?d({message:i+\" is not buffered yet. Try again\"}):(s(c.estimatedStart+f),void u.one(\"seeked\",function(){e({programTime:i,playlist:n,retryCount:a-1,seekTo:s,pauseAfterSeek:l,tech:u,callback:d})}));var p=h.start+f;u.one(\"seeked\",function(){return d(null,u.currentTime())}),l&&u.pause(),s(p)},es=function(e,t){if(4===e.readyState)return t()},ts=pe.EventTarget,is=pe.mergeOptions,ns=function(e,t){if(!Ma(e,t))return!1;if(e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))return!1;if(!e.sidx&&t.sidx||e.sidx&&!t.sidx)return!1;if(e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!t.segments)return!0;for(var i=0;i<e.segments.length;i++){var n=e.segments[i],r=t.segments[i];if(n.uri!==r.uri)return!1;if(n.byterange||r.byterange){var a=n.byterange,s=r.byterange;if(a&&!s||!a&&s)return!1;if(a.offset!==s.offset||a.length!==s.length)return!1}}return!0},rs=function(e,t){var i,n,r={};for(var a in e){var s=e[a].sidx;if(s){var o=Re.generateSidxKey(s);if(!t[o])break;var l=t[o].sidxInfo;i=l,n=s,(Boolean(!i.map&&!n.map)||Boolean(i.map&&n.map&&i.map.byterange.offset===n.map.byterange.offset&&i.map.byterange.length===n.map.byterange.length))&&i.uri===n.uri&&i.byterange.offset===n.byterange.offset&&i.byterange.length===n.byterange.length&&(r[o]=t[o])}}return r},as=function(e){function t(t,i,n,r){var a;void 0===n&&(n={}),(a=e.call(this)||this).masterPlaylistLoader_=r||Ve.default(a),r||(a.isMaster_=!0);var s=n,o=s.withCredentials,l=void 0!==o&&o,u=s.handleManifestRedirects,d=void 0!==u&&u;if(a.vhs_=i,a.withCredentials=l,a.handleManifestRedirects=d,!t)throw new Error(\"A non-empty playlist URL or object is required\");return a.on(\"minimumUpdatePeriod\",function(){a.refreshXml_()}),a.on(\"mediaupdatetimeout\",function(){a.refreshMedia_(a.media().id)}),a.state=\"HAVE_NOTHING\",a.loadedPlaylists_={},a.logger_=ea(\"DashPlaylistLoader\"),a.isMaster_?(a.masterPlaylistLoader_.srcUrl=t,a.masterPlaylistLoader_.sidxMapping_={}):a.childPlaylist_=t,a}He.default(t,e);var i=t.prototype;return i.requestErrored_=function(e,t,i){return!this.request||(this.request=null,e?(this.error=\"object\"!=(\"undefined\"==typeof e?\"undefined\":s(e))||e instanceof Error?{status:t.status,message:\"DASH request error at URL: \"+t.uri,response:t.response,code:2}:e,i&&(this.state=i),this.trigger(\"error\"),!0):void 0)},i.addSidxSegments_=function(e,t,i){var n=this,r=e.sidx&&Re.generateSidxKey(e.sidx);if(e.sidx&&r&&!this.masterPlaylistLoader_.sidxMapping_[r]){var a=$r(this.handleManifestRedirects,e.sidx.resolvedUri),s=function(a,s){if(!n.requestErrored_(a,s,t)){var o,l=n.masterPlaylistLoader_.sidxMapping_;try{o=Ke.default(Ue.toUint8(s.response).subarray(8))}catch(e){return void n.requestErrored_(e,s,t)}return l[r]={sidxInfo:e.sidx,sidx:o},Re.addSidxSegmentsToPlaylist(e,o,e.sidx.resolvedUri),i(!0)}};this.request=function(e,t,i){var n,r=[],a=!1,s=function(e,t,n,r){return t.abort(),a=!0,i(e,t,n,r)},o=function e(t,i){if(!a){if(t)return s(t,i,\"\",r);var o=i.responseText.substring(r&&r.byteLength||0,i.responseText.length);if(r=Ue.concatTypedArrays(r,Ue.stringToBytes(o,!0)),n=n||Oe.getId3Offset(r),r.length<10||n&&r.length<n+2)return es(i,function(){return s(t,i,\"\",r)});var e=Me.detectContainerForBytes(r);return\"ts\"===e&&r.length<188||!e&&r.length<376?es(i,function(){return s(t,i,\"\",r)}):s(null,i,e,r)}},l=t({uri:e,beforeSend:function(e){e.overrideMimeType(\"text/plain; charset=x-user-defined\"),e.addEventListener(\"progress\",function(t){return t.total,t.loaded,Va(e,null,{statusCode:e.status},o)})}},function(e,t){return Va(l,e,t,o)});return l}(a,this.vhs_.xhr,function(t,i,r,o){if(t)return s(t,i);if(!r||\"mp4\"!==r)return s({status:i.status,message:\"Unsupported \"+(r||\"unknown\")+\" container type for sidx segment at URL: \"+a,response:\"\",playlist:e,internal:!0,blacklistDuration:1/0,code:2},i);var l=e.sidx.byterange,u=l.offset,d=l.length;return o.length>=d+u?s(t,{response:o.subarray(u,u+d),status:i.status,uri:i.uri}):void(n.request=n.vhs_.xhr({uri:a,responseType:\"arraybuffer\",headers:za({byterange:e.sidx.byterange})},s))})}else this.mediaRequest_=Be.default.setTimeout(function(){return i(!1)},0)},i.dispose=function(){this.trigger(\"dispose\"),this.stopRequest(),this.loadedPlaylists_={},Be.default.clearTimeout(this.minimumUpdatePeriodTimeout_),Be.default.clearTimeout(this.mediaRequest_),Be.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off(\"loadedmetadata\",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},i.hasPendingRequest=function(){return this.request||this.mediaRequest_},i.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},i.media=function(e){var t=this;if(!e)return this.media_;if(\"HAVE_NOTHING\"===this.state)throw new Error(\"Cannot switch media playlist from \"+this.state);var i=this.state;if(\"string\"==typeof e){if(!this.masterPlaylistLoader_.master.playlists[e])throw new Error(\"Unknown playlist URI: \"+e);e=this.masterPlaylistLoader_.master.playlists[e]}var n=!this.media_||e.id!==this.media_.id;return n&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList?(this.state=\"HAVE_METADATA\",this.media_=e,void(n&&(this.trigger(\"mediachanging\"),this.trigger(\"mediachange\")))):void(n&&(this.media_&&this.trigger(\"mediachanging\"),this.addSidxSegments_(e,i,function(n){t.haveMetadata({startingState:i,playlist:e})})))},i.haveMetadata=function(e){var t=e.startingState,i=e.playlist;this.state=\"HAVE_METADATA\",this.loadedPlaylists_[i.id]=i,this.mediaRequest_=null,this.refreshMedia_(i.id),\"HAVE_MASTER\"===t?this.trigger(\"loadedmetadata\"):this.trigger(\"mediachange\")},i.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off(\"loadedmetadata\",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),Be.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(Be.default.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),\"HAVE_NOTHING\"===this.state&&(this.started=!1)},i.load=function(e){var t=this;Be.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var i=this.media();if(e){var n=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=Be.default.setTimeout(function(){return t.load()},n)}else this.started?i&&!i.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger(\"minimumUpdatePeriod\"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger(\"mediaupdatetimeout\")):this.trigger(\"loadedplaylist\"):this.start()},i.start=function(){var e=this;this.started=!0,this.isMaster_?this.requestMaster_(function(t,i){e.haveMaster_(),e.hasPendingRequest()||e.media_||e.media(e.masterPlaylistLoader_.master.playlists[0])}):this.mediaRequest_=Be.default.setTimeout(function(){return e.haveMaster_()},0)},i.requestMaster_=function(e){var t=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(i,n){if(!t.requestErrored_(i,n)){var r=n.responseText!==t.masterPlaylistLoader_.masterXml_;\nreturn t.masterPlaylistLoader_.masterXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?t.masterLoaded_=Date.parse(n.responseHeaders.date):t.masterLoaded_=Date.now(),t.masterPlaylistLoader_.srcUrl=$r(t.handleManifestRedirects,t.masterPlaylistLoader_.srcUrl,n),r?(t.handleMaster_(),void t.syncClientServerClock_(function(){return e(n,r)})):e(n,r)}\"HAVE_NOTHING\"===t.state&&(t.started=!1)})},i.syncClientServerClock_=function(e){var t=this,i=Re.parseUTCTiming(this.masterPlaylistLoader_.masterXml_);return null===i?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),e()):\"DIRECT\"===i.method?(this.masterPlaylistLoader_.clientOffset_=i.value-Date.now(),e()):void(this.request=this.vhs_.xhr({uri:Zr(this.masterPlaylistLoader_.srcUrl,i.value),method:i.method,withCredentials:this.withCredentials},function(n,r){if(t.request){if(n)return t.masterPlaylistLoader_.clientOffset_=t.masterLoaded_-Date.now(),e();var a;a=\"HEAD\"===i.method?r.responseHeaders&&r.responseHeaders.date?Date.parse(r.responseHeaders.date):t.masterLoaded_:Date.parse(r.responseText),t.masterPlaylistLoader_.clientOffset_=a-Date.now(),e()}}))},i.haveMaster_=function(){this.state=\"HAVE_MASTER\",this.isMaster_?this.trigger(\"loadedplaylist\"):this.media_||this.media(this.childPlaylist_)},i.handleMaster_=function(){this.mediaRequest_=null;var e,t,i,n,r,a,s=(e={masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_},t=e.masterXml,i=e.srcUrl,n=e.clientOffset,r=e.sidxMapping,a=Re.parse(t,{manifestUri:i,clientOffset:n,sidxMapping:r}),xa(a,i),a),o=this.masterPlaylistLoader_.master;o&&(s=function(e,t,i){for(var n=!0,r=is(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod}),a=0;a<t.playlists.length;a++){var s=t.playlists[a];if(s.sidx){var o=Re.generateSidxKey(s.sidx);i&&i[o]&&i[o].sidx&&Re.addSidxSegmentsToPlaylist(s,i[o].sidx,s.sidx.resolvedUri)}var l=Ua(r,s,ns);l&&(r=l,n=!1)}return ka(t,function(e,t,i,a){if(e.playlists&&e.playlists.length){var s=e.playlists[0].id,o=Ua(r,e.playlists[0],ns);o&&((r=o).mediaGroups[t][i][a].playlists[0]=r.playlists[s],n=!1)}}),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(n=!1),n?null:r}(o,s,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=s||o;var l=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return l&&l!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=l),(!o||s&&s.minimumUpdatePeriod!==o.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(s)},i.updateMinimumUpdatePeriodTimeout_=function(){var e=this.masterPlaylistLoader_;e.createMupOnMedia_&&(e.off(\"loadedmetadata\",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(Be.default.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);var t=e.master&&e.master.minimumUpdatePeriod;0===t&&(e.media()?t=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one(\"loadedmetadata\",e.createMupOnMedia_))),\"number\"!=typeof t||t<=0?t<0&&this.logger_(\"found invalid minimumUpdatePeriod of \"+t+\", not setting a timeout\"):this.createMUPTimeout_(t)},i.createMUPTimeout_=function(e){var t=this.masterPlaylistLoader_;t.minimumUpdatePeriodTimeout_=Be.default.setTimeout(function(){t.minimumUpdatePeriodTimeout_=null,t.trigger(\"minimumUpdatePeriod\"),t.createMUPTimeout_(e)},e)},i.refreshXml_=function(){var e=this;this.requestMaster_(function(t,i){var n,r,a;i&&(e.media_&&(e.media_=e.masterPlaylistLoader_.master.playlists[e.media_.id]),e.masterPlaylistLoader_.sidxMapping_=(n=e.masterPlaylistLoader_.master,r=e.masterPlaylistLoader_.sidxMapping_,a=rs(n.playlists,r),ka(n,function(e,t,i,n){if(e.playlists&&e.playlists.length){var s=e.playlists;a=is(a,rs(s,r))}}),a),e.addSidxSegments_(e.media(),e.state,function(t){e.refreshMedia_(e.media().id)}))})},i.refreshMedia_=function(e){var t=this;if(!e)throw new Error(\"refreshMedia_ must take a media id\");this.media_&&this.isMaster_&&this.handleMaster_();var i=this.masterPlaylistLoader_.master.playlists,n=!this.media_||this.media_!==i[e];n?this.media_=i[e]:this.trigger(\"playlistunchanged\"),this.mediaUpdateTimeout||!function e(){t.media().endList||(t.mediaUpdateTimeout=Be.default.setTimeout(function(){t.trigger(\"mediaupdatetimeout\"),e()},ja(t.media(),Boolean(n))))}(),this.trigger(\"loadedplaylist\")},t}(ts),ss={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},os=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},ls=function(e){return function(){var t=function(e){try{return URL.createObjectURL(new Blob([e],{type:\"application/javascript\"}))}catch(i){var t=new BlobBuilder;return t.append(e),URL.createObjectURL(t.getBlob())}}(e),i=os(new Worker(t));i.objURL=t;var n=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(t),n.call(this)},i}},us=function(e){return\"var browserWorkerPolyFill = \"+os.toString()+\";\\nbrowserWorkerPolyFill(self);\\n\"+e},ds=function(e){return e.toString().replace(/^function.+?{/,\"\").slice(0,-1)},cs=ls(us(ds(function(){var e=function(){this.init=function(){var e={};this.on=function(t,i){e[t]||(e[t]=[]),e[t]=e[t].concat(i)},this.off=function(t,i){var n;return!!e[t]&&(n=e[t].indexOf(i),e[t]=e[t].slice(),e[t].splice(n,1),n>-1)},this.trigger=function(t){var i,n,r,a;if(i=e[t])if(2===arguments.length)for(r=i.length,n=0;n<r;++n)i[n].call(this,arguments[1]);else{for(a=[],n=arguments.length,n=1;n<arguments.length;++n)a.push(arguments[n]);for(r=i.length,n=0;n<r;++n)i[n].apply(this,a)}},this.dispose=function(){e={}}}};e.prototype.pipe=function(e){return this.on(\"data\",function(t){e.push(t)}),this.on(\"done\",function(t){e.flush(t)}),this.on(\"partialdone\",function(t){e.partialFlush(t)}),this.on(\"endedtimeline\",function(t){e.endTimeline(t)}),this.on(\"reset\",function(t){e.reset(t)}),e},e.prototype.push=function(e){this.trigger(\"data\",e)},e.prototype.flush=function(e){this.trigger(\"done\",e)},e.prototype.partialFlush=function(e){this.trigger(\"partialdone\",e)},e.prototype.endTimeline=function(e){this.trigger(\"endedtimeline\",e)},e.prototype.reset=function(e){this.trigger(\"reset\",e)};var t,i,n,r,a,o,l,u,d,c,h,f,p,m,g,_,v,y,b,A,E,w,T,S,C,k,L,x,I,P,R,D,O,M,U,j,B,N,F,V,H=e,z=Math.pow(2,32)-1;!function(){var e;if(w={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},\"undefined\"!=typeof Uint8Array){for(e in w)w.hasOwnProperty(e)&&(w[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);T=new Uint8Array([\"i\".charCodeAt(0),\"s\".charCodeAt(0),\"o\".charCodeAt(0),\"m\".charCodeAt(0)]),C=new Uint8Array([\"a\".charCodeAt(0),\"v\".charCodeAt(0),\"c\".charCodeAt(0),\"1\".charCodeAt(0)]),S=new Uint8Array([0,0,0,1]),k=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),L=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),x={video:k,audio:L},R=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),P=new Uint8Array([0,0,0,0,0,0,0,0]),D=new Uint8Array([0,0,0,0,0,0,0,0]),O=D,M=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),U=D,I=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),t=function e(t){var e,i,n=[],r=0;for(e=1;e<arguments.length;e++)n.push(arguments[e]);for(e=n.length;e--;)r+=n[e].byteLength;for(i=new Uint8Array(r+8),new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,i.byteLength),i.set(t,4),e=0,r=8;e<n.length;e++)i.set(n[e],r),r+=n[e].byteLength;return i},i=function(){return t(w.dinf,t(w.dref,R))},n=function(e){return t(w.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},g=function(e){return t(w.hdlr,x[e])},m=function(e){var i=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(i[12]=e.samplerate>>>24&255,i[13]=e.samplerate>>>16&255,i[14]=e.samplerate>>>8&255,i[15]=255&e.samplerate),t(w.mdhd,i)},p=function(e){return t(w.mdia,m(e),g(e.type),o(e))},a=function(e){return t(w.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},o=function(e){return t(w.minf,\"video\"===e.type?t(w.vmhd,I):t(w.smhd,P),i(),v(e))},l=function(e,i){for(var n=[],r=i.length;r--;)n[r]=b(i[r]);return t.apply(null,[w.moof,a(e)].concat(n))},u=function(e){for(var i=e.length,n=[];i--;)n[i]=h(e[i]);return t.apply(null,[w.moov,c(4294967295)].concat(n).concat(d(e)))},d=function(e){for(var i=e.length,n=[];i--;)n[i]=A(e[i]);return t.apply(null,[w.mvex].concat(n))},c=function(e){var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(w.mvhd,i)},_=function(e){var i,n,r=e.samples||[],a=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)i=r[n].flags,a[n+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return t(w.sdtp,a)},v=function(e){return t(w.stbl,y(e),t(w.stts,U),t(w.stsc,O),t(w.stsz,M),t(w.stco,D))},y=function(e){return t(w.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),\"video\"===e.type?j(e):B(e))},j=function(e){var i,n,r=e.sps||[],a=e.pps||[],s=[],o=[];for(i=0;i<r.length;i++)s.push((65280&r[i].byteLength)>>>8),s.push(255&r[i].byteLength),s=s.concat(Array.prototype.slice.call(r[i]));for(i=0;i<a.length;i++)o.push((65280&a[i].byteLength)>>>8),o.push(255&a[i].byteLength),o=o.concat(Array.prototype.slice.call(a[i]));if(n=[w.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(w.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([r.length],s,[a.length],o))),t(w.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var l=e.sarRatio[0],u=e.sarRatio[1];n.push(t(w.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u])))}return t.apply(null,n)},B=function(e){return t(w.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),n(e))},f=function(e){var i=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return t(w.tkhd,i)},b=function(e){var i,n,r,a,s,o;return i=t(w.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(e.baseMediaDecodeTime/(z+1)),o=Math.floor(e.baseMediaDecodeTime%(z+1)),n=t(w.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,o>>>24&255,o>>>16&255,o>>>8&255,255&o])),\"audio\"===e.type?(r=E(e,92),t(w.traf,i,n,r)):(a=_(e),r=E(e,a.length+92),t(w.traf,i,n,r,a))},h=function(e){return e.duration=e.duration||4294967295,t(w.trak,f(e),p(e))},A=function(e){var i=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return\"video\"!==e.type&&(i[i.length-1]=0),t(w.trex,i)},V=function(e,t){var i=0,n=0,r=0,a=0;return e.length&&(void 0!==e[0].duration&&(i=1),void 0!==e[0].size&&(n=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(a=8)),[0,0,i|n|r|a,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},F=function(e,i){var n,r,a,s,o,l;for(i+=20+16*(s=e.samples||[]).length,a=V(s,i),(r=new Uint8Array(a.length+16*s.length)).set(a),n=a.length,l=0;l<s.length;l++)o=s[l],r[n++]=(4278190080&o.duration)>>>24,r[n++]=(16711680&o.duration)>>>16,r[n++]=(65280&o.duration)>>>8,r[n++]=255&o.duration,r[n++]=(4278190080&o.size)>>>24,r[n++]=(16711680&o.size)>>>16,r[n++]=(65280&o.size)>>>8,r[n++]=255&o.size,r[n++]=o.flags.isLeading<<2|o.flags.dependsOn,r[n++]=o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,r[n++]=61440&o.flags.degradationPriority,r[n++]=15&o.flags.degradationPriority,r[n++]=(4278190080&o.compositionTimeOffset)>>>24,r[n++]=(16711680&o.compositionTimeOffset)>>>16,r[n++]=(65280&o.compositionTimeOffset)>>>8,r[n++]=255&o.compositionTimeOffset;return t(w.trun,r)},N=function(e,i){var n,r,a,s,o,l;for(i+=20+8*(s=e.samples||[]).length,a=V(s,i),(n=new Uint8Array(a.length+8*s.length)).set(a),r=a.length,l=0;l<s.length;l++)o=s[l],n[r++]=(4278190080&o.duration)>>>24,n[r++]=(16711680&o.duration)>>>16,n[r++]=(65280&o.duration)>>>8,n[r++]=255&o.duration,n[r++]=(4278190080&o.size)>>>24,n[r++]=(16711680&o.size)>>>16,n[r++]=(65280&o.size)>>>8,n[r++]=255&o.size;return t(w.trun,n)},E=function(e,t){return\"audio\"===e.type?N(e,t):F(e,t)},r=function(){return t(w.ftyp,T,S,T,C)};var G,Y,W,q,Q,J,K,X,Z=function(e){return t(w.mdat,e)},$=l,ee=function(e){var t,i=r(),n=u(e);return(t=new Uint8Array(i.byteLength+n.byteLength)).set(i),t.set(n,i.byteLength),t},te=function(e,t){var i={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return i.dataOffset=t,i.compositionTimeOffset=e.pts-e.dts,i.duration=e.duration,i.size=4*e.length,i.size+=e.byteLength,e.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i},ie=function(e){var t,i,n=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,n.byteLength=0,t=0;t<e.length;t++)\"access_unit_delimiter_rbsp\"===(i=e[t]).nalUnitType?(n.length&&(n.duration=i.dts-n.dts,r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n)),(n=[i]).byteLength=i.data.byteLength,n.pts=i.pts,n.dts=i.dts):(\"slice_layer_without_partitioning_rbsp_idr\"===i.nalUnitType&&(n.keyFrame=!0),n.duration=i.dts-n.dts,n.byteLength+=i.data.byteLength,n.push(i));return r.length&&(!n.duration||n.duration<=0)&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n),r},ne=function(e){var t,i,n=[],r=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(i=e[t]).keyFrame?(n.length&&(r.push(n),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration),(n=[i]).nalCount=i.length,n.byteLength=i.byteLength,n.pts=i.pts,n.dts=i.dts,n.duration=i.duration):(n.duration+=i.duration,n.nalCount+=i.length,n.byteLength+=i.byteLength,n.push(i));return r.length&&n.duration<=0&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration,r.push(n),r},re=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},ae=function(e,t){var i,n,r,a,s,o=t||0,l=[];for(i=0;i<e.length;i++)for(a=e[i],n=0;n<a.length;n++)s=a[n],o+=(r=te(s,o)).size,l.push(r);return l},se=function(e){var t,i,n,r,a,s,o=0,l=e.byteLength,u=e.nalCount,d=new Uint8Array(l+4*u),c=new DataView(d.buffer);for(t=0;t<e.length;t++)for(r=e[t],i=0;i<r.length;i++)for(a=r[i],n=0;n<a.length;n++)s=a[n],c.setUint32(o,s.data.byteLength),o+=4,d.set(s.data,o),o+=s.data.byteLength;return d},oe=[33,16,5,32,164,27],le=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ue=function(e){for(var t=[];e--;)t.push(0);return t},de=function(){if(!G){var e={96e3:[oe,[227,64],ue(154),[56]],88200:[oe,[231],ue(170),[56]],64e3:[oe,[248,192],ue(240),[56]],48e3:[oe,[255,192],ue(268),[55,148,128],ue(54),[112]],44100:[oe,[255,192],ue(268),[55,163,128],ue(84),[112]],32e3:[oe,[255,192],ue(268),[55,234],ue(226),[112]],24e3:[oe,[255,192],ue(268),[55,255,128],ue(268),[111,112],ue(126),[224]],16e3:[oe,[255,192],ue(268),[55,255,128],ue(268),[111,255],ue(269),[223,108],ue(195),[1,192]],12e3:[le,ue(268),[3,127,248],ue(268),[6,255,240],ue(268),[13,255,224],ue(268),[27,253,128],ue(259),[56]],11025:[le,ue(268),[3,127,248],ue(268),[6,255,240],ue(268),[13,255,224],ue(268),[27,255,192],ue(268),[55,175,128],ue(108),[112]],8e3:[le,ue(268),[3,121,16],ue(47),[7]]};t=e,G=Object.keys(t).reduce(function(e,i){return e[i]=new Uint8Array(t[i].reduce(function(e,t){return e.concat(t)},[])),e},{})}var t;return G};J=function(e,t){return Y(Q(e,t))},K=function(e,t){return W(q(e),t)},X=function(e,t,i){return q(i?e:e-t)};var ce=9e4,he=Y=function(e){return 9e4*e},fe=(W=function(e,t){return e*t},q=function(e){return e/9e4}),pe=(Q=function(e,t){return e/t},J),me=K,ge=X,_e=function(e,t,i,n){var r,a,s,o,l,u=0,d=0,c=0;if(t.length&&(r=pe(e.baseMediaDecodeTime,e.samplerate),a=Math.ceil(ce/(e.samplerate/1024)),i&&n&&(u=r-Math.max(i,n),c=(d=Math.floor(u/a))*a),!(d<1||c>ce/2))){for((s=de()[e.samplerate])||(s=t[0].data),o=0;o<d;o++)l=t[0],t.splice(0,0,{data:s,dts:l.dts-a,pts:l.pts-a});return e.baseMediaDecodeTime-=Math.floor(me(c,e.samplerate)),c}},ve=function(e,t,i){return t.minSegmentDts>=i?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=i&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},ye=function(e){var t,i,n=[];for(t=0;t<e.length;t++)i=e[t],n.push({size:i.data.byteLength,duration:1024});return n},be=function(e){var t,i,n=0,r=new Uint8Array(function(e){var t,i=0;for(t=0;t<e.length;t++)i+=e[t].data.byteLength;return i}(e));for(t=0;t<e.length;t++)i=e[t],r.set(i.data,n),n+=i.data.byteLength;return r},Ae=ce,Ee=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},we=function(e,t){var i,n=e.minSegmentDts;return t||(n-=e.timelineStartInfo.dts),i=e.timelineStartInfo.baseMediaDecodeTime,i+=n,i=Math.max(0,i),\"audio\"===e.type&&(i*=e.samplerate/Ae,i=Math.floor(i)),i},Te=function(e,t){\"number\"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),\"number\"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},Se=function(e){for(var t=0,i={payloadType:-1,payloadSize:0},n=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)n+=255,t++;for(n+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!i.payload&&4===n){if(\"GA94\"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){i.payloadType=n,i.payloadSize=r,i.payload=e.subarray(t,t+r);break}i.payload=void 0}t+=r,n=0,r=0}return i},Ce=function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||\"GA94\"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},ke=function(e,t){var i,n,r,a,s=[];if(!(64&t[0]))return s;for(n=31&t[0],i=0;i<n;i++)a={type:3&t[(r=3*i)+2],pts:e},4&t[r+2]&&(a.ccData=t[r+3]<<8|t[r+4],s.push(a));return s},Le=function(e){for(var t,i,n=e.byteLength,r=[],a=1;a<n-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return e;t=n-r.length,i=new Uint8Array(t);var s=0;for(a=0;a<t;s++,a++)s===r[0]&&(s++,r.shift()),i[a]=e[s];return i},xe=4,Ie=function e(t){t=t||{},e.prototype.init.call(this),this.parse708captions_=\"boolean\"!=typeof t.parse708captions||t.parse708captions,this.captionPackets_=[],this.ccStreams_=[new Fe(0,0),new Fe(0,1),new Fe(1,0),new Fe(1,1)],this.parse708captions_&&(this.cc708Stream_=new Me),this.reset(),this.ccStreams_.forEach(function(e){e.on(\"data\",this.trigger.bind(this,\"data\")),e.on(\"partialdone\",this.trigger.bind(this,\"partialdone\")),e.on(\"done\",this.trigger.bind(this,\"done\"))},this),this.parse708captions_&&(this.cc708Stream_.on(\"data\",this.trigger.bind(this,\"data\")),this.cc708Stream_.on(\"partialdone\",this.trigger.bind(this,\"partialdone\")),this.cc708Stream_.on(\"done\",this.trigger.bind(this,\"done\")))};(Ie.prototype=new H).push=function(e){var t,i,n;if(\"sei_rbsp\"===e.nalUnitType&&(t=Se(e.escapedRBSP)).payload&&t.payloadType===xe&&(i=Ce(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=ke(e.pts,i),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},Ie.prototype.flushCCStreams=function(e){this.ccStreams_.forEach(function(t){return\"flush\"===e?t.flush():t.partialFlush()},this)},Ie.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)},this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},Ie.prototype.flush=function(){return this.flushStream(\"flush\")},Ie.prototype.partialFlush=function(){return this.flushStream(\"partialFlush\")},Ie.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},Ie.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},Ie.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},Ie.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},Ie.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)},Ie.prototype.dispatchCea708Packet=function(e){this.parse708captions_&&this.cc708Stream_.push(e)};var Pe={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Re=function(e){return 32<=e&&e<=127||160<=e&&e<=255},De=function(e){this.windowNum=e,this.reset()};De.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},De.prototype.getText=function(){return this.rows.join(\"\\n\")},De.prototype.clearText=function(){this.rows=[\"\"],this.rowIdx=0},De.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&\"function\"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),this.rows.length>0&&(this.rows.push(\"\"),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},De.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&\"\"===this.rows[0]},De.prototype.addText=function(e){this.rows[this.rowIdx]+=e},De.prototype.backspace=function(){if(!this.isEmpty()){var e=this.rows[this.rowIdx];this.rows[this.rowIdx]=e.substr(0,e.length-1)}};var Oe=function(e){this.serviceNum=e,this.text=\"\",this.currentWindow=new De(-1),this.windows=[]};Oe.prototype.init=function(e,t){this.startPts=e;for(var i=0;i<8;i++)this.windows[i]=new De(i),\"function\"==typeof t&&(this.windows[i].beforeRowOverflow=t)},Oe.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]};var Me=function e(){e.prototype.init.call(this);var t=this;this.current708Packet=null,this.services={},this.push=function(e){3===e.type?(t.new708Packet(),t.add708Bytes(e)):(null===t.current708Packet&&t.new708Packet(),t.add708Bytes(e))}};Me.prototype=new H,Me.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Me.prototype.add708Bytes=function(e){var t=e.ccData,i=t>>>8,n=255&t;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(i),this.current708Packet.data.push(n)},Me.prototype.push708Packet=function(){var e=this.current708Packet,t=e.data,i=null,n=null,r=0,a=t[r++];for(e.seq=a>>6,e.sizeCode=63&a;r<t.length;r++)n=31&(a=t[r++]),7===(i=a>>5)&&n>0&&(i=a=t[r++]),this.pushServiceBlock(i,r,n),n>0&&(r+=n-1)},Me.prototype.pushServiceBlock=function(e,t,i){var n,r=t,a=this.current708Packet.data,s=this.services[e];for(s||(s=this.initService(e,r));r<t+i&&r<a.length;r++)n=a[r],Re(n)?r=this.handleText(r,s):16===n?r=this.extendedCommands(r,s):128<=n&&n<=135?r=this.setCurrentWindow(r,s):152<=n&&n<=159?r=this.defineWindow(r,s):136===n?r=this.clearWindows(r,s):140===n?r=this.deleteWindows(r,s):137===n?r=this.displayWindows(r,s):138===n?r=this.hideWindows(r,s):139===n?r=this.toggleWindows(r,s):151===n?r=this.setWindowAttributes(r,s):144===n?r=this.setPenAttributes(r,s):145===n?r=this.setPenColor(r,s):146===n?r=this.setPenLocation(r,s):143===n?s=this.reset(r,s):8===n?s.currentWindow.backspace():12===n?s.currentWindow.clearText():13===n?s.currentWindow.pendingNewLine=!0:14===n?s.currentWindow.clearText():141===n&&r++},Me.prototype.extendedCommands=function(e,t){var i=this.current708Packet.data[++e];return Re(i)&&(e=this.handleText(e,t,!0)),e},Me.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},Me.prototype.initService=function(e,t){var i=this;return this.services[e]=new Oe(e),this.services[e].init(this.getPts(t),function(t){i.flushDisplayed(t,i.services[e])}),this.services[e]},Me.prototype.handleText=function(e,t,i){var n,r,a=this.current708Packet.data[e],s=(r=Pe[n=(i?4096:0)|a]||n,4096&n&&n===r?\"\":String.fromCharCode(r)),o=t.currentWindow;return o.pendingNewLine&&!o.isEmpty()&&o.newLine(this.getPts(e)),o.pendingNewLine=!1,o.addText(s),e},Me.prototype.setCurrentWindow=function(e,t){var i=7&this.current708Packet.data[e];return t.setCurrentWindow(i),e},Me.prototype.defineWindow=function(e,t){var i=this.current708Packet.data,n=i[e],r=7&n;t.setCurrentWindow(r);var a=t.currentWindow;return n=i[++e],a.visible=(32&n)>>5,a.rowLock=(16&n)>>4,a.columnLock=(8&n)>>3,a.priority=7&n,n=i[++e],a.relativePositioning=(128&n)>>7,a.anchorVertical=127&n,n=i[++e],a.anchorHorizontal=n,n=i[++e],a.anchorPoint=(240&n)>>4,a.rowCount=15&n,n=i[++e],a.columnCount=63&n,n=i[++e],a.windowStyle=(56&n)>>3,a.penStyle=7&n,a.virtualRowCount=a.rowCount+1,e},Me.prototype.setWindowAttributes=function(e,t){var i=this.current708Packet.data,n=i[e],r=t.currentWindow.winAttr;return n=i[++e],r.fillOpacity=(192&n)>>6,r.fillRed=(48&n)>>4,r.fillGreen=(12&n)>>2,r.fillBlue=3&n,n=i[++e],r.borderType=(192&n)>>6,r.borderRed=(48&n)>>4,r.borderGreen=(12&n)>>2,r.borderBlue=3&n,n=i[++e],r.borderType+=(128&n)>>5,r.wordWrap=(64&n)>>6,r.printDirection=(48&n)>>4,r.scrollDirection=(12&n)>>2,r.justify=3&n,n=i[++e],r.effectSpeed=(240&n)>>4,r.effectDirection=(12&n)>>2,r.displayEffect=3&n,e},Me.prototype.flushDisplayed=function(e,t){for(var i=[],n=0;n<8;n++)t.windows[n].visible&&!t.windows[n].isEmpty()&&i.push(t.windows[n].getText());t.endPts=e,t.text=i.join(\"\\n\\n\"),this.pushCaption(t),t.startPts=e},Me.prototype.pushCaption=function(e){\"\"!==e.text&&(this.trigger(\"data\",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:\"cc708_\"+e.serviceNum}),e.text=\"\",e.startPts=e.endPts)},Me.prototype.displayWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var r=0;r<8;r++)i&1<<r&&(t.windows[r].visible=1);return e},Me.prototype.hideWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var r=0;r<8;r++)i&1<<r&&(t.windows[r].visible=0);return e},Me.prototype.toggleWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var r=0;r<8;r++)i&1<<r&&(t.windows[r].visible^=1);return e},Me.prototype.clearWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var r=0;r<8;r++)i&1<<r&&t.windows[r].clearText();return e},Me.prototype.deleteWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var r=0;r<8;r++)i&1<<r&&t.windows[r].reset();return e},Me.prototype.setPenAttributes=function(e,t){var i=this.current708Packet.data,n=i[e],r=t.currentWindow.penAttr;return n=i[++e],r.textTag=(240&n)>>4,r.offset=(12&n)>>2,r.penSize=3&n,n=i[++e],r.italics=(128&n)>>7,r.underline=(64&n)>>6,r.edgeType=(56&n)>>3,r.fontStyle=7&n,e},Me.prototype.setPenColor=function(e,t){var i=this.current708Packet.data,n=i[e],r=t.currentWindow.penColor;return n=i[++e],r.fgOpacity=(192&n)>>6,r.fgRed=(48&n)>>4,r.fgGreen=(12&n)>>2,r.fgBlue=3&n,n=i[++e],r.bgOpacity=(192&n)>>6,r.bgRed=(48&n)>>4,r.bgGreen=(12&n)>>2,r.bgBlue=3&n,n=i[++e],r.edgeRed=(48&n)>>4,r.edgeGreen=(12&n)>>2,r.edgeBlue=3&n,e},Me.prototype.setPenLocation=function(e,t){var i=this.current708Packet.data,n=i[e],r=t.currentWindow.penLoc;return t.currentWindow.pendingNewLine=!0,n=i[++e],r.row=15&n,n=i[++e],r.column=63&n,e},Me.prototype.reset=function(e,t){var i=this.getPts(e);return this.flushDisplayed(i,t),this.initService(t.serviceNum,e)};var Ue={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},je=function(e){return null===e?\"\":(e=Ue[e]||e,String.fromCharCode(e))},Be=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ne=function(){for(var e=[],t=15;t--;)e.push(\"\");return e},Fe=function e(t,i){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=i||0,this.name_=\"CC\"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,i,n,r,a;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),n=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_=\"popOn\";else if(t===this.END_OF_CAPTION_)this.mode_=\"popOn\",\nthis.clearFormatting(e.pts),this.flushDisplayed(e.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)\"popOn\"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=Ne();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ne();else if(t===this.RESUME_DIRECT_CAPTIONING_)\"paintOn\"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=Ne()),this.mode_=\"paintOn\",this.startPts_=e.pts;else if(this.isSpecialCharacter(n,r))a=je((n=(3&n)<<8)|r),this[this.mode_](e.pts,a),this.column_++;else if(this.isExtCharacter(n,r))\"popOn\"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),a=je((n=(3&n)<<8)|r),this[this.mode_](e.pts,a),this.column_++;else if(this.isMidRowCode(n,r))this.clearFormatting(e.pts),this[this.mode_](e.pts,\" \"),this.column_++,14==(14&r)&&this.addFormatting(e.pts,[\"i\"]),1==(1&r)&&this.addFormatting(e.pts,[\"u\"]);else if(this.isOffsetControlCode(n,r))this.column_+=3&r;else if(this.isPAC(n,r)){var s=Be.indexOf(7968&t);\"rollUp\"===this.mode_&&(s-this.rollUpRows_+1<0&&(s=this.rollUpRows_-1),this.setRollUp(e.pts,s)),s!==this.row_&&(this.clearFormatting(e.pts),this.row_=s),1&r&&-1===this.formatting_.indexOf(\"u\")&&this.addFormatting(e.pts,[\"u\"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(e.pts,[\"i\"])}else this.isNormalChar(n)&&(0===r&&(r=null),a=je(n),a+=je(r),this[this.mode_](e.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};Fe.prototype=new H,Fe.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e,t){try{return e.trim()}catch(e){return this.trigger(\"log\",{level:\"warn\",message:\"Skipping a malformed 608 caption at index \"+t+\".\"}),\"\"}},this).join(\"\\n\").replace(/^\\n+|\\n+$/g,\"\");t.length&&this.trigger(\"data\",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},Fe.prototype.reset=function(){this.mode_=\"popOn\",this.topRow_=0,this.startPts_=0,this.displayed_=Ne(),this.nonDisplayed_=Ne(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Fe.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Fe.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},Fe.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},Fe.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},Fe.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},Fe.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},Fe.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},Fe.prototype.isNormalChar=function(e){return e>=32&&e<=127},Fe.prototype.setRollUp=function(e,t){if(\"rollUp\"!==this.mode_&&(this.row_=14,this.mode_=\"rollUp\",this.flushDisplayed(e),this.nonDisplayed_=Ne(),this.displayed_=Ne()),void 0!==t&&t!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[t-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]=\"\";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Fe.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var i=t.reduce(function(e,t){return e+\"<\"+t+\">\"},\"\");this[this.mode_](e,i)},Fe.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+\"</\"+t+\">\"},\"\");this.formatting_=[],this[this.mode_](e,t)}},Fe.prototype.popOn=function(e,t){var i=this.nonDisplayed_[this.row_];i+=t,this.nonDisplayed_[this.row_]=i},Fe.prototype.rollUp=function(e,t){var i=this.displayed_[this.row_];i+=t,this.displayed_[this.row_]=i},Fe.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]=\"\";for(e=this.row_+1;e<15;e++)this.displayed_[e]=\"\";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=\"\"},Fe.prototype.paintOn=function(e,t){var i=this.displayed_[this.row_];i+=t,this.displayed_[this.row_]=i};var Ve={CaptionStream:Ie,Cea608Stream:Fe,Cea708Stream:Me},He={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},ze=function(e,t){var i=1;for(e>t&&(i=-1);Math.abs(t-e)>4294967296;)e+=8589934592*i;return e},Ge=function e(t){var i,n;e.prototype.init.call(this),this.type_=t||\"shared\",this.push=function(e){\"shared\"!==this.type_&&e.type!==this.type_||(void 0===n&&(n=e.dts),e.dts=ze(e.dts,n),e.pts=ze(e.pts,n),i=e.dts,this.trigger(\"data\",e))},this.flush=function(){n=i,this.trigger(\"done\")},this.endTimeline=function(){this.flush(),this.trigger(\"endedtimeline\")},this.discontinuity=function(){n=void 0,i=void 0},this.reset=function(){this.discontinuity(),this.trigger(\"reset\")}};Ge.prototype=new H;var Ye,We=Ge,qe=ze,Qe=function(e,t,i){var n,r=\"\";for(n=t;n<i;n++)r+=\"%\"+(\"00\"+e[n].toString(16)).slice(-2);return r},Je=function(e,t,i){return decodeURIComponent(Qe(e,t,i))},Ke=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Xe={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Je(e.data,1,t),e.value=Je(e.data,t+1,e.data.length).replace(/\\0*$/,\"\");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Je(e.data,1,t),e.url=Je(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,i;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(i=e.data,unescape(Qe(i,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(Ye=function(e){var t,i={descriptor:e&&e.descriptor},n=0,r=[],a=0;if(Ye.prototype.init.call(this),this.dispatchType=He.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(t=0;t<i.descriptor.length;t++)this.dispatchType+=(\"00\"+i.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,i,s,o,l;if(\"timed-metadata\"===e.type)if(e.dataAlignmentIndicator&&(a=0,r.length=0),0===r.length&&(e.data.length<10||e.data[0]!==\"I\".charCodeAt(0)||e.data[1]!==\"D\".charCodeAt(0)||e.data[2]!==\"3\".charCodeAt(0)))this.trigger(\"log\",{level:\"warn\",message:\"Skipping unrecognized metadata packet\"});else if(r.push(e),a+=e.data.byteLength,1===r.length&&(n=Ke(e.data.subarray(6,10)),n+=10),!(a<n)){for(t={data:new Uint8Array(n),frames:[],pts:r[0].pts,dts:r[0].dts},l=0;l<n;)t.data.set(r[0].data.subarray(0,n-l),l),l+=r[0].data.byteLength,a-=r[0].data.byteLength,r.shift();i=10,64&t.data[5]&&(i+=4,i+=Ke(t.data.subarray(10,14)),n-=Ke(t.data.subarray(16,20)));do{if((s=Ke(t.data.subarray(i+4,i+8)))<1)return void this.trigger(\"log\",{level:\"warn\",message:\"Malformed ID3 frame encountered. Skipping metadata parsing.\"});if((o={id:String.fromCharCode(t.data[i],t.data[i+1],t.data[i+2],t.data[i+3]),data:t.data.subarray(i+10,i+s+10)}).key=o.id,Xe[o.id]&&(Xe[o.id](o),\"com.apple.streaming.transportStreamTimestamp\"===o.owner)){var u=o.data,d=(1&u[3])<<30|u[4]<<22|u[5]<<14|u[6]<<6|u[7]>>>2;d*=4,d+=3&u[7],o.timeStamp=d,void 0===t.pts&&void 0===t.dts&&(t.pts=o.timeStamp,t.dts=o.timeStamp),this.trigger(\"timestamp\",o)}t.frames.push(o),i+=10,i+=s}while(i<n);this.trigger(\"data\",t)}}}).prototype=new H;var Ze,$e,et,tt=Ye,it=We;(Ze=function(){var e=new Uint8Array(188),t=0;Ze.prototype.init.call(this),this.push=function(i){var n,r=0,a=188;for(t?((n=new Uint8Array(i.byteLength+t)).set(e.subarray(0,t)),n.set(i,t),t=0):n=i;a<n.byteLength;)71!==n[r]||71!==n[a]?(r++,a++):(this.trigger(\"data\",n.subarray(r,a)),r+=188,a+=188);r<n.byteLength&&(e.set(n.subarray(r),0),t=n.byteLength-r)},this.flush=function(){188===t&&71===e[0]&&(this.trigger(\"data\",e),t=0),this.trigger(\"done\")},this.endTimeline=function(){this.flush(),this.trigger(\"endedtimeline\")},this.reset=function(){t=0,this.trigger(\"reset\")}}).prototype=new H,($e=function(){var e,t,i,n;$e.prototype.init.call(this),n=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,n){var r=0;n.payloadUnitStartIndicator&&(r+=e[r]+1),\"pat\"===n.type?t(e.subarray(r),n):i(e.subarray(r),n)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],n.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=n.pmtPid},i=function e(t,i){var e,r;if(1&t[5]){for(n.programMapTable={video:null,audio:null,\"timed-metadata\":{}},e=3+((15&t[1])<<8|t[2])-4,r=12+((15&t[10])<<8|t[11]);r<e;){var a=t[r],s=(31&t[r+1])<<8|t[r+2];a===He.H264_STREAM_TYPE&&null===n.programMapTable.video?n.programMapTable.video=s:a===He.ADTS_STREAM_TYPE&&null===n.programMapTable.audio?n.programMapTable.audio=s:a===He.METADATA_STREAM_TYPE&&(n.programMapTable[\"timed-metadata\"][s]=a),r+=5+((15&t[r+3])<<8|t[r+4])}i.programMapTable=n.programMapTable}},this.push=function(t){var i={},n=4;if(i.payloadUnitStartIndicator=!!(64&t[1]),i.pid=31&t[1],i.pid<<=8,i.pid|=t[2],(48&t[3])>>>4>1&&(n+=t[n]+1),0===i.pid)i.type=\"pat\",e(t.subarray(n),i),this.trigger(\"data\",i);else if(i.pid===this.pmtPid)for(i.type=\"pmt\",e(t.subarray(n),i),this.trigger(\"data\",i);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,n,i]):this.processPes_(t,n,i)},this.processPes_=function(e,t,i){i.pid===this.programMapTable.video?i.streamType=He.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=He.ADTS_STREAM_TYPE:i.streamType=this.programMapTable[\"timed-metadata\"][i.pid],i.type=\"pes\",i.data=e.subarray(t),this.trigger(\"data\",i)}}).prototype=new H,$e.STREAM_TYPES={h264:27,adts:15},(et=function(){var e,t=this,i=!1,n={data:[],size:0},r={data:[],size:0},a={data:[],size:0},s=function e(i,n,r){var a,s,e=new Uint8Array(i.size),o={type:n},l=0,u=0;if(i.data.length&&!(i.size<9)){for(o.trackId=i.data[0].pid,l=0;l<i.data.length;l++)s=i.data[l],e.set(s.data,u),u+=s.data.byteLength;var d,c,h,f;c=o,f=(d=e)[0]<<16|d[1]<<8|d[2],c.data=new Uint8Array,1===f&&(c.packetLength=6+(d[4]<<8|d[5]),c.dataAlignmentIndicator=0!=(4&d[6]),192&(h=d[7])&&(c.pts=(14&d[9])<<27|(255&d[10])<<20|(254&d[11])<<12|(255&d[12])<<5|(254&d[13])>>>3,c.pts*=4,c.pts+=(6&d[13])>>>1,c.dts=c.pts,64&h&&(c.dts=(14&d[14])<<27|(255&d[15])<<20|(254&d[16])<<12|(255&d[17])<<5|(254&d[18])>>>3,c.dts*=4,c.dts+=(6&d[18])>>>1)),c.data=d.subarray(9+d[8])),a=\"video\"===n||o.packetLength<=i.size,(r||a)&&(i.size=0,i.data.length=0),a&&t.trigger(\"data\",o)}};et.prototype.init.call(this),this.push=function(o){({pat:function(){},pes:function(){var e,t;switch(o.streamType){case He.H264_STREAM_TYPE:e=n,t=\"video\";break;case He.ADTS_STREAM_TYPE:e=r,t=\"audio\";break;case He.METADATA_STREAM_TYPE:e=a,t=\"timed-metadata\";break;default:return}o.payloadUnitStartIndicator&&s(e,t,!0),e.data.push(o),e.size+=o.data.byteLength},pmt:function(){var n={type:\"metadata\",tracks:[]};null!==(e=o.programMapTable).video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:\"avc\",type:\"video\"}),null!==e.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:\"adts\",type:\"audio\"}),i=!0,t.trigger(\"data\",n)}})[o.type]()},this.reset=function(){n.size=0,n.data.length=0,r.size=0,r.data.length=0,this.trigger(\"reset\")},this.flushStreams_=function(){s(n,\"video\"),s(r,\"audio\"),s(a,\"timed-metadata\")},this.flush=function(){if(!i&&e){var n={type:\"metadata\",tracks:[]};null!==e.video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:\"avc\",type:\"video\"}),null!==e.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:\"adts\",type:\"audio\"}),t.trigger(\"data\",n)}i=!1,this.flushStreams_(),this.trigger(\"done\")}}).prototype=new H;var nt={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Ze,TransportParseStream:$e,ElementaryStream:et,TimestampRolloverStream:it,CaptionStream:Ve.CaptionStream,Cea608Stream:Ve.Cea608Stream,Cea708Stream:Ve.Cea708Stream,MetadataStream:tt};for(var rt in He)He.hasOwnProperty(rt)&&(nt[rt]=He[rt]);var at,st=nt,ot=ce,lt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(at=function(e){var t,i=0;at.prototype.init.call(this),this.skipWarn_=function(e,t){this.trigger(\"log\",{level:\"warn\",message:\"adts skiping bytes \"+e+\" to \"+t+\" in frame \"+i+\" outside syncword\"})},this.push=function(n){var r,a,s,o,l,u=0;if(e||(i=0),\"audio\"===n.type){var d;for(t&&t.length?(s=t,(t=new Uint8Array(s.byteLength+n.data.byteLength)).set(s),t.set(n.data,s.byteLength)):t=n.data;u+7<t.length;)if(255===t[u]&&240==(246&t[u+1])){if(\"number\"==typeof d&&(this.skipWarn_(d,u),d=null),a=2*(1&~t[u+1]),r=(3&t[u+3])<<11|t[u+4]<<3|(224&t[u+5])>>5,l=(o=1024*(1+(3&t[u+6])))*ot/lt[(60&t[u+2])>>>2],t.byteLength-u<r)break;this.trigger(\"data\",{pts:n.pts+i*l,dts:n.dts+i*l,sampleCount:o,audioobjecttype:1+(t[u+2]>>>6&3),channelcount:(1&t[u+2])<<2|(192&t[u+3])>>>6,samplerate:lt[(60&t[u+2])>>>2],samplingfrequencyindex:(60&t[u+2])>>>2,samplesize:16,data:t.subarray(u+7+a,u+r)}),i++,u+=r}else\"number\"!=typeof d&&(d=u),u++;\"number\"==typeof d&&(this.skipWarn_(d,u),d=null),t=t.subarray(u)}},this.flush=function(){i=0,this.trigger(\"done\")},this.reset=function(){t=void 0,this.trigger(\"reset\")},this.endTimeline=function(){t=void 0,this.trigger(\"endedtimeline\")}}).prototype=new H;var ut,dt,ct,ht=at,ft=function(e){var t=e.byteLength,i=0,n=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+n},this.loadWord=function(){var r=e.byteLength-t,a=new Uint8Array(4),s=Math.min(4,t);if(0===s)throw new Error(\"no bytes available\");a.set(e.subarray(r,r+s)),i=new DataView(a.buffer).getUint32(0),n=8*s,t-=s},this.skipBits=function(e){var r;n>e?(i<<=e,n-=e):(e-=n,e-=8*(r=Math.floor(e/8)),t-=r,this.loadWord(),i<<=e,n-=e)},this.readBits=function(e){var r=Math.min(n,e),a=i>>>32-r;return(n-=r)>0?i<<=r:t>0&&this.loadWord(),(r=e-r)>0?a<<r|this.readBits(r):a},this.skipLeadingZeros=function(){var e;for(e=0;e<n;++e)if(0!=(i&2147483648>>>e))return i<<=e,n-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(dt=function(){var e,t,i=0;dt.prototype.init.call(this),this.push=function(n){var r;t?((r=new Uint8Array(t.byteLength+n.data.byteLength)).set(t),r.set(n.data,t.byteLength),t=r):t=n.data;for(var a=t.byteLength;i<a-3;i++)if(1===t[i+2]){e=i+5;break}for(;e<a;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}i+3!==e-2&&this.trigger(\"data\",t.subarray(i+3,e-2));do e++;while(1!==t[e]&&e<a);i=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger(\"data\",t.subarray(i+3,e-2)),i=e-2,e+=3;break;default:e+=3}t=t.subarray(i),e-=i,i=0},this.reset=function(){t=null,i=0,this.trigger(\"reset\")},this.flush=function(){t&&t.byteLength>3&&this.trigger(\"data\",t.subarray(i+3)),t=null,i=0,this.trigger(\"done\")},this.endTimeline=function(){this.flush(),this.trigger(\"endedtimeline\")}}).prototype=new H,ct={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(ut=function(){var e,t,i,n,r,a,s,o=new dt;ut.prototype.init.call(this),e=this,this.push=function(e){\"video\"===e.type&&(t=e.trackId,i=e.pts,n=e.dts,o.push(e))},o.on(\"data\",function(s){var o={trackId:t,pts:i,dts:n,data:s,nalUnitTypeCode:31&s[0]};switch(o.nalUnitTypeCode){case 5:o.nalUnitType=\"slice_layer_without_partitioning_rbsp_idr\";break;case 6:o.nalUnitType=\"sei_rbsp\",o.escapedRBSP=r(s.subarray(1));break;case 7:o.nalUnitType=\"seq_parameter_set_rbsp\",o.escapedRBSP=r(s.subarray(1)),o.config=a(o.escapedRBSP);break;case 8:o.nalUnitType=\"pic_parameter_set_rbsp\";break;case 9:o.nalUnitType=\"access_unit_delimiter_rbsp\"}e.trigger(\"data\",o)}),o.on(\"done\",function(){e.trigger(\"done\")}),o.on(\"partialdone\",function(){e.trigger(\"partialdone\")}),o.on(\"reset\",function(){e.trigger(\"reset\")}),o.on(\"endedtimeline\",function(){e.trigger(\"endedtimeline\")}),this.flush=function(){o.flush()},this.partialFlush=function(){o.partialFlush()},this.reset=function(){o.reset()},this.endTimeline=function(){o.endTimeline()},s=function(e,t){var i,n=8,r=8;for(i=0;i<e;i++)0!==r&&(r=(n+t.readExpGolomb()+256)%256),n=0===r?n:r},r=function e(t){for(var i,n,r=t.byteLength,e=[],a=1;a<r-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(e.push(a+2),a+=2):a++;if(0===e.length)return t;i=r-e.length,n=new Uint8Array(i);var s=0;for(a=0;a<i;s++,a++)s===e[0]&&(s++,e.shift()),n[a]=t[s];return n},a=function e(t){var i,n,r,a,e,o,l,u,d,c,h,f,p=0,m=0,g=0,_=0,v=[1,1];if(n=(i=new ft(t)).readUnsignedByte(),a=i.readUnsignedByte(),r=i.readUnsignedByte(),i.skipUnsignedExpGolomb(),ct[n]&&(3===(e=i.readUnsignedExpGolomb())&&i.skipBits(1),i.skipUnsignedExpGolomb(),i.skipUnsignedExpGolomb(),i.skipBits(1),i.readBoolean()))for(h=3!==e?8:12,f=0;f<h;f++)i.readBoolean()&&s(f<6?16:64,i);if(i.skipUnsignedExpGolomb(),0===(o=i.readUnsignedExpGolomb()))i.readUnsignedExpGolomb();else if(1===o)for(i.skipBits(1),i.skipExpGolomb(),i.skipExpGolomb(),l=i.readUnsignedExpGolomb(),f=0;f<l;f++)i.skipExpGolomb();if(i.skipUnsignedExpGolomb(),i.skipBits(1),u=i.readUnsignedExpGolomb(),d=i.readUnsignedExpGolomb(),0===(c=i.readBits(1))&&i.skipBits(1),i.skipBits(1),i.readBoolean()&&(p=i.readUnsignedExpGolomb(),m=i.readUnsignedExpGolomb(),g=i.readUnsignedExpGolomb(),_=i.readUnsignedExpGolomb()),i.readBoolean()&&i.readBoolean()){switch(i.readUnsignedByte()){case 1:v=[1,1];break;case 2:v=[12,11];break;case 3:v=[10,11];break;case 4:v=[16,11];break;case 5:v=[40,33];break;case 6:v=[24,11];break;case 7:v=[20,11];break;case 8:v=[32,11];break;case 9:v=[80,33];break;case 10:v=[18,11];break;case 11:v=[15,11];break;case 12:v=[64,33];break;case 13:v=[160,99];break;case 14:v=[4,3];break;case 15:v=[3,2];break;case 16:v=[2,1];break;case 255:v=[i.readUnsignedByte()<<8|i.readUnsignedByte(),i.readUnsignedByte()<<8|i.readUnsignedByte()]}v&&(v[0],v[1])}return{profileIdc:n,levelIdc:r,profileCompatibility:a,width:16*(u+1)-2*p-2*m,height:(2-c)*(d+1)*16-2*g-2*_,sarRatio:v}}}).prototype=new H;var pt,mt={H264Stream:ut,NalByteStream:dt},gt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],_t=function(e,t){var i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return i=i>=0?i:0,(16&e[t+5])>>4?i+20:i+10},vt=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},yt={isLikelyAacData:function(e){var t=function e(t,i){return t.length-i<10||t[i]!==\"I\".charCodeAt(0)||t[i+1]!==\"D\".charCodeAt(0)||t[i+2]!==\"3\".charCodeAt(0)?i:e(t,i+=_t(t,i))}(e,0);return e.length>=t+2&&255==(255&e[t])&&240==(240&e[t+1])&&16==(22&e[t+1])},parseId3TagSize:_t,parseAdtsSize:function(e,t){var i=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|i},parseType:function(e,t){return e[t]===\"I\".charCodeAt(0)&&e[t+1]===\"D\".charCodeAt(0)&&e[t+2]===\"3\".charCodeAt(0)?\"timed-metadata\":!0&e[t]&&240==(240&e[t+1])?\"audio\":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return gt[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,i,n;t=10,64&e[5]&&(t+=4,t+=vt(e.subarray(10,14)));do{if((i=vt(e.subarray(t+4,t+8)))<1)return null;if(\"PRIV\"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){n=e.subarray(t+10,t+i+10);for(var r=0;r<n.byteLength;r++)if(0===n[r]){if(\"com.apple.streaming.transportStreamTimestamp\"===unescape(function(e,t,i){var n,r=\"\";for(n=t;n<i;n++)r+=\"%\"+(\"00\"+e[n].toString(16)).slice(-2);return r}(n,0,r))){var a=n.subarray(r+1),s=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return s*=4,s+=3&a[7]}break}}t+=10,t+=i}while(t<e.byteLength);return null}};(pt=function(){var e=new Uint8Array,t=0;pt.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(i){var n,r,a,s,o=0,l=0;for(e.length?(s=e.length,(e=new Uint8Array(i.byteLength+s)).set(e.subarray(0,s)),e.set(i,s)):e=i;e.length-l>=3;)if(e[l]!==\"I\".charCodeAt(0)||e[l+1]!==\"D\".charCodeAt(0)||e[l+2]!==\"3\".charCodeAt(0))if(255!=(255&e[l])||240!=(240&e[l+1]))l++;else{if(e.length-l<7)break;if(l+(o=yt.parseAdtsSize(e,l))>e.length)break;a={type:\"audio\",data:e.subarray(l,l+o),pts:t,dts:t},this.trigger(\"data\",a),l+=o}else{if(e.length-l<10)break;if(l+(o=yt.parseId3TagSize(e,l))>e.length)break;r={type:\"timed-metadata\",data:e.subarray(l,l+o)},this.trigger(\"data\",r),l+=o}n=e.length-l,e=n>0?e.subarray(l):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger(\"reset\")},this.endTimeline=function(){e=new Uint8Array,this.trigger(\"endedtimeline\")}}).prototype=new H;var bt,At,Et,wt,Tt=pt,St=[\"audioobjecttype\",\"channelcount\",\"samplerate\",\"samplingfrequencyindex\",\"samplesize\"],Ct=[\"width\",\"height\",\"profileIdc\",\"levelIdc\",\"profileCompatibility\",\"sarRatio\"],kt=mt.H264Stream,Lt=yt.isLikelyAacData,xt=ce,It=function(e,t){var i;if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0},Pt=function(e,t,i,n,r,a){return{start:{dts:e,pts:e+(i-t)},end:{dts:e+(n-t),pts:e+(r-i)},prependedContentDuration:a,baseMediaDecodeTime:e}};(At=function(e,t){var i,n=[],r=0,a=0,s=1/0;i=(t=t||{}).firstSequenceNumber||0,At.prototype.init.call(this),this.push=function(t){Te(e,t),e&&St.forEach(function(i){e[i]=t[i]}),n.push(t)},this.setEarliestDts=function(e){r=e},this.setVideoBaseMediaDecodeTime=function(e){s=e},this.setAudioAppendStart=function(e){a=e},this.flush=function(){var o,l,u,d,c,h,f;0!==n.length?(o=ve(n,e,r),e.baseMediaDecodeTime=we(e,t.keepOriginalTimestamps),f=_e(e,o,a,s),e.samples=ye(o),u=Z(be(o)),n=[],l=$(i,[e]),d=new Uint8Array(l.byteLength+u.byteLength),i++,d.set(l),d.set(u,l.byteLength),Ee(e),c=Math.ceil(1024*xt/e.samplerate),o.length&&(h=o.length*c,this.trigger(\"segmentTimingInfo\",Pt(pe(e.baseMediaDecodeTime,e.samplerate),o[0].dts,o[0].pts,o[0].dts+h,o[0].pts+h,f||0)),this.trigger(\"timingInfo\",{start:o[0].pts,end:o[0].pts+h})),this.trigger(\"data\",{track:e,boxes:d}),this.trigger(\"done\",\"AudioSegmentStream\")):this.trigger(\"done\",\"AudioSegmentStream\")},this.reset=function(){Ee(e),n=[],this.trigger(\"reset\")}}).prototype=new H,(bt=function(e,t){var i,n,r,a=[],s=[];i=(t=t||{}).firstSequenceNumber||0,bt.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){Te(e,t),\"seq_parameter_set_rbsp\"!==t.nalUnitType||n||(n=t.config,e.sps=[t.data],Ct.forEach(function(t){e[t]=n[t]},this)),\"pic_parameter_set_rbsp\"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),a.push(t)},this.flush=function(){for(var n,r,o,l,u,d,c,h,f=0;a.length&&\"access_unit_delimiter_rbsp\"!==a[0].nalUnitType;)a.shift();if(0===a.length)return this.resetStream_(),void this.trigger(\"done\",\"VideoSegmentStream\");if(n=ie(a),(o=ne(n))[0][0].keyFrame||((r=this.getGopForFusion_(a[0],e))?(f=r.duration,o.unshift(r),o.byteLength+=r.byteLength,o.nalCount+=r.nalCount,o.pts=r.pts,o.dts=r.dts,o.duration+=r.duration):o=re(o)),s.length){var p;if(!(p=t.alignGopsAtEnd?this.alignGopsAtEnd_(o):this.alignGopsAtStart_(o)))return this.gopCache_.unshift({gop:o.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger(\"done\",\"VideoSegmentStream\");Ee(e),o=p}Te(e,o),e.samples=ae(o),u=Z(se(o)),e.baseMediaDecodeTime=we(e,t.keepOriginalTimestamps),this.trigger(\"processedGopsInfo\",o.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),c=o[0],h=o[o.length-1],this.trigger(\"segmentTimingInfo\",Pt(e.baseMediaDecodeTime,c.dts,c.pts,h.dts+h.duration,h.pts+h.duration,f)),this.trigger(\"timingInfo\",{start:o[0].pts,end:o[o.length-1].pts+o[o.length-1].duration}),this.gopCache_.unshift({gop:o.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger(\"baseMediaDecodeTime\",e.baseMediaDecodeTime),this.trigger(\"timelineStartInfo\",e.timelineStartInfo),l=$(i,[e]),d=new Uint8Array(l.byteLength+u.byteLength),i++,d.set(l),d.set(u,l.byteLength),this.trigger(\"data\",{track:e,boxes:d}),this.resetStream_(),this.trigger(\"done\",\"VideoSegmentStream\")},this.reset=function(){this.resetStream_(),a=[],this.gopCache_.length=0,s.length=0,this.trigger(\"reset\")},this.resetStream_=function(){Ee(e),n=void 0,r=void 0},this.getGopForFusion_=function(t){var i,n,r,a,s,o=1/0;for(s=0;s<this.gopCache_.length;s++)r=(a=this.gopCache_[s]).gop,e.pps&&It(e.pps[0],a.pps[0])&&e.sps&&It(e.sps[0],a.sps[0])&&(r.dts<e.timelineStartInfo.dts||(i=t.dts-r.dts-r.duration)>=-1e4&&i<=45e3&&(!n||o>i)&&(n=a,o=i));return n?n.gop:null},this.alignGopsAtStart_=function(e){var t,i,n,r,a,o,l,u;for(a=e.byteLength,o=e.nalCount,l=e.duration,t=i=0;t<s.length&&i<e.length&&(n=s[t],r=e[i],n.pts!==r.pts);)r.pts>n.pts?t++:(i++,a-=r.byteLength,o-=r.nalCount,l-=r.duration);return 0===i?e:i===e.length?null:((u=e.slice(i)).byteLength=a,u.duration=l,u.nalCount=o,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(e){var t,i,n,r,a,o,l;for(t=s.length-1,i=e.length-1,a=null,o=!1;t>=0&&i>=0;){if(n=s[t],r=e[i],n.pts===r.pts){o=!0;break}n.pts>r.pts?t--:(t===s.length-1&&(a=i),i--)}if(!o&&null===a)return null;if(0===(l=o?i:a))return e;var u=e.slice(l),d=u.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return u.byteLength=d.byteLength,u.duration=d.duration,u.nalCount=d.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(e){s=e}}).prototype=new H,(wt=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,\"boolean\"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,wt.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,\"video\"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void(\"audio\"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}}).prototype=new H,wt.prototype.flush=function(e){var t,i,n,r,a=0,s={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if(\"VideoSegmentStream\"!==e&&\"AudioSegmentStream\"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger(\"done\"),this.emittedTracks=0))}if(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,Ct.forEach(function(e){s.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,St.forEach(function(e){s.info[e]=this.audioTrack[e]},this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?s.type=this.pendingTracks[0].type:s.type=\"combined\",this.emittedTracks+=this.pendingTracks.length,n=ee(this.pendingTracks),s.initSegment=new Uint8Array(n.byteLength),s.initSegment.set(n),s.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)s.data.set(this.pendingBoxes[r],a),a+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(t=this.pendingCaptions[r]).startTime=ge(t.startPts,o,this.keepOriginalTimestamps),t.endTime=ge(t.endPts,o,this.keepOriginalTimestamps),s.captionStreams[t.stream]=!0,s.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)(i=this.pendingMetadata[r]).cueTime=ge(i.pts,o,this.keepOriginalTimestamps),s.metadata.push(i);for(s.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger(\"data\",s),r=0;r<s.captions.length;r++)t=s.captions[r],this.trigger(\"caption\",t);for(r=0;r<s.metadata.length;r++)i=s.metadata[r],this.trigger(\"id3Frame\",i)}this.emittedTracks>=this.numberOfTracks&&(this.trigger(\"done\"),this.emittedTracks=0)},wt.prototype.setRemux=function(e){this.remuxTracks=e},(Et=function(e){var t,i,n=this,r=!0;Et.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var r={};this.transmuxPipeline_=r,r.type=\"aac\",r.metadataStream=new st.MetadataStream,r.aacStream=new Tt,r.audioTimestampRolloverStream=new st.TimestampRolloverStream(\"audio\"),r.timedMetadataTimestampRolloverStream=new st.TimestampRolloverStream(\"timed-metadata\"),r.adtsStream=new ht,r.coalesceStream=new wt(e,r.metadataStream),r.headOfPipeline=r.aacStream,r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.metadataStream.on(\"timestamp\",function(e){r.aacStream.setTimestamp(e.timeStamp)}),r.aacStream.on(\"data\",function(a){\"timed-metadata\"!==a.type&&\"audio\"!==a.type||r.audioSegmentStream||(i=i||{timelineStartInfo:{baseMediaDecodeTime:n.baseMediaDecodeTime},codec:\"adts\",type:\"audio\"},r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new At(i,e),r.audioSegmentStream.on(\"log\",n.getLogTrigger_(\"audioSegmentStream\")),r.audioSegmentStream.on(\"timingInfo\",n.trigger.bind(n,\"audioTimingInfo\")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream),n.trigger(\"trackinfo\",{hasAudio:!!i,hasVideo:!!t}))}),r.coalesceStream.on(\"data\",this.trigger.bind(this,\"data\")),r.coalesceStream.on(\"done\",this.trigger.bind(this,\"done\"))},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type=\"ts\",r.metadataStream=new st.MetadataStream,r.packetStream=new st.TransportPacketStream,r.parseStream=new st.TransportParseStream,r.elementaryStream=new st.ElementaryStream,r.timestampRolloverStream=new st.TimestampRolloverStream,r.adtsStream=new ht,r.h264Stream=new kt,r.captionStream=new st.CaptionStream(e),r.coalesceStream=new wt(e,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream).pipe(r.timestampRolloverStream),r.timestampRolloverStream.pipe(r.h264Stream),r.timestampRolloverStream.pipe(r.adtsStream),r.timestampRolloverStream.pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on(\"data\",function(a){var s;if(\"metadata\"===a.type){for(s=a.tracks.length;s--;)t||\"video\"!==a.tracks[s].type?i||\"audio\"!==a.tracks[s].type||((i=a.tracks[s]).timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime):(t=a.tracks[s]).timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime;t&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new bt(t,e),r.videoSegmentStream.on(\"log\",n.getLogTrigger_(\"videoSegmentStream\")),r.videoSegmentStream.on(\"timelineStartInfo\",function(t){i&&!e.keepOriginalTimestamps&&(i.timelineStartInfo=t,r.audioSegmentStream.setEarliestDts(t.dts-n.baseMediaDecodeTime));\n}),r.videoSegmentStream.on(\"processedGopsInfo\",n.trigger.bind(n,\"gopInfo\")),r.videoSegmentStream.on(\"segmentTimingInfo\",n.trigger.bind(n,\"videoSegmentTimingInfo\")),r.videoSegmentStream.on(\"baseMediaDecodeTime\",function(e){i&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),r.videoSegmentStream.on(\"timingInfo\",n.trigger.bind(n,\"videoTimingInfo\")),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),i&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new At(i,e),r.audioSegmentStream.on(\"log\",n.getLogTrigger_(\"audioSegmentStream\")),r.audioSegmentStream.on(\"timingInfo\",n.trigger.bind(n,\"audioTimingInfo\")),r.audioSegmentStream.on(\"segmentTimingInfo\",n.trigger.bind(n,\"audioSegmentTimingInfo\")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),n.trigger(\"trackinfo\",{hasAudio:!!i,hasVideo:!!t})}}),r.coalesceStream.on(\"data\",this.trigger.bind(this,\"data\")),r.coalesceStream.on(\"id3Frame\",function(e){e.dispatchType=r.metadataStream.dispatchType,n.trigger(\"id3Frame\",e)}),r.coalesceStream.on(\"caption\",this.trigger.bind(this,\"caption\")),r.coalesceStream.on(\"done\",this.trigger.bind(this,\"done\"))},this.setBaseMediaDecodeTime=function(n){var r=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=n),i&&(i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,Ee(i),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),t&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,Ee(t),r.captionStream.reset()),r.timestampRolloverStream&&r.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){i&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var i=this.transmuxPipeline_;e.remux=t,i&&i.coalesceStream&&i.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.getLogTrigger_=function(e){var t=this;return function(i){i.stream=e,t.trigger(\"log\",i)}},this.push=function(e){if(r){var t=Lt(e);if(t&&\"aac\"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||\"ts\"===this.transmuxPipeline_.type||this.setupTsPipeline(),this.transmuxPipeline_)for(var i=Object.keys(this.transmuxPipeline_),n=0;n<i.length;n++){var a=i[n];\"headOfPipeline\"!==a&&this.transmuxPipeline_[a].on&&this.transmuxPipeline_[a].on(\"log\",this.getLogTrigger_(a))}r=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new H;var Rt,Dt,Ot,Mt={Transmuxer:Et,VideoSegmentStream:bt,AudioSegmentStream:At,AUDIO_PROPERTIES:St,VIDEO_PROPERTIES:Ct,generateSegmentTimingInfo:Pt},Ut=function(e){return e>>>0},jt=function(e){var t=\"\";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},Bt=Ut,Nt=function e(t,i){var n,r,a,s,o,l=[];if(!i.length)return null;for(n=0;n<t.byteLength;)r=Bt(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]),a=jt(t.subarray(n+4,n+8)),s=r>1?n+r:t.byteLength,a===i[0]&&(1===i.length?l.push(t.subarray(n+8,s)):(o=e(t.subarray(n+8,s),i.slice(1))).length&&(l=l.concat(o))),n=s;return l},Ft=Ut,Vt=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:Ft(e[4]<<24|e[5]<<16|e[6]<<8|e[7])};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=Ft(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),t},Ht=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},zt=function(e){var t,i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=1&i.flags[2],a=4&i.flags[2],s=1&i.flags[1],o=2&i.flags[1],l=4&i.flags[1],u=8&i.flags[1],d=n.getUint32(4),c=8;for(r&&(i.dataOffset=n.getInt32(c),c+=4),a&&d&&(t={flags:Ht(e.subarray(c,c+4))},c+=4,s&&(t.duration=n.getUint32(c),c+=4),o&&(t.size=n.getUint32(c),c+=4),u&&(1===i.version?t.compositionTimeOffset=n.getInt32(c):t.compositionTimeOffset=n.getUint32(c),c+=4),i.samples.push(t),d--);d--;)t={},s&&(t.duration=n.getUint32(c),c+=4),o&&(t.size=n.getUint32(c),c+=4),l&&(t.flags=Ht(e.subarray(c,c+4)),c+=4),u&&(1===i.version?t.compositionTimeOffset=n.getInt32(c):t.compositionTimeOffset=n.getUint32(c),c+=4),i.samples.push(t);return i},Gt=function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:i.getUint32(4)},r=1&n.flags[2],a=2&n.flags[2],s=8&n.flags[2],o=16&n.flags[2],l=32&n.flags[2],u=65536&n.flags[0],d=131072&n.flags[0];return t=8,r&&(t+=4,n.baseDataOffset=i.getUint32(12),t+=4),a&&(n.sampleDescriptionIndex=i.getUint32(t),t+=4),s&&(n.defaultSampleDuration=i.getUint32(t),t+=4),o&&(n.defaultSampleSize=i.getUint32(t),t+=4),l&&(n.defaultSampleFlags=i.getUint32(t)),u&&(n.durationIsEmpty=!0),!r&&d&&(n.baseDataOffsetIsMoof=!0),n},Yt=Le,Wt=Ve.CaptionStream,qt=function(e,t){for(var i=e,n=0;n<t.length;n++){var r=t[n];if(i<r.size)return r;i-=r.size}return null},Qt=function(e,t){var i=Nt(e,[\"moof\",\"traf\"]),n=Nt(e,[\"mdat\"]),r={},a=[];return n.forEach(function(e,t){var n=i[t];a.push({mdat:e,traf:n})}),a.forEach(function(e){var i,n=e.mdat,a=e.traf,s=Nt(a,[\"tfhd\"]),o=Gt(s[0]),l=o.trackId,u=Nt(a,[\"tfdt\"]),d=u.length>0?Vt(u[0]).baseMediaDecodeTime:0,c=Nt(a,[\"trun\"]);t===l&&c.length>0&&(i=function(e,t,i){var n,r,a,s,o=new DataView(e.buffer,e.byteOffset,e.byteLength),l={logs:[],seiNals:[]};for(r=0;r+4<e.length;r+=a)if(a=o.getUint32(r),r+=4,!(a<=0))switch(31&e[r]){case 6:var u=e.subarray(r+1,r+1+a),d=qt(r,t);if(n={nalUnitType:\"sei_rbsp\",size:a,data:u,escapedRBSP:Yt(u),trackId:i},d)n.pts=d.pts,n.dts=d.dts,s=d;else{if(!s){l.logs.push({level:\"warn\",message:\"We've encountered a nal unit without data at \"+r+\" for trackId \"+i+\". See mux.js#223.\"});break}n.pts=s.pts,n.dts=s.dts}l.seiNals.push(n)}return l}(n,function(e,t,i){var n=t,r=i.defaultSampleDuration||0,a=i.defaultSampleSize||0,s=i.trackId,o=[];return e.forEach(function(e){var t=zt(e).samples;t.forEach(function(e){void 0===e.duration&&(e.duration=r),void 0===e.size&&(e.size=a),e.trackId=s,e.dts=n,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=n+e.compositionTimeOffset,n+=e.duration}),o=o.concat(t)}),o}(c,d,o),l),r[l]||(r[l]={seiNals:[],logs:[]}),r[l].seiNals=r[l].seiNals.concat(i.seiNals),r[l].logs=r[l].logs.concat(i.logs))}),r},Jt=function(){var e,t,i,n,r,a,o=!1;this.isInitialized=function(){return o},this.init=function(t){e=new Wt,o=!0,a=!!t&&t.isPartial,e.on(\"data\",function(e){e.startTime=e.startPts/n,e.endTime=e.endPts/n,r.captions.push(e),r.captionStreams[e.stream]=!0}),e.on(\"log\",function(e){r.logs.push(e)})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&\"object\"==(\"undefined\"==typeof t?\"undefined\":s(t))&&0===Object.keys(t).length||i===e[0]&&n===t[i])},this.parse=function(e,a,s){var o;if(!this.isInitialized())return null;if(!a||!s)return null;if(this.isNewInit(a,s))i=a[0],n=s[i];else if(null===i||!n)return t.push(e),null;for(;t.length>0;){var l=t.shift();this.parse(l,a,s)}return(o=function(e,t,i){if(null===t)return null;var n=Qt(e,t)[t]||{};return{seiNals:n.seiNals,logs:n.logs,timescale:i}}(e,i,n))&&o.logs&&(r.logs=r.logs.concat(o.logs)),null!==o&&o.seiNals?(this.pushNals(o.seiNals),this.flushStream(),r):r.logs.length?{logs:r.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(t){return this.isInitialized()&&t&&0!==t.length?void t.forEach(function(t){e.push(t)}):null},this.flushStream=function(){return this.isInitialized()?void(a?e.partialFlush():e.flush()):null},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={},r.logs=[]},this.resetCaptionStream=function(){return this.isInitialized()?void e.reset():null},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],i=null,n=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Kt=Ut,Xt=function(e){return(\"00\"+e.toString(16)).slice(-2)};Rt=function(e,t){var i,n,r;return i=Nt(t,[\"moof\",\"traf\"]),n=[].concat.apply([],i.map(function(t){return Nt(t,[\"tfhd\"]).map(function(i){var n,r,a;return n=Kt(i[4]<<24|i[5]<<16|i[6]<<8|i[7]),r=e[n]||9e4,(a=\"number\"!=typeof(a=Nt(t,[\"tfdt\"]).map(function(e){var t,i;return t=e[0],i=Kt(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(i*=Math.pow(2,32),i+=Kt(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),i})[0])||isNaN(a)?1/0:a)/r})})),r=Math.min.apply(null,n),isFinite(r)?r:0},Dt=function(e){var t=Nt(e,[\"moov\",\"trak\"]),i=[];return t.forEach(function(e){var t,n,r={},a=Nt(e,[\"tkhd\"])[0];a&&(n=(t=new DataView(a.buffer,a.byteOffset,a.byteLength)).getUint8(0),r.id=0===n?t.getUint32(12):t.getUint32(20));var s=Nt(e,[\"mdia\",\"hdlr\"])[0];if(s){var o=jt(s.subarray(8,12));r.type=\"vide\"===o?\"video\":\"soun\"===o?\"audio\":o}var l=Nt(e,[\"mdia\",\"minf\",\"stbl\",\"stsd\"])[0];if(l){var u=l.subarray(8);r.codec=jt(u.subarray(4,8));var d,c=Nt(u,[r.codec])[0];c&&(/^[a-z]vc[1-9]$/i.test(r.codec)?(d=c.subarray(78),\"avcC\"===jt(d.subarray(4,8))&&d.length>11?(r.codec+=\".\",r.codec+=Xt(d[9]),r.codec+=Xt(d[10]),r.codec+=Xt(d[11])):r.codec=\"avc1.4d400d\"):/^mp4[a,v]$/i.test(r.codec)?(d=c.subarray(28),\"esds\"===jt(d.subarray(4,8))&&d.length>20&&0!==d[19]?(r.codec+=\".\"+Xt(d[19]),r.codec+=\".\"+Xt(d[20]>>>2&63).replace(/^0/,\"\")):r.codec=\"mp4a.40.2\"):r.codec=r.codec.toLowerCase())}var h=Nt(e,[\"mdia\",\"mdhd\"])[0];h&&(r.timescale=Ot(h)),i.push(r)}),i};var Zt=Rt,$t=Dt,ei=(Ot=function(e){var t=0===e[0]?12:20;return Kt(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},function(e){var t=31&e[1];return t<<=8,t|=e[2]}),ti=function(e){return!!(64&e[1])},ii=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},ni=function(e){switch(e){case 5:return\"slice_layer_without_partitioning_rbsp_idr\";case 6:return\"sei_rbsp\";case 7:return\"seq_parameter_set_rbsp\";case 8:return\"pic_parameter_set_rbsp\";case 9:return\"access_unit_delimiter_rbsp\";default:return null}},ri={parseType:function(e,t){var i=ei(e);return 0===i?\"pat\":i===t?\"pmt\":t?\"pes\":null},parsePat:function(e){var t=ti(e),i=4+ii(e);return t&&(i+=e[i]+1),(31&e[i+10])<<8|e[i+11]},parsePmt:function(e){var t={},i=ti(e),n=4+ii(e);if(i&&(n+=e[n]+1),1&e[n+5]){var r;r=3+((15&e[n+1])<<8|e[n+2])-4;for(var a=12+((15&e[n+10])<<8|e[n+11]);a<r;){var s=n+a;t[(31&e[s+1])<<8|e[s+2]]=e[s],a+=5+((15&e[s+3])<<8|e[s+4])}return t}},parsePayloadUnitStartIndicator:ti,parsePesType:function(e,t){switch(t[ei(e)]){case He.H264_STREAM_TYPE:return\"video\";case He.ADTS_STREAM_TYPE:return\"audio\";case He.METADATA_STREAM_TYPE:return\"timed-metadata\";default:return null}},parsePesTime:function(e){if(!ti(e))return null;var t=4+ii(e);if(t>=e.byteLength)return null;var i,n=null;return 192&(i=e[t+7])&&((n={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,n.pts*=4,n.pts+=(6&e[t+13])>>>1,n.dts=n.pts,64&i&&(n.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,n.dts*=4,n.dts+=(6&e[t+18])>>>1)),n},videoPacketContainsKeyFrame:function(e){for(var t=4+ii(e),i=e.subarray(t),n=0,r=0,a=!1;r<i.byteLength-3;r++)if(1===i[r+2]){n=r+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}r+3!==n-2&&\"slice_layer_without_partitioning_rbsp_idr\"===ni(31&i[r+3])&&(a=!0);do n++;while(1!==i[n]&&n<i.length);r=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}\"slice_layer_without_partitioning_rbsp_idr\"===ni(31&i[r+3])&&(a=!0),r=n-2,n+=3;break;default:n+=3}return i=i.subarray(r),n-=r,r=0,i&&i.byteLength>3&&\"slice_layer_without_partitioning_rbsp_idr\"===ni(31&i[r+3])&&(a=!0),a}},ai=qe,si={};si.ts=ri,si.aac=yt;var oi=ce,li=function(e,t,i){for(var n,r,a,s,o=0,l=188,u=!1;l<=e.byteLength;)if(71!==e[o]||71!==e[l]&&l!==e.byteLength)o++,l++;else{switch(n=e.subarray(o,l),si.ts.parseType(n,t.pid)){case\"pes\":r=si.ts.parsePesType(n,t.table),a=si.ts.parsePayloadUnitStartIndicator(n),\"audio\"===r&&a&&(s=si.ts.parsePesTime(n))&&(s.type=\"audio\",i.audio.push(s),u=!0)}if(u)break;o+=188,l+=188}for(o=(l=e.byteLength)-188,u=!1;o>=0;)if(71!==e[o]||71!==e[l]&&l!==e.byteLength)o--,l--;else{switch(n=e.subarray(o,l),si.ts.parseType(n,t.pid)){case\"pes\":r=si.ts.parsePesType(n,t.table),a=si.ts.parsePayloadUnitStartIndicator(n),\"audio\"===r&&a&&(s=si.ts.parsePesTime(n))&&(s.type=\"audio\",i.audio.push(s),u=!0)}if(u)break;o-=188,l-=188}},ui=function(e,t,i){for(var n,r,a,s,o,l,u,d=0,c=188,h=!1,f={data:[],size:0};c<e.byteLength;)if(71!==e[d]||71!==e[c])d++,c++;else{switch(n=e.subarray(d,c),si.ts.parseType(n,t.pid)){case\"pes\":if(r=si.ts.parsePesType(n,t.table),a=si.ts.parsePayloadUnitStartIndicator(n),\"video\"===r&&(a&&!h&&(s=si.ts.parsePesTime(n))&&(s.type=\"video\",i.video.push(s),h=!0),!i.firstKeyFrame)){if(a&&0!==f.size){for(o=new Uint8Array(f.size),l=0;f.data.length;)u=f.data.shift(),o.set(u,l),l+=u.byteLength;if(si.ts.videoPacketContainsKeyFrame(o)){var p=si.ts.parsePesTime(o);p&&(i.firstKeyFrame=p,i.firstKeyFrame.type=\"video\")}f.size=0}f.data.push(n),f.size+=n.byteLength}}if(h&&i.firstKeyFrame)break;d+=188,c+=188}for(d=(c=e.byteLength)-188,h=!1;d>=0;)if(71!==e[d]||71!==e[c])d--,c--;else{switch(n=e.subarray(d,c),si.ts.parseType(n,t.pid)){case\"pes\":r=si.ts.parsePesType(n,t.table),a=si.ts.parsePayloadUnitStartIndicator(n),\"video\"===r&&a&&(s=si.ts.parsePesTime(n))&&(s.type=\"video\",i.video.push(s),h=!0)}if(h)break;d-=188,c-=188}},di=function(e){var t={pid:null,table:null},i={};for(var n in function(e,t){for(var i,n=0,r=188;r<e.byteLength;)if(71!==e[n]||71!==e[r])n++,r++;else{switch(i=e.subarray(n,r),si.ts.parseType(i,t.pid)){case\"pat\":t.pid=si.ts.parsePat(i);break;case\"pmt\":var a=si.ts.parsePmt(i);t.table=t.table||{},Object.keys(a).forEach(function(e){t.table[e]=a[e]})}n+=188,r+=188}}(e,t),t.table)if(t.table.hasOwnProperty(n))switch(t.table[n]){case He.H264_STREAM_TYPE:i.video=[],ui(e,t,i),0===i.video.length&&delete i.video;break;case He.ADTS_STREAM_TYPE:i.audio=[],li(e,t,i),0===i.audio.length&&delete i.audio}return i},ci=function(e,t){var i;return(i=si.aac.isLikelyAacData(e)?function(e){for(var t,i=!1,n=0,r=null,a=null,s=0,o=0;e.length-o>=3;){switch(si.aac.parseType(e,o)){case\"timed-metadata\":if(e.length-o<10){i=!0;break}if((s=si.aac.parseId3TagSize(e,o))>e.length){i=!0;break}null===a&&(t=e.subarray(o,o+s),a=si.aac.parseAacTimestamp(t)),o+=s;break;case\"audio\":if(e.length-o<7){i=!0;break}if((s=si.aac.parseAdtsSize(e,o))>e.length){i=!0;break}null===r&&(t=e.subarray(o,o+s),r=si.aac.parseSampleRate(t)),n++,o+=s;break;default:o++}if(i)return null}if(null===r||null===a)return null;var l=oi/r;return{audio:[{type:\"audio\",dts:a,pts:a},{type:\"audio\",dts:a+1024*n*l,pts:a+1024*n*l}]}}(e):di(e))&&(i.audio||i.video)?(function(e,t){if(e.audio&&e.audio.length){var i=t;(void 0===i||isNaN(i))&&(i=e.audio[0].dts),e.audio.forEach(function(e){e.dts=ai(e.dts,i),e.pts=ai(e.pts,i),e.dtsTime=e.dts/oi,e.ptsTime=e.pts/oi})}if(e.video&&e.video.length){var n=t;if((void 0===n||isNaN(n))&&(n=e.video[0].dts),e.video.forEach(function(e){e.dts=ai(e.dts,n),e.pts=ai(e.pts,n),e.dtsTime=e.dts/oi,e.ptsTime=e.pts/oi}),e.firstKeyFrame){var r=e.firstKeyFrame;r.dts=ai(r.dts,n),r.pts=ai(r.pts,n),r.dtsTime=r.dts/oi,r.ptsTime=r.pts/oi}}}(i,t),i):null},hi=function(){function e(e,t){this.options=t||{},this.self=e,this.init()}var t=e.prototype;return t.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Mt.Transmuxer(this.options),function(e,t){t.on(\"data\",function(t){var i=t.initSegment;t.initSegment={data:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength};var n=t.data;t.data=n.buffer,e.postMessage({action:\"data\",segment:t,byteOffset:n.byteOffset,byteLength:n.byteLength},[t.data])}),t.on(\"done\",function(t){e.postMessage({action:\"done\"})}),t.on(\"gopInfo\",function(t){e.postMessage({action:\"gopInfo\",gopInfo:t})}),t.on(\"videoSegmentTimingInfo\",function(t){var i={start:{decode:fe(t.start.dts),presentation:fe(t.start.pts)},end:{decode:fe(t.end.dts),presentation:fe(t.end.pts)},baseMediaDecodeTime:fe(t.baseMediaDecodeTime)};t.prependedContentDuration&&(i.prependedContentDuration=fe(t.prependedContentDuration)),e.postMessage({action:\"videoSegmentTimingInfo\",videoSegmentTimingInfo:i})}),t.on(\"audioSegmentTimingInfo\",function(t){var i={start:{decode:fe(t.start.dts),presentation:fe(t.start.pts)},end:{decode:fe(t.end.dts),presentation:fe(t.end.pts)},baseMediaDecodeTime:fe(t.baseMediaDecodeTime)};t.prependedContentDuration&&(i.prependedContentDuration=fe(t.prependedContentDuration)),e.postMessage({action:\"audioSegmentTimingInfo\",audioSegmentTimingInfo:i})}),t.on(\"id3Frame\",function(t){e.postMessage({action:\"id3Frame\",id3Frame:t})}),t.on(\"caption\",function(t){e.postMessage({action:\"caption\",caption:t})}),t.on(\"trackinfo\",function(t){e.postMessage({action:\"trackinfo\",trackInfo:t})}),t.on(\"audioTimingInfo\",function(t){e.postMessage({action:\"audioTimingInfo\",audioTimingInfo:{start:fe(t.start),end:fe(t.end)}})}),t.on(\"videoTimingInfo\",function(t){e.postMessage({action:\"videoTimingInfo\",videoTimingInfo:{start:fe(t.start),end:fe(t.end)}})}),t.on(\"log\",function(t){e.postMessage({action:\"log\",log:t})})}(this.self,this.transmuxer)},t.pushMp4Captions=function(e){this.captionParser||(this.captionParser=new Jt,this.captionParser.init());var t=new Uint8Array(e.data,e.byteOffset,e.byteLength),i=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:\"mp4Captions\",captions:i&&i.captions||[],logs:i&&i.logs||[],data:t.buffer},[t.buffer])},t.probeMp4StartTime=function(e){var t=e.timescales,i=e.data,n=Zt(t,i);this.self.postMessage({action:\"probeMp4StartTime\",startTime:n,data:i},[i.buffer])},t.probeMp4Tracks=function(e){var t=e.data,i=$t(t);this.self.postMessage({action:\"probeMp4Tracks\",tracks:i,data:t},[t.buffer])},t.probeTs=function(e){var t=e.data,i=e.baseStartTime,n=\"number\"!=typeof i||isNaN(i)?void 0:i*ce,r=ci(t,n),a=null;r&&((a={hasVideo:r.video&&2===r.video.length||!1,hasAudio:r.audio&&2===r.audio.length||!1}).hasVideo&&(a.videoStart=r.video[0].ptsTime),a.hasAudio&&(a.audioStart=r.audio[0].ptsTime)),this.self.postMessage({action:\"probeTs\",result:a,data:t},[t.buffer])},t.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},t.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},t.push=function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)},t.reset=function(){this.transmuxer.reset()},t.setTimestampOffset=function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(he(t)))},t.setAudioAppendStart=function(e){this.transmuxer.setAudioAppendStart(Math.ceil(he(e.appendStart)))},t.setRemux=function(e){this.transmuxer.setRemux(e.remux)},t.flush=function(e){this.transmuxer.flush(),self.postMessage({action:\"done\",type:\"transmuxed\"})},t.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:\"endedtimeline\",type:\"transmuxed\"})},t.alignGopsWith=function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())},e}();self.onmessage=function(e){\"init\"===e.data.action&&e.data.options?this.messageHandlers=new hi(self,e.data.options):(this.messageHandlers||(this.messageHandlers=new hi(self)),e.data&&e.data.action&&\"init\"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}))),hs=function(e){var t=e.transmuxer,i=e.bytes,n=e.audioAppendStart,r=e.gopsToAlignWith,a=e.remux,s=e.onData,o=e.onTrackInfo,l=e.onAudioTimingInfo,u=e.onVideoTimingInfo,d=e.onVideoSegmentTimingInfo,c=e.onAudioSegmentTimingInfo,h=e.onId3,f=e.onCaptions,p=e.onDone,m=e.onEndedTimeline,g=e.onTransmuxerLog,_=e.isEndOfTimeline,v={buffer:[]},y=_;if(t.onmessage=function(i){t.currentTransmux===e&&(\"data\"===i.data.action&&function(e,t,i){var n=e.data.segment,r=n.type,a=n.initSegment,s=n.captions,o=n.captionStreams,l=n.metadata,u=n.videoFrameDtsTime,d=n.videoFramePtsTime;t.buffer.push({captions:s,captionStreams:o,metadata:l});var c=e.data.segment.boxes||{data:e.data.segment.data},h={type:r,data:new Uint8Array(c.data,c.data.byteOffset,c.data.byteLength),initSegment:new Uint8Array(a.data,a.byteOffset,a.byteLength)};void 0!==u&&(h.videoFrameDtsTime=u),void 0!==d&&(h.videoFramePtsTime=d),i(h)}(i,v,s),\"trackinfo\"===i.data.action&&o(i.data.trackInfo),\"gopInfo\"===i.data.action&&function(e,t){t.gopInfo=e.data.gopInfo}(i,v),\"audioTimingInfo\"===i.data.action&&l(i.data.audioTimingInfo),\"videoTimingInfo\"===i.data.action&&u(i.data.videoTimingInfo),\"videoSegmentTimingInfo\"===i.data.action&&d(i.data.videoSegmentTimingInfo),\"audioSegmentTimingInfo\"===i.data.action&&c(i.data.audioSegmentTimingInfo),\"id3Frame\"===i.data.action&&h([i.data.id3Frame],i.data.id3Frame.dispatchType),\"caption\"===i.data.action&&f(i.data.caption),\"endedtimeline\"===i.data.action&&(y=!1,m()),\"log\"===i.data.action&&g(i.data.log),\"transmuxed\"===i.data.type&&(y||(t.onmessage=null,function(e){var t=e.transmuxedData,i=e.callback;t.buffer=[],i(t)}({transmuxedData:v,callback:p}),fs(t))))},n&&t.postMessage({action:\"setAudioAppendStart\",appendStart:n}),Array.isArray(r)&&t.postMessage({action:\"alignGopsWith\",gopsToAlignWith:r}),void 0!==a&&t.postMessage({action:\"setRemux\",remux:a}),i.byteLength){var b=i instanceof ArrayBuffer?i:i.buffer,A=i instanceof ArrayBuffer?0:i.byteOffset;t.postMessage({action:\"push\",data:b,byteOffset:A,byteLength:i.byteLength},[b])}_&&t.postMessage({action:\"endTimeline\"}),t.postMessage({action:\"flush\"})},fs=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),\"function\"==typeof e.currentTransmux?e.currentTransmux():hs(e.currentTransmux))},ps=function(e,t){e.postMessage({action:t}),fs(e)},ms=function(e,t){return t.currentTransmux?void t.transmuxQueue.push(ps.bind(null,t,e)):(t.currentTransmux=e,void ps(t,e))},gs=function(e){return e.transmuxer.currentTransmux?void e.transmuxer.transmuxQueue.push(e):(e.transmuxer.currentTransmux=e,void hs(e))},_s=function(e){ms(\"reset\",e)},vs=function(e){var t=new cs;t.currentTransmux=null,t.transmuxQueue=[];var i=t.terminate;return t.terminate=function(){return t.currentTransmux=null,t.transmuxQueue.length=0,i.call(t)},t.postMessage({action:\"init\",options:e}),t},ys=function(e){var t=e.transmuxer,i=e.endAction||e.action,n=e.callback,r=Fe.default({},e,{endAction:null,transmuxer:null,callback:null});if(t.addEventListener(\"message\",function r(a){a.data.action===i&&(t.removeEventListener(\"message\",r),a.data.data&&(a.data.data=new Uint8Array(a.data.data,e.byteOffset||0,e.byteLength||a.data.data.byteLength),e.data&&(e.data=a.data.data)),n(a.data))}),e.data){var a=e.data instanceof ArrayBuffer;r.byteOffset=a?0:e.data.byteOffset,r.byteLength=e.data.byteLength;var s=[a?e.data:e.data.buffer];t.postMessage(r,s)}else t.postMessage(r)},bs=2,As=-101,Es=-102,ws=function(e){e.forEach(function(e){e.abort()})},Ts=function(e,t){return t.timedout?{status:t.status,message:\"HLS request timed-out at URL: \"+t.uri,code:As,xhr:t}:t.aborted?{status:t.status,message:\"HLS request aborted at URL: \"+t.uri,code:Es,xhr:t}:e?{status:t.status,message:\"HLS request errored at URL: \"+t.uri,code:bs,xhr:t}:\"arraybuffer\"===t.responseType&&0===t.response.byteLength?{status:t.status,message:\"Empty HLS response at URL: \"+t.uri,code:bs,xhr:t}:null},Ss=function(e,t,i){return function(n,r){var a=r.response,s=Ts(n,r);if(s)return i(s,e);if(16!==a.byteLength)return i({status:r.status,message:\"Invalid HLS key at URL: \"+r.uri,code:bs,xhr:r},e);for(var o=new DataView(a),l=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]),u=0;u<t.length;u++)t[u].bytes=l;return i(null,e)}},Cs=function(e,t){var i=Me.detectContainerForBytes(e.map.bytes);if(\"mp4\"!==i){var n=e.map.resolvedUri||e.map.uri;return t({internal:!0,message:\"Found unsupported \"+(i||\"unknown\")+\" container for initialization segment at URL: \"+n,code:bs})}ys({action:\"probeMp4Tracks\",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(i){var n=i.tracks,r=i.data;return e.map.bytes=r,n.forEach(function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,\"number\"==typeof t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale))}),t(null)}})},ks=function(e){var t=e.segment,i=e.finishProcessingFn,n=e.responseType;return function(e,r){var a=Ts(e,r);if(a)return i(a,t);var s=\"arraybuffer\"!==n&&r.responseText?function(e){for(var t=new Uint8Array(new ArrayBuffer(e.length)),i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t.buffer}(r.responseText.substring(t.lastReachedChar||0)):r.response;return t.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(r),t.key?t.encryptedBytes=new Uint8Array(s):t.bytes=new Uint8Array(s),i(null,t)}},Ls=function(e){var t=e.segment,i=e.bytes,n=e.trackInfoFn,r=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,o=e.id3Fn,l=e.captionsFn,u=e.isEndOfTimeline,d=e.endedTimelineFn,c=e.dataFn,h=e.doneFn,f=e.onTransmuxerLog,p=t.map&&t.map.tracks||{},m=Boolean(p.audio&&p.video),g=r.bind(null,t,\"audio\",\"start\"),_=r.bind(null,t,\"audio\",\"end\"),v=r.bind(null,t,\"video\",\"start\"),y=r.bind(null,t,\"video\",\"end\");ys({action:\"probeTs\",transmuxer:t.transmuxer,data:i,baseStartTime:t.baseStartTime,callback:function(e){t.bytes=i=e.data;var r=e.result;r&&(n(t,{hasAudio:r.hasAudio,hasVideo:r.hasVideo,isMuxed:m}),n=null,r.hasAudio&&!m&&g(r.audioStart),r.hasVideo&&v(r.videoStart),g=null,v=null),gs({bytes:i,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:m,onData:function(e){e.type=\"combined\"===e.type?\"video\":e.type,c(t,e)},onTrackInfo:function(e){n&&(m&&(e.isMuxed=!0),n(t,e))},onAudioTimingInfo:function(e){g&&void 0!==e.start&&(g(e.start),g=null),_&&void 0!==e.end&&_(e.end)},onVideoTimingInfo:function(e){v&&void 0!==e.start&&(v(e.start),v=null),y&&void 0!==e.end&&y(e.end)},onVideoSegmentTimingInfo:function(e){a(e)},onAudioSegmentTimingInfo:function(e){s(e)},onId3:function(e,i){o(t,e,i)},onCaptions:function(e){l(t,[e])},isEndOfTimeline:u,onEndedTimeline:function(){d()},onTransmuxerLog:f,onDone:function(e){h&&(e.type=\"combined\"===e.type?\"video\":e.type,h(null,t,e))}})}})},xs=function(e){var t=e.segment,i=e.bytes,n=e.trackInfoFn,r=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,o=e.id3Fn,l=e.captionsFn,u=e.isEndOfTimeline,d=e.endedTimelineFn,c=e.dataFn,h=e.doneFn,f=e.onTransmuxerLog,p=new Uint8Array(i);if(Me.isLikelyFmp4MediaSegment(p)){t.isFmp4=!0;var m=t.map.tracks,g={isFmp4:!0,hasVideo:!!m.video,hasAudio:!!m.audio};m.audio&&m.audio.codec&&\"enca\"!==m.audio.codec&&(g.audioCodec=m.audio.codec),m.video&&m.video.codec&&\"encv\"!==m.video.codec&&(g.videoCodec=m.video.codec),m.video&&m.audio&&(g.isMuxed=!0),n(t,g);var _=function(e){c(t,{data:p,type:g.hasAudio&&!g.isMuxed?\"audio\":\"video\"}),e&&e.length&&l(t,e),h(null,t,{})};ys({action:\"probeMp4StartTime\",timescales:t.map.timescales,data:p,transmuxer:t.transmuxer,callback:function(e){var n=e.data,a=e.startTime;i=n.buffer,t.bytes=p=n,g.hasAudio&&!g.isMuxed&&r(t,\"audio\",\"start\",a),g.hasVideo&&r(t,\"video\",\"start\",a),m.video&&n.byteLength&&t.transmuxer?ys({action:\"pushMp4Captions\",endAction:\"mp4Captions\",transmuxer:t.transmuxer,data:p,timescales:t.map.timescales,trackIds:[m.video.id],callback:function(e){i=e.data.buffer,t.bytes=p=e.data,e.logs.forEach(function(e){f(pe.mergeOptions(e,{stream:\"mp4CaptionParser\"}))}),_(e.captions)}}):_()}})}else if(t.transmuxer){if(void 0===t.container&&(t.container=Me.detectContainerForBytes(p)),\"ts\"!==t.container&&\"aac\"!==t.container)return n(t,{hasAudio:!1,hasVideo:!1}),void h(null,t,{});Ls({segment:t,bytes:i,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:d,dataFn:c,doneFn:h,onTransmuxerLog:f})}else h(null,t,{})},Is=function(e,t){var i,n=e.id,r=e.key,a=e.encryptedBytes,s=e.decryptionWorker;s.addEventListener(\"message\",function e(i){if(i.data.source===n){s.removeEventListener(\"message\",e);var r=i.data.decrypted;t(new Uint8Array(r.bytes,r.byteOffset,r.byteLength))}}),i=r.bytes.slice?r.bytes.slice():new Uint32Array(Array.prototype.slice.call(r.bytes)),s.postMessage(qa({source:n,encrypted:a,key:i,iv:r.iv}),[a.buffer,i.buffer])},Ps=function(e){var t=e.activeXhrs,i=e.decryptionWorker,n=e.trackInfoFn,r=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,o=e.id3Fn,l=e.captionsFn,u=e.isEndOfTimeline,d=e.endedTimelineFn,c=e.dataFn,h=e.doneFn,f=e.onTransmuxerLog,p=0,m=!1;return function(e,g){if(!m){if(e)return m=!0,ws(t),h(e,g);if((p+=1)===t.length){var _=function(){return g.encryptedBytes?function(e){var t=e.decryptionWorker,i=e.segment,n=e.trackInfoFn,r=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,o=e.id3Fn,l=e.captionsFn,u=e.isEndOfTimeline,d=e.endedTimelineFn,c=e.dataFn,h=e.doneFn,f=e.onTransmuxerLog;Is({id:i.requestId,key:i.key,encryptedBytes:i.encryptedBytes,decryptionWorker:t},function(e){i.bytes=e,xs({segment:i,bytes:i.bytes,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:d,dataFn:c,doneFn:h,onTransmuxerLog:f})})}({decryptionWorker:i,segment:g,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:d,dataFn:c,doneFn:h,onTransmuxerLog:f}):void xs({segment:g,bytes:g.bytes,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:d,dataFn:c,doneFn:h,onTransmuxerLog:f})};if(g.endOfAllRequests=Date.now(),g.map&&g.map.encryptedBytes&&!g.map.bytes)return Is({decryptionWorker:i,id:g.requestId+\"-init\",encryptedBytes:g.map.encryptedBytes,key:g.map.key},function(e){g.map.bytes=e,Cs(g,function(e){return e?(ws(t),h(e,g)):void _()})});_()}}}},Rs=function(e){var t=e.segment,i=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(e){if(!e.target.aborted)return t.stats=pe.mergeOptions(t.stats,function(e){var t=e.target,i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return i.bytesReceived=e.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i}(e)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),i(e,t)}},Ds=function(e){var t=e.xhr,i=e.xhrOptions,n=e.decryptionWorker,r=e.segment,a=e.abortFn,s=e.progressFn,o=e.trackInfoFn,l=e.timingInfoFn,u=e.videoSegmentTimingInfoFn,d=e.audioSegmentTimingInfoFn,c=e.id3Fn,h=e.captionsFn,f=e.isEndOfTimeline,p=e.endedTimelineFn,m=e.dataFn,g=e.doneFn,_=e.onTransmuxerLog,v=[],y=Ps({activeXhrs:v,decryptionWorker:n,trackInfoFn:o,timingInfoFn:l,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:d,id3Fn:c,captionsFn:h,isEndOfTimeline:f,endedTimelineFn:p,dataFn:m,doneFn:g,onTransmuxerLog:_});if(r.key&&!r.key.bytes){var b=[r.key];r.map&&!r.map.bytes&&r.map.key&&r.map.key.resolvedUri===r.key.resolvedUri&&b.push(r.map.key);var A=t(pe.mergeOptions(i,{uri:r.key.resolvedUri,responseType:\"arraybuffer\"}),Ss(r,b,y));v.push(A)}if(r.map&&!r.map.bytes){if(r.map.key&&(!r.key||r.key.resolvedUri!==r.map.key.resolvedUri)){var E=t(pe.mergeOptions(i,{uri:r.map.key.resolvedUri,responseType:\"arraybuffer\"}),Ss(r,[r.map.key],y));v.push(E)}var w=t(pe.mergeOptions(i,{uri:r.map.resolvedUri,responseType:\"arraybuffer\",headers:za(r.map)}),function(e){var t=e.segment,i=e.finishProcessingFn;\nreturn function(e,n){var r=Ts(e,n);if(r)return i(r,t);var a=new Uint8Array(n.response);return t.map.key?(t.map.encryptedBytes=a,i(null,t)):(t.map.bytes=a,void Cs(t,function(e){return e?(e.xhr=n,e.status=n.status,i(e,t)):void i(null,t)}))}}({segment:r,finishProcessingFn:y}));v.push(w)}var T=pe.mergeOptions(i,{uri:r.part&&r.part.resolvedUri||r.resolvedUri,responseType:\"arraybuffer\",headers:za(r)}),S=t(T,ks({segment:r,finishProcessingFn:y,responseType:T.responseType}));S.addEventListener(\"progress\",Rs({segment:r,progressFn:s,trackInfoFn:o,timingInfoFn:l,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:d,id3Fn:c,captionsFn:h,isEndOfTimeline:f,endedTimelineFn:p,dataFn:m})),v.push(S);var C={};return v.forEach(function(e){e.addEventListener(\"loadend\",function(e){var t=e.loadendState,i=e.abortFn;return function(e){e.target.aborted&&i&&!t.calledAbortFn&&(i(),t.calledAbortFn=!0)}}({loadendState:C,abortFn:a}))}),function(){return ws(v)}},Os=ea(\"CodecUtils\"),Ms=function(e,t){var i=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&i.AUDIO&&e.mediaGroups.AUDIO[i.AUDIO]},Us=function(e){var t={};return e.forEach(function(e){var i=e.mediaType,n=e.type,r=e.details;t[i]=t[i]||[],t[i].push(Ie.translateLegacyCodec(\"\"+n+r))}),Object.keys(t).forEach(function(e){return t[e].length>1?(Os(\"multiple \"+e+\" codecs found as attributes: \"+t[e].join(\", \")+\". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.\"),void(t[e]=null)):void(t[e]=t[e][0])}),t},js=function(e){var t=0;return e.audio&&t++,e.video&&t++,t},Bs=function(e,t){var i=t.attributes||{},n=Us(function(e){var t=e.attributes||{};if(t.CODECS)return Ie.parseCodecs(t.CODECS)}(t)||[]);if(Ms(e,t)&&!n.audio&&!function(e,t){if(!Ms(e,t))return!0;var i=t.attributes||{},n=e.mediaGroups.AUDIO[i.AUDIO];for(var r in n)if(!n[r].uri&&!n[r].playlists)return!0;return!1}(e,t)){var r=Us(Ie.codecsFromDefault(e,i.AUDIO)||[]);r.audio&&(n.audio=r.audio)}return n},Ns=ea(\"PlaylistSelector\"),Fs=function(e){if(e&&e.playlist){var t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||\"\"})}},Vs=function(e,t){if(!e)return\"\";var i=Be.default.getComputedStyle(e);return i?i[t]:\"\"},Hs=function(e,t){var i=e.slice();e.sort(function(e,n){var r=t(e,n);return 0===r?i.indexOf(e)-i.indexOf(n):r})},zs=function(e,t){var i,n;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||Be.default.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),i-(n=n||Be.default.Number.MAX_VALUE)},Gs=function(e,t,i,n,r,a){if(e){var s={bandwidth:t,width:i,height:n,limitRenditionByPlayerDimensions:r},o=e.playlists;Ta.isAudioOnly(e)&&(o=a.getAudioTrackPlaylists_(),s.audioOnly=!0);var l=o.map(function(e){var t=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,i=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return{bandwidth:e.attributes&&e.attributes.BANDWIDTH||Be.default.Number.MAX_VALUE,width:t,height:i,playlist:e}});Hs(l,function(e,t){return e.bandwidth-t.bandwidth});var u=(l=l.filter(function(e){return!Ta.isIncompatible(e.playlist)})).filter(function(e){return Ta.isEnabled(e.playlist)});u.length||(u=l.filter(function(e){return!Ta.isDisabled(e.playlist)}));var d=u.filter(function(e){return e.bandwidth*ss.BANDWIDTH_VARIANCE<t}),c=d[d.length-1],h=d.filter(function(e){return e.bandwidth===c.bandwidth})[0];if(!1===r){var f=h||u[0]||l[0];if(f&&f.playlist){var p=\"sortedPlaylistReps\";return h&&(p=\"bandwidthBestRep\"),u[0]&&(p=\"enabledPlaylistReps\"),Ns(\"choosing \"+Fs(f)+\" using \"+p+\" with options\",s),f.playlist}return Ns(\"could not choose a playlist with options\",s),null}var m=d.filter(function(e){return e.width&&e.height});Hs(m,function(e,t){return e.width-t.width});var g=m.filter(function(e){return e.width===i&&e.height===n});c=g[g.length-1];var _,v,y,b,A=g.filter(function(e){return e.bandwidth===c.bandwidth})[0];if(A||(v=(_=m.filter(function(e){return e.width>i||e.height>n})).filter(function(e){return e.width===_[0].width&&e.height===_[0].height}),c=v[v.length-1],y=v.filter(function(e){return e.bandwidth===c.bandwidth})[0]),a.experimentalLeastPixelDiffSelector){var E=m.map(function(e){return e.pixelDiff=Math.abs(e.width-i)+Math.abs(e.height-n),e});Hs(E,function(e,t){return e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff}),b=E[0]}var w=b||y||A||h||u[0]||l[0];if(w&&w.playlist){var T=\"sortedPlaylistReps\";return b?T=\"leastPixelDiffRep\":y?T=\"resolutionPlusOneRep\":A?T=\"resolutionBestRep\":h?T=\"bandwidthBestRep\":u[0]&&(T=\"enabledPlaylistReps\"),Ns(\"choosing \"+Fs(w)+\" using \"+T+\" with options\",s),w.playlist}return Ns(\"could not choose a playlist with options\",s),null}},Ys=function(){var e=this.useDevicePixelRatio&&Be.default.devicePixelRatio||1;return Gs(this.playlists.master,this.systemBandwidth,parseInt(Vs(this.tech_.el(),\"width\"),10)*e,parseInt(Vs(this.tech_.el(),\"height\"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},Ws=function(e){var t=e.inbandTextTracks,i=e.metadataArray,n=e.timestampOffset,r=e.videoDuration;if(i){var a=Be.default.WebKitDataCue||Be.default.VTTCue,s=t.metadataTrack_;if(s&&(i.forEach(function(e){var t=e.cueTime+n;!(\"number\"!=typeof t||Be.default.isNaN(t)||t<0)&&t<1/0&&e.frames.forEach(function(e){var i=new a(t,t,e.value||e.url||e.data||\"\");i.frame=e,i.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return pe.log.warn(\"cue.frame.id is deprecated. Use cue.value.key instead.\"),e.value.key}},value:{get:function(){return pe.log.warn(\"cue.frame.value is deprecated. Use cue.value.data instead.\"),e.value.data}},privateData:{get:function(){return pe.log.warn(\"cue.frame.privateData is deprecated. Use cue.value.data instead.\"),e.value.data}}})}(i),s.addCue(i)})}),s.cues&&s.cues.length)){for(var o=s.cues,l=[],u=0;u<o.length;u++)o[u]&&l.push(o[u]);var d=l.reduce(function(e,t){var i=e[t.startTime]||[];return i.push(t),e[t.startTime]=i,e},{}),c=Object.keys(d).sort(function(e,t){return Number(e)-Number(t)});c.forEach(function(e,t){var i=d[e],n=Number(c[t+1])||r;i.forEach(function(e){e.endTime=n})})}}},qs=function(e,t,i){var n,r;if(i&&i.cues)for(n=i.cues.length;n--;)(r=i.cues[n]).startTime>=e&&r.endTime<=t&&i.removeCue(r)},Qs=function(e){return\"number\"==typeof e&&isFinite(e)},Js=function(e){var t=e.startOfSegment,i=e.duration,n=e.segment,r=e.part,a=e.playlist,s=a.mediaSequence,o=a.id,l=a.segments,u=void 0===l?[]:l,d=e.mediaIndex,c=e.partIndex,h=e.timeline,f=u.length-1,p=\"mediaIndex/partIndex increment\";e.getMediaInfoForTime?p=\"getMediaInfoForTime (\"+e.getMediaInfoForTime+\")\":e.isSyncRequest&&(p=\"getSyncSegmentCandidate (isSyncRequest)\");var m=\"number\"==typeof c,g=e.segment.uri?\"segment\":\"pre-segment\",_=m?da({preloadSegment:n})-1:0;return g+\" [\"+(s+d)+\"/\"+(s+f)+\"]\"+(m?\" part [\"+c+\"/\"+_+\"]\":\"\")+\" segment start/end [\"+n.start+\" => \"+n.end+\"]\"+(m?\" part start/end [\"+r.start+\" => \"+r.end+\"]\":\"\")+\" startOfSegment [\"+t+\"] duration [\"+i+\"] timeline [\"+h+\"] selected by [\"+p+\"] playlist [\"+o+\"]\"},Ks=function(e){return e+\"TimingInfo\"},Xs=function(e){var t=e.timelineChangeController,i=e.currentTimeline,n=e.segmentTimeline,r=e.loaderType,a=e.audioDisabled;if(i===n)return!1;if(\"audio\"===r){var s=t.lastTimelineChange({type:\"main\"});return!s||s.to!==n}if(\"main\"===r&&a){var o=t.pendingTimelineChange({type:\"audio\"});return!o||o.to!==n}return!1},Zs=function(e){var t=e.segmentDuration,i=e.maxDuration;return!!t&&Math.round(t)>i+1/30},$s=function(e,t){if(\"hls\"!==t)return null;var i,n,r,a,s=(i=e.audioTimingInfo,n=e.videoTimingInfo,r=i&&\"number\"==typeof i.start&&\"number\"==typeof i.end?i.end-i.start:0,a=n&&\"number\"==typeof n.start&&\"number\"==typeof n.end?n.end-n.start:0,Math.max(r,a));if(!s)return null;var o=e.playlist.targetDuration,l=Zs({segmentDuration:s,maxDuration:2*o}),u=Zs({segmentDuration:s,maxDuration:o}),d=\"Segment with index \"+e.mediaIndex+\" from playlist \"+e.playlist.id+\" has a duration of \"+s+\" when the reported duration is \"+e.duration+\" and the target duration is \"+o+\". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1\";return l||u?{severity:l?\"warn\":\"info\",message:d}:null},eo=function(e){function t(t,i){var n;if(n=e.call(this)||this,!t)throw new TypeError(\"Initialization settings are required\");if(\"function\"!=typeof t.currentTime)throw new TypeError(\"No currentTime getter specified\");if(!t.mediaSource)throw new TypeError(\"No MediaSource specified\");return n.bandwidth=t.bandwidth,n.throughput={rate:0,count:0},n.roundTrip=NaN,n.resetStats_(),n.mediaIndex=null,n.partIndex=null,n.hasPlayed_=t.hasPlayed,n.currentTime_=t.currentTime,n.seekable_=t.seekable,n.seeking_=t.seeking,n.duration_=t.duration,n.mediaSource_=t.mediaSource,n.vhs_=t.vhs,n.loaderType_=t.loaderType,n.currentMediaInfo_=void 0,n.startingMediaInfo_=void 0,n.segmentMetadataTrack_=t.segmentMetadataTrack,n.goalBufferLength_=t.goalBufferLength,n.sourceType_=t.sourceType,n.sourceUpdater_=t.sourceUpdater,n.inbandTextTracks_=t.inbandTextTracks,n.state_=\"INIT\",n.timelineChangeController_=t.timelineChangeController,n.shouldSaveSegmentTimingInfo_=!0,n.parse708captions_=t.parse708captions,n.experimentalExactManifestTimings=t.experimentalExactManifestTimings,n.checkBufferTimeout_=null,n.error_=void 0,n.currentTimeline_=-1,n.pendingSegment_=null,n.xhrOptions_=null,n.pendingSegments_=[],n.audioDisabled_=!1,n.isPendingTimestampOffset_=!1,n.gopBuffer_=[],n.timeMapping_=0,n.safeAppend_=pe.browser.IE_VERSION>=11,n.appendInitSegment_={audio:!0,video:!0},n.playlistOfLastInitSegment_={audio:null,video:null},n.callQueue_=[],n.loadQueue_=[],n.metadataQueue_={id3:[],caption:[]},n.waitingOnRemove_=!1,n.quotaExceededErrorRetryTimeout_=null,n.activeInitSegmentId_=null,n.initSegments_={},n.cacheEncryptionKeys_=t.cacheEncryptionKeys,n.keyCache_={},n.decrypter_=t.decrypter,n.syncController_=t.syncController,n.syncPoint_={segmentIndex:0,time:0},n.transmuxer_=n.createTransmuxer_(),n.triggerSyncInfoUpdate_=function(){return n.trigger(\"syncinfoupdate\")},n.syncController_.on(\"syncinfoupdate\",n.triggerSyncInfoUpdate_),n.mediaSource_.addEventListener(\"sourceopen\",function(){n.isEndOfStream_()||(n.ended_=!1)}),n.fetchAtBuffer_=!1,n.logger_=ea(\"SegmentLoader[\"+n.loaderType_+\"]\"),Object.defineProperty(Ve.default(n),\"state\",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+\" -> \"+e),this.state_=e,this.trigger(\"statechange\"))}}),n.sourceUpdater_.on(\"ready\",function(){n.hasEnoughInfoToAppend_()&&n.processCallQueue_()}),\"main\"===n.loaderType_&&n.timelineChangeController_.on(\"pendingtimelinechange\",function(){n.hasEnoughInfoToAppend_()&&n.processCallQueue_()}),\"audio\"===n.loaderType_&&n.timelineChangeController_.on(\"timelinechange\",function(){n.hasEnoughInfoToLoad_()&&n.processLoadQueue_(),n.hasEnoughInfoToAppend_()&&n.processCallQueue_()}),n}He.default(t,e);var i=t.prototype;return i.createTransmuxer_=function(){return vs({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_})},i.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},i.dispose=function(){this.trigger(\"dispose\"),this.state=\"DISPOSED\",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&Be.default.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off(\"syncinfoupdate\",this.triggerSyncInfoUpdate_),this.off()},i.setAudio=function(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},i.abort=function(){\"WAITING\"===this.state?(this.abort_(),this.state=\"READY\",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},i.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,Be.default.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},i.checkForAbort_=function(e){return\"APPENDING\"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state=\"READY\",!0)},i.error=function(e){return void 0!==e&&(this.logger_(\"error occurred:\",e),this.error_=e),this.pendingSegment_=null,this.error_},i.endOfStream=function(){this.ended_=!0,this.transmuxer_&&_s(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger(\"ended\")},i.buffered_=function(){var e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return pe.createTimeRanges();if(\"main\"===this.loaderType_){var t=e.hasAudio,i=e.hasVideo,n=e.isMuxed;if(i&&t&&!this.audioDisabled_&&!n)return this.sourceUpdater_.buffered();if(i)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},i.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var i=Qa(e),n=this.initSegments_[i];return t&&!n&&e.bytes&&(this.initSegments_[i]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),n||e},i.segmentKey=function(e,t){if(void 0===t&&(t=!1),!e)return null;var i=Ja(e),n=this.keyCache_[i];this.cacheEncryptionKeys_&&t&&!n&&e.bytes&&(this.keyCache_[i]=n={resolvedUri:e.resolvedUri,bytes:e.bytes});var r={resolvedUri:(n||e).resolvedUri};return n&&(r.bytes=n.bytes),r},i.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},i.load=function(){if(this.monitorBuffer_(),this.playlist_)return\"INIT\"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||\"READY\"!==this.state&&\"INIT\"!==this.state||(this.state=\"READY\"))},i.init_=function(){return this.state=\"READY\",this.resetEverything(),this.monitorBuffer_()},i.playlist=function(e,t){if(void 0===t&&(t={}),e){var i=this.playlist_,n=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,\"INIT\"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},\"main\"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));var r=null;if(i&&(i.id?r=i.id:i.uri&&(r=i.uri)),this.logger_(\"playlist update [\"+r+\" => \"+(e.id||e.uri)+\"]\"),this.trigger(\"syncinfoupdate\"),\"INIT\"===this.state&&this.couldBeginLoading_())return this.init_();if(!i||i.uri!==e.uri)return null!==this.mediaIndex&&this.resyncLoader(),this.currentMediaInfo_=void 0,void this.trigger(\"playlistupdate\");var a=e.mediaSequence-i.mediaSequence;if(this.logger_(\"live window shift [\"+a+\"]\"),null!==this.mediaIndex)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var s=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!s.parts||!s.parts.length||!s.parts[this.partIndex])){var o=this.mediaIndex;this.logger_(\"currently processing part (index \"+this.partIndex+\") no longer exists.\"),this.resetLoader(),this.mediaIndex=o}}n&&(n.mediaIndex-=a,n.mediaIndex<0?(n.mediaIndex=null,n.partIndex=null):(n.mediaIndex>=0&&(n.segment=e.segments[n.mediaIndex]),n.partIndex>=0&&n.segment.parts&&(n.part=n.segment.parts[n.partIndex]))),this.syncController_.saveExpiredSegmentInfo(i,e)}},i.pause=function(){this.checkBufferTimeout_&&(Be.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},i.paused=function(){return null===this.checkBufferTimeout_},i.resetEverything=function(e){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&this.transmuxer_.postMessage({action:\"clearAllMp4Captions\"})},i.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},i.resyncLoader=function(){this.transmuxer_&&_s(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:\"clearParsedMp4Captions\"})},i.remove=function(e,t,i,n){if(void 0===i&&(i=function(){}),void 0===n&&(n=!1),t===1/0&&(t=this.duration_()),t<=e)this.logger_(\"skipping remove because end ${end} is <= start ${start}\");else if(this.sourceUpdater_&&this.getMediaInfo_()){var r=1,a=function(){0===--r&&i()};for(var s in!n&&this.audioDisabled_||(r++,this.sourceUpdater_.removeAudio(e,t,a)),(n||\"main\"===this.loaderType_)&&(this.gopBuffer_=function(e,t,i,n){for(var r=Math.ceil((t-n)*je.ONE_SECOND_IN_TS),a=Math.ceil((i-n)*je.ONE_SECOND_IN_TS),s=e.slice(),o=e.length;o--&&!(e[o].pts<=a););if(-1===o)return s;for(var l=o+1;l--&&!(e[l].pts<=r););return l=Math.max(l,0),s.splice(l,o-l+1),s}(this.gopBuffer_,e,t,this.timeMapping_),r++,this.sourceUpdater_.removeVideo(e,t,a)),this.inbandTextTracks_)qs(e,t,this.inbandTextTracks_[s]);qs(e,t,this.segmentMetadataTrack_),a()}else this.logger_(\"skipping remove because no source updater or starting media info\")},i.monitorBuffer_=function(){this.checkBufferTimeout_&&Be.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Be.default.setTimeout(this.monitorBufferTick_.bind(this),1)},i.monitorBufferTick_=function(){\"READY\"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&Be.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Be.default.setTimeout(this.monitorBufferTick_.bind(this),500)},i.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var e=this.chooseNextRequest_();e&&(\"number\"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}},i.isEndOfStream_=function(e,t,i){if(void 0===e&&(e=this.mediaIndex),void 0===t&&(t=this.playlist_),void 0===i&&(i=this.partIndex),!t||!this.mediaSource_)return!1;var n=\"number\"==typeof e&&t.segments[e],r=e+1===t.segments.length,a=!n||!n.parts||i+1===n.parts.length;return t.endList&&\"open\"===this.mediaSource_.readyState&&r&&a},i.chooseNextRequest_=function(){var e=sa(this.buffered_())||0,t=Math.max(0,e-this.currentTime_()),i=!this.hasPlayed_()&&t>=1,n=t>=this.goalBufferLength_(),r=this.playlist_.segments;if(!r.length||i||n)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var a={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(a.isSyncRequest)a.mediaIndex=function(e,t,i){t=t||[];for(var n=[],r=0,a=0;a<t.length;a++){var s=t[a];if(e===s.timeline&&(n.push(a),(r+=s.duration)>i))return a}return 0===n.length?0:n[n.length-1]}(this.currentTimeline_,r,e);else if(null!==this.mediaIndex){var s=r[this.mediaIndex],o=\"number\"==typeof this.partIndex?this.partIndex:-1;a.startOfSegment=s.end?s.end:e,s.parts&&s.parts[o+1]?(a.mediaIndex=this.mediaIndex,a.partIndex=o+1):a.mediaIndex=this.mediaIndex+1}else{var l=Ta.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?e:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),u=l.segmentIndex,d=l.startTime,c=l.partIndex;a.getMediaInfoForTime=this.fetchAtBuffer_?\"bufferedEnd\":\"currentTime\",a.mediaIndex=u,a.startOfSegment=d,a.partIndex=c}var h=r[a.mediaIndex],f=h&&\"number\"==typeof a.partIndex&&h.parts&&h.parts[a.partIndex];if(!h||\"number\"==typeof a.partIndex&&!f)return null;\"number\"!=typeof a.partIndex&&h.parts&&(a.partIndex=0);var p=this.mediaSource_&&\"ended\"===this.mediaSource_.readyState;return a.mediaIndex>=r.length-1&&p&&!this.seeking_()?null:this.generateSegmentInfo_(a)},i.generateSegmentInfo_=function(e){var t=e.playlist,i=e.mediaIndex,n=e.startOfSegment,r=e.isSyncRequest,a=e.partIndex,s=e.forceTimestampOffset,o=e.getMediaInfoForTime,l=t.segments[i],u=\"number\"==typeof a&&l.parts[a],d={requestId:\"segment-loader-\"+Math.random(),uri:u&&u.resolvedUri||l.resolvedUri,mediaIndex:i,partIndex:u?a:null,isSyncRequest:r,startOfSegment:n,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:l.timeline,duration:u&&u.duration||l.duration,segment:l,part:u,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:o},c=void 0!==s?s:this.isPendingTimestampOffset_;d.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:l.timeline,currentTimeline:this.currentTimeline_,startOfSegment:n,buffered:this.buffered_(),overrideCheck:c});var h=sa(this.sourceUpdater_.audioBuffered());return\"number\"==typeof h&&(d.audioAppendStart=h-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(d.gopsToAlignWith=function(e,t,i){if(null==t||!e.length)return[];var n,r=Math.ceil((t-i+3)*je.ONE_SECOND_IN_TS);for(n=0;n<e.length&&!(e[n].pts>r);n++);return e.slice(n)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),d},i.timestampOffsetForSegment_=function(e){return i=(t=e).segmentTimeline,n=t.currentTimeline,r=t.startOfSegment,a=t.buffered,t.overrideCheck||i!==n?i<n?r:a.length?a.end(a.length-1):r:null;var t,i,n,r,a},i.earlyAbortWhenNeeded_=function(e){if(!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&!(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)){var t=this.currentTime_(),i=e.bandwidth,n=this.pendingSegment_.duration,r=Ta.estimateSegmentRequestTime(n,i,this.playlist_,e.bytesReceived),a=function(e,t,i){return void 0===i&&(i=1),((e.length?e.end(e.length-1):0)-t)/i}(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(!(r<=a)){var s=function(e){var t=e.master,i=e.currentTime,n=e.bandwidth,r=e.duration,a=e.segmentDuration,s=e.timeUntilRebuffer,o=e.currentTimeline,l=e.syncController,u=t.playlists.filter(function(e){return!Ta.isIncompatible(e)}),d=u.filter(Ta.isEnabled);d.length||(d=u.filter(function(e){return!Ta.isDisabled(e)}));var c=d.filter(Ta.hasAttribute.bind(null,\"BANDWIDTH\")).map(function(e){var t=l.getSyncPoint(e,r,o,i)?1:2;return{playlist:e,rebufferingImpact:Ta.estimateSegmentRequestTime(a,n,e)*t-s}}),h=c.filter(function(e){return e.rebufferingImpact<=0});return Hs(h,function(e,t){return zs(t.playlist,e.playlist)}),h.length?h[0]:(Hs(c,function(e,t){return e.rebufferingImpact-t.rebufferingImpact}),c[0]||null)}({master:this.vhs_.playlists.master,currentTime:t,bandwidth:i,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(s){var o=r-a-s.rebufferingImpact,l=.5;a<=1/30&&(l=1),!s.playlist||s.playlist.uri===this.playlist_.uri||o<l||(this.bandwidth=s.playlist.attributes.BANDWIDTH*ss.BANDWIDTH_VARIANCE+1,this.trigger(\"earlyabort\"))}}}},i.handleAbort_=function(e){this.logger_(\"Aborting \"+Js(e)),this.mediaRequestsAborted+=1},i.handleProgress_=function(e,t){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.trigger(\"progress\")},i.handleTrackInfo_=function(e,t){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(t)||(t=t||{},function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;var i=Object.keys(e).sort(),n=Object.keys(t).sort();if(i.length!==n.length)return!1;for(var r=0;r<i.length;r++){var a=i[r];if(a!==n[r])return!1;if(e[a]!==t[a])return!1}return!0}(this.currentMediaInfo_,t)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_(\"trackinfo update\",t),this.trigger(\"trackinfo\")),this.checkForAbort_(e.requestId)||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},i.handleTimingInfo_=function(e,t,i,n){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){var r=this.pendingSegment_,a=Ks(t);r[a]=r[a]||{},r[a][i]=n,this.logger_(\"timinginfo: \"+t+\" - \"+i+\" - \"+n),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},i.handleCaptions_=function(e,t){var i=this;if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(0!==t.length)if(this.pendingSegment_.hasAppendedData_){var n=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),r={};t.forEach(function(e){r[e.stream]=r[e.stream]||{startTime:1/0,captions:[],endTime:0};var t=r[e.stream];t.startTime=Math.min(t.startTime,e.startTime+n),t.endTime=Math.max(t.endTime,e.endTime+n),t.captions.push(e)}),Object.keys(r).forEach(function(e){var t=r[e],a=t.startTime,s=t.endTime,o=t.captions,l=i.inbandTextTracks_;i.logger_(\"adding cues from \"+a+\" -> \"+s+\" for \"+e),function(e,t,i){if(!e[i]){t.trigger({type:\"usage\",name:\"vhs-608\"}),t.trigger({type:\"usage\",name:\"hls-608\"});var n=i;/^cc708_/.test(i)&&(n=\"SERVICE\"+i.split(\"_\")[1]);var r=t.textTracks().getTrackById(n);if(r)e[i]=r;else{var a=i,s=i,o=!1,l=(t.options_.vhs&&t.options_.vhs.captionServices||{})[n];l&&(a=l.label,s=l.language,o=l.default),e[i]=t.addRemoteTextTrack({kind:\"captions\",id:n,default:o,label:a,language:s},!1).track}}}(l,i.vhs_.tech_,e),qs(a,s,l[e]),function(e){var t=e.inbandTextTracks,i=e.captionArray,n=e.timestampOffset;if(i){var r=Be.default.WebKitDataCue||Be.default.VTTCue;i.forEach(function(e){var i=e.stream;t[i].addCue(new r(e.startTime+n,e.endTime+n,e.text))})}}({captionArray:o,inbandTextTracks:l,timestampOffset:n})}),this.transmuxer_&&this.transmuxer_.postMessage({action:\"clearParsedMp4Captions\"})}else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));else this.logger_(\"SegmentLoader received no captions from a caption event\")},i.handleId3_=function(e,t,i){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(this.pendingSegment_.hasAppendedData_){var n=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();!function(e,t,i){e.metadataTrack_||(e.metadataTrack_=i.addRemoteTextTrack({kind:\"metadata\",label:\"Timed Metadata\"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=t)}(this.inbandTextTracks_,i,this.vhs_.tech_),Ws({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:n,videoDuration:this.duration_()})}else this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,i))},i.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(e){return e()}),this.metadataQueue_.caption.forEach(function(e){return e()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},i.processCallQueue_=function(){var e=this.callQueue_;this.callQueue_=[],e.forEach(function(e){return e()})},i.processLoadQueue_=function(){var e=this.loadQueue_;this.loadQueue_=[],e.forEach(function(e){return e()})},i.hasEnoughInfoToLoad_=function(){if(\"audio\"!==this.loaderType_)return!0;var e=this.pendingSegment_;return!(!e||this.getCurrentMediaInfo_()&&Xs({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},i.getCurrentMediaInfo_=function(e){return void 0===e&&(e=this.pendingSegment_),e&&e.trackInfo||this.currentMediaInfo_},i.getMediaInfo_=function(e){return void 0===e&&(e=this.pendingSegment_),this.getCurrentMediaInfo_(e)||this.startingMediaInfo_},i.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;var i=t.hasAudio,n=t.hasVideo,r=t.isMuxed;return!(n&&!e.videoTimingInfo||i&&!this.audioDisabled_&&!r&&!e.audioTimingInfo||Xs({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},i.handleData_=function(e,t){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var i=this.pendingSegment_;if(this.setTimeMapping_(i.timeline),this.updateMediaSecondsLoaded_(i.segment),\"closed\"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),i.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),i.isFmp4=e.isFmp4,i.timingInfo=i.timingInfo||{},i.isFmp4)this.trigger(\"fmp4\"),i.timingInfo.start=i[Ks(t.type)].start;else{var n,r=this.getCurrentMediaInfo_(),a=\"main\"===this.loaderType_&&r&&r.hasVideo;a&&(n=i.videoTimingInfo.start),i.timingInfo.start=this.trueSegmentStart_({currentStart:i.timingInfo.start,playlist:i.playlist,mediaIndex:i.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:a,firstVideoFrameTimeForData:n,videoTimingInfo:i.videoTimingInfo,audioTimingInfo:i.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(i,t.type),this.updateSourceBufferTimestampOffset_(i),i.isSyncRequest){this.updateTimingInfoEnd_(i),this.syncController_.saveSegmentTimingInfo({segmentInfo:i,shouldSaveTimelineMapping:\"main\"===this.loaderType_});var s=this.chooseNextRequest_();if(s.mediaIndex!==i.mediaIndex||s.partIndex!==i.partIndex)return void this.logger_(\"sync segment was incorrect, not appending\");this.logger_(\"sync segment was correct, appending\")}i.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(i,t)}}else this.callQueue_.push(this.handleData_.bind(this,e,t))},i.updateAppendInitSegmentStatus=function(e,t){\"main\"!==this.loaderType_||\"number\"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)},i.getInitSegmentAndUpdateState_=function(e){var t=e.type,i=e.initSegment,n=e.map,r=e.playlist;if(n){var a=Qa(n);if(this.activeInitSegmentId_===a)return null;i=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=a}return i&&this.appendInitSegment_[t]?(this.playlistOfLastInitSegment_[t]=r,this.appendInitSegment_[t]=!1,this.activeInitSegmentId_=null,i):null},i.handleQuotaExceededError_=function(e,t){var i=this,n=e.segmentInfo,r=e.type,a=e.bytes,s=this.sourceUpdater_.audioBuffered(),o=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_(\"On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: \"+aa(s).join(\", \")),o.length>1&&this.logger_(\"On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: \"+aa(o).join(\", \"));var l=s.length?s.start(0):0,u=s.length?s.end(s.length-1):0,d=o.length?o.start(0):0,c=o.length?o.end(o.length-1):0;if(u-l<=1&&c-d<=1)return this.logger_(\"On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: \"+a.byteLength+\", audio buffer: \"+aa(s).join(\", \")+\", video buffer: \"+aa(o).join(\", \")+\", \"),this.error({message:\"Quota exceeded error with append of a single segment of content\",excludeUntil:1/0}),void this.trigger(\"error\");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:n,type:r,bytes:a}));var h=this.currentTime_()-1;this.logger_(\"On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to \"+h),this.remove(0,h,function(){i.logger_(\"On QUOTA_EXCEEDED_ERR, retrying append in 1s\"),i.waitingOnRemove_=!1,i.quotaExceededErrorRetryTimeout_=Be.default.setTimeout(function(){i.logger_(\"On QUOTA_EXCEEDED_ERR, re-processing call queue\"),i.quotaExceededErrorRetryTimeout_=null,i.processCallQueue_()},1e3)},!0)},i.handleAppendError_=function(e,t){var i=e.segmentInfo,n=e.type,r=e.bytes;t&&(22!==t.code?(this.logger_(\"Received non QUOTA_EXCEEDED_ERR on append\",t),\nthis.error(n+\" append of \"+r.length+\"b failed for segment #\"+i.mediaIndex+\" in playlist \"+i.playlist.id),this.trigger(\"appenderror\")):this.handleQuotaExceededError_({segmentInfo:i,type:n,bytes:r}))},i.appendToSourceBuffer_=function(e){var t,i,n,r=e.segmentInfo,a=e.type,s=e.initSegment,o=e.data,l=e.bytes;if(!l){var u=[o],d=o.byteLength;s&&(u.unshift(s),d+=s.byteLength),n=0,(t={bytes:d,segments:u}).bytes&&(i=new Uint8Array(t.bytes),t.segments.forEach(function(e){i.set(e,n),n+=e.byteLength})),l=i}this.sourceUpdater_.appendBuffer({segmentInfo:r,type:a,bytes:l},this.handleAppendError_.bind(this,{segmentInfo:r,type:a,bytes:l}))},i.handleSegmentTimingInfo_=function(e,t,i){if(this.pendingSegment_&&t===this.pendingSegment_.requestId){var n=this.pendingSegment_.segment,r=e+\"TimingInfo\";n[r]||(n[r]={}),n[r].transmuxerPrependedSeconds=i.prependedContentDuration||0,n[r].transmuxedPresentationStart=i.start.presentation,n[r].transmuxedDecodeStart=i.start.decode,n[r].transmuxedPresentationEnd=i.end.presentation,n[r].transmuxedDecodeEnd=i.end.decode,n[r].baseMediaDecodeTime=i.baseMediaDecodeTime}},i.appendData_=function(e,t){var i=t.type,n=t.data;if(n&&n.byteLength&&(\"audio\"!==i||!this.audioDisabled_)){var r=this.getInitSegmentAndUpdateState_({type:i,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:r,data:n})}},i.loadSegment_=function(e){var t=this;this.state=\"WAITING\",this.pendingSegment_=e,this.trimBackBuffer_(e),\"number\"==typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:\"clearAllMp4Captions\"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(e):this.loadQueue_.push(function(){var i=Fe.default({},e,{forceTimestampOffset:!0});Fe.default(e,t.generateSegmentInfo_(i)),t.isPendingTimestampOffset_=!1,t.updateTransmuxerAndRequestSegment_(e)})},i.updateTransmuxerAndRequestSegment_=function(e){var t=this;this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:\"reset\"}),this.transmuxer_.postMessage({action:\"setTimestampOffset\",timestampOffset:e.timestampOffset}));var i=this.createSimplifiedSegmentObj_(e),n=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),r=null!==this.mediaIndex,a=e.timeline!==this.currentTimeline_&&e.timeline>0,s=n||r&&a;this.logger_(\"Requesting \"+Js(e)),i.map&&!i.map.bytes&&(this.logger_(\"going to request init segment.\"),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=Ds({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:i,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,\"video\",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,\"audio\",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:s,endedTimelineFn:function(){t.logger_(\"received endedtimeline callback\")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(i){var n=i.message,r=i.level,a=i.stream;t.logger_(Js(e)+\" logged from transmuxer stream \"+a+\" as a \"+r+\": \"+n)}})},i.trimBackBuffer_=function(e){var t=function(e,t,i){var n=t-ss.BACK_BUFFER_LENGTH;e.length&&(n=Math.max(n,e.start(0)));var r=t-i;return Math.min(r,n)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)},i.createSimplifiedSegmentObj_=function(e){var t=e.segment,i=e.part,n={resolvedUri:i?i.resolvedUri:t.resolvedUri,byterange:i?i.byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},r=e.playlist.segments[e.mediaIndex-1];if(r&&r.timeline===t.timeline&&(r.videoTimingInfo?n.baseStartTime=r.videoTimingInfo.transmuxedDecodeEnd:r.audioTimingInfo&&(n.baseStartTime=r.audioTimingInfo.transmuxedDecodeEnd)),t.key){var a=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);n.key=this.segmentKey(t.key),n.key.iv=a}return t.map&&(n.map=this.initSegmentForMap(t.map)),n},i.saveTransferStats_=function(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)},i.saveBandwidthRelatedStats_=function(e,t){this.pendingSegment_.byteLength=t.bytesReceived,e<1/60?this.logger_(\"Ignoring segment's bandwidth because its duration of \"+e+\" is less than the min to record \"+1/60):(this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime)},i.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger(\"bandwidthupdate\")},i.segmentRequestFinished_=function(e,t,i){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,i));else if(this.saveTransferStats_(t.stats),this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId){if(e){if(this.pendingSegment_=null,this.state=\"READY\",e.code===Es)return;return this.pause(),e.code===As?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger(\"error\"))}var n=this.pendingSegment_;this.saveBandwidthRelatedStats_(n.duration,t.stats),n.endOfAllRequests=t.endOfAllRequests,i.gopInfo&&(this.gopBuffer_=function(e,t,i){if(!t.length)return e;if(i)return t.slice();for(var n=t[0].pts,r=0;r<e.length&&!(e[r].pts>=n);r++);return e.slice(0,r).concat(t)}(this.gopBuffer_,i.gopInfo,this.safeAppend_)),this.state=\"APPENDING\",this.trigger(\"appending\"),this.waitForAppendsToComplete_(n)}},i.setTimeMapping_=function(e){var t=this.syncController_.mappingForTimeline(e);null!==t&&(this.timeMapping_=t)},i.updateMediaSecondsLoaded_=function(e){\"number\"==typeof e.start&&\"number\"==typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration},i.shouldUpdateTransmuxerTimestampOffset_=function(e){return null!==e&&(\"main\"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())},i.trueSegmentStart_=function(e){var t=e.currentStart,i=e.playlist,n=e.mediaIndex,r=e.firstVideoFrameTimeForData,a=e.currentVideoTimestampOffset,s=e.useVideoTimingInfo,o=e.videoTimingInfo,l=e.audioTimingInfo;if(void 0!==t)return t;if(!s)return l.start;var u=i.segments[n-1];return 0!==n&&u&&void 0!==u.start&&u.end===r+a?o.start:r},i.waitForAppendsToComplete_=function(e){var t=this.getCurrentMediaInfo_(e);if(!t)return this.error({message:\"No starting media returned, likely due to an unsupported media format.\",blacklistDuration:1/0}),void this.trigger(\"error\");var i=t.hasAudio,n=t.hasVideo,r=t.isMuxed,a=\"main\"===this.loaderType_&&n,s=!this.audioDisabled_&&i&&!r;return e.waitingOnAppends=0,e.hasAppendedData_?(a&&e.waitingOnAppends++,s&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),s&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e)),void 0):(e.timingInfo||\"number\"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e))},i.checkAppendsDone_=function(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())},i.checkForIllegalMediaSwitch=function(e){var t=function(e,t,i){return\"main\"===e&&t&&i?i.hasAudio||i.hasVideo?t.hasVideo&&!i.hasVideo?\"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.\":!t.hasVideo&&i.hasVideo?\"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.\":null:\"Neither audio nor video found in segment.\":null}(this.loaderType_,this.getCurrentMediaInfo_(),e);return!!t&&(this.error({message:t,blacklistDuration:1/0}),this.trigger(\"error\"),!0)},i.updateSourceBufferTimestampOffset_=function(e){if(null!==e.timestampOffset&&\"number\"==typeof e.timingInfo.start&&!e.changedTimestampOffset&&\"main\"===this.loaderType_){var t=!1;e.timestampOffset-=e.timingInfo.start,e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger(\"timestampoffset\")}},i.updateTimingInfoEnd_=function(e){e.timingInfo=e.timingInfo||{};var t=this.getMediaInfo_(),i=\"main\"===this.loaderType_&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;i&&(e.timingInfo.end=\"number\"==typeof i.end?i.end:i.start+e.duration)},i.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger(\"appendsdone\"),!this.pendingSegment_)return this.state=\"READY\",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:\"main\"===this.loaderType_});var t=$s(e,this.sourceType_);if(t&&(\"warn\"===t.severity?pe.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state=\"READY\",!e.isSyncRequest||(this.trigger(\"syncinfoupdate\"),e.hasAppendedData_)){this.logger_(\"Appended \"+Js(e)),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),\"main\"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:\"audio\",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger(\"syncinfoupdate\");var i=e.segment;i.end&&this.currentTime_()-i.end>3*e.playlist.targetDuration?this.resetEverything():(null!==this.mediaIndex&&this.trigger(\"bandwidthupdate\"),this.trigger(\"progress\"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger(\"appended\"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_())}else this.logger_(\"Throwing away un-appended sync request \"+Js(e))},i.recordThroughput_=function(e){if(e.duration<1/60)this.logger_(\"Ignoring segment's throughput because its duration of \"+e.duration+\" is less than the min to record \"+1/60);else{var t=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,n=Math.floor(e.byteLength/i*8*1e3);this.throughput.rate+=(n-t)/++this.throughput.count}},i.addSegmentMetadataCue_=function(e){if(this.segmentMetadataTrack_){var t=e.segment,i=t.start,n=t.end;if(Qs(i)&&Qs(n)){qs(i,n,this.segmentMetadataTrack_);var r=Be.default.WebKitDataCue||Be.default.VTTCue,a={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:i,end:n},s=new r(i,n,JSON.stringify(a));s.value=a,this.segmentMetadataTrack_.addCue(s)}}},t}(pe.EventTarget),to=function(e){return\"string\"!=typeof e?e:e.replace(/./,function(e){return e.toUpperCase()})},io=[\"video\",\"audio\"],no=function(e,t){var i=t[e+\"Buffer\"];return i&&i.updating||t.queuePending[e]},ro=function e(t,i){if(0!==i.queue.length){var n=0,r=i.queue[n];if(\"mediaSource\"!==r.type){if(\"mediaSource\"!==t&&i.ready()&&\"closed\"!==i.mediaSource.readyState&&!no(t,i)){if(r.type!==t){if(null===(n=function(e,t){for(var i=0;i<t.length;i++){var n=t[i];if(\"mediaSource\"===n.type)return null;if(n.type===e)return i}return null}(t,i.queue)))return;r=i.queue[n]}return i.queue.splice(n,1),i.queuePending[t]=r,r.action(t,i),r.doneFn?void 0:(i.queuePending[t]=null,void e(t,i))}}else i.updating()||\"closed\"===i.mediaSource.readyState||(i.queue.shift(),r.action(i),r.doneFn&&r.doneFn(),e(\"audio\",i),e(\"video\",i))}},ao=function(e,t){var i=t[e+\"Buffer\"],n=to(e);i&&(i.removeEventListener(\"updateend\",t[\"on\"+n+\"UpdateEnd_\"]),i.removeEventListener(\"error\",t[\"on\"+n+\"Error_\"]),t.codecs[e]=null,t[e+\"Buffer\"]=null)},so=function(e,t){return e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t)},oo=function(e,t,i){return function(n,r){var a=r[n+\"Buffer\"];if(so(r.mediaSource,a)){r.logger_(\"Appending segment \"+t.mediaIndex+\"'s \"+e.length+\" bytes to \"+n+\"Buffer\");try{a.appendBuffer(e)}catch(e){r.logger_(\"Error with code \"+e.code+\" \"+(22===e.code?\"(QUOTA_EXCEEDED_ERR) \":\"\")+\"when appending segment \"+t.mediaIndex+\" to \"+n+\"Buffer\"),r.queuePending[n]=null,i(e)}}}},lo=function(e,t){return function(i,n){var r=n[i+\"Buffer\"];if(so(n.mediaSource,r)){n.logger_(\"Removing \"+e+\" to \"+t+\" from \"+i+\"Buffer\");try{r.remove(e,t)}catch(r){n.logger_(\"Remove \"+e+\" to \"+t+\" from \"+i+\"Buffer failed\")}}}},uo=function(e){return function(t,i){var n=i[t+\"Buffer\"];so(i.mediaSource,n)&&(i.logger_(\"Setting \"+t+\"timestampOffset to \"+e),n.timestampOffset=e)}},co=function(e){return function(t,i){e()}},ho=function(e){return function(t){if(\"open\"===t.mediaSource.readyState){t.logger_(\"Calling mediaSource endOfStream(\"+(e||\"\")+\")\");try{t.mediaSource.endOfStream(e)}catch(e){pe.log.warn(\"Failed to call media source endOfStream\",e)}}}},fo=function(e){return function(t){t.logger_(\"Setting mediaSource duration to \"+e);try{t.mediaSource.duration=e}catch(e){pe.log.warn(\"Failed to set media source duration\",e)}}},po=function(){return function(e,t){if(\"open\"===t.mediaSource.readyState){var i=t[e+\"Buffer\"];if(so(t.mediaSource,i)){t.logger_(\"calling abort on \"+e+\"Buffer\");try{i.abort()}catch(t){pe.log.warn(\"Failed to abort on \"+e+\"Buffer\",t)}}}}},mo=function(e,t){return function(i){var n=to(e),r=Ie.getMimeForCodec(t);i.logger_(\"Adding \"+e+\"Buffer with codec \"+t+\" to mediaSource\");var a=i.mediaSource.addSourceBuffer(r);a.addEventListener(\"updateend\",i[\"on\"+n+\"UpdateEnd_\"]),a.addEventListener(\"error\",i[\"on\"+n+\"Error_\"]),i.codecs[e]=t,i[e+\"Buffer\"]=a}},go=function(e){return function(t){var i=t[e+\"Buffer\"];if(ao(e,t),so(t.mediaSource,i)){t.logger_(\"Removing \"+e+\"Buffer with codec \"+t.codecs[e]+\" from mediaSource\");try{t.mediaSource.removeSourceBuffer(i)}catch(t){pe.log.warn(\"Failed to removeSourceBuffer \"+e+\"Buffer\",t)}}}},_o=function(e){return function(t,i){var n=i[t+\"Buffer\"],r=Ie.getMimeForCodec(e);so(i.mediaSource,n)&&i.codecs[t]!==e&&(i.logger_(\"changing \"+t+\"Buffer codec from \"+i.codecs[t]+\" to \"+e),n.changeType(r),i.codecs[t]=e)}},vo=function(e){var t=e.type,i=e.sourceUpdater,n=e.action,r=e.doneFn,a=e.name;i.queue.push({type:t,action:n,doneFn:r,name:a}),ro(t,i)},yo=function(e,t){return function(i){if(t.queuePending[e]){var n=t.queuePending[e].doneFn;t.queuePending[e]=null,n&&n(t[e+\"Error_\"])}ro(e,t)}},bo=function(e){function t(t){var i;return(i=e.call(this)||this).mediaSource=t,i.sourceopenListener_=function(){return ro(\"mediaSource\",Ve.default(i))},i.mediaSource.addEventListener(\"sourceopen\",i.sourceopenListener_),i.logger_=ea(\"SourceUpdater\"),i.audioTimestampOffset_=0,i.videoTimestampOffset_=0,i.queue=[],i.queuePending={audio:null,video:null},i.delayedAudioAppendQueue_=[],i.videoAppendQueued_=!1,i.codecs={},i.onVideoUpdateEnd_=yo(\"video\",Ve.default(i)),i.onAudioUpdateEnd_=yo(\"audio\",Ve.default(i)),i.onVideoError_=function(e){i.videoError_=e},i.onAudioError_=function(e){i.audioError_=e},i.createdSourceBuffers_=!1,i.initializedEme_=!1,i.triggeredReady_=!1,i}He.default(t,e);var i=t.prototype;return i.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},i.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},i.hasInitializedAnyEme=function(){return this.initializedEme_},i.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},i.createSourceBuffers=function(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger(\"createdsourcebuffers\"),this.triggerReady())},i.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger(\"ready\"))},i.addSourceBuffer=function(e,t){vo({type:\"mediaSource\",sourceUpdater:this,action:mo(e,t),name:\"addSourceBuffer\"})},i.abort=function(e){vo({type:e,sourceUpdater:this,action:po(e),name:\"abort\"})},i.removeSourceBuffer=function(e){this.canRemoveSourceBuffer()?vo({type:\"mediaSource\",sourceUpdater:this,action:go(e),name:\"removeSourceBuffer\"}):pe.log.error(\"removeSourceBuffer is not supported!\")},i.canRemoveSourceBuffer=function(){return!pe.browser.IE_VERSION&&!pe.browser.IS_FIREFOX&&Be.default.MediaSource&&Be.default.MediaSource.prototype&&\"function\"==typeof Be.default.MediaSource.prototype.removeSourceBuffer},t.canChangeType=function(){return Be.default.SourceBuffer&&Be.default.SourceBuffer.prototype&&\"function\"==typeof Be.default.SourceBuffer.prototype.changeType},i.canChangeType=function(){return this.constructor.canChangeType()},i.changeType=function(e,t){this.canChangeType()?vo({type:e,sourceUpdater:this,action:_o(t),name:\"changeType\"}):pe.log.error(\"changeType is not supported!\")},i.addOrChangeSourceBuffers=function(e){var t=this;if(!e||\"object\"!=(\"undefined\"==typeof e?\"undefined\":s(e))||0===Object.keys(e).length)throw new Error(\"Cannot addOrChangeSourceBuffers to undefined codecs\");Object.keys(e).forEach(function(i){var n=e[i];return t.hasCreatedSourceBuffers()?void(t.canChangeType()&&t.changeType(i,n)):t.addSourceBuffer(i,n)})},i.appendBuffer=function(e,t){var i=this,n=e.segmentInfo,r=e.type,a=e.bytes;if(this.processedAppend_=!0,\"audio\"===r&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,t]),void this.logger_(\"delayed audio append of \"+a.length+\" until video append\");if(vo({type:r,sourceUpdater:this,action:oo(a,n||{mediaIndex:-1},t),doneFn:t,name:\"appendBuffer\"}),\"video\"===r){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var s=this.delayedAudioAppendQueue_.slice();this.logger_(\"queuing delayed audio \"+s.length+\" appendBuffers\"),this.delayedAudioAppendQueue_.length=0,s.forEach(function(e){i.appendBuffer.apply(i,e)})}},i.audioBuffered=function(){return so(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:pe.createTimeRange()},i.videoBuffered=function(){return so(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:pe.createTimeRange()},i.buffered=function(){var e=so(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=so(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():function(e,t){var i=null,n=null,r=0,a=[],s=[];if(!(e&&e.length&&t&&t.length))return pe.createTimeRange();for(var o=e.length;o--;)a.push({time:e.start(o),type:\"start\"}),a.push({time:e.end(o),type:\"end\"});for(o=t.length;o--;)a.push({time:t.start(o),type:\"start\"}),a.push({time:t.end(o),type:\"end\"});for(a.sort(function(e,t){return e.time-t.time}),o=0;o<a.length;o++)\"start\"===a[o].type?2===++r&&(i=a[o].time):\"end\"===a[o].type&&1===--r&&(n=a[o].time),null!==i&&null!==n&&(s.push([i,n]),i=null,n=null);return pe.createTimeRanges(s)}(this.audioBuffered(),this.videoBuffered())},i.setDuration=function(e,t){void 0===t&&(t=me),vo({type:\"mediaSource\",sourceUpdater:this,action:fo(e),name:\"duration\",doneFn:t})},i.endOfStream=function(e,t){void 0===e&&(e=null),void 0===t&&(t=me),\"string\"!=typeof e&&(e=void 0),vo({type:\"mediaSource\",sourceUpdater:this,action:ho(e),name:\"endOfStream\",doneFn:t})},i.removeAudio=function(e,t,i){void 0===i&&(i=me),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?vo({type:\"audio\",sourceUpdater:this,action:lo(e,t),doneFn:i,name:\"remove\"}):i()},i.removeVideo=function(e,t,i){void 0===i&&(i=me),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?vo({type:\"video\",sourceUpdater:this,action:lo(e,t),doneFn:i,name:\"remove\"}):i()},i.updating=function(){return!(!no(\"audio\",this)&&!no(\"video\",this))},i.audioTimestampOffset=function(e){return void 0!==e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(vo({type:\"audio\",sourceUpdater:this,action:uo(e),name:\"timestampOffset\"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_},i.videoTimestampOffset=function(e){return void 0!==e&&this.videoBuffer&&this.videoTimestampOffset!==e&&(vo({type:\"video\",sourceUpdater:this,action:uo(e),name:\"timestampOffset\"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_},i.audioQueueCallback=function(e){this.audioBuffer&&vo({type:\"audio\",sourceUpdater:this,action:co(e),name:\"callback\"})},i.videoQueueCallback=function(e){this.videoBuffer&&vo({type:\"video\",sourceUpdater:this,action:co(e),name:\"callback\"})},i.dispose=function(){var e=this;this.trigger(\"dispose\"),io.forEach(function(t){e.abort(t),e.canRemoveSourceBuffer()?e.removeSourceBuffer(t):e[t+\"QueueCallback\"](function(){return ao(t,e)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener(\"sourceopen\",this.sourceopenListener_),this.off()},t}(pe.EventTarget),Ao=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},Eo=new Uint8Array(\"\\n\\n\".split(\"\").map(function(e){return e.charCodeAt(0)})),wo=function(e){function t(t,i){var n;return void 0===i&&(i={}),(n=e.call(this,t,i)||this).mediaSource_=null,n.subtitlesTrack_=null,n.loaderType_=\"subtitle\",n.featuresNativeTextTracks_=t.featuresNativeTextTracks,n.shouldSaveSegmentTimingInfo_=!1,n}He.default(t,e);var i=t.prototype;return i.createTransmuxer_=function(){return null},i.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return pe.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,i=e[e.length-1].startTime;return pe.createTimeRanges([[t,i]])},i.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var i=Qa(e),n=this.initSegments_[i];if(t&&!n&&e.bytes){var r=Eo.byteLength+e.bytes.byteLength,a=new Uint8Array(r);a.set(e.bytes),a.set(Eo,e.bytes.byteLength),this.initSegments_[i]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return n||e},i.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},i.init_=function(){return this.state=\"READY\",this.resetEverything(),this.monitorBuffer_()},i.track=function(e){return void 0===e||(this.subtitlesTrack_=e,\"INIT\"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},i.remove=function(e,t){qs(e,t,this.subtitlesTrack_)},i.fillBuffer_=function(){var e=this,t=this.chooseNextRequest_();if(t){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline))return this.syncController_.one(\"timestampoffset\",function(){e.state=\"READY\",e.paused()||e.monitorBuffer_()}),void(this.state=\"WAITING_ON_TIMELINE\");this.loadSegment_(t)}},i.timestampOffsetForSegment_=function(){return null},i.chooseNextRequest_=function(){return this.skipEmptySegments_(e.prototype.chooseNextRequest_.call(this))},i.skipEmptySegments_=function(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e},i.stopForError=function(e){this.error(e),this.state=\"READY\",this.pause(),this.trigger(\"error\")},i.segmentRequestFinished_=function(e,t,i){var n=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state=\"READY\",void(this.mediaRequestsAborted+=1);if(e)return e.code===As&&this.handleTimeout_(),e.code===Es?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);var r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,t.stats),this.state=\"APPENDING\",this.trigger(\"appending\");var a=r.segment;if(a.map&&(a.map.bytes=t.map.bytes),r.bytes=t.bytes,\"function\"!=typeof Be.default.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var s,o=function(){n.subtitlesTrack_.tech_.off(\"vttjsloaded\",s),n.stopForError({message:\"Error loading vtt.js\"})};return s=function(){n.subtitlesTrack_.tech_.off(\"vttjserror\",o),n.segmentRequestFinished_(e,t,i)},this.state=\"WAITING_ON_VTTJS\",this.subtitlesTrack_.tech_.one(\"vttjsloaded\",s),void this.subtitlesTrack_.tech_.one(\"vttjserror\",o)}a.requested=!0;try{this.parseVTTCues_(r)}catch(e){return void this.stopForError({message:e.message})}if(this.updateTimeMapping_(r,this.syncController_.timelines[r.timeline],this.playlist_),r.cues.length?r.timingInfo={start:r.cues[0].startTime,end:r.cues[r.cues.length-1].endTime}:r.timingInfo={start:r.startOfSegment,end:r.startOfSegment+r.duration},r.isSyncRequest)return this.trigger(\"syncinfoupdate\"),this.pendingSegment_=null,void(this.state=\"READY\");r.byteLength=r.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,r.cues.forEach(function(e){n.subtitlesTrack_.addCue(n.featuresNativeTextTracks_?new Be.default.VTTCue(e.startTime,e.endTime,e.text):e)}),function(e){var t=e.cues;if(t)for(var i=0;i<t.length;i++){for(var n=[],r=0,a=0;a<t.length;a++)t[i].startTime===t[a].startTime&&t[i].endTime===t[a].endTime&&t[i].text===t[a].text&&++r>1&&n.push(t[a]);n.length&&n.forEach(function(t){return e.removeCue(t)})}}(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state=\"READY\"},i.handleData_=function(){},i.updateTimingInfoEnd_=function(){},i.parseVTTCues_=function(e){var t,i=!1;\"function\"==typeof Be.default.TextDecoder?t=new Be.default.TextDecoder(\"utf8\"):(t=Be.default.WebVTT.StringDecoder(),i=!0);var n=new Be.default.WebVTT.Parser(Be.default,Be.default.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},n.oncue=e.cues.push.bind(e.cues),n.ontimestampmap=function(t){e.timestampmap=t},n.onparsingerror=function(e){pe.log.warn(\"Error encountered when parsing cues: \"+e.message)},e.segment.map){var r=e.segment.map.bytes;i&&(r=Ao(r)),n.parse(r)}var a=e.bytes;i&&(a=Ao(a)),n.parse(a),n.flush()},i.updateTimeMapping_=function(e,t,i){var n=e.segment;if(t)if(e.cues.length){var r=e.timestampmap,a=r.MPEGTS/je.ONE_SECOND_IN_TS-r.LOCAL+t.mapping;if(e.cues.forEach(function(e){e.startTime+=a,e.endTime+=a}),!i.syncInfo){var s=e.cues[0].startTime,o=e.cues[e.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(s,o-n.duration)}}}else n.empty=!0},t}(eo),To=function(e,t){for(var i=e.cues,n=0;n<i.length;n++){var r=i[n];if(t>=r.adStartTime&&t<=r.adEndTime)return r}return null},So=[{name:\"VOD\",run:function(e,t,i,n,r){return i!==1/0?{time:0,segmentIndex:0,partIndex:null}:null}},{name:\"ProgramDateTime\",run:function(e,t,i,n,r){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var a=null,s=null,o=la(t);r=r||0;for(var l=0;l<o.length;l++){var u=o[t.endList||0===r?l:o.length-(l+1)],d=u.segment,c=e.timelineToDatetimeMappings[d.timeline];if(c&&d.dateTimeObject){var h=d.dateTimeObject.getTime()/1e3+c;if(d.parts&&\"number\"==typeof u.partIndex)for(var f=0;f<u.partIndex;f++)h+=d.parts[f].duration;var p=Math.abs(r-h);if(null!==s&&(0===p||s<p))break;s=p,a={time:h,segmentIndex:u.segmentIndex,partIndex:u.partIndex}}}return a}},{name:\"Segment\",run:function(e,t,i,n,r){var a=null,s=null;r=r||0;for(var o=la(t),l=0;l<o.length;l++){var u=o[t.endList||0===r?l:o.length-(l+1)],d=u.segment,c=u.part&&u.part.start||d&&d.start;if(d.timeline===n&&void 0!==c){var h=Math.abs(r-c);if(null!==s&&s<h)break;(!a||null===s||s>=h)&&(s=h,a={time:c,segmentIndex:u.segmentIndex,partIndex:u.partIndex})}}return a}},{name:\"Discontinuity\",run:function(e,t,i,n,r){var a=null;if(r=r||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var s=null,o=0;o<t.discontinuityStarts.length;o++){var l=t.discontinuityStarts[o],u=t.discontinuitySequence+o+1,d=e.discontinuities[u];if(d){var c=Math.abs(r-d.time);if(null!==s&&s<c)break;(!a||null===s||s>=c)&&(s=c,a={time:d.time,segmentIndex:l,partIndex:null})}}return a}},{name:\"Playlist\",run:function(e,t,i,n,r){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}:null}}],Co=function(e){function t(t){var i;return(i=e.call(this)||this).timelines=[],i.discontinuities=[],i.timelineToDatetimeMappings={},i.logger_=ea(\"SyncController\"),i}He.default(t,e);var i=t.prototype;return i.getSyncPoint=function(e,t,i,n){var r=this.runStrategies_(e,t,i,n);return r.length?this.selectSyncPoint_(r,{key:\"time\",value:n}):null},i.getExpiredTime=function(e,t){if(!e||!e.segments)return null;var i=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!i.length)return null;var n=this.selectSyncPoint_(i,{key:\"segmentIndex\",value:0});return n.segmentIndex>0&&(n.time*=-1),Math.abs(n.time+pa({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:n.segmentIndex,endIndex:0}))},i.runStrategies_=function(e,t,i,n){for(var r=[],a=0;a<So.length;a++){var s=So[a],o=s.run(this,e,t,i,n);o&&(o.strategy=s.name,r.push({strategy:s.name,syncPoint:o}))}return r},i.selectSyncPoint_=function(e,t){for(var i=e[0].syncPoint,n=Math.abs(e[0].syncPoint[t.key]-t.value),r=e[0].strategy,a=1;a<e.length;a++){var s=Math.abs(e[a].syncPoint[t.key]-t.value);s<n&&(n=s,i=e[a].syncPoint,r=e[a].strategy)}return this.logger_(\"syncPoint for [\"+t.key+\": \"+t.value+\"] chosen with strategy [\"+r+\"]: [time:\"+i.time+\", segmentIndex:\"+i.segmentIndex+(\"number\"==typeof i.partIndex?\",partIndex:\"+i.partIndex:\"\")+\"]\"),i},i.saveExpiredSegmentInfo=function(e,t){for(var i=t.mediaSequence-e.mediaSequence-1;i>=0;i--){var n=e.segments[i];if(n&&void 0!==n.start){t.syncInfo={mediaSequence:e.mediaSequence+i,time:n.start},this.logger_(\"playlist refresh sync: [time:\"+t.syncInfo.time+\", mediaSequence: \"+t.syncInfo.mediaSequence+\"]\"),this.trigger(\"syncinfoupdate\");break}}},i.setDateTimeMappingForStart=function(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0],i=t.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-i}},i.saveSegmentTimingInfo=function(e){var t=e.segmentInfo,i=e.shouldSaveTimelineMapping,n=this.calculateSegmentTimeMapping_(t,t.timingInfo,i),r=t.segment;n&&(this.saveDiscontinuitySyncInfo_(t),t.playlist.syncInfo||(t.playlist.syncInfo={mediaSequence:t.playlist.mediaSequence+t.mediaIndex,time:r.start}));var a=r.dateTimeObject;r.discontinuity&&i&&a&&(this.timelineToDatetimeMappings[r.timeline]=-a.getTime()/1e3)},i.timestampOffsetForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].time},i.mappingForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping},i.calculateSegmentTimeMapping_=function(e,t,i){var n,r,a=e.segment,s=e.part,o=this.timelines[e.timeline];if(\"number\"==typeof e.timestampOffset)o={time:e.startOfSegment,mapping:e.startOfSegment-t.start},i&&(this.timelines[e.timeline]=o,this.trigger(\"timestampoffset\"),this.logger_(\"time mapping for timeline \"+e.timeline+\": [time: \"+o.time+\"] [mapping: \"+o.mapping+\"]\")),n=e.startOfSegment,r=t.end+o.mapping;else{if(!o)return!1;n=t.start+o.mapping,r=t.end+o.mapping}return s&&(s.start=n,s.end=r),(!a.start||n<a.start)&&(a.start=n),a.end=r,!0},i.saveDiscontinuitySyncInfo_=function(e){var t=e.playlist,i=e.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var n=0;n<t.discontinuityStarts.length;n++){var r=t.discontinuityStarts[n],a=t.discontinuitySequence+n+1,s=r-e.mediaIndex,o=Math.abs(s);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>o){var l=void 0;l=s<0?i.start-pa({defaultDuration:t.targetDuration,durationList:t.segments,\nstartIndex:e.mediaIndex,endIndex:r}):i.end+pa({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:r}),this.discontinuities[a]={time:l,accuracy:o}}}},i.dispose=function(){this.trigger(\"dispose\"),this.off()},t}(pe.EventTarget),ko=function(e){function t(){var t;return(t=e.call(this)||this).pendingTimelineChanges_={},t.lastTimelineChanges_={},t}He.default(t,e);var i=t.prototype;return i.clearPendingTimelineChange=function(e){this.pendingTimelineChanges_[e]=null,this.trigger(\"pendingtimelinechange\")},i.pendingTimelineChange=function(e){var t=e.type,i=e.from,n=e.to;return\"number\"==typeof i&&\"number\"==typeof n&&(this.pendingTimelineChanges_[t]={type:t,from:i,to:n},this.trigger(\"pendingtimelinechange\")),this.pendingTimelineChanges_[t]},i.lastTimelineChange=function(e){var t=e.type,i=e.from,n=e.to;return\"number\"==typeof i&&\"number\"==typeof n&&(this.lastTimelineChanges_[t]={type:t,from:i,to:n},delete this.pendingTimelineChanges_[t],this.trigger(\"timelinechange\")),this.lastTimelineChanges_[t]},i.dispose=function(){this.trigger(\"dispose\"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},t}(pe.EventTarget),Lo=ls(us(ds(function(){function e(e,t,i){return e(i={path:t,exports:{},require:function(e,t){return function(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}(null==t&&i.path)}},i.exports),i.exports}var t=e(function(e){function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e},e.exports.default=e.exports,e.exports.__esModule=!0}),i=e(function(e){function t(i,n){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(i,n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0}),n=e(function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0}),r=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(i,1),i>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var i=t.length,n=0;n<i;++n)t[n].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),a=t.length,s=0;s<a;++s)t[s].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on(\"data\",function(t){e.push(t)})},e}(),a=null,s=function(){function e(e){var t,i,n;a||(a=function(){var e,t,i,n,r,a,s,o,l=[[[],[],[],[],[]],[[],[],[],[],[]]],u=l[0],d=l[1],c=u[4],h=d[4],f=[],p=[];for(e=0;e<256;e++)p[(f[e]=e<<1^283*(e>>7))^e]=e;for(t=i=0;!c[t];t^=n||1,i=p[i]||1)for(a=(a=i^i<<1^i<<2^i<<3^i<<4)>>8^255&a^99,c[t]=a,h[a]=t,o=16843009*f[r=f[n=f[t]]]^65537*r^257*n^16843008*t,s=257*f[a]^16843008*a,e=0;e<4;e++)u[e][t]=s=s<<24^s>>>8,d[e][a]=o=o<<24^o>>>8;for(e=0;e<5;e++)u[e]=u[e].slice(0),d[e]=d[e].slice(0);return l}()),this._tables=[[a[0][0].slice(),a[0][1].slice(),a[0][2].slice(),a[0][3].slice(),a[0][4].slice()],[a[1][0].slice(),a[1][1].slice(),a[1][2].slice(),a[1][3].slice(),a[1][4].slice()]];var r=this._tables[0][4],s=this._tables[1],o=e.length,l=1;if(4!==o&&6!==o&&8!==o)throw new Error(\"Invalid aes key size\");var u=e.slice(0),d=[];for(this._key=[u,d],t=o;t<4*o+28;t++)n=u[t-1],(t%o==0||8===o&&t%o==4)&&(n=r[n>>>24]<<24^r[n>>16&255]<<16^r[n>>8&255]<<8^r[255&n],t%o==0&&(n=n<<8^n>>>24^l<<24,l=l<<1^283*(l>>7))),u[t]=u[t-o]^n;for(i=0;t;i++,t--)n=u[3&i?t:t-4],d[i]=t<=4||i<4?n:s[0][r[n>>>24]]^s[1][r[n>>16&255]]^s[2][r[n>>8&255]]^s[3][r[255&n]]}return e.prototype.decrypt=function(e,t,i,n,r,a){var s,o,l,u,d=this._key[1],c=e^d[0],h=n^d[1],f=i^d[2],p=t^d[3],m=d.length/4-2,g=4,_=this._tables[1],v=_[0],y=_[1],b=_[2],A=_[3],E=_[4];for(u=0;u<m;u++)s=v[c>>>24]^y[h>>16&255]^b[f>>8&255]^A[255&p]^d[g],o=v[h>>>24]^y[f>>16&255]^b[p>>8&255]^A[255&c]^d[g+1],l=v[f>>>24]^y[p>>16&255]^b[c>>8&255]^A[255&h]^d[g+2],p=v[p>>>24]^y[c>>16&255]^b[h>>8&255]^A[255&f]^d[g+3],g+=4,c=s,h=o,f=l;for(u=0;u<4;u++)r[(3&-u)+a]=E[c>>>24]<<24^E[h>>16&255]<<16^E[f>>8&255]<<8^E[255&p]^d[g++],s=c,c=h,h=f,f=p,p=s},e}(),o=function(e){function t(){var t;return(t=e.call(this,r)||this).jobs=[],t.delay=1,t.timeout_=null,t}n(t,e);var i=t.prototype;return i.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},i.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(r),l=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},u=function(){function e(t,i,n,r){var a=e.STEP,s=new Int32Array(t.buffer),u=new Uint8Array(t.byteLength),d=0;for(this.asyncStream_=new o,this.asyncStream_.push(this.decryptChunk_(s.subarray(d,d+a),i,n,u)),d=a;d<s.length;d+=a)n=new Uint32Array([l(s[d-4]),l(s[d-3]),l(s[d-2]),l(s[d-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(d,d+a),i,n,u));this.asyncStream_.push(function(){/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */var e;r(null,(e=u).subarray(0,e.byteLength-e[e.byteLength-1]))})}return e.prototype.decryptChunk_=function(e,t,i,n){return function(){var r=function(e,t,i){var n,r,a,o,u,d,c,h,f,p=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),m=new s(Array.prototype.slice.call(t)),g=new Uint8Array(e.byteLength),_=new Int32Array(g.buffer);for(n=i[0],r=i[1],a=i[2],o=i[3],f=0;f<p.length;f+=4)u=l(p[f]),d=l(p[f+1]),c=l(p[f+2]),h=l(p[f+3]),m.decrypt(u,d,c,h,_,f),_[f]=l(_[f]^n),_[f+1]=l(_[f+1]^r),_[f+2]=l(_[f+2]^a),_[f+3]=l(_[f+3]^o),n=u,r=d,a=c,o=h;return g}(e,t,i);n.set(r,e.byteOffset)}},t(e,null,[{key:\"STEP\",get:function(){return 32e3}}]),e}();self.onmessage=function(e){var t=e.data,i=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),n=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),r=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new u(i,n,r,function(e,i){var n,r;self.postMessage((n={source:t.source,decrypted:i},r={},Object.keys(n).forEach(function(e){var t=n[e];ArrayBuffer.isView(t)?r[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:r[e]=t}),r),[i.buffer])})}}))),xo=function(e){var t=e.default?\"main\":\"alternative\";return e.characteristics&&e.characteristics.indexOf(\"public.accessibility.describes-video\")>=0&&(t=\"main-desc\"),t},Io=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},Po=function(e,t){t.activePlaylistLoader=e,e.load()},Ro={AUDIO:function(e,t){return function(){var i=t.segmentLoaders[e],n=t.mediaTypes[e],r=t.blacklistCurrentPlaylist;Io(i,n);var a=n.activeTrack(),s=n.activeGroup(),o=(s.filter(function(e){return e.default})[0]||s[0]).id,l=n.tracks[o];if(a!==l){for(var u in pe.log.warn(\"Problem encountered loading the alternate audio track.Switching back to default.\"),n.tracks)n.tracks[u].enabled=n.tracks[u]===l;n.onTrackChanged()}else r({message:\"Problem encountered loading the default audio track.\"})}},SUBTITLES:function(e,t){return function(){var i=t.segmentLoaders[e],n=t.mediaTypes[e];pe.log.warn(\"Problem encountered loading the subtitle track.Disabling subtitle track.\"),Io(i,n);var r=n.activeTrack();r&&(r.mode=\"disabled\"),n.onTrackChanged()}}},Do={AUDIO:function(e,t,i){if(t){var n=i.tech,r=i.requestOptions,a=i.segmentLoaders[e];t.on(\"loadedmetadata\",function(){var e=t.media();a.playlist(e,r),(!n.paused()||e.endList&&\"none\"!==n.preload())&&a.load()}),t.on(\"loadedplaylist\",function(){a.playlist(t.media(),r),n.paused()||a.load()}),t.on(\"error\",Ro[e](e,i))}},SUBTITLES:function(e,t,i){var n=i.tech,r=i.requestOptions,a=i.segmentLoaders[e],s=i.mediaTypes[e];t.on(\"loadedmetadata\",function(){var e=t.media();a.playlist(e,r),a.track(s.activeTrack()),(!n.paused()||e.endList&&\"none\"!==n.preload())&&a.load()}),t.on(\"loadedplaylist\",function(){a.playlist(t.media(),r),n.paused()||a.load()}),t.on(\"error\",Ro[e](e,i))}},Oo={AUDIO:function(e,t){var i=t.vhs,n=t.sourceType,r=t.segmentLoaders[e],a=t.requestOptions,s=t.master.mediaGroups,o=t.mediaTypes[e],l=o.groups,u=o.tracks,d=o.logger_,c=t.masterPlaylistLoader,h=wa(c.master);for(var f in s[e]&&0!==Object.keys(s[e]).length||(s[e]={main:{default:{default:!0}}},h&&(s[e].main.default.playlists=c.master.playlists)),s[e])for(var p in l[f]||(l[f]=[]),s[e][f]){var m=s[e][f][p],g=void 0;if(h?(d(\"AUDIO group '\"+f+\"' label '\"+p+\"' is a master playlist\"),m.isMasterPlaylist=!0,g=null):g=\"vhs-json\"===n&&m.playlists?new Ba(m.playlists[0],i,a):m.resolvedUri?new Ba(m.resolvedUri,i,a):m.playlists&&\"dash\"===n?new as(m.playlists[0],i,a,c):null,m=pe.mergeOptions({id:p,playlistLoader:g},m),Do[e](e,m.playlistLoader,t),l[f].push(m),void 0===u[p]){var _=new pe.AudioTrack({id:p,kind:xo(m),enabled:!1,language:m.language,default:m.default,label:p});u[p]=_}}r.on(\"error\",Ro[e](e,t))},SUBTITLES:function(e,t){var i=t.tech,n=t.vhs,r=t.sourceType,a=t.segmentLoaders[e],s=t.requestOptions,o=t.master.mediaGroups,l=t.mediaTypes[e],u=l.groups,d=l.tracks,c=t.masterPlaylistLoader;for(var h in o[e])for(var f in u[h]||(u[h]=[]),o[e][h])if(!o[e][h][f].forced){var p=o[e][h][f],m=void 0;if(\"hls\"===r)m=new Ba(p.resolvedUri,n,s);else if(\"dash\"===r){if(!p.playlists.filter(function(e){return e.excludeUntil!==1/0}).length)return;m=new as(p.playlists[0],n,s,c)}else\"vhs-json\"===r&&(m=new Ba(p.playlists?p.playlists[0]:p.resolvedUri,n,s));if(p=pe.mergeOptions({id:f,playlistLoader:m},p),Do[e](e,p.playlistLoader,t),u[h].push(p),void 0===d[f]){var g=i.addRemoteTextTrack({id:f,kind:\"subtitles\",default:p.default&&p.autoselect,language:p.language,label:f},!1).track;d[f]=g}}a.on(\"error\",Ro[e](e,t))},\"CLOSED-CAPTIONS\":function(e,t){var i=t.tech,n=t.master.mediaGroups,r=t.mediaTypes[e],a=r.groups,s=r.tracks;for(var o in n[e])for(var l in a[o]||(a[o]=[]),n[e][o]){var u=n[e][o][l];if(/^(?:CC|SERVICE)/.test(u.instreamId)){var d=i.options_.vhs&&i.options_.vhs.captionServices||{},c={label:l,language:u.language,instreamId:u.instreamId,default:u.default&&u.autoselect};if(d[c.instreamId]&&(c=pe.mergeOptions(c,d[c.instreamId])),void 0===c.default&&delete c.default,a[o].push(pe.mergeOptions({id:l},u)),void 0===s[l]){var h=i.addRemoteTextTrack({id:c.instreamId,kind:\"captions\",default:c.default,language:c.language,label:c.label},!1).track;s[l]=h}}}}},Mo=function e(t,i){for(var n=0;n<t.length;n++){if(Aa(i,t[n]))return!0;if(t[n].playlists&&e(t[n].playlists,i))return!0}return!1},Uo={AUDIO:function(e,t){return function(){var i=t.mediaTypes[e].tracks;for(var n in i)if(i[n].enabled)return i[n];return null}},SUBTITLES:function(e,t){return function(){var i=t.mediaTypes[e].tracks;for(var n in i)if(\"showing\"===i[n].mode||\"hidden\"===i[n].mode)return i[n];return null}}},jo=function(e){[\"AUDIO\",\"SUBTITLES\",\"CLOSED-CAPTIONS\"].forEach(function(t){Oo[t](t,e)});var t=e.mediaTypes,i=e.masterPlaylistLoader,n=e.tech,r=e.vhs,a=e.segmentLoaders,s=a.AUDIO,o=a.main;[\"AUDIO\",\"SUBTITLES\"].forEach(function(i){t[i].activeGroup=function(e,t){return function(i){var n=t.masterPlaylistLoader,r=t.mediaTypes[e].groups,a=n.media();if(!a)return null;var s=null;a.attributes[e]&&(s=r[a.attributes[e]]);var o=Object.keys(r);if(!s)if(\"AUDIO\"===e&&o.length>1&&wa(t.master))for(var l=0;l<o.length;l++){var u=r[o[l]];if(Mo(u,a)){s=u;break}}else r.main?s=r.main:1===o.length&&(s=r[o[0]]);return void 0===i?s:null!==i&&s&&s.filter(function(e){return e.id===i.id})[0]||null}}(i,e),t[i].activeTrack=Uo[i](i,e),t[i].onGroupChanged=function(e,t){return function(){var i=t.segmentLoaders,n=i[e],r=i.main,a=t.mediaTypes[e],s=a.activeTrack(),o=a.getActiveGroup(),l=a.activePlaylistLoader,u=a.lastGroup_;o&&u&&o.id===u.id||(a.lastGroup_=o,a.lastTrack_=s,Io(n,a),o&&!o.isMasterPlaylist&&(o.playlistLoader?(n.resyncLoader(),Po(o.playlistLoader,a)):l&&r.resetEverything()))}}(i,e),t[i].onGroupChanging=function(e,t){return function(){var i=t.segmentLoaders[e];t.mediaTypes[e].lastGroup_=null,i.abort(),i.pause()}}(i,e),t[i].onTrackChanged=function(e,t){return function(){var i=t.masterPlaylistLoader,n=t.segmentLoaders,r=n[e],a=n.main,s=t.mediaTypes[e],o=s.activeTrack(),l=s.getActiveGroup(),u=s.activePlaylistLoader,d=s.lastTrack_;if((!d||!o||d.id!==o.id)&&(s.lastGroup_=l,s.lastTrack_=o,Io(r,s),l)){if(l.isMasterPlaylist){if(!o||!d||o.id===d.id)return;var c=t.vhs.masterPlaylistController_,h=c.selectPlaylist();if(c.media()===h)return;return s.logger_(\"track change. Switching master audio from \"+d.id+\" to \"+o.id),i.pause(),a.resetEverything(),void c.fastQualityChange_(h)}if(\"AUDIO\"===e){if(!l.playlistLoader)return a.setAudio(!0),void a.resetEverything();r.setAudio(!0),a.setAudio(!1)}u!==l.playlistLoader?(r.track&&r.track(o),r.resetEverything(),Po(l.playlistLoader,s)):Po(l.playlistLoader,s)}}}(i,e),t[i].getActiveGroup=function(e,t){var i=t.mediaTypes;return function(){var t=i[e].activeTrack();return t?i[e].activeGroup(t):null}}(i,e)});var l=t.AUDIO.activeGroup();if(l){var u=(l.filter(function(e){return e.default})[0]||l[0]).id;t.AUDIO.tracks[u].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged(),t.AUDIO.getActiveGroup().playlistLoader?(o.setAudio(!1),s.setAudio(!0)):o.setAudio(!0)}i.on(\"mediachange\",function(){[\"AUDIO\",\"SUBTITLES\"].forEach(function(e){return t[e].onGroupChanged()})}),i.on(\"mediachanging\",function(){[\"AUDIO\",\"SUBTITLES\"].forEach(function(e){return t[e].onGroupChanging()})});var d=function(){t.AUDIO.onTrackChanged(),n.trigger({type:\"usage\",name:\"vhs-audio-change\"}),n.trigger({type:\"usage\",name:\"hls-audio-change\"})};for(var c in n.audioTracks().addEventListener(\"change\",d),n.remoteTextTracks().addEventListener(\"change\",t.SUBTITLES.onTrackChanged),r.on(\"dispose\",function(){n.audioTracks().removeEventListener(\"change\",d),n.remoteTextTracks().removeEventListener(\"change\",t.SUBTITLES.onTrackChanged)}),n.clearTracks(\"audio\"),t.AUDIO.tracks)n.audioTracks().addTrack(t.AUDIO.tracks[c])},Bo=[\"mediaRequests\",\"mediaRequestsAborted\",\"mediaRequestsTimedout\",\"mediaRequestsErrored\",\"mediaTransferDuration\",\"mediaBytesTransferred\",\"mediaAppends\"],No=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},Fo=function(e){function t(t){var i;i=e.call(this)||this;var n=t.src,r=t.handleManifestRedirects,a=t.withCredentials,s=t.tech,o=t.bandwidth,l=t.externVhs,u=t.useCueTags,d=t.blacklistDuration,c=t.enableLowInitialPlaylist,h=t.sourceType,f=t.cacheEncryptionKeys,p=t.experimentalBufferBasedABR,m=t.experimentalLeastPixelDiffSelector;if(!n)throw new Error(\"A non-empty playlist URL or JSON manifest string is required\");var g,_=t.maxPlaylistRetries;null==_&&(_=1/0),Xr=l,i.experimentalBufferBasedABR=Boolean(p),i.experimentalLeastPixelDiffSelector=Boolean(m),i.withCredentials=a,i.tech_=s,i.vhs_=s.vhs,i.sourceType_=h,i.useCueTags_=u,i.blacklistDuration=d,i.maxPlaylistRetries=_,i.enableLowInitialPlaylist=c,i.useCueTags_&&(i.cueTagsTrack_=i.tech_.addTextTrack(\"metadata\",\"ad-cues\"),i.cueTagsTrack_.inBandMetadataTrackDispatchType=\"\"),i.requestOptions_={withCredentials:a,handleManifestRedirects:r,maxPlaylistRetries:_,timeout:null},i.on(\"error\",i.pauseLoading),i.mediaTypes_=(g={},[\"AUDIO\",\"SUBTITLES\",\"CLOSED-CAPTIONS\"].forEach(function(e){g[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:me,activeTrack:me,getActiveGroup:me,onGroupChanged:me,onTrackChanged:me,lastTrack_:null,logger_:ea(\"MediaGroups[\"+e+\"]\")}}),g),i.mediaSource=new Be.default.MediaSource,i.handleDurationChange_=i.handleDurationChange_.bind(Ve.default(i)),i.handleSourceOpen_=i.handleSourceOpen_.bind(Ve.default(i)),i.handleSourceEnded_=i.handleSourceEnded_.bind(Ve.default(i)),i.mediaSource.addEventListener(\"durationchange\",i.handleDurationChange_),i.mediaSource.addEventListener(\"sourceopen\",i.handleSourceOpen_),i.mediaSource.addEventListener(\"sourceended\",i.handleSourceEnded_),i.seekable_=pe.createTimeRanges(),i.hasPlayed_=!1,i.syncController_=new Co(t),i.segmentMetadataTrack_=s.addRemoteTextTrack({kind:\"metadata\",label:\"segment-metadata\"},!1).track,i.decrypter_=new Lo,i.sourceUpdater_=new bo(i.mediaSource),i.inbandTextTracks_={},i.timelineChangeController_=new ko;var v={vhs:i.vhs_,parse708captions:t.parse708captions,mediaSource:i.mediaSource,currentTime:i.tech_.currentTime.bind(i.tech_),seekable:function(){return i.seekable()},seeking:function(){return i.tech_.seeking()},duration:function(){return i.duration()},hasPlayed:function(){return i.hasPlayed_},goalBufferLength:function(){return i.goalBufferLength()},bandwidth:o,syncController:i.syncController_,decrypter:i.decrypter_,sourceType:i.sourceType_,inbandTextTracks:i.inbandTextTracks_,cacheEncryptionKeys:f,sourceUpdater:i.sourceUpdater_,timelineChangeController:i.timelineChangeController_,experimentalExactManifestTimings:t.experimentalExactManifestTimings};i.masterPlaylistLoader_=\"dash\"===i.sourceType_?new as(n,i.vhs_,i.requestOptions_):new Ba(n,i.vhs_,i.requestOptions_),i.setupMasterPlaylistLoaderListeners_(),i.mainSegmentLoader_=new eo(pe.mergeOptions(v,{segmentMetadataTrack:i.segmentMetadataTrack_,loaderType:\"main\"}),t),i.audioSegmentLoader_=new eo(pe.mergeOptions(v,{loaderType:\"audio\"}),t),i.subtitleSegmentLoader_=new wo(pe.mergeOptions(v,{loaderType:\"vtt\",featuresNativeTextTracks:i.tech_.featuresNativeTextTracks}),t),i.setupSegmentLoaderListeners_(),i.experimentalBufferBasedABR&&(i.masterPlaylistLoader_.one(\"loadedplaylist\",function(){return i.startABRTimer_()}),i.tech_.on(\"pause\",function(){return i.stopABRTimer_()}),i.tech_.on(\"play\",function(){return i.startABRTimer_()})),Bo.forEach(function(e){i[e+\"_\"]=No.bind(Ve.default(i),e)}),i.logger_=ea(\"MPC\"),i.triggeredFmp4Usage=!1,\"none\"===i.tech_.preload()?(i.loadOnPlay_=function(){i.loadOnPlay_=null,i.masterPlaylistLoader_.load()},i.tech_.one(\"play\",i.loadOnPlay_)):i.masterPlaylistLoader_.load(),i.timeToLoadedData__=-1,i.mainAppendsToLoadedData__=-1,i.audioAppendsToLoadedData__=-1;var y=\"none\"===i.tech_.preload()?\"play\":\"loadstart\";return i.tech_.one(y,function(){var e=Date.now();i.tech_.one(\"loadeddata\",function(){i.timeToLoadedData__=Date.now()-e,i.mainAppendsToLoadedData__=i.mainSegmentLoader_.mediaAppends,i.audioAppendsToLoadedData__=i.audioSegmentLoader_.mediaAppends})}),i}He.default(t,e);var i=t.prototype;return i.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},i.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},i.appendsToLoadedData_=function(){var e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return-1===e||-1===t?-1:e+t},i.timeToLoadedData_=function(){return this.timeToLoadedData__},i.checkABR_=function(){var e=this.selectPlaylist();e&&this.shouldSwitchToMedia_(e)&&this.switchMedia_(e,\"abr\")},i.switchMedia_=function(e,t,i){var n=this.media(),r=n&&(n.id||n.uri),a=e.id||e.uri;r&&r!==a&&(this.logger_(\"switch media \"+r+\" -> \"+a+\" from \"+t),this.tech_.trigger({type:\"usage\",name:\"vhs-rendition-change-\"+t})),this.masterPlaylistLoader_.media(e,i)},i.startABRTimer_=function(){var e=this;this.stopABRTimer_(),this.abrTimer_=Be.default.setInterval(function(){return e.checkABR_()},250)},i.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(Be.default.clearInterval(this.abrTimer_),this.abrTimer_=null)},i.getAudioTrackPlaylists_=function(){var e=this.master(),t=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return t;var i,n=e.mediaGroups.AUDIO,r=Object.keys(n);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)i=this.mediaTypes_.AUDIO.activeTrack();else{var a=n.main||r.length&&n[r[0]];for(var s in a)if(a[s].default){i={label:s};break}}if(!i)return t;var o=[];for(var l in n)if(n[l][i.label]){var u=n[l][i.label];if(u.playlists&&u.playlists.length)o.push.apply(o,u.playlists);else if(u.uri)o.push(u);else if(e.playlists.length)for(var d=0;d<e.playlists.length;d++){var c=e.playlists[d];c.attributes&&c.attributes.AUDIO&&c.attributes.AUDIO===l&&o.push(c)}}return o.length?o:t},i.setupMasterPlaylistLoaderListeners_=function(){var e=this;this.masterPlaylistLoader_.on(\"loadedmetadata\",function(){var t=e.masterPlaylistLoader_.media(),i=1.5*t.targetDuration*1e3;ba(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=i,t.endList&&\"none\"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),jo({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,vhs:e.vhs_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t),e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger(\"selectedinitialmedia\"):e.mediaTypes_.AUDIO.activePlaylistLoader.one(\"loadedmetadata\",function(){e.trigger(\"selectedinitialmedia\")})}),this.masterPlaylistLoader_.on(\"loadedplaylist\",function(){e.loadOnPlay_&&e.tech_.off(\"play\",e.loadOnPlay_);var t=e.masterPlaylistLoader_.media();if(!t){var i;if(e.excludeUnsupportedVariants_(),e.enableLowInitialPlaylist&&(i=e.selectInitialPlaylist()),i||(i=e.selectPlaylist()),!i||!e.shouldSwitchToMedia_(i))return;if(e.initialMedia_=i,e.switchMedia_(e.initialMedia_,\"initial\"),!(\"vhs-json\"===e.sourceType_&&e.initialMedia_.segments))return;t=e.initialMedia_}e.handleUpdatedMediaPlaylist(t)}),this.masterPlaylistLoader_.on(\"error\",function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on(\"mediachanging\",function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on(\"mediachange\",function(){var t=e.masterPlaylistLoader_.media(),i=1.5*t.targetDuration*1e3;ba(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=i,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:\"mediachange\",bubbles:!0})}),this.masterPlaylistLoader_.on(\"playlistunchanged\",function(){var t=e.masterPlaylistLoader_.media();\"playlist-unchanged\"!==t.lastExcludeReason_&&e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:\"Playlist no longer updating.\",reason:\"playlist-unchanged\"}),e.tech_.trigger(\"playliststuck\"))}),this.masterPlaylistLoader_.on(\"renditiondisabled\",function(){e.tech_.trigger({type:\"usage\",name:\"vhs-rendition-disabled\"}),e.tech_.trigger({type:\"usage\",name:\"hls-rendition-disabled\"})}),this.masterPlaylistLoader_.on(\"renditionenabled\",function(){e.tech_.trigger({type:\"usage\",name:\"vhs-rendition-enabled\"}),e.tech_.trigger({type:\"usage\",name:\"hls-rendition-enabled\"})})},i.handleUpdatedMediaPlaylist=function(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},i.triggerPresenceUsage_=function(e,t){var i=e.mediaGroups||{},n=!0,r=Object.keys(i.AUDIO);for(var a in i.AUDIO)for(var s in i.AUDIO[a])i.AUDIO[a][s].uri||(n=!1);n&&(this.tech_.trigger({type:\"usage\",name:\"vhs-demuxed\"}),this.tech_.trigger({type:\"usage\",name:\"hls-demuxed\"})),Object.keys(i.SUBTITLES).length&&(this.tech_.trigger({type:\"usage\",name:\"vhs-webvtt\"}),this.tech_.trigger({type:\"usage\",name:\"hls-webvtt\"})),Xr.Playlist.isAes(t)&&(this.tech_.trigger({type:\"usage\",name:\"vhs-aes\"}),this.tech_.trigger({type:\"usage\",name:\"hls-aes\"})),r.length&&Object.keys(i.AUDIO[r[0]]).length>1&&(this.tech_.trigger({type:\"usage\",name:\"vhs-alternate-audio\"}),this.tech_.trigger({type:\"usage\",name:\"hls-alternate-audio\"})),this.useCueTags_&&(this.tech_.trigger({type:\"usage\",name:\"vhs-playlist-cue-tags\"}),this.tech_.trigger({type:\"usage\",name:\"hls-playlist-cue-tags\"}))},i.shouldSwitchToMedia_=function(e){var t=this.masterPlaylistLoader_.media(),i=this.tech_.buffered();return function(e){var t=e.currentPlaylist,i=e.nextPlaylist,n=e.forwardBuffer,r=e.bufferLowWaterLine,a=e.bufferHighWaterLine,s=e.duration,o=e.experimentalBufferBasedABR,l=e.log;if(!i)return pe.log.warn(\"We received no playlist to switch to. Please check your stream.\"),!1;var u=\"allowing switch \"+(t&&t.id||\"null\")+\" -> \"+i.id;if(!t)return l(u+\" as current playlist is not set\"),!0;if(i.id===t.id)return!1;if(!t.endList)return l(u+\" as current playlist is live\"),!0;var d=o?ss.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:ss.MAX_BUFFER_LOW_WATER_LINE;if(s<d)return l(u+\" as duration < max low water line (\"+s+\" < \"+d+\")\"),!0;var c=i.attributes.BANDWIDTH,h=t.attributes.BANDWIDTH;if(c<h&&(!o||n<a)){var f=u+\" as next bandwidth < current bandwidth (\"+c+\" < \"+h+\")\";return o&&(f+=\" and forwardBuffer < bufferHighWaterLine (\"+n+\" < \"+a+\")\"),l(f),!0}if((!o||c>h)&&n>=r){var p=u+\" as forwardBuffer >= bufferLowWaterLine (\"+n+\" >= \"+r+\")\";return o&&(p+=\" and next bandwidth > current bandwidth (\"+c+\" > \"+h+\")\"),l(p),!0}return l(\"not \"+u+\" as no switching criteria met\"),!1}({currentPlaylist:t,nextPlaylist:e,forwardBuffer:i.length?i.end(i.length-1)-this.tech_.currentTime():0,bufferLowWaterLine:this.bufferLowWaterLine(),bufferHighWaterLine:this.bufferHighWaterLine(),duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},i.setupSegmentLoaderListeners_=function(){var e=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on(\"bandwidthupdate\",function(){var t=e.selectPlaylist();e.shouldSwitchToMedia_(t)&&e.switchMedia_(t,\"bandwidthupdate\"),e.tech_.trigger(\"bandwidthupdate\")}),this.mainSegmentLoader_.on(\"progress\",function(){e.trigger(\"progress\")})),this.mainSegmentLoader_.on(\"error\",function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on(\"appenderror\",function(){e.error=e.mainSegmentLoader_.error_,e.trigger(\"error\")}),this.mainSegmentLoader_.on(\"syncinfoupdate\",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on(\"timestampoffset\",function(){e.tech_.trigger({type:\"usage\",name:\"vhs-timestamp-offset\"}),e.tech_.trigger({type:\"usage\",name:\"hls-timestamp-offset\"})}),this.audioSegmentLoader_.on(\"syncinfoupdate\",function(){e.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on(\"appenderror\",function(){e.error=e.audioSegmentLoader_.error_,e.trigger(\"error\")}),this.mainSegmentLoader_.on(\"ended\",function(){e.logger_(\"main segment loader ended\"),e.onEndOfStream()}),this.mainSegmentLoader_.on(\"earlyabort\",function(t){e.experimentalBufferBasedABR||(e.delegateLoaders_(\"all\",[\"abort\"]),e.blacklistCurrentPlaylist({message:\"Aborted early because there isn't enough bandwidth to complete the request without rebuffering.\"},120))});var t=function t(){if(!e.sourceUpdater_.hasCreatedSourceBuffers())return e.tryToCreateSourceBuffers_();var t=e.getCodecsOrExclude_();t&&e.sourceUpdater_.addOrChangeSourceBuffers(t)};this.mainSegmentLoader_.on(\"trackinfo\",t),this.audioSegmentLoader_.on(\"trackinfo\",t),this.mainSegmentLoader_.on(\"fmp4\",function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:\"usage\",name:\"vhs-fmp4\"}),e.tech_.trigger({type:\"usage\",name:\"hls-fmp4\"}),e.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on(\"fmp4\",function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:\"usage\",name:\"vhs-fmp4\"}),e.tech_.trigger({type:\"usage\",name:\"hls-fmp4\"}),e.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on(\"ended\",function(){e.logger_(\"audioSegmentLoader ended\"),e.onEndOfStream()})},i.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},i.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},i.smoothQualityChange_=function(e){void 0===e&&(e=this.selectPlaylist()),this.fastQualityChange_(e)},i.fastQualityChange_=function(e){var t=this;void 0===e&&(e=this.selectPlaylist()),e!==this.masterPlaylistLoader_.media()?(this.switchMedia_(e,\"fast-quality\"),this.mainSegmentLoader_.resetEverything(function(){pe.browser.IE_VERSION||pe.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())})):this.logger_(\"skipping fastQualityChange because new media is same as old\")},i.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}},i.setupFirstPlay=function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_)return!1;if(!t.endList){var i=this.seekable();if(!i.length)return!1;if(pe.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one(\"loadedmetadata\",function(){e.trigger(\"firstplay\"),e.tech_.setCurrentTime(i.end(0)),e.hasPlayed_=!0}),!1;this.trigger(\"firstplay\"),this.tech_.setCurrentTime(i.end(0))}return this.hasPlayed_=!0,this.load(),!0},i.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var e=this.tech_.play();void 0!==e&&\"function\"==typeof e.then&&e.then(null,function(e){})}this.trigger(\"sourceopen\")},i.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var e=this.inbandTextTracks_.metadataTrack_.cues;if(e&&e.length){var t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}}},i.handleDurationChange_=function(){this.tech_.trigger(\"durationchange\")},i.onEndOfStream=function(){var e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var t=this.mainSegmentLoader_.getCurrentMediaInfo_();e=!t||t.hasVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},i.stuckAtPlaylistEnd_=function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.duration());if(null===t)return!1;var i=Xr.Playlist.playlistEnd(e,t),n=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return i-n<=.1;var a=r.end(r.length-1);return a-n<=.1&&i-a<=.1},i.blacklistCurrentPlaylist=function(e,t){void 0===e&&(e={});var i=e.playlist||this.masterPlaylistLoader_.media();if(t=t||e.blacklistDuration||this.blacklistDuration,!i)return this.error=e,void(\"open\"!==this.mediaSource.readyState?this.trigger(\"error\"):this.sourceUpdater_.endOfStream(\"network\"));i.playlistErrors_++;var n,r=this.masterPlaylistLoader_.master.playlists,a=r.filter(va),s=1===a.length&&a[0]===i;if(1===r.length&&t!==1/0)return pe.log.warn(\"Problem encountered with playlist \"+i.id+\". Trying again since it is the only playlist.\"),this.tech_.trigger(\"retryplaylist\"),this.masterPlaylistLoader_.load(s);if(s){var o=!1;r.forEach(function(e){if(e!==i){var t=e.excludeUntil;void 0!==t&&t!==1/0&&(o=!0,delete e.excludeUntil)}}),o&&(pe.log.warn(\"Removing other playlists from the exclusion list because the last rendition is about to be excluded.\"),this.tech_.trigger(\"retryplaylist\"))}n=i.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*t,i.excludeUntil=n,e.reason&&(i.lastExcludeReason_=e.reason),this.tech_.trigger(\"blacklistplaylist\"),this.tech_.trigger({type:\"usage\",name:\"vhs-rendition-blacklisted\"}),this.tech_.trigger({type:\"usage\",name:\"hls-rendition-blacklisted\"});var l=this.selectPlaylist();if(!l)return this.error=\"Playback cannot continue. No available working or supported playlists.\",void this.trigger(\"error\");var u=e.internal?this.logger_:pe.log.warn,d=e.message?\" \"+e.message:\"\";u((e.internal?\"Internal problem\":\"Problem\")+\" encountered with playlist \"+i.id+\".\"+d+\" Switching to playlist \"+l.id+\".\"),\nl.attributes.AUDIO!==i.attributes.AUDIO&&this.delegateLoaders_(\"audio\",[\"abort\",\"pause\"]),l.attributes.SUBTITLES!==i.attributes.SUBTITLES&&this.delegateLoaders_(\"subtitle\",[\"abort\",\"pause\"]),this.delegateLoaders_(\"main\",[\"abort\",\"pause\"]);var c=l.targetDuration/2*1e3||5e3,h=\"number\"==typeof l.lastRequest&&Date.now()-l.lastRequest<=c;return this.switchMedia_(l,\"exclude\",s||h)},i.pauseLoading=function(){this.delegateLoaders_(\"all\",[\"abort\",\"pause\"]),this.stopABRTimer_()},i.delegateLoaders_=function(e,t){var i=this,n=[],r=\"all\"===e;(r||\"main\"===e)&&n.push(this.masterPlaylistLoader_);var a=[];(r||\"audio\"===e)&&a.push(\"AUDIO\"),(r||\"subtitle\"===e)&&(a.push(\"CLOSED-CAPTIONS\"),a.push(\"SUBTITLES\")),a.forEach(function(e){var t=i.mediaTypes_[e]&&i.mediaTypes_[e].activePlaylistLoader;t&&n.push(t)}),[\"main\",\"audio\",\"subtitle\"].forEach(function(t){var r=i[t+\"SegmentLoader_\"];!r||e!==t&&\"all\"!==e||n.push(r)}),n.forEach(function(e){return t.forEach(function(t){\"function\"==typeof e[t]&&e[t]()})})},i.setCurrentTime=function(e){var t=ia(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},i.duration=function(){if(!this.masterPlaylistLoader_)return 0;var e=this.masterPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Xr.Playlist.duration(e):1/0:0},i.seekable=function(){return this.seekable_},i.onSyncInfoUpdate_=function(){var e;if(this.masterPlaylistLoader_){var t=this.masterPlaylistLoader_.media();if(t){var i=this.syncController_.getExpiredTime(t,this.duration());if(null!==i){var n=this.masterPlaylistLoader_.master,r=Xr.Playlist.seekable(t,i,Xr.Playlist.liveEdgeDelay(n,t));if(0!==r.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(t=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(i=this.syncController_.getExpiredTime(t,this.duration())))return;if(0===(e=Xr.Playlist.seekable(t,i,Xr.Playlist.liveEdgeDelay(n,t))).length)return}var a,s;this.seekable_&&this.seekable_.length&&(a=this.seekable_.end(0),s=this.seekable_.start(0)),e?e.start(0)>r.end(0)||r.start(0)>e.end(0)?this.seekable_=r:this.seekable_=pe.createTimeRanges([[e.start(0)>r.start(0)?e.start(0):r.start(0),e.end(0)<r.end(0)?e.end(0):r.end(0)]]):this.seekable_=r,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===a&&this.seekable_.start(0)===s||(this.logger_(\"seekable updated [\"+ra(this.seekable_)+\"]\"),this.tech_.trigger(\"seekablechanged\"))}}}}},i.updateDuration=function(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener(\"sourceopen\",this.updateDuration_),this.updateDuration_=null),\"open\"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener(\"sourceopen\",this.updateDuration_);if(e){var t=this.seekable();if(!t.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<t.end(t.length-1))&&this.sourceUpdater_.setDuration(t.end(t.length-1))}else{var i=this.tech_.buffered(),n=Xr.Playlist.duration(this.masterPlaylistLoader_.media());i.length>0&&(n=Math.max(n,i.end(i.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)}},i.dispose=function(){var e=this;this.trigger(\"dispose\"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off(\"play\",this.loadOnPlay_),[\"AUDIO\",\"SUBTITLES\"].forEach(function(t){var i=e.mediaTypes_[t].groups;for(var n in i)i[n].forEach(function(e){e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener(\"sourceopen\",this.updateDuration_),this.mediaSource.removeEventListener(\"durationchange\",this.handleDurationChange_),this.mediaSource.removeEventListener(\"sourceopen\",this.handleSourceOpen_),this.mediaSource.removeEventListener(\"sourceended\",this.handleSourceEnded_),this.off()},i.master=function(){return this.masterPlaylistLoader_.master},i.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},i.areMediaTypesKnown_=function(){var e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),i=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!t||!i)},i.getCodecsOrExclude_=function(){var e=this,t={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};t.video=t.main;var i=Bs(this.master(),this.media()),n={},r=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(t.main.hasVideo&&(n.video=i.video||t.main.videoCodec||Ie.DEFAULT_VIDEO_CODEC),t.main.isMuxed&&(n.video+=\",\"+(i.audio||t.main.audioCodec||Ie.DEFAULT_AUDIO_CODEC)),(t.main.hasAudio&&!t.main.isMuxed||t.audio.hasAudio||r)&&(n.audio=i.audio||t.main.audioCodec||t.audio.audioCodec||Ie.DEFAULT_AUDIO_CODEC,t.audio.isFmp4=t.main.hasAudio&&!t.main.isMuxed?t.main.isFmp4:t.audio.isFmp4),n.audio||n.video){var a,s={};if([\"video\",\"audio\"].forEach(function(e){if(n.hasOwnProperty(e)&&(r=t[e].isFmp4,o=n[e],!(r?Ie.browserSupportsCodec(o):Ie.muxerSupportsCodec(o)))){var i=t[e].isFmp4?\"browser\":\"muxer\";s[i]=s[i]||[],s[i].push(n[e]),\"audio\"===e&&(a=i)}var r,o}),r&&a&&this.media().attributes.AUDIO){var o=this.media().attributes.AUDIO;this.master().playlists.forEach(function(t){(t.attributes&&t.attributes.AUDIO)===o&&t!==e.media()&&(t.excludeUntil=1/0)}),this.logger_(\"excluding audio group \"+o+\" as \"+a+' does not support codec(s): \"'+n.audio+'\"')}if(!Object.keys(s).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var l=[];if([\"video\",\"audio\"].forEach(function(t){var i=(Ie.parseCodecs(e.sourceUpdater_.codecs[t]||\"\")[0]||{}).type,r=(Ie.parseCodecs(n[t]||\"\")[0]||{}).type;i&&r&&i.toLowerCase()!==r.toLowerCase()&&l.push('\"'+e.sourceUpdater_.codecs[t]+'\" -> \"'+n[t]+'\"')}),l.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:\"Codec switching not supported: \"+l.join(\", \")+\".\",blacklistDuration:1/0,internal:!0})}return n}var u=Object.keys(s).reduce(function(e,t){return e&&(e+=\", \"),e+=t+' does not support codec(s): \"'+s[t].join(\",\")+'\"'},\"\")+\".\";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:u,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:\"Could not determine codecs for playlist.\",blacklistDuration:1/0})},i.tryToCreateSourceBuffers_=function(){if(\"open\"===this.mediaSource.readyState&&!this.sourceUpdater_.hasCreatedSourceBuffers()&&this.areMediaTypesKnown_()){var e=this.getCodecsOrExclude_();if(e){this.sourceUpdater_.createSourceBuffers(e);var t=[e.video,e.audio].filter(Boolean).join(\",\");this.excludeIncompatibleVariants_(t)}}},i.excludeUnsupportedVariants_=function(){var e=this,t=this.master().playlists,i=[];Object.keys(t).forEach(function(n){var r=t[n];if(-1===i.indexOf(r.id)){i.push(r.id);var a=Bs(e.master,r),s=[];!a.audio||Ie.muxerSupportsCodec(a.audio)||Ie.browserSupportsCodec(a.audio)||s.push(\"audio codec \"+a.audio),!a.video||Ie.muxerSupportsCodec(a.video)||Ie.browserSupportsCodec(a.video)||s.push(\"video codec \"+a.video),a.text&&\"stpp.ttml.im1t\"===a.text&&s.push(\"text codec \"+a.text),s.length&&(r.excludeUntil=1/0,e.logger_(\"excluding \"+r.id+\" for unsupported: \"+s.join(\", \")))}})},i.excludeIncompatibleVariants_=function(e){var t=this,i=[],n=this.master().playlists,r=Us(Ie.parseCodecs(e)),a=js(r),s=r.video&&Ie.parseCodecs(r.video)[0]||null,o=r.audio&&Ie.parseCodecs(r.audio)[0]||null;Object.keys(n).forEach(function(e){var r=n[e];if(-1===i.indexOf(r.id)&&r.excludeUntil!==1/0){i.push(r.id);var l=[],u=Bs(t.masterPlaylistLoader_.master,r),d=js(u);if(u.audio||u.video){if(d!==a&&l.push('codec count \"'+d+'\" !== \"'+a+'\"'),!t.sourceUpdater_.canChangeType()){var c=u.video&&Ie.parseCodecs(u.video)[0]||null,h=u.audio&&Ie.parseCodecs(u.audio)[0]||null;c&&s&&c.type.toLowerCase()!==s.type.toLowerCase()&&l.push('video codec \"'+c.type+'\" !== \"'+s.type+'\"'),h&&o&&h.type.toLowerCase()!==o.type.toLowerCase()&&l.push('audio codec \"'+h.type+'\" !== \"'+o.type+'\"')}l.length&&(r.excludeUntil=1/0,t.logger_(\"blacklisting \"+r.id+\": \"+l.join(\" && \")))}}})},i.updateAdCues_=function(e){var t=0,i=this.seekable();i.length&&(t=i.start(0)),function(e,t,i){if(void 0===i&&(i=0),e.segments)for(var n,r=i,a=0;a<e.segments.length;a++){var s=e.segments[a];if(n||(n=To(t,r+s.duration/2)),n){if(\"cueIn\"in s){n.endTime=r,n.adEndTime=r,r+=s.duration,n=null;continue}if(r<n.endTime){r+=s.duration;continue}n.endTime+=s.duration}else if(\"cueOut\"in s&&((n=new Be.default.VTTCue(r,r+s.duration,s.cueOut)).adStartTime=r,n.adEndTime=r+parseFloat(s.cueOut),t.addCue(n)),\"cueOutCont\"in s){var o=s.cueOutCont.split(\"/\").map(parseFloat),l=o[0],u=o[1];(n=new Be.default.VTTCue(r,r+s.duration,\"\")).adStartTime=r-l,n.adEndTime=n.adStartTime+u,t.addCue(n)}r+=s.duration}}(e,this.cueTagsTrack_,t)},i.goalBufferLength=function(){var e=this.tech_.currentTime(),t=ss.GOAL_BUFFER_LENGTH,i=ss.GOAL_BUFFER_LENGTH_RATE,n=Math.max(t,ss.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*i,n)},i.bufferLowWaterLine=function(){var e=this.tech_.currentTime(),t=ss.BUFFER_LOW_WATER_LINE,i=ss.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(t,ss.MAX_BUFFER_LOW_WATER_LINE),r=Math.max(t,ss.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*i,this.experimentalBufferBasedABR?r:n)},i.bufferHighWaterLine=function(){return ss.BUFFER_HIGH_WATER_LINE},t}(pe.EventTarget),Vo=function(e,t,i){var n,r,a,s=e.masterPlaylistController_,o=s[(e.options_.smoothQualityChange?\"smooth\":\"fast\")+\"QualityChange_\"].bind(s);if(t.attributes){var l=t.attributes.RESOLUTION;this.width=l&&l.width,this.height=l&&l.height,this.bandwidth=t.attributes.BANDWIDTH}this.codecs=Bs(s.master(),t),this.playlist=t,this.id=i,this.enabled=(n=e.playlists,r=t.id,a=o,function(e){var t=n.master.playlists[r],i=_a(t),s=va(t);return void 0===e?s:(e?delete t.disabled:t.disabled=!0,e===s||i||(a(),e?n.trigger(\"renditionenabled\"):n.trigger(\"renditiondisabled\")),e)})},Ho=[\"seeking\",\"seeked\",\"pause\",\"playing\",\"error\"],zo=function(){function e(e){var t=this;this.masterPlaylistController_=e.masterPlaylistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=ea(\"PlaybackWatcher\"),this.logger_(\"initialize\");var i=function(){return t.monitorCurrentTime_()},n=function(){return t.monitorCurrentTime_()},r=function(){return t.techWaiting_()},a=function(){return t.cancelTimer_()},s=function(){return t.fixesBadSeeks_()},o=this.masterPlaylistController_,l=[\"main\",\"subtitle\",\"audio\"],u={};l.forEach(function(e){u[e]={reset:function(){return t.resetSegmentDownloads_(e)},updateend:function(){return t.checkSegmentDownloads_(e)}},o[e+\"SegmentLoader_\"].on(\"appendsdone\",u[e].updateend),o[e+\"SegmentLoader_\"].on(\"playlistupdate\",u[e].reset),t.tech_.on([\"seeked\",\"seeking\"],u[e].reset)}),this.tech_.on(\"seekablechanged\",s),this.tech_.on(\"waiting\",r),this.tech_.on(Ho,a),this.tech_.on(\"canplay\",n),this.tech_.one(\"play\",i),this.dispose=function(){t.logger_(\"dispose\"),t.tech_.off(\"seekablechanged\",s),t.tech_.off(\"waiting\",r),t.tech_.off(Ho,a),t.tech_.off(\"canplay\",n),t.tech_.off(\"play\",i),l.forEach(function(e){o[e+\"SegmentLoader_\"].off(\"appendsdone\",u[e].updateend),o[e+\"SegmentLoader_\"].off(\"playlistupdate\",u[e].reset),t.tech_.off([\"seeked\",\"seeking\"],u[e].reset)}),t.checkCurrentTimeTimeout_&&Be.default.clearTimeout(t.checkCurrentTimeTimeout_),t.cancelTimer_()}}var t=e.prototype;return t.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&Be.default.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=Be.default.setTimeout(this.monitorCurrentTime_.bind(this),250)},t.resetSegmentDownloads_=function(e){var t=this.masterPlaylistController_[e+\"SegmentLoader_\"];this[e+\"StalledDownloads_\"]>0&&this.logger_(\"resetting possible stalled download count for \"+e+\" loader\"),this[e+\"StalledDownloads_\"]=0,this[e+\"Buffered_\"]=t.buffered_()},t.checkSegmentDownloads_=function(e){var t=this.masterPlaylistController_,i=t[e+\"SegmentLoader_\"],n=i.buffered_(),r=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e)return!0;if(e.length!==t.length)return!0;for(var i=0;i<e.length;i++)if(e.start(i)!==t.start(i)||e.end(i)!==t.end(i))return!0;return!1}(this[e+\"Buffered_\"],n);this[e+\"Buffered_\"]=n,r?this.resetSegmentDownloads_(e):(this[e+\"StalledDownloads_\"]++,this.logger_(\"found #\"+this[e+\"StalledDownloads_\"]+\" \"+e+\" appends that did not increase buffer (possible stalled download)\",{playlistId:i.playlist_&&i.playlist_.id,buffered:aa(n)}),this[e+\"StalledDownloads_\"]<10||(this.logger_(e+\" loader stalled download exclusion\"),this.resetSegmentDownloads_(e),this.tech_.trigger({type:\"usage\",name:\"vhs-\"+e+\"-download-exclusion\"}),\"subtitle\"!==e&&t.blacklistCurrentPlaylist({message:\"Excessive \"+e+\" segment downloading detected.\"},1/0)))},t.checkCurrentTime_=function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+.1>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}},t.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_(\"cancelTimer_\"),clearTimeout(this.timer_)),this.timer_=null},t.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var e,t=this.seekable(),i=this.tech_.currentTime();if(this.afterSeekableWindow_(t,i,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(e=t.end(t.length-1)),this.beforeSeekableWindow_(t,i)){var n=t.start(0);e=n+(n===t.end(0)?0:.1)}if(void 0!==e)return this.logger_(\"Trying to seek outside of seekable at time \"+i+\" with seekable range \"+ra(t)+\". Seeking to \"+e+\".\"),this.tech_.setCurrentTime(e),!0;var r=this.tech_.buffered();return!!function(e){var t=e.buffered,i=e.targetDuration,n=e.currentTime;return!(!t.length||t.end(0)-t.start(0)<2*i||n>t.start(0)||!(t.start(0)-n<i))}({buffered:r,targetDuration:this.media().targetDuration,currentTime:i})&&(e=r.start(0)+.1,this.logger_(\"Buffered region starts (\"+r.start(0)+\")  just beyond seek point (\"+i+\"). Seeking to \"+e+\".\"),this.tech_.setCurrentTime(e),!0)},t.waiting_=function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),i=ia(t,e);return i.length&&e+3<=i.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_(\"Stopped at \"+e+\" while inside a buffered region [\"+i.start(0)+\" -> \"+i.end(0)+\"]. Attempting to resume playback by seeking to the current time.\"),this.tech_.trigger({type:\"usage\",name:\"vhs-unknown-waiting\"}),void this.tech_.trigger({type:\"usage\",name:\"hls-unknown-waiting\"})):void 0}},t.techWaiting_=function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var i=e.end(e.length-1);return this.logger_(\"Fell out of live window at time \"+t+\". Seeking to live point (seekable end) \"+i),this.cancelTimer_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:\"usage\",name:\"vhs-live-resync\"}),this.tech_.trigger({type:\"usage\",name:\"hls-live-resync\"}),!0}var n=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,r=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:n.audioBuffered(),videoBuffered:n.videoBuffered(),currentTime:t}))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:\"usage\",name:\"vhs-video-underflow\"}),this.tech_.trigger({type:\"usage\",name:\"hls-video-underflow\"}),!0;var a=na(r,t);if(a.length>0){var s=a.start(0)-t;return this.logger_(\"Stopped at \"+t+\", setting timer for \"+s+\", seeking to \"+a.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*s,t),!0}return!1},t.afterSeekableWindow_=function(e,t,i,n){if(void 0===n&&(n=!1),!e.length)return!1;var r=e.end(e.length-1)+.1;return!i.endList&&n&&(r=e.end(e.length-1)+3*i.targetDuration),t>r},t.beforeSeekableWindow_=function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)},t.videoUnderflow_=function(e){var t=e.videoBuffered,i=e.audioBuffered,n=e.currentTime;if(t){var r;if(t.length&&i.length){var a=ia(t,n-3),s=ia(t,n),o=ia(i,n);o.length&&!s.length&&a.length&&(r={start:a.end(0),end:o.end(0)})}else na(t,n).length||(r=this.gapFromVideoUnderflow_(t,n));return!!r&&(this.logger_(\"Encountered a gap in video from \"+r.start+\" to \"+r.end+\". Seeking to current time \"+n),!0)}},t.skipTheGap_=function(e){var t=this.tech_.buffered(),i=this.tech_.currentTime(),n=na(t,i);this.cancelTimer_(),0!==n.length&&i===e&&(this.logger_(\"skipTheGap_:\",\"currentTime:\",i,\"scheduled currentTime:\",e,\"nextRange start:\",n.start(0)),this.tech_.setCurrentTime(n.start(0)+1/30),this.tech_.trigger({type:\"usage\",name:\"vhs-gap-skip\"}),this.tech_.trigger({type:\"usage\",name:\"hls-gap-skip\"}))},t.gapFromVideoUnderflow_=function(e,t){for(var i=function(e){if(e.length<2)return pe.createTimeRanges();for(var t=[],i=1;i<e.length;i++){var n=e.end(i-1),r=e.start(i);t.push([n,r])}return pe.createTimeRanges(t)}(e),n=0;n<i.length;n++){var r=i.start(n),a=i.end(n);if(t-r<4&&t-r>2)return{start:r,end:a}}return null},e}(),Go={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},Yo=function(e){!function e(t,i){var n=0,r=0,a=pe.mergeOptions(Go,i);t.ready(function(){t.trigger({type:\"usage\",name:\"vhs-error-reload-initialized\"}),t.trigger({type:\"usage\",name:\"hls-error-reload-initialized\"})});var s=function(){r&&t.currentTime(r)},o=function(e){null!=e&&(r=t.duration()!==1/0&&t.currentTime()||0,t.one(\"loadedmetadata\",s),t.src(e),t.trigger({type:\"usage\",name:\"vhs-error-reload\"}),t.trigger({type:\"usage\",name:\"hls-error-reload\"}),t.play())},l=function(){return Date.now()-n<1e3*a.errorInterval?(t.trigger({type:\"usage\",name:\"vhs-error-reload-canceled\"}),void t.trigger({type:\"usage\",name:\"hls-error-reload-canceled\"})):a.getSource&&\"function\"==typeof a.getSource?(n=Date.now(),a.getSource.call(t,o)):void pe.log.error(\"ERROR: reloadSourceOnError - The option getSource must be a function!\")},u=function e(){t.off(\"loadedmetadata\",s),t.off(\"error\",l),t.off(\"dispose\",e)};t.on(\"error\",l),t.on(\"dispose\",u),t.reloadSourceOnError=function(i){u(),e(t,i)}}(this,e)},Wo={PlaylistLoader:Ba,Playlist:Ta,utils:Xa,STANDARD_PLAYLIST_SELECTOR:Ys,INITIAL_PLAYLIST_SELECTOR:function(){var e=this,t=this.playlists.master.playlists.filter(Ta.isEnabled);return Hs(t,function(e,t){return zs(e,t)}),t.filter(function(t){return!!Bs(e.playlists.master,t).video})[0]||null},lastBandwidthSelector:Ys,movingAverageBandwidthSelector:function(e){var t=-1,i=-1;if(e<0||e>1)throw new Error(\"Moving average bandwidth decay must be between 0 and 1.\");return function(){var n=this.useDevicePixelRatio&&Be.default.devicePixelRatio||1;return t<0&&(t=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(t=e*this.systemBandwidth+(1-e)*t,i=this.systemBandwidth),Gs(this.playlists.master,t,parseInt(Vs(this.tech_.el(),\"width\"),10)*n,parseInt(Vs(this.tech_.el(),\"height\"),10)*n,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},comparePlaylistBandwidth:zs,comparePlaylistResolution:function(e,t){var i,n;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||Be.default.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),i===(n=n||Be.default.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:i-n},xhr:Ha()};Object.keys(ss).forEach(function(e){Object.defineProperty(Wo,e,{get:function(){return pe.log.warn(\"using Vhs.\"+e+\" is UNSAFE be sure you know what you are doing\"),ss[e]},set:function(t){pe.log.warn(\"using Vhs.\"+e+\" is UNSAFE be sure you know what you are doing\"),\"number\"!=typeof t||t<0?pe.log.warn(\"value of Vhs.\"+e+\" must be greater than or equal to 0\"):ss[e]=t}})});var qo=function(e,t){for(var i=t.media(),n=-1,r=0;r<e.length;r++)if(e[r].id===i.id){n=r;break}e.selectedIndex_=n,e.trigger({selectedIndex:n,type:\"change\"})};Wo.canPlaySource=function(){return pe.log.warn(\"HLS is no longer a tech. Please remove it from your player's techOrder.\")};var Qo=function(e){var t=e.player,i=e.sourceKeySystems,n=e.audioMedia,r=e.mainPlaylists;if(!t.eme.initializeMediaKeys)return Promise.resolve();var a=function(e,t){return e.reduce(function(e,i){if(!i.contentProtection)return e;var n=t.reduce(function(e,t){var n=i.contentProtection[t];return n&&n.pssh&&(e[t]={pssh:n.pssh}),e},{});return Object.keys(n).length&&e.push(n),e},[])}(n?r.concat([n]):r,Object.keys(i)),s=[],o=[];return a.forEach(function(e){o.push(new Promise(function(e,i){t.tech_.one(\"keysessioncreated\",e)})),s.push(new Promise(function(i,n){t.eme.initializeMediaKeys({keySystems:e},function(e){e?n(e):i()})}))}),Promise.race([Promise.all(s),Promise.race(o)])},Jo=function(e){var t=e.player,i=function(e,t,i){if(!e)return e;var n={};t&&t.attributes&&t.attributes.CODECS&&(n=Us(Ie.parseCodecs(t.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(n.audio=i.attributes.CODECS);var r=Ie.getMimeForCodec(n.video),a=Ie.getMimeForCodec(n.audio),s={};for(var o in e)s[o]={},a&&(s[o].audioContentType=a),r&&(s[o].videoContentType=r),t.contentProtection&&t.contentProtection[o]&&t.contentProtection[o].pssh&&(s[o].pssh=t.contentProtection[o].pssh),\"string\"==typeof e[o]&&(s[o].url=e[o]);return pe.mergeOptions(e,s)}(e.sourceKeySystems,e.media,e.audioMedia);return!(!i||(t.currentSource().keySystems=i,i&&!t.eme&&(pe.log.warn(\"DRM encrypted source cannot be decrypted without a DRM plugin\"),1)))},Ko=function(){if(!Be.default.localStorage)return null;var e=Be.default.localStorage.getItem(\"videojs-vhs\");if(!e)return null;try{return JSON.parse(e)}catch(e){return null}};Wo.supportsNativeHls=function(){if(!Ne.default||!Ne.default.createElement)return!1;var e=Ne.default.createElement(\"video\");return!!pe.getTech(\"Html5\").isSupported()&&[\"application/vnd.apple.mpegurl\",\"audio/mpegurl\",\"audio/x-mpegurl\",\"application/x-mpegurl\",\"video/x-mpegurl\",\"video/mpegurl\",\"application/mpegurl\"].some(function(t){return/maybe|probably/i.test(e.canPlayType(t))})}(),Wo.supportsNativeDash=!!(Ne.default&&Ne.default.createElement&&pe.getTech(\"Html5\").isSupported())&&/maybe|probably/i.test(Ne.default.createElement(\"video\").canPlayType(\"application/dash+xml\")),Wo.supportsTypeNatively=function(e){return\"hls\"===e?Wo.supportsNativeHls:\"dash\"===e&&Wo.supportsNativeDash},Wo.isSupported=function(){return pe.log.warn(\"HLS is no longer a tech. Please remove it from your player's techOrder.\")};var Xo=function(e){function t(t,i,n){var r;if(r=e.call(this,i,pe.mergeOptions(n.hls,n.vhs))||this,n.hls&&Object.keys(n.hls).length&&pe.log.warn(\"Using hls options is deprecated. Use vhs instead.\"),\"number\"==typeof n.initialBandwidth&&(r.options_.bandwidth=n.initialBandwidth),r.logger_=ea(\"VhsHandler\"),i.options_&&i.options_.playerId){var a=pe(i.options_.playerId);a.hasOwnProperty(\"hls\")||Object.defineProperty(a,\"hls\",{get:function(){return pe.log.warn(\"player.hls is deprecated. Use player.tech().vhs instead.\"),i.trigger({type:\"usage\",name:\"hls-player-access\"}),Ve.default(r)},configurable:!0}),a.hasOwnProperty(\"vhs\")||Object.defineProperty(a,\"vhs\",{get:function(){return pe.log.warn(\"player.vhs is deprecated. Use player.tech().vhs instead.\"),i.trigger({type:\"usage\",name:\"vhs-player-access\"}),Ve.default(r)},configurable:!0}),a.hasOwnProperty(\"dash\")||Object.defineProperty(a,\"dash\",{get:function(){return pe.log.warn(\"player.dash is deprecated. Use player.tech().vhs instead.\"),Ve.default(r)},configurable:!0}),r.player_=a}if(r.tech_=i,r.source_=t,r.stats={},r.ignoreNextSeekingEvent_=!1,r.setOptions_(),r.options_.overrideNative&&i.overrideNativeAudioTracks&&i.overrideNativeVideoTracks)i.overrideNativeAudioTracks(!0),i.overrideNativeVideoTracks(!0);else if(r.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error(\"Overriding native HLS requires emulated tracks. See https://git.io/vMpjB\");return r.on(Ne.default,[\"fullscreenchange\",\"webkitfullscreenchange\",\"mozfullscreenchange\",\"MSFullscreenChange\"],function(e){var t=Ne.default.fullscreenElement||Ne.default.webkitFullscreenElement||Ne.default.mozFullScreenElement||Ne.default.msFullscreenElement;t&&t.contains(r.tech_.el())?r.masterPlaylistController_.fastQualityChange_():r.masterPlaylistController_.checkABR_()}),r.on(r.tech_,\"seeking\",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),r.on(r.tech_,\"error\",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),r.on(r.tech_,\"play\",r.play),r}He.default(t,e);var i=t.prototype;return i.setOptions_=function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,\"number\"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),\"number\"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var t=Ko();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:\"usage\",name:\"vhs-bandwidth-from-local-storage\"}),this.tech_.trigger({type:\"usage\",name:\"hls-bandwidth-from-local-storage\"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:\"usage\",name:\"vhs-throughput-from-local-storage\"}),this.tech_.trigger({type:\"usage\",name:\"hls-throughput-from-local-storage\"}))}\"number\"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=ss.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===ss.INITIAL_BANDWIDTH,[\"withCredentials\",\"useDevicePixelRatio\",\"limitRenditionByPlayerDimensions\",\"bandwidth\",\"smoothQualityChange\",\"customTagParsers\",\"customTagMappers\",\"handleManifestRedirects\",\"cacheEncryptionKeys\",\"playlistSelector\",\"initialPlaylistSelector\",\"experimentalBufferBasedABR\",\"liveRangeSafeTimeDelta\",\"experimentalLLHLS\",\"experimentalExactManifestTimings\",\"experimentalLeastPixelDiffSelector\"].forEach(function(t){void 0!==e.source_[t]&&(e.options_[t]=e.source_[t])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},i.src=function(e,t){var i=this;if(e){var n;this.setOptions_(),this.options_.src=0===(n=this.source_.src).toLowerCase().indexOf(\"data:application/vnd.videojs.vhs+json,\")?JSON.parse(n.substring(n.indexOf(\",\")+1)):n,this.options_.tech=this.tech_,this.options_.externVhs=Wo,this.options_.sourceType=Pe.simpleTypeFromSourceType(t),this.options_.seekTo=function(e){i.tech_.setCurrentTime(e)},this.options_.smoothQualityChange&&pe.log.warn(\"smoothQualityChange is deprecated and will be removed in the next major version\"),this.masterPlaylistController_=new Fo(this.options_);var r=pe.mergeOptions({liveRangeSafeTimeDelta:.1},this.options_,{seekable:function(){return i.seekable()},media:function(){return i.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new zo(r),this.masterPlaylistController_.on(\"error\",function(){var e=pe.players[i.tech_.options_.playerId],t=i.masterPlaylistController_.error;\"object\"!=(\"undefined\"==typeof t?\"undefined\":s(t))||t.code?\"string\"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)});var a=this.options_.experimentalBufferBasedABR?Wo.movingAverageBandwidthSelector(.55):Wo.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):a.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Wo.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e,t=1/(this.bandwidth||1);return e=this.throughput>0?1/this.throughput:0,Math.floor(1/(t+e))},set:function(){pe.log.error('The \"systemBandwidth\" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return i.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return i.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return i.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return i.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return i.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return i.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return i.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return i.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return i.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return i.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return i.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return i.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return i.masterPlaylistController_.timeToLoadedData_()||0;\n},enumerable:!0},buffered:{get:function(){return aa(i.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return i.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return i.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return i.tech_.name_},enumerable:!0},duration:{get:function(){return i.tech_.duration()},enumerable:!0},master:{get:function(){return i.playlists.master},enumerable:!0},playerDimensions:{get:function(){return i.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return aa(i.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return i.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one(\"canplay\",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on(\"bandwidthupdate\",function(){i.options_.useBandwidthFromLocalStorage&&function(e){if(!Be.default.localStorage)return!1;var t=Ko();t=t?pe.mergeOptions(t,e):e;try{Be.default.localStorage.setItem(\"videojs-vhs\",JSON.stringify(t))}catch(e){return!1}}({bandwidth:i.bandwidth,throughput:Math.round(i.throughput)})}),this.masterPlaylistController_.on(\"selectedinitialmedia\",function(){var e;(e=i).representations=function(){var t=e.masterPlaylistController_.master(),i=wa(t)?e.masterPlaylistController_.getAudioTrackPlaylists_():t.playlists;return i?i.filter(function(e){return!_a(e)}).map(function(t,i){return new Vo(e,t,t.id)}):[]}}),this.masterPlaylistController_.sourceUpdater_.on(\"createdsourcebuffers\",function(){i.setupEme_()}),this.on(this.masterPlaylistController_,\"progress\",function(){this.tech_.trigger(\"progress\")}),this.on(this.masterPlaylistController_,\"firstplay\",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=Be.default.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},i.setupEme_=function(){var e=this,t=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,i=Jo({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:t&&t.media()});this.player_.tech_.on(\"keystatuschange\",function(t){\"output-restricted\"===t.status&&e.masterPlaylistController_.blacklistCurrentPlaylist({playlist:e.masterPlaylistController_.media(),message:\"DRM keystatus changed to \"+t.status+\". Playlist will fail to play. Check for HDCP content.\",blacklistDuration:1/0})}),11!==pe.browser.IE_VERSION&&i?(this.logger_(\"waiting for EME key session creation\"),Qo({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:t&&t.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){e.logger_(\"created EME key session\"),e.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(t){e.logger_(\"error while creating EME key session\",t),e.player_.error({message:\"Failed to initialize media keys for EME\",code:3})})):this.masterPlaylistController_.sourceUpdater_.initializedEme()},i.setupQualityLevels_=function(){var e=this,t=pe.players[this.tech_.options_.playerId];t&&t.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on(\"selectedinitialmedia\",function(){var t,i;t=e.qualityLevels_,(i=e).representations().forEach(function(e){t.addQualityLevel(e)}),qo(t,i.playlists)}),this.playlists.on(\"mediachange\",function(){qo(e.qualityLevels_,e.playlists)}))},t.version=function(){return{\"@videojs/http-streaming\":\"2.10.2\",\"mux.js\":\"5.13.0\",\"mpd-parser\":\"0.19.0\",\"m3u8-parser\":\"4.7.0\",\"aes-decrypter\":\"3.1.2\"}},i.version=function(){return this.constructor.version()},i.canChangeType=function(){return bo.canChangeType()},i.play=function(){this.masterPlaylistController_.play()},i.setCurrentTime=function(e){this.masterPlaylistController_.setCurrentTime(e)},i.duration=function(){return this.masterPlaylistController_.duration()},i.seekable=function(){return this.masterPlaylistController_.seekable()},i.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&Be.default.URL.revokeObjectURL&&(Be.default.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),e.prototype.dispose.call(this)},i.convertToProgramTime=function(e,t){return Za({playlist:this.masterPlaylistController_.media(),time:e,callback:t})},i.seekToProgramTime=function(e,t,i,n){return void 0===i&&(i=!0),void 0===n&&(n=2),$a({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:n,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})},t}(pe.getComponent(\"Component\")),Zo={name:\"videojs-http-streaming\",VERSION:\"2.10.2\",canHandleSource:function(e,t){void 0===t&&(t={});var i=pe.mergeOptions(pe.options,t);return Zo.canPlayType(e.type,i)},handleSource:function(e,t,i){void 0===i&&(i={});var n=pe.mergeOptions(pe.options,i);return t.vhs=new Xo(e,t,n),pe.hasOwnProperty(\"hls\")||Object.defineProperty(t,\"hls\",{get:function(){return pe.log.warn(\"player.tech().hls is deprecated. Use player.tech().vhs instead.\"),t.vhs},configurable:!0}),t.vhs.xhr=Ha(),t.vhs.src(e.src,e.type),t.vhs},canPlayType:function(e,t){void 0===t&&(t={});var i=pe.mergeOptions(pe.options,t).vhs.overrideNative,n=void 0===i?!pe.browser.IS_ANY_SAFARI:i,r=Pe.simpleTypeFromSourceType(e);return!r||Wo.supportsTypeNatively(r)&&!n?\"\":\"maybe\"}};Ie.browserSupportsCodec(\"avc1.4d400d,mp4a.40.2\")&&pe.getTech(\"Html5\").registerSourceHandler(Zo,0),pe.VhsHandler=Xo,Object.defineProperty(pe,\"HlsHandler\",{get:function(){return pe.log.warn(\"videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead.\"),Xo},configurable:!0}),pe.VhsSourceHandler=Zo,Object.defineProperty(pe,\"HlsSourceHandler\",{get:function(){return pe.log.warn(\"videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead.\"),Zo},configurable:!0}),pe.Vhs=Wo,Object.defineProperty(pe,\"Hls\",{get:function(){return pe.log.warn(\"videojs.Hls is deprecated. Use videojs.Vhs instead.\"),Wo},configurable:!0}),pe.use||(pe.registerComponent(\"Hls\",Wo),pe.registerComponent(\"Vhs\",Wo)),pe.options.vhs=pe.options.vhs||{},pe.options.hls=pe.options.hls||{},pe.registerPlugin?pe.registerPlugin(\"reloadSourceOnError\",Yo):pe.plugin(\"reloadSourceOnError\",Yo),t.exports=pe},{\"@babel/runtime/helpers/assertThisInitialized\":1,\"@babel/runtime/helpers/construct\":2,\"@babel/runtime/helpers/extends\":3,\"@babel/runtime/helpers/inherits\":4,\"@babel/runtime/helpers/inheritsLoose\":5,\"@videojs/vhs-utils/cjs/byte-helpers\":9,\"@videojs/vhs-utils/cjs/codecs.js\":11,\"@videojs/vhs-utils/cjs/containers\":12,\"@videojs/vhs-utils/cjs/id3-helpers\":15,\"@videojs/vhs-utils/cjs/media-types.js\":16,\"@videojs/vhs-utils/cjs/resolve-url.js\":20,\"@videojs/xhr\":23,\"global/document\":34,\"global/window\":35,keycode:38,\"m3u8-parser\":39,\"mpd-parser\":41,\"mux.js/lib/tools/parse-sidx\":42,\"mux.js/lib/utils/clock\":43,\"safe-json-parse/tuple\":45,\"videojs-vtt.js\":48}],48:[function(e,t,i){var n=e(\"global/window\"),r=t.exports={WebVTT:e(\"./vtt.js\"),VTTCue:e(\"./vttcue.js\"),VTTRegion:e(\"./vttregion.js\")};n.vttjs=r,n.WebVTT=r.WebVTT;var a=r.VTTCue,s=r.VTTRegion,o=n.VTTCue,l=n.VTTRegion;r.shim=function(){n.VTTCue=a,n.VTTRegion=s},r.restore=function(){n.VTTCue=o,n.VTTRegion=l},n.VTTCue||r.shim()},{\"./vtt.js\":49,\"./vttcue.js\":50,\"./vttregion.js\":51,\"global/window\":35}],49:[function(e,t,i){function n(e,t){this.name=\"ParsingError\",this.code=e.code,this.message=t||e.message}function r(e){function t(e,t,i,n){return 3600*(0|e)+60*(0|t)+(0|i)+(0|n)/1e3}var i=e.match(/^(\\d+):(\\d{1,2})(:\\d{1,2})?\\.(\\d{3})/);return i?i[3]?t(i[1],i[2],i[3].replace(\":\",\"\"),i[4]):i[1]>59?t(i[1],i[2],0,i[4]):t(0,i[1],i[2],i[4]):null}function a(){this.values=_(null)}function s(e,t,i,n){var r=n?e.split(n):[e];for(var a in r)if(\"string\"==typeof r[a]){var s=r[a].split(i);2===s.length&&t(s[0],s[1])}}function o(e,t,i){function o(){var t=r(e);if(null===t)throw new n(n.Errors.BadTimeStamp,\"Malformed timestamp: \"+u);return e=e.replace(/^[^\\sa-zA-Z-]+/,\"\"),t}function l(){e=e.replace(/^\\s+/,\"\")}var u=e;if(l(),t.startTime=o(),l(),\"-->\"!==e.substr(0,3))throw new n(n.Errors.BadTimeStamp,\"Malformed time stamp (time stamps must be separated by '-->'): \"+u);e=e.substr(3),l(),t.endTime=o(),l(),function(e,t){var n=new a;s(e,function(e,t){switch(e){case\"region\":for(var r=i.length-1;r>=0;r--)if(i[r].id===t){n.set(e,i[r].region);break}break;case\"vertical\":n.alt(e,t,[\"rl\",\"lr\"]);break;case\"line\":var a=t.split(\",\"),s=a[0];n.integer(e,s),n.percent(e,s)&&n.set(\"snapToLines\",!1),n.alt(e,s,[\"auto\"]),2===a.length&&n.alt(\"lineAlign\",a[1],[\"start\",\"center\",\"end\"]);break;case\"position\":a=t.split(\",\"),n.percent(e,a[0]),2===a.length&&n.alt(\"positionAlign\",a[1],[\"start\",\"center\",\"end\"]);break;case\"size\":n.percent(e,t);break;case\"align\":n.alt(e,t,[\"start\",\"center\",\"end\",\"left\",\"right\"])}},/:/,/\\s/),t.region=n.get(\"region\",null),t.vertical=n.get(\"vertical\",\"\");try{t.line=n.get(\"line\",\"auto\")}catch(e){}t.lineAlign=n.get(\"lineAlign\",\"start\"),t.snapToLines=n.get(\"snapToLines\",!0),t.size=n.get(\"size\",100);try{t.align=n.get(\"align\",\"center\")}catch(e){t.align=n.get(\"align\",\"middle\")}try{t.position=n.get(\"position\",\"auto\")}catch(e){t.position=n.get(\"position\",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=n.get(\"positionAlign\",{start:\"start\",left:\"start\",center:\"center\",middle:\"center\",end:\"end\",right:\"end\"},t.align)}(e,t)}function l(e,t){function i(){if(!t)return null;var e,i=t.match(/^([^<]*)(<[^>]*>?)?/);return e=i[1]?i[1]:i[2],t=t.substr(e.length),e}function n(e,t){return!E[t.localName]||E[t.localName]===e.localName}function a(t,i){var n=y[t];if(!n)return null;var r=e.document.createElement(n),a=A[t];return a&&i&&(r[a]=i.trim()),r}for(var s,o,l=e.document.createElement(\"div\"),u=l,d=[];null!==(s=i());)if(\"<\"!==s[0])u.appendChild(e.document.createTextNode((o=s,v.innerHTML=o,o=v.textContent,v.textContent=\"\",o)));else{if(\"/\"===s[1]){d.length&&d[d.length-1]===s.substr(2).replace(\">\",\"\")&&(d.pop(),u=u.parentNode);continue}var c,h=r(s.substr(1,s.length-2));if(h){c=e.document.createProcessingInstruction(\"timestamp\",h),u.appendChild(c);continue}var f=s.match(/^<([^.\\s/0-9>]+)(\\.[^\\s\\\\>]+)?([^>\\\\]+)?(\\\\?)>?$/);if(!f)continue;if(!(c=a(f[1],f[3])))continue;if(!n(u,c))continue;if(f[2]){var p=f[2].split(\".\");p.forEach(function(e){var t=/^bg_/.test(e),i=t?e.slice(3):e;if(b.hasOwnProperty(i)){var n=t?\"background-color\":\"color\",r=b[i];c.style[n]=r}}),c.className=p.join(\" \")}d.push(f[1]),u.appendChild(c),u=c}return l}function u(e){for(var t=0;t<w.length;t++){var i=w[t];if(e>=i[0]&&e<=i[1])return!0}return!1}function d(e){function t(e,t){for(var i=t.childNodes.length-1;i>=0;i--)e.push(t.childNodes[i])}function i(e){if(!e||!e.length)return null;var n=e.pop(),r=n.textContent||n.innerText;if(r){var a=r.match(/^.*(\\n|\\r)/);return a?(e.length=0,a[0]):r}return\"ruby\"===n.tagName?i(e):n.childNodes?(t(e,n),i(e)):void 0}var n=[],r=\"\";if(!e||!e.childNodes)return\"ltr\";for(t(n,e);r=i(n);)for(var a=0;a<r.length;a++)if(u(r.charCodeAt(a)))return\"rtl\";return\"ltr\"}function c(){}function h(e,t,i){c.call(this),this.cue=t,this.cueDiv=l(e,t.text);var n={color:\"rgba(255, 255, 255, 1)\",backgroundColor:\"rgba(0, 0, 0, 0.8)\",position:\"relative\",left:0,right:0,top:0,bottom:0,display:\"inline\",writingMode:\"\"===t.vertical?\"horizontal-tb\":\"lr\"===t.vertical?\"vertical-lr\":\"vertical-rl\",unicodeBidi:\"plaintext\"};this.applyStyles(n,this.cueDiv),this.div=e.document.createElement(\"div\"),n={direction:d(this.cueDiv),writingMode:\"\"===t.vertical?\"horizontal-tb\":\"lr\"===t.vertical?\"vertical-lr\":\"vertical-rl\",unicodeBidi:\"plaintext\",textAlign:\"middle\"===t.align?\"center\":t.align,font:i.font,whiteSpace:\"pre-line\",position:\"absolute\"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var r=0;switch(t.positionAlign){case\"start\":r=t.position;break;case\"center\":r=t.position-t.size/2;break;case\"end\":r=t.position-t.size}\"\"===t.vertical?this.applyStyles({left:this.formatStyle(r,\"%\"),width:this.formatStyle(t.size,\"%\")}):this.applyStyles({top:this.formatStyle(r,\"%\"),height:this.formatStyle(t.size,\"%\")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,\"px\"),bottom:this.formatStyle(e.bottom,\"px\"),left:this.formatStyle(e.left,\"px\"),right:this.formatStyle(e.right,\"px\"),height:this.formatStyle(e.height,\"px\"),width:this.formatStyle(e.width,\"px\")})}}function f(e){var t,i,n,r;if(e.div){i=e.div.offsetHeight,n=e.div.offsetWidth,r=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||r,this.height=e.height||i,this.bottom=e.bottom||r+(e.height||i),this.width=e.width||n,this.lineHeight=void 0!==t?t:e.lineHeight}function p(e,t,i,n){var r=new f(t),a=t.cue,s=function(e){if(\"number\"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,i=t.textTrackList,n=0,r=0;r<i.length&&i[r]!==t;r++)\"showing\"===i[r].mode&&n++;return-1*++n}(a),o=[];if(a.snapToLines){var l;switch(a.vertical){case\"\":o=[\"+y\",\"-y\"],l=\"height\";break;case\"rl\":o=[\"+x\",\"-x\"],l=\"width\";break;case\"lr\":o=[\"-x\",\"+x\"],l=\"width\"}var u=r.lineHeight,d=u*Math.round(s),c=i[l]+u,h=o[0];Math.abs(d)>c&&(d=d<0?-1:1,d*=Math.ceil(c/u)*u),s<0&&(d+=\"\"===a.vertical?i.height:i.width,o=o.reverse()),r.move(h,d)}else{var p=r.lineHeight/i.height*100;switch(a.lineAlign){case\"center\":s-=p/2;break;case\"end\":s-=p}switch(a.vertical){case\"\":t.applyStyles({top:t.formatStyle(s,\"%\")});break;case\"rl\":t.applyStyles({left:t.formatStyle(s,\"%\")});break;case\"lr\":t.applyStyles({right:t.formatStyle(s,\"%\")})}o=[\"+y\",\"-x\",\"+x\",\"-y\"],r=new f(t)}var m=function(e,t){for(var r,a=new f(e),s=1,o=0;o<t.length;o++){for(;e.overlapsOppositeAxis(i,t[o])||e.within(i)&&e.overlapsAny(n);)e.move(t[o]);if(e.within(i))return e;var l=e.intersectPercentage(i);s>l&&(r=new f(e),s=l),e=new f(a)}return r||a}(r,o);t.move(m.toCSSCompatValues(i))}function m(){}var g=e(\"global/document\"),_=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error(\"Object.create shim only accepts one parameter.\");return e.prototype=t,new e}}();n.prototype=_(Error.prototype),n.prototype.constructor=n,n.Errors={BadSignature:{code:0,message:\"Malformed WebVTT signature.\"},BadTimeStamp:{code:1,message:\"Malformed time stamp.\"}},a.prototype={set:function(e,t){this.get(e)||\"\"===t||(this.values[e]=t)},get:function(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,i){for(var n=0;n<i.length;++n)if(t===i[n]){this.set(e,t);break}},integer:function(e,t){/^-?\\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\\d]{1,3})(\\.[\\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var v=g.createElement&&g.createElement(\"textarea\"),y={c:\"span\",i:\"i\",b:\"b\",u:\"u\",ruby:\"ruby\",rt:\"rt\",v:\"span\",lang:\"span\"},b={white:\"rgba(255,255,255,1)\",lime:\"rgba(0,255,0,1)\",cyan:\"rgba(0,255,255,1)\",red:\"rgba(255,0,0,1)\",yellow:\"rgba(255,255,0,1)\",magenta:\"rgba(255,0,255,1)\",blue:\"rgba(0,0,255,1)\",black:\"rgba(0,0,0,1)\"},A={v:\"title\",lang:\"lang\"},E={rt:\"ruby\"},w=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];c.prototype.applyStyles=function(e,t){for(var i in t=t||this.div,e)e.hasOwnProperty(i)&&(t.style[i]=e[i])},c.prototype.formatStyle=function(e,t){return 0===e?0:e+t},h.prototype=_(c.prototype),h.prototype.constructor=h,f.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case\"+x\":this.left+=t,this.right+=t;break;case\"-x\":this.left-=t,this.right-=t;break;case\"+y\":this.top+=t,this.bottom+=t;break;case\"-y\":this.top-=t,this.bottom-=t}},f.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},f.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},f.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},f.prototype.overlapsOppositeAxis=function(e,t){switch(t){case\"+x\":return this.left<e.left;case\"-x\":return this.right>e.right;case\"+y\":return this.top<e.top;case\"-y\":return this.bottom>e.bottom}},f.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},f.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},f.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,i=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,n=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||n,height:e.height||t,bottom:e.bottom||n+(e.height||t),width:e.width||i}},m.StringDecoder=function(){return{decode:function(e){if(!e)return\"\";if(\"string\"!=typeof e)throw new Error(\"Error - expected string data.\");return decodeURIComponent(encodeURIComponent(e))}}},m.convertCueToDOMTree=function(e,t){return e&&t?l(e,t):null},m.processCues=function(e,t,i){if(!e||!t||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var n=e.document.createElement(\"div\");if(n.style.position=\"absolute\",n.style.left=\"0\",n.style.right=\"0\",n.style.top=\"0\",n.style.bottom=\"0\",n.style.margin=\"1.5%\",i.appendChild(n),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var r=[],a=f.getSimpleBoxPosition(n),s={font:Math.round(.05*a.height*100)/100+\"px sans-serif\"};!function(){for(var i,o,l=0;l<t.length;l++)o=t[l],i=new h(e,o,s),n.appendChild(i.div),p(0,i,a,r),o.displayState=i.div,r.push(f.getSimpleBoxPosition(i))}()}else for(var o=0;o<t.length;o++)n.appendChild(t[o].displayState)},m.Parser=function(e,t,i){i||(i=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state=\"INITIAL\",this.buffer=\"\",this.decoder=i||new TextDecoder(\"utf8\"),this.regionList=[]},m.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof n))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function t(){for(var e=l.buffer,t=0;t<e.length&&\"\\r\"!==e[t]&&\"\\n\"!==e[t];)++t;var i=e.substr(0,t);return\"\\r\"===e[t]&&++t,\"\\n\"===e[t]&&++t,l.buffer=e.substr(t),i}function i(e){e.match(/X-TIMESTAMP-MAP/)?s(e,function(e,t){switch(e){case\"X-TIMESTAMP-MAP\":!function(e){var t=new a;s(e,function(e,i){switch(e){case\"MPEGT\":t.integer(e+\"S\",i);break;case\"LOCA\":t.set(e+\"L\",r(i))}},/[^\\d]:/,/,/),l.ontimestampmap&&l.ontimestampmap({MPEGTS:t.get(\"MPEGTS\"),LOCAL:t.get(\"LOCAL\")})}(t)}},/=/):s(e,function(e,t){switch(e){case\"Region\":!function(e){var t=new a;if(s(e,function(e,i){switch(e){case\"id\":t.set(e,i);break;case\"width\":t.percent(e,i);break;case\"lines\":t.integer(e,i);break;case\"regionanchor\":case\"viewportanchor\":var n=i.split(\",\");if(2!==n.length)break;var r=new a;if(r.percent(\"x\",n[0]),r.percent(\"y\",n[1]),!r.has(\"x\")||!r.has(\"y\"))break;t.set(e+\"X\",r.get(\"x\")),t.set(e+\"Y\",r.get(\"y\"));break;case\"scroll\":t.alt(e,i,[\"up\"])}},/=/,/\\s/),t.has(\"id\")){var i=new(l.vttjs.VTTRegion||l.window.VTTRegion);i.width=t.get(\"width\",100),i.lines=t.get(\"lines\",3),i.regionAnchorX=t.get(\"regionanchorX\",0),i.regionAnchorY=t.get(\"regionanchorY\",100),i.viewportAnchorX=t.get(\"viewportanchorX\",0),i.viewportAnchorY=t.get(\"viewportanchorY\",100),i.scroll=t.get(\"scroll\",\"\"),l.onregion&&l.onregion(i),l.regionList.push({id:t.get(\"id\"),region:i})}}(t)}},/:/)}var l=this;e&&(l.buffer+=l.decoder.decode(e,{stream:!0}));try{var u;if(\"INITIAL\"===l.state){if(!/\\r\\n|\\n/.test(l.buffer))return this;var d=(u=t()).match(/^WEBVTT([ \\t].*)?$/);if(!d||!d[0])throw new n(n.Errors.BadSignature);l.state=\"HEADER\"}for(var c=!1;l.buffer;){if(!/\\r\\n|\\n/.test(l.buffer))return this;switch(c?c=!1:u=t(),l.state){case\"HEADER\":/:/.test(u)?i(u):u||(l.state=\"ID\");continue;case\"NOTE\":u||(l.state=\"ID\");continue;case\"ID\":if(/^NOTE($|[ \\t])/.test(u)){l.state=\"NOTE\";break}if(!u)continue;l.cue=new(l.vttjs.VTTCue||l.window.VTTCue)(0,0,\"\");try{l.cue.align=\"center\"}catch(e){l.cue.align=\"middle\"}if(l.state=\"CUE\",-1===u.indexOf(\"-->\")){l.cue.id=u;continue}case\"CUE\":try{o(u,l.cue,l.regionList)}catch(e){l.reportOrThrowError(e),l.cue=null,l.state=\"BADCUE\";continue}l.state=\"CUETEXT\";continue;case\"CUETEXT\":var h=-1!==u.indexOf(\"-->\");if(!u||h&&(c=!0)){l.oncue&&l.oncue(l.cue),l.cue=null,l.state=\"ID\";continue}l.cue.text&&(l.cue.text+=\"\\n\"),l.cue.text+=u.replace(/\\u2028/g,\"\\n\").replace(/u2029/g,\"\\n\");continue;case\"BADCUE\":u||(l.state=\"ID\");continue}}}catch(e){l.reportOrThrowError(e),\"CUETEXT\"===l.state&&l.cue&&l.oncue&&l.oncue(l.cue),l.cue=null,l.state=\"INITIAL\"===l.state?\"BADWEBVTT\":\"BADCUE\"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||\"HEADER\"===this.state)&&(this.buffer+=\"\\n\\n\",this.parse()),\"INITIAL\"===this.state)throw new n(n.Errors.BadSignature)}catch(e){this.reportOrThrowError(e)}return this.onflush&&this.onflush(),this}},t.exports=m},{\"global/document\":34}],50:[function(e,t,i){function n(e){return\"string\"==typeof e&&!!s[e.toLowerCase()]&&e.toLowerCase()}function r(e,t,i){this.hasBeenReset=!1;var r=\"\",s=!1,o=e,l=t,u=i,d=null,c=\"\",h=!0,f=\"auto\",p=\"start\",m=\"auto\",g=\"auto\",_=100,v=\"center\";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(e){r=\"\"+e}},pauseOnExit:{enumerable:!0,get:function(){return s},set:function(e){s=!!e}},startTime:{enumerable:!0,get:function(){return o},set:function(e){if(\"number\"!=typeof e)throw new TypeError(\"Start time must be set to a number.\");o=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return l},set:function(e){if(\"number\"!=typeof e)throw new TypeError(\"End time must be set to a number.\");l=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return u},set:function(e){u=\"\"+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return d},set:function(e){d=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return c},set:function(e){var t=function(e){return\"string\"==typeof e&&!!a[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError(\"Vertical: an invalid or illegal direction string was specified.\");c=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return h},set:function(e){h=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(e){if(\"number\"!=typeof e&&\"auto\"!==e)throw new SyntaxError(\"Line: an invalid number or illegal string was specified.\");f=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return p},set:function(e){var t=n(e);t&&(p=t,this.hasBeenReset=!0)}},position:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||e>100)throw new Error(\"Position must be between 0 and 100.\");m=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(e){var t=n(e);t&&(g=t,this.hasBeenReset=!0)}},size:{enumerable:!0,get:function(){return _},set:function(e){if(e<0||e>100)throw new Error(\"Size must be between 0 and 100.\");_=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return v},set:function(e){var t=n(e);if(!t)throw new SyntaxError(\"align: an invalid or illegal alignment string was specified.\");v=t,this.hasBeenReset=!0}}}),this.displayState=void 0}var a={\"\":1,lr:1,rl:1},s={start:1,center:1,end:1,left:1,right:1,auto:1,\"line-left\":1,\"line-right\":1};r.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=r},{}],51:[function(e,t,i){function n(e){return\"number\"==typeof e&&e>=0&&e<=100}var r={\"\":!0,up:!0};t.exports=function(){var e=100,t=3,i=0,a=100,s=0,o=100,l=\"\";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!n(t))throw new Error(\"Width must be between 0 and 100.\");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if(\"number\"!=typeof e)throw new TypeError(\"Lines must be set to a number.\");t=e}},regionAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!n(e))throw new Error(\"RegionAnchorX must be between 0 and 100.\");a=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!n(e))throw new Error(\"RegionAnchorY must be between 0 and 100.\");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!n(e))throw new Error(\"ViewportAnchorY must be between 0 and 100.\");o=e}},viewportAnchorX:{enumerable:!0,get:function(){return s},set:function(e){if(!n(e))throw new Error(\"ViewportAnchorX must be between 0 and 100.\");s=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var t=function(e){return\"string\"==typeof e&&!!r[e.toLowerCase()]&&e.toLowerCase()}(e);!1===t||(l=t)}}})}},{}],52:[function(e,t,i){t.exports={DEFAILT_WEBGL_PLAY_ID:\"glplayer\",PLAYER_IN_TYPE_MP4:\"mp4\",PLAYER_IN_TYPE_FLV:\"flv\",PLAYER_IN_TYPE_HTTPFLV:\"httpflv\",PLAYER_IN_TYPE_RAW_265:\"raw265\",PLAYER_IN_TYPE_TS:\"ts\",PLAYER_IN_TYPE_MPEGTS:\"mpegts\",PLAYER_IN_TYPE_M3U8:\"hls\",PLAYER_IN_TYPE_M3U8_VOD:\"m3u8\",PLAYER_IN_TYPE_M3U8_LIVE:\"hls\",APPEND_TYPE_STREAM:0,APPEND_TYPE_FRAME:1,APPEND_TYPE_SEQUENCE:2,DEFAULT_WIDTH:600,DEFAULT_HEIGHT:600,DEFAULT_FPS:30,DEFAULT_FRAME_DUR:40,DEFAULT_FIXED:!1,DEFAULT_SAMPLERATE:44100,DEFAULT_CHANNELS:2,DEFAULT_CONSU_SAMPLE_LEN:20,PLAYER_MODE_VOD:\"vod\",PLAYER_MODE_NOTIME_LIVE:\"live\",AUDIO_MODE_ONCE:\"ONCE\",AUDIO_MODE_SWAP:\"SWAP\",DEFAULT_STRING_LIVE:\"LIVE\",CODEC_H265:0,CODEC_H264:1,PLAYER_CORE_TYPE_DEFAULT:0,PLAYER_CORE_TYPE_CNATIVE:1,FETCH_FIRST_MAX_TIMES:5,FETCH_HTTP_FLV_TIMEOUT_MS:7e3,V_CODEC_NAME_HEVC:265,V_CODEC_NAME_AVC:264,V_CODEC_NAME_UNKN:500,A_CODEC_NAME_AAC:112,A_CODEC_NAME_MP3:113,A_CODEC_NAME_UNKN:500,CACHE_NO_LOADCACHE:192,CACHE_WITH_PLAY_SIGN:193,CACHE_WITH_NOPLAY_SIGN:194}},{}],53:[function(e,t,i){var n=window.AudioContext||window.webkitAudioContext,r=e(\"../consts\"),a=e(\"./av-common\");t.exports=function(e){var t={options:{sampleRate:e.sampleRate||r.DEFAULT_SAMPLERATE,appendType:e.appendType||r.APPEND_TYPE_STREAM,playMode:e.playMode||r.AUDIO_MODE_SWAP},sourceChannel:-1,audioCtx:new n({latencyHint:\"interactive\",sampleRate:e.sampleRate}),gainNode:null,sourceList:[],startStatus:!1,sampleQueue:[],nextBuffer:null,playTimestamp:0,playStartTime:0,durationMs:-1,isLIVE:!1,voice:1,onLoadCache:null,resetStartParam:function(){t.playTimestamp=0,t.playStartTime=0},setOnLoadCache:function(e){t.onLoadCache=e},setDurationMs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;t.durationMs=e},setVoice:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.voice=e,t.gainNode.gain.value=e},getAlignVPTS:function(){return t.playTimestamp+(a.GetMsTime()-t.playStartTime)/1e3},swapSource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(0==t.startStatus)return null;if(e<0||e>=t.sourceList.length)return null;if(i<0||i>=t.sourceList.length)return null;try{t.sourceChannel===e&&null!==t.sourceList[e]&&(t.sourceList[e].disconnect(t.gainNode),t.sourceList[e]=null)}catch(t){console.error(\"[DEFINE ERROR] audioModule disconnect source Index:\"+e+\" error happened!\",t)}t.sourceChannel=i;var n=t.decodeSample(i,e);-2==n&&t.isLIVE&&(t.getAlignVPTS()>=t.durationMs/1e3-.04?t.pause():null!==t.onLoadCache&&t.onLoadCache())},addSample:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!(null==e||!e||null==e||(0==t.sampleQueue.length&&(t.seekPos=e.pts),t.sampleQueue.push(e),0))},runNextBuffer:function(){window.setInterval(function(){if(!(null!=t.nextBuffer||t.sampleQueue.length<r.DEFAULT_CONSU_SAMPLE_LEN)){t.nextBuffer={data:null,pts:-1};for(var e=null,i=0;i<r.DEFAULT_CONSU_SAMPLE_LEN;i++){e=t.sampleQueue.shift();var n=null;if(n=t.options.appendType==r.APPEND_TYPE_STREAM?e:e.data,t.nextBuffer.pts<0&&(t.nextBuffer.pts=e.pts),null==t.nextBuffer.data)t.nextBuffer.data=new Uint8Array(n);else{var a=new Uint8Array(n.length+t.nextBuffer.data.length);a.set(t.nextBuffer.data,0),a.set(n,t.nextBuffer.data.length),t.nextBuffer.data=a}if(t.sampleQueue.length<=0)break;e=null}}},10)},decodeSample:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(e<0||e>=t.sourceList.length)return-1;if(null!=t.sourceList[e]&&null!=t.sourceList[e]&&t.sourceList[e]||(t.sourceList[e]=t.audioCtx.createBufferSource(),t.sourceList[e].onended=function(){t.swapSource(e,i)}),0==t.sampleQueue.length)return t.isLIVE?(t.sourceList[e].connect(t.gainNode),t.sourceList[e].start(),t.sourceList[e].onended=function(){t.swapSource(e,i)},t.sourceList[e].stop(),0):-2;if(t.sourceList[e].buffer)return t.sourceList[e],t.sourceList[i],t.gainNode,t.swapSource(e,i),0;if(null==t.nextBuffer||t.nextBuffer.data.length<1)return t.sourceList[e].connect(t.gainNode),t.sourceList[e].start(),t.sourceList[e].startState=!0,t.sourceList[e].stop(),1;var n=t.nextBuffer.data.buffer;t.playTimestamp=t.nextBuffer.pts,t.playStartTime=a.GetMsTime();try{t.audioCtx.decodeAudioData(n,function(i){null!==t.sourceList[e]&&(t.sourceList[e].buffer=i,t.sourceList[e].connect(t.gainNode),t.sourceList[e].start(),t.sourceList[e].startState=!0)},function(e){})}catch(e){return t.nextBuffer=null,-3}return t.nextBuffer=null,0},decodeWholeSamples:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(t.sourceChannel=e,e<0||e>=t.sourceList.length)return-1;if(null!=t.sourceList[e]&&null!=t.sourceList[e]&&t.sourceList[e]||(t.sourceList[e]=t.audioCtx.createBufferSource(),t.sourceList[e].onended=function(){}),0==t.sampleQueue.length)return-2;for(var i=null,n=null,a=0;a<t.sampleQueue.length;a++){n=t.sampleQueue.shift();var s=null;if(s=t.options.appendType==r.APPEND_TYPE_STREAM?n:n.data,null==i)i=new Uint8Array(s);else{var o=new Uint8Array(s.length+i.length);o.set(i,0),o.set(s,i.length),i=o}if(t.sampleQueue.length<=0)break;n=null}var l=i;if(null==l||l.length<1)return t.sourceList[e].connect(t.gainNode),t.sourceList[e].start(),t.sourceList[e].stop(),1;var u=l.buffer;try{t.audioCtx.decodeAudioData(u,function(i){t.sourceList[e].state,\nt.sourceList[e].buffer=i,t.sourceList[e].connect(t.gainNode),t.sourceList[e].start(),t.sourceList[e].startState=!0,t.sourceList[e].state},function(e){e.err})}catch(e){return-3}return 0},play:function(){0==t.startStatus&&(t.startStatus=!0,-2==(t.options.playMode==r.AUDIO_MODE_ONCE?t.decodeWholeSamples(0):t.swapSource(0,1))&&t.pause())},pause:function(){t.startStatus=!1;for(var e=0;e<t.sourceList.length;e++)if(void 0!==t.sourceList[e]&&null!==t.sourceList[e]){t.sourceList[e],t.gainNode;try{void 0!==t.sourceList[e].buffer&&null!==t.sourceList[e].buffer&&(t.sourceList[e].stop(),t.sourceList[e].disconnect(t.gainNode)),t.sourceList[e]=null}catch(e){console.error(\"audio pause error \",e)}}},stop:function(){t.pause(),t.cleanQueue(),t.nextBuffer=null,t.sourceChannel=-1},cleanQueue:function(){t.sampleQueue.length=0;for(var e=0;e<t.sourceList.length;e++)try{void 0!==t.sourceList[e].buffer&&null!==t.sourceList[e].buffer&&(t.sourceList[e].stop(),t.sourceList[e].disconnect(t.gainNode)),t.sourceList[e]=null}catch(e){}}};return t.sourceList.push(t.audioCtx.createBufferSource()),t.sourceList.push(t.audioCtx.createBufferSource()),t.sourceList[0].onended=function(){t.swapSource(0,1)},t.sourceList[1].onended=function(){t.swapSource(1,0)},t.gainNode=t.audioCtx.createGain(),t.gainNode.gain.value=t.voice,t.gainNode.connect(t.audioCtx.destination),t.options,t.runNextBuffer(),t}},{\"../consts\":52,\"./av-common\":55}],54:[function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=window.AudioContext||window.webkitAudioContext,a=e(\"../consts\"),s=function(){return(new Date).getTime()},o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this._sample_rate=t.sampleRate||a.DEFAULT_SAMPLERATE,this._seg_dur=t.segDur||2,this._channels=t.channels||a.DEFAULT_CHANNELS,this._swapStartPlay=!0,this._start_time=-1,this._now_seg_dur=-1,this._push_start_idx=0,this._pcm_array_buf=null,this._once_pop_len=this._sample_rate*this._seg_dur,this._active_node=null,this._ctx=new r,this._gain=this._ctx.createGain(),this._gain.gain.value=1,this._gain.connect(this._ctx.destination)}var t,i,o;return t=e,(i=[{key:\"setVoice\",value:function(e){this._gain.gain.value=e}},{key:\"pushBuffer\",value:function(e){var t=e.buffer,i=null,n=t.byteLength%4;if(0!==n){var r=new Uint8Array(t.byteLength+n);r.set(new Uint8Array(t),0),i=new Float32Array(r.buffer)}else i=new Float32Array(t);var a=null;if(this._channels>=2){var s=i.length/2;a=new Float32Array(s);for(var o=0,l=0;l<i.length;l+=2)a[o]=i[l],o++}else a=new Float32Array(i);if(null===this._pcm_array_buf)this._pcm_array_buf=new Float32Array(a);else{var u=new Float32Array(this._pcm_array_buf.length+a.length);u.set(this._pcm_array_buf,0),u.set(a,this._pcm_array_buf.length),this._pcm_array_buf=u}this._pcm_array_buf.length}},{key:\"readingLoopWithF32\",value:function(){if(this._start_time>0&&s()-this._start_time>=this._now_seg_dur&&(s(),this._start_time,this._now_seg_dur,this._start_time=-1,this._now_seg_dur=-1),s(),this._start_time<0)if(new Date,null!==this._pcm_array_buf&&this._pcm_array_buf.length>this._push_start_idx){this._swapStartPlay=!1;var e=this._push_start_idx+this._once_pop_len;e>this._pcm_array_buf.length&&(e=this._pcm_array_buf.length);var t=this._pcm_array_buf.slice(this._push_start_idx,e);this._push_start_idx+=t.length,this._now_seg_dur=1*t.length/this._sample_rate*1e3,t.length,this._sample_rate,this._now_seg_dur;var i=this._ctx.createBuffer(1,t.length,this._sample_rate);t.length,new Date,i.copyToChannel(t,0),this._active_node=this._ctx.createBufferSource(),this._active_node.buffer=i,this._active_node.connect(this._gain),this._start_time=s(),this._active_node.start(0)}else setTimeout(this.readingLoopWithF32,1)}}])&&n(t.prototype,i),o&&n(t,o),e}();i.AudioPcmPlayer=o},{\"../consts\":52}],55:[function(e,t,i){var n=e(\"../consts\"),r=[{format:\"mp4\",value:\"mp4\",core:n.PLAYER_CORE_TYPE_CNATIVE},{format:\"mov\",value:\"mp4\",core:n.PLAYER_CORE_TYPE_CNATIVE},{format:\"flv\",value:\"flv\",core:n.PLAYER_CORE_TYPE_CNATIVE},{format:\"m3u8\",value:\"hls\",core:n.PLAYER_CORE_TYPE_DEFAULT},{format:\"m3u\",value:\"hls\",core:n.PLAYER_CORE_TYPE_DEFAULT},{format:\"ts\",value:\"ts\",core:n.PLAYER_CORE_TYPE_DEFAULT},{format:\"mpegts\",value:\"ts\",core:n.PLAYER_CORE_TYPE_DEFAULT},{format:\"hevc\",value:\"raw265\",core:n.PLAYER_CORE_TYPE_DEFAULT},{format:\"h265\",value:\"raw265\",core:n.PLAYER_CORE_TYPE_DEFAULT}];t.exports={frameDataAlignCrop:function(e,t,i,n,r,a,s,o){if(0==e-n)return[a,s,o];for(var l=n*r,u=l/4,d=new Uint8Array(l),c=new Uint8Array(u),h=new Uint8Array(u),f=n,p=n/2,m=0;m<r;m++)d.set(a.subarray(m*e,f),m*r);for(var g=0;g<r/2;g++)c.set(s.subarray(g*t,p),g*r/2);for(var _=0;_<r/2;_++)h.set(o.subarray(_*i,p),_*r/2);return[d,c,h]},GetUriFormat:function(e){for(var t=0;t<r.length;t++){var i=r[t],n=\".\"+i.format;if(e.search(n)>=0)return i.value}return r[0].value},GetFormatPlayCore:function(e){for(var t=0;t<r.length;t++){var i=r[t];if(i.value===e)return i.core}return r[0].core},GetMsTime:function(){return(new Date).getTime()}}},{\"../consts\":52}],56:[function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e(\"../demuxer/bufferFrame\"),e(\"../demuxer/buffer\"),e(\"./cache\"),e(\"./cacheYuv\");var r=e(\"../render-engine/webgl-420p\"),a=e(\"./av-common\"),s=(e(\"./audio-native-core\"),e(\"./audio-core\")),o=e(\"../consts\");e(\"../version\");var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.config={width:t.width||o.DEFAULT_WIDTH,height:t.height||o.DEFAULT_HEIGHT,fps:t.fps||o.DEFAULT_FPS,sampleRate:t.sampleRate||o.DEFAULT_SAMPLERATE,playerId:t.playerId||o.DEFAILT_WEBGL_PLAY_ID,token:t.token||null,probeSize:t.probeSize||4096},this.config.probeSize,this.mediaInfo={noFPS:!1,fps:o.DEFAULT_FPS,width:this.config.width,height:this.config.height,sampleRate:this.config.sampleRate,size:{width:-1,height:-1},audioNone:!1},this.duration=-1,this.vCodecID=o.V_CODEC_NAME_HEVC,this.AVSniffPtr=null,this.AVGetInterval=null,this.readyShowDone=!1,this.readyKeyFrame=!1,this.cache_status=!1,this.download_length=0,this.AVGLObj=null,this.canvasBox=document.querySelector(\"#\"+this.config.playerId),this.canvasBox.style.overflow=\"hidden\",this.CanvasObj=null,this.CanvasObj=document.createElement(\"canvas\"),this.CanvasObj.style.width=this.canvasBox.clientWidth+\"px\",this.CanvasObj.style.height=this.canvasBox.clientHeight+\"px\",this.CanvasObj.style.top=\"0px\",this.CanvasObj.style.left=\"0px\",this.canvasBox.appendChild(this.CanvasObj),this.audioWAudio=null,this.audioVoice=1,this.frameTime=1e3/this.config.fps,this.NaluBuf=[],this.YuvBuf=[],this.getPackageTimeMS=0,this.workerFetch=null,this.playInterval=null,this._ptr_probeCallback=null,this._ptr_frameCallback=null,this._ptr_naluCallback=null,this._ptr_sampleCallback=null,this._ptr_aacCallback=null,this.totalLen=0,this.pushPkg=0,this.onProbeFinish=null,this.onLoadCache=null,this.onLoadCacheFinshed=null,this.onReadyShowDone=null,this.onNetworkError=null}var t,i,l;return t=e,(i=[{key:\"_workerFetch_onmessage\",value:function(e,t){var i=e.data;switch(void 0===i.cmd||null===i.cmd?\"\":i.cmd){case\"fetch-chunk\":var n=i.data;t.download_length+=n.length,setTimeout(function(){var e=Module._malloc(n.length);Module.HEAP8.set(n,e),Module.cwrap(\"pushSniffHttpFlvData\",\"number\",[\"number\",\"number\",\"number\",\"number\"])(t.AVSniffPtr,e,n.length,t.config.probeSize),Module._free(e),e=null},0),t.totalLen+=n.length,n.length>0&&(t.getPackageTimeMS=a.GetMsTime()),t.pushPkg++,void 0!==t.AVGetInterval&&null!==t.AVGetInterval||(t.AVGetInterval=window.setInterval(function(){Module.cwrap(\"getBufferLengthApi\",\"number\",[\"number\"])(t.AVSniffPtr)>t.config.probeSize?(Module.cwrap(\"getSniffHttpFlvPkg\",\"number\",[\"number\"])(t.AVSniffPtr),t.pushPkg-=1):t.getPackageTimeMS>0&&a.GetMsTime()-t.getPackageTimeMS>=o.FETCH_HTTP_FLV_TIMEOUT_MS&&(t.getPackageTimeMS=a.GetMsTime(),t.workerFetch.postMessage({cmd:\"retry\",data:null,msg:\"retry\"}))},5));break;case\"close\":t.AVGetInterval&&clearInterval(t.AVGetInterval),t.AVGetInterval=null;case\"fetch-fin\":break;case\"fetch-error\":t.onNetworkError&&t.onNetworkError(i.data)}}},{key:\"_checkDisplaySize\",value:function(e,t,i){var n=t-e,r=this.config.width+Math.ceil(n/2),a=t/this.config.width>i/this.config.height,s=(r/t).toFixed(2),o=(this.config.height/i).toFixed(2),l=a?s:o,u=this.config.fixed,d=u?r:parseInt(t*l),c=u?this.config.height:parseInt(i*l);if(this.CanvasObj.offsetWidth!=d||this.CanvasObj.offsetHeight!=c){var h=parseInt((this.canvasBox.offsetHeight-c)/2),f=parseInt((this.canvasBox.offsetWidth-d)/2);h=h<0?0:h,f=f<0?0:f,this.CanvasObj.style.marginTop=h+\"px\",this.CanvasObj.style.marginLeft=f+\"px\",this.CanvasObj.style.width=d+\"px\",this.CanvasObj.style.height=c+\"px\"}return this.isCheckDisplay=!0,[d,c]}},{key:\"_ptsFixed2\",value:function(e){return Math.ceil(100*e)/100}},{key:\"_callbackProbe\",value:function(e,t,i,n,r,a,l,u,d){for(var c=Module.HEAPU8.subarray(d,d+10),h=0;h<c.length;h++)String.fromCharCode(c[h]);var f=n;n>100&&(f=o.DEFAULT_FPS,this.mediaInfo.noFPS=!0),this.vCodecID=u,this.config.fps=f,this.mediaInfo.fps=f,this.mediaInfo.size.width=t,this.mediaInfo.size.height=i,this.frameTime=Math.floor(1e3/(this.mediaInfo.fps+2)),this.CanvasObj.width==t&&this.CanvasObj.height==i||(this.CanvasObj.width=t,this.CanvasObj.height=i,this.isCheckDisplay)||this._checkDisplaySize(t,t,i),r>=0&&!1===this.mediaInfo.noFPS?(void 0!==this.audioWAudio&&null!==this.audioWAudio&&(this.audioWAudio.stop(),this.audioWAudio=null),this.config.sampleRate=a,this.mediaInfo.sampleRate=a,this.audioWAudio=s({sampleRate:this.mediaInfo.sampleRate,appendType:o.APPEND_TYPE_FRAME}),this.audioWAudio.isLIVE=!0):this.mediaInfo.audioNone=!0,this.onProbeFinish&&this.onProbeFinish()}},{key:\"_callbackYUV\",value:function(e,t,i,n,r,a,s,o,l){var u=Module.HEAPU8.subarray(e,e+n*o),d=new Uint8Array(u),c=Module.HEAPU8.subarray(t,t+r*o/2),h=new Uint8Array(c),f=Module.HEAPU8.subarray(i,i+a*o/2),p={bufY:d,bufU:h,bufV:new Uint8Array(f),line_y:n,h:o,pts:l};this.YuvBuf.push(p),this.checkCacheState(),Module._free(u),u=null,Module._free(c),c=null,Module._free(f),f=null,!1===this.readyShowDone&&(this.playYUV(),this.readyShowDone=!0,this.onReadyShowDone&&this.onReadyShowDone(),this.audioWAudio||this.play())}},{key:\"_callbackNALU\",value:function(e,t,i,n,r,a,s){if(!1===this.readyKeyFrame){if(i<=0)return;this.readyKeyFrame=!0}var o=Module.HEAPU8.subarray(e,e+t),l=new Uint8Array(o);this.NaluBuf.push({bufData:l,len:t,isKey:i,w:n,h:r,pts:1e3*a,dts:1e3*s}),Module._free(o),o=null}},{key:\"_callbackPCM\",value:function(e){}},{key:\"_callbackAAC\",value:function(e,t,i,n,r){var a=this._ptsFixed2(r);if(this.audioWAudio){var s=new Uint8Array(7+i),o=Module.HEAPU8.subarray(e,e+7);s.set(o,0);var l=Module.HEAPU8.subarray(t,t+i);s.set(l,7);var u={pts:a,data:s};this.audioWAudio.addSample(u),this.checkCacheState()}}},{key:\"_decode\",value:function(){var e=this;setTimeout(function(){if(null!==e.workerFetch){var t=e.NaluBuf.shift();if(null!=t){var i=Module._malloc(t.bufData.length);Module.HEAP8.set(t.bufData,i),Module.cwrap(\"decodeHttpFlvVideoFrame\",\"number\",[\"number\",\"number\",\"number\",\"number\",\"number\"])(e.AVSniffPtr,i,t.bufData.length,t.pts,t.dts,0),Module._free(i),i=null}e._decode()}},1)}},{key:\"checkCacheState\",value:function(){var e=this.YuvBuf.length>=25&&(!0===this.mediaInfo.audioNone||this.audioWAudio&&this.audioWAudio.sampleQueue.length>=50);return!1===this.cache_status&&e&&(this.playInterval&&this.audioWAudio&&this.audioWAudio.play(),this.onLoadCacheFinshed&&this.onLoadCacheFinshed(),this.cache_status=!0),e}},{key:\"setVoice\",value:function(e){this.audioVoice=e,this.audioWAudio&&this.audioWAudio.setVoice(e)}},{key:\"_removeBindFuncPtr\",value:function(){null!==this._ptr_probeCallback&&Module.removeFunction(this._ptr_probeCallback),null!==this._ptr_frameCallback&&Module.removeFunction(this._ptr_frameCallback),null!==this._ptr_naluCallback&&Module.removeFunction(this._ptr_naluCallback),null!==this._ptr_sampleCallback&&Module.removeFunction(this._ptr_sampleCallback),null!==this._ptr_aacCallback&&Module.removeFunction(this._ptr_aacCallback),this._ptr_probeCallback=null,this._ptr_frameCallback=null,this._ptr_naluCallback=null,this._ptr_sampleCallback=null,this._ptr_aacCallback=null}},{key:\"release\",value:function(){return this.pause(),this.NaluBuf.length=0,this.YuvBuf.length=0,void 0!==this.workerFetch&&null!==this.workerFetch&&this.workerFetch.postMessage({cmd:\"stop\",data:\"stop\",msg:\"stop\"}),this.workerFetch=null,this.AVGetInterval&&clearInterval(this.AVGetInterval),this.AVGetInterval=null,this._removeBindFuncPtr(),Module.cwrap(\"releaseHttpFLV\",\"number\",[\"number\"])(this.AVSniffPtr),this.playInterval&&clearInterval(this.playInterval),this.playInterval=null,this.audioWAudio&&this.audioWAudio.stop(),this.audioWAudio=null,this.CanvasObj&&this.CanvasObj.remove(),this.CanvasObj=null,0}},{key:\"isPlayingState\",value:function(){return null!==this.playInterval&&void 0!==this.playInterval}},{key:\"pause\",value:function(){this.audioWAudio&&this.audioWAudio.pause(),this.playInterval&&clearInterval(this.playInterval),this.playInterval=null}},{key:\"playYUV\",value:function(){if(this.YuvBuf.length>0){var e=this.YuvBuf.shift();return r.renderFrame(this.AVGLObj,e.bufY,e.bufU,e.bufV,e.line_y,e.h),!0}return!1}},{key:\"play\",value:function(){var e=this,t=this;if(!1===this.checkCacheState())return this.onLoadCache&&this.onLoadCache(),setTimeout(function(){e.play()},100),!1;if(void 0===this.playInterval||null===this.playInterval){var i=0,n=0,s=0;!1===this.mediaInfo.audioNone&&this.audioWAudio&&!1===this.mediaInfo.noFPS?(this.playInterval=setInterval(function(){if(n=a.GetMsTime(),t.cache_status){if(n-i>=t.frameTime-s){var e=t.YuvBuf.shift();if(null!=e&&null!==e){var o=0;null!==t.audioWAudio&&void 0!==t.audioWAudio&&(o=1e3*(e.pts-t.audioWAudio.getAlignVPTS())),s=t.audioWAudio?o<0&&-1*o<=t.frameTime||o>=0?a.GetMsTime()-n+1:t.frameTime:a.GetMsTime()-n+1,r.renderFrame(t.AVGLObj,e.bufY,e.bufU,e.bufV,e.line_y,e.h)}(t.YuvBuf.length<=0||t.audioWAudio&&t.audioWAudio.sampleQueue.length<=0)&&(t.cache_status=!1,t.onLoadCache&&t.onLoadCache(),t.audioWAudio&&t.audioWAudio.pause()),i=n}}else s=t.frameTime},1),this.audioWAudio&&this.audioWAudio.play()):this.playInterval=setInterval(function(){var e=t.YuvBuf.shift();null!=e&&null!==e&&r.renderFrame(t.AVGLObj,e.bufY,e.bufU,e.bufV,e.line_y,e.h),t.YuvBuf.length<=0&&(t.cache_status=!1)},t.frameTime)}}},{key:\"start\",value:function(e){var t,i,n,a=this;this.workerFetch=new Worker((t=function(){var e=null,t=new AbortController,i=t.signal,n=(self,function(e){var t=!1;t||(t=!0,fetch(e,{signal:i}).then(function(e){return function e(t){return t.read().then(function(i){if(!i.done){var n=i.value;return self.postMessage({cmd:\"fetch-chunk\",data:n,msg:\"fetch-chunk\"}),e(t)}self.postMessage({cmd:\"fetch-fin\",data:null,msg:\"fetch-fin\"})})}(e.body.getReader())}).catch(function(e){if(!e.toString().includes(\"user aborted\")){var t=\" httplive request error:\"+e+\" start to retry\";console.error(t),self.postMessage({cmd:\"fetch-error\",data:t,msg:\"fetch-error\"})}}))});self.onmessage=function(r){var a=r.data;switch(void 0===a.cmd||null===a.cmd?\"\":a.cmd){case\"start\":e=a.data,n(e),self.postMessage({cmd:\"default\",data:\"WORKER STARTED\",msg:\"default\"});break;case\"stop\":t.abort(),self.close(),self.postMessage({cmd:\"close\",data:\"close\",msg:\"close\"});break;case\"retry\":t.abort(),t=null,i=null,t=new AbortController,i=t.signal,setTimeout(function(){n(e)},3e3)}}}.toString(),i=t.match(/^\\s*function\\s*\\(\\s*\\)\\s*\\{(([\\s\\S](?!\\}$))*[\\s\\S])/),n=[i[1]],window.URL.createObjectURL(new Blob(n,{type:\"text/javascript\"})))),this.workerFetch.onmessage=function(e){a._workerFetch_onmessage(e,a)},this.workerFetch,this.AVSniffPtr=Module.cwrap(\"AVSniffHttpFlvInit\",\"number\",[\"string\",\"string\"])(\"base64:QXV0aG9yOmNoYW5neWFubG9uZ3xudW1iZXJ3b2xmLEdpdGh1YjpodHRwczovL2dpdGh1Yi5jb20vbnVtYmVyd29sZixFbWFpbDpwb3JzY2hlZ3QyM0Bmb3htYWlsLmNvbSxRUTo1MzEzNjU4NzIsSG9tZVBhZ2U6aHR0cDovL3h2aWRlby52aWRlbyxEaXNjb3JkOm51bWJlcndvbGYjODY5NCx3ZWNoYXI6bnVtYmVyd29sZjExLEJlaWppbmcsV29ya0luOkJhaWR1\",\"0.0.0\"),this.AVSniffPtr,this._ptr_probeCallback=Module.addFunction(this._callbackProbe.bind(this)),this._ptr_yuvCallback=Module.addFunction(this._callbackYUV.bind(this)),this._ptr_naluCallback=Module.addFunction(this._callbackNALU.bind(this)),this._ptr_sampleCallback=Module.addFunction(this._callbackPCM.bind(this)),this._ptr_aacCallback=Module.addFunction(this._callbackAAC.bind(this)),Module.cwrap(\"initializeSniffHttpFlvModule\",\"number\",[\"number\",\"number\",\"number\",\"number\",\"number\",\"number\"])(this.AVSniffPtr,this._ptr_probeCallback,this._ptr_yuvCallback,this._ptr_naluCallback,this._ptr_sampleCallback,this._ptr_aacCallback),this.AVGLObj=r.setupCanvas(this.CanvasObj,{preserveDrawingBuffer:!1}),this.workerFetch.postMessage({cmd:\"start\",data:e,msg:\"start\"}),this._decode()}}])&&n(t.prototype,i),l&&n(t,l),e}();i.CHttpLiveCore=l},{\"../consts\":52,\"../demuxer/buffer\":63,\"../demuxer/bufferFrame\":64,\"../render-engine/webgl-420p\":76,\"../version\":79,\"./audio-core\":53,\"./audio-native-core\":54,\"./av-common\":55,\"./cache\":58,\"./cacheYuv\":59}],57:[function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var a=e(\"../demuxer/bufferFrame\"),s=e(\"../demuxer/buffer\"),o=(e(\"./cache\"),e(\"./cacheYuv\"),e(\"../render-engine/webgl-420p\")),l=e(\"./av-common\"),u=(e(\"./audio-native-core\"),e(\"./audio-core\")),d=e(\"../consts\"),c=e(\"../version\"),h=function e(t,i,n,a,s,o,l,u,d){r(this,e),this.pts=d,this.data_y=t,this.data_u=i,this.data_v=n,this.line1=a,this.line2=s,this.line3=o,this.width=l,this.height=u,this.byteAlignIncr=this.line1-this.width},f=function(){function e(t){r(this,e),this.config={width:t.width||d.DEFAULT_WIDTH,height:t.height||d.DEFAULT_HEIGHT,fps:t.fps||d.DEFAULT_FPS,sampleRate:t.sampleRate||d.DEFAULT_SAMPLERATE,playerId:t.playerId||d.DEFAILT_WEBGL_PLAY_ID,token:t.token||null,readyShow:t.readyShow||!1,checkProbe:t.checkProbe,ignoreAudio:t.ignoreAudio,playMode:t.playMode||d.PLAYER_MODE_VOD},this.probeSize=4524611,this.audioWAudio=null,this.audioVoice=1,this.frameCallTag=0,this.seekTarget=0,this.avSeekVState=!1,this.isNewSeek=!1,this.openFrameCall=!0,this.bufRecvStat=!1,this.bufObject=s(),this.bufLastVDTS=0,this.bufLastADTS=0,this.yuvMaxTime=0,this.playVPipe=[],this._videoQueue=[],this._ptr_probeCallback=null,this._ptr_frameCallback=null,this._ptr_naluCallback=null,this._ptr_sampleCallback=null,this._ptr_aacCallback=null,this.duration=-1,this.channels=-1,this.width=-1,this.height=-1,this.isPlaying=!1,this.isCheckDisplay=!1,this.frameTime=1e3/this.config.fps,this.vCodecID=d.V_CODEC_NAME_UNKN,this.audioIdx=-1,this.audioNone=!1,this.frameDur=0,this.canvasBox=null,this.canvas=null,this.yuv=null,this.retryAuSampleNo=0,this.cacheStatus=!1,this.showScreen=!1,this.playPTS=0,this.vCachePTS=0,this.aCachePTS=0,this.reFull=!1,this.bufOK=!1,this.avRecvInterval=null,this.avFeedVideoInterval=null,this.avFeedAudioInterval=null,this.decVFrameInterval=null,this.playFrameInterval=null,this.onProbeFinish=null,this.onPlayingTime=null,this.onPlayingFinish=null,this.onSeekFinish=null,this.onLoadCache=null,this.onLoadCacheFinshed=null,this.onRender=null,this.onCacheProcess=null,this.onReadyShowDone=null,this.corePtr=Module.cwrap(\"AVSniffStreamInit\",\"number\",[\"string\",\"string\"])(this.config.token,c.PLAYER_VERSION),this.corePtr,this._ptr_probeCallback=Module.addFunction(this._probeFinCallback.bind(this)),this._ptr_frameCallback=Module.addFunction(this._frameCallback.bind(this)),this._ptr_naluCallback=Module.addFunction(this._naluCallback.bind(this)),this._ptr_sampleCallback=Module.addFunction(this._samplesCallback.bind(this)),this._ptr_aacCallback=Module.addFunction(this._aacFrameCallback.bind(this));var i=this.config.playMode===d.PLAYER_MODE_NOTIME_LIVE?1:0;this.config.ignoreAudio,this.config.playMode,Module.cwrap(\"initializeSniffStreamModuleWithAOpt\",\"number\",[\"number\",\"number\",\"number\",\"number\",\"number\"])(this.corePtr,this._ptr_probeCallback,this._ptr_frameCallback,this._ptr_naluCallback,this._ptr_sampleCallback,this._ptr_aacCallback,this.config.ignoreAudio,i)}var t,i,f;return t=e,(i=[{key:\"_removeBindFuncPtr\",value:function(){null!==this._ptr_probeCallback&&Module.removeFunction(this._ptr_probeCallback),null!==this._ptr_frameCallback&&Module.removeFunction(this._ptr_frameCallback),null!==this._ptr_naluCallback&&Module.removeFunction(this._ptr_naluCallback),null!==this._ptr_sampleCallback&&Module.removeFunction(this._ptr_sampleCallback),null!==this._ptr_aacCallback&&Module.removeFunction(this._ptr_aacCallback),this._ptr_probeCallback=null,this._ptr_frameCallback=null,this._ptr_naluCallback=null,this._ptr_sampleCallback=null,this._ptr_aacCallback=null}},{key:\"release\",value:function(){void 0!==this.canvas&&null!==this.canvas&&(this.canvas.remove(),this.canvas=null),null!==this.playFrameInterval&&(window.clearInterval(this.playFrameInterval),this.playFrameInterval=null),null!==this.avFeedVideoInterval&&(window.clearInterval(this.avFeedVideoInterval),this.avFeedVideoInterval=null),null!==this.avFeedAudioInterval&&(window.clearInterval(this.avFeedAudioInterval),this.avFeedAudioInterval=null),null!==this.avRecvInterval&&(window.clearInterval(this.avRecvInterval),this.avRecvInterval=null),this._clearDecInterval(),this._removeBindFuncPtr();var e=Module.cwrap(\"releaseSniffStream\",\"number\",[\"number\"])(this.corePtr);return this.audioWAudio&&this.audioWAudio.stop(),this.audioWAudio=null,this.bufRecvStat=!1,this.bufObject.cleanPipeline(),this.playVPipe.length=0,e}},{key:\"setScreen\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.showScreen=e,this.canvas&&(e?this.canvas.setAttribute(\"hidden\",!0):this.canvas.removeAttribute(\"hidden\"))}},{key:\"getCachePTS\",value:function(){return 1!==this.config.ignoreAudio&&this.audioWAudio?Math.max(this.vCachePTS,this.aCachePTS):this.vCachePTS}},{key:\"getMaxPTS\",value:function(){return Math.max(this.vCachePTS,this.aCachePTS)}},{key:\"isPlayingState\",value:function(){return this.isPlaying}},{key:\"pushDone\",value:function(){this.pushEOF=!0}},{key:\"_clearDecInterval\",value:function(){this.decVFrameInterval&&window.clearInterval(this.decVFrameInterval),this.decVFrameInterval=null}},{key:\"_checkPlayFinished\",value:function(){return!(this.config.playMode!==d.PLAYER_MODE_VOD||!(!0===this.bufRecvStat&&(this.playPTS>=this.bufLastVDTS||this.audioWAudio&&this.playPTS>=this.bufLastADTS)||this.duration-this.playPTS<this.frameDur)||(this.pause(),this._clearDecInterval(),this.onPlayingTime&&this.onPlayingTime(this.duration),this.onLoadCacheFinshed&&this.onLoadCacheFinshed(),this.onPlayingFinish&&this.onPlayingFinish(),0))}},{key:\"play\",value:function(){var e=this;if(!this.playFrameInterval||null===this.playFrameInterval||null==this.playFrameInterval){this._videoQueue.length>0&&(this.isPlaying=!0);var t=0,i=0,n=0;this.config.playMode===d.PLAYER_MODE_NOTIME_LIVE?this.playFrameInterval=window.setInterval(function(){if(e._videoQueue.length>0){var t=e._videoQueue.shift();t.pts,o.renderFrame(e.yuv,t.data_y,t.data_u,t.data_v,t.line1,t.height)}},1e3*this.frameDur):this.playFrameInterval=window.setInterval(function(){if(i=l.GetMsTime(),e._videoQueue.length>0&&i-t>=e.frameTime-n){var r=e._videoQueue.shift(),a=0;if(e.isNewSeek||null===e.audioWAudio||void 0===e.audioWAudio||(a=1e3*(r.pts-e.audioWAudio.getAlignVPTS()),e.playPTS=Math.max(e.audioWAudio.getAlignVPTS(),e.playPTS)),t=i,l.GetMsTime(),e.playPTS=Math.max(r.pts,e.playPTS),e.isNewSeek&&e.seekTarget-e.frameDur>r.pts)return void(n=e.frameTime);if(e.isNewSeek&&(e.audioWAudio&&e.audioWAudio.setVoice(e.audioVoice),e.audioWAudio&&e.audioWAudio.play(),n=0,e.isNewSeek=!1,e.seekTarget=0),e.showScreen?e.onRender&&e.onRender(r.line1,r.height,r.data_y,r.data_u,r.data_v):(r.pts,o.renderFrame(e.yuv,r.data_y,r.data_u,r.data_v,r.line1,r.height)),e.onPlayingTime&&e.onPlayingTime(r.pts),!e.isNewSeek&&e.audioWAudio&&(a<0&&-1*a<=e.frameTime||a>=0)){if(e.config.playMode===d.PLAYER_MODE_VOD)if(r.pts>=e.duration)e.onLoadCacheFinshed&&e.onLoadCacheFinshed(),e.onPlayingFinish&&e.onPlayingFinish(),e._clearDecInterval(),e.pause();else if(e._checkPlayFinished())return;n=l.GetMsTime()-i}else!e.isNewSeek&&e.audioWAudio&&(a<0&&e.frameTime,n=e.frameTime)}e._checkPlayFinished()},1)}this.isNewSeek||this.audioWAudio&&this.audioWAudio.play()}},{key:\"pause\",value:function(){this.isPlaying=!1,this._pause()}},{key:\"_pause\",value:function(){this.playFrameInterval&&window.clearInterval(this.playFrameInterval),this.playFrameInterval=null,this.audioWAudio&&this.audioWAudio.pause()}},{key:\"seek\",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.openFrameCall=!1,this.pause(),this._clearDecInterval(),null!==this.avFeedVideoInterval&&(window.clearInterval(this.avFeedVideoInterval),this.avFeedVideoInterval=null),null!==this.avFeedAudioInterval&&(window.clearInterval(this.avFeedAudioInterval),this.avFeedAudioInterval=null),this.yuvMaxTime=0,this.playVPipe.length=0,this._videoQueue.length=0,this.audioWAudio&&this.audioWAudio.stop(),e&&e(),this.isNewSeek=!0,this.avSeekVState=!0,this.seekTarget=i.seekTime,null!==this.audioWAudio&&void 0!==this.audioWAudio&&(this.audioWAudio.setVoice(0),this.audioWAudio.resetStartParam(),this.audioWAudio.stop()),this._avFeedData(i.seekTime),setTimeout(function(){t.yuvMaxTime=0,t._videoQueue.length=0,t.openFrameCall=!0,t.frameCallTag+=1,t._decVFrameIntervalFunc()},1e3)}},{key:\"setVoice\",value:function(e){this.audioVoice=e,this.audioWAudio&&this.audioWAudio.setVoice(e)}},{key:\"cacheIsFull\",value:function(){return this._videoQueue.length>=50}},{key:\"_checkDisplaySize\",value:function(e,t,i){var n=t-e,r=this.config.width+Math.ceil(n/2),a=t/this.config.width>i/this.config.height,s=(r/t).toFixed(2),o=(this.config.height/i).toFixed(2),l=a?s:o,u=this.config.fixed,d=u?r:parseInt(t*l),c=u?this.config.height:parseInt(i*l);if(this.canvas.offsetWidth!=d||this.canvas.offsetHeight!=c){var h=parseInt((this.canvasBox.offsetHeight-c)/2),f=parseInt((this.canvasBox.offsetWidth-d)/2);h=h<0?0:h,f=f<0?0:f,this.canvas.style.marginTop=h+\"px\",this.canvas.style.marginLeft=f+\"px\",this.canvas.style.width=d+\"px\",this.canvas.style.height=c+\"px\"}return this.isCheckDisplay=!0,[d,c]}},{key:\"_createYUVCanvas\",value:function(){this.canvasBox=document.querySelector(\"#\"+this.config.playerId),this.canvasBox.style.overflow=\"hidden\",this.canvas=document.createElement(\"canvas\"),this.canvas.style.width=this.canvasBox.clientWidth+\"px\",this.canvas.style.height=this.canvasBox.clientHeight+\"px\",this.canvas.style.top=\"0px\",this.canvas.style.left=\"0px\",this.canvasBox.appendChild(this.canvas),this.yuv=o.setupCanvas(this.canvas,{preserveDrawingBuffer:!1})}},{key:\"_avRecvPackets\",value:function(){var e=this;this.bufObject.cleanPipeline(),null!==this.avRecvInterval&&(window.clearInterval(this.avRecvInterval),this.avRecvInterval=null),!0===this.config.checkProbe?this.avRecvInterval=window.setInterval(function(){Module.cwrap(\"getSniffStreamPkg\",\"number\",[\"number\"])(e.corePtr),e._avCheckRecvFinish()},5):this.avRecvInterval=window.setInterval(function(){Module.cwrap(\"getSniffStreamPkgNoCheckProbe\",\"number\",[\"number\"])(e.corePtr),e._avCheckRecvFinish()},5),this._avFeedData(0,!1)}},{key:\"_avCheckRecvFinish\",value:function(){this.config.playMode===d.PLAYER_MODE_VOD&&this.duration-this.getMaxPTS()<this.frameDur&&(this.bufRecvStat=!0,null!==this.avRecvInterval&&(window.clearInterval(this.avRecvInterval),this.avRecvInterval=null,this.bufOK=!0))}},{key:\"_afterAvFeedSeekToStartWithFinishedBuffer\",value:function(e){var t=this,i=window.setInterval(function(){t._videoQueue.length,t._videoQueue.length>=50&&(t.onSeekFinish&&t.onSeekFinish(),t.onPlayingTime&&t.onPlayingTime(e),t.play(),window.clearInterval(i),i=null)},10);return!0}},{key:\"_afterAvFeedSeekToStartWithUnFinBuffer\",value:function(e){var t=this,i=window.setInterval(function(){t._videoQueue.length,t._videoQueue.length>=50&&(t.onSeekFinish&&t.onSeekFinish(),t.onPlayingTime&&t.onPlayingTime(e),!1===t.reFull?t.play():t.reFull=!1,window.clearInterval(i),i=null)},10);return!0}},{key:\"_avFeedData\",value:function(e){var t=this;if(this.playVPipe.length=0,this.audioWAudio&&this.audioWAudio.cleanQueue(),e<=0&&!1===this.bufOK){var i=0;if(this.avFeedVideoInterval=window.setInterval(function(){var n=t.bufObject.videoBuffer.length;if(n-1>i||t.duration-t.getMaxPTS()<t.frameDur&&n-1==i){var r=t.bufObject.videoBuffer[i].length;if(r>0){for(var s=0;s<r;s++)t.playVPipe.push(a.ConstructWithDts(t.bufObject.videoBuffer[i][s].pts,t.bufObject.videoBuffer[i][s].dts,t.bufObject.videoBuffer[i][s].isKey,t.bufObject.videoBuffer[i][s].data,!0));i+=1}t.config.playMode===d.PLAYER_MODE_VOD&&t.duration-t.getMaxPTS()<t.frameDur&&t.playVPipe.length>0&&t.playVPipe[t.playVPipe.length-1].pts>=t.bufLastVDTS&&(window.clearInterval(t.avFeedVideoInterval),t.avFeedVideoInterval=null,t.playVPipe[t.playVPipe.length-1].pts,t.bufLastVDTS,t.bufObject.videoBuffer,t.playVPipe)}else t.config.playMode===d.PLAYER_MODE_VOD&&t.playVPipe.length>0&&t.playVPipe[t.playVPipe.length-1].pts>=t.duration&&(window.clearInterval(t.avFeedVideoInterval),t.avFeedVideoInterval=null,t.playVPipe[t.playVPipe.length-1].pts,t.duration,t.bufObject.videoBuffer,t.playVPipe);t.avSeekVState&&(t.getMaxPTS(),t.duration,t.config.playMode===d.PLAYER_MODE_VOD&&(t._afterAvFeedSeekToStartWithFinishedBuffer(e),t.avSeekVState=!1))},5),void 0!==this.audioWAudio&&null!==this.audioWAudio&&this.config.ignoreAudio<1){var n=0;this.avFeedAudioInterval=window.setInterval(function(){var e=t.bufObject.audioBuffer.length;if(e-1>n||t.duration-t.getMaxPTS()<t.frameDur&&e-1==n){for(var i=t.bufObject.audioBuffer[n].length,r=0;r<i;r++)t.audioWAudio.addSample(new a.BufferFrame(t.bufObject.audioBuffer[n][r].pts,t.bufObject.audioBuffer[n][r].isKey,t.bufObject.audioBuffer[n][r].data,!1));n+=1,t.config.playMode===d.PLAYER_MODE_VOD&&t.duration-t.getMaxPTS()<t.frameDur&&t.audioWAudio.sampleQueue.length>0&&t.audioWAudio.sampleQueue[t.audioWAudio.sampleQueue.length-1].pts>=t.bufLastADTS&&(window.clearInterval(t.avFeedAudioInterval),t.avFeedAudioInterval=null,t.audioWAudio.sampleQueue[t.audioWAudio.sampleQueue.length-1].pts,t.bufObject.audioBuffer)}else t.config.playMode===d.PLAYER_MODE_VOD&&t.audioWAudio.sampleQueue.length>0&&t.audioWAudio.sampleQueue[t.audioWAudio.sampleQueue.length-1].pts>=t.duration&&(window.clearInterval(t.avFeedAudioInterval),t.avFeedAudioInterval=null,t.audioWAudio.sampleQueue[t.audioWAudio.sampleQueue.length-1].pts,t.bufObject.audioBuffer)},5)}}else{var r=this.bufObject.seekIDR(e),s=parseInt(r,10);this.playPTS=0;var o=s;if(this.avFeedVideoInterval=window.setInterval(function(){var i=t.bufObject.videoBuffer.length;if(i-1>o||t.duration-t.getMaxPTS()<t.frameDur&&i-1==o){var n=t.bufObject.videoBuffer[o].length;if(n>0){for(var r=0;r<n;r++)t.playVPipe.push(a.ConstructWithDts(t.bufObject.videoBuffer[o][r].pts,t.bufObject.videoBuffer[o][r].dts,t.bufObject.videoBuffer[o][r].isKey,t.bufObject.videoBuffer[o][r].data,!0));o+=1}t.config.playMode===d.PLAYER_MODE_VOD&&t.duration-t.getMaxPTS()<t.frameDur&&t.playVPipe.length>0&&t.playVPipe[t.playVPipe.length-1].pts>=t.bufLastVDTS&&(window.clearInterval(t.avFeedVideoInterval),t.avFeedVideoInterval=null)}else t.config.playMode===d.PLAYER_MODE_VOD&&t.playVPipe.length>0&&t.playVPipe[t.playVPipe.length-1].pts>=t.duration&&(window.clearInterval(t.avFeedVideoInterval),t.avFeedVideoInterval=null);t.avSeekVState&&(t.getMaxPTS(),t.duration,t.config.playMode===d.PLAYER_MODE_VOD&&(t._afterAvFeedSeekToStartWithUnFinBuffer(e),t.avSeekVState=!1))},5),this.audioWAudio&&this.config.ignoreAudio<1){var l=parseInt(e,10);this.avFeedAudioInterval=window.setInterval(function(){\nvar e=t.bufObject.audioBuffer.length;if(e-1>l||t.duration-t.getMaxPTS()<t.frameDur&&e-1==l){for(var i=t.bufObject.audioBuffer[l].length,n=0;n<i;n++)t.bufObject.audioBuffer[l][n].pts<t.seekTarget||t.audioWAudio.addSample(new a.BufferFrame(t.bufObject.audioBuffer[l][n].pts,t.bufObject.audioBuffer[l][n].isKey,t.bufObject.audioBuffer[l][n].data,!1));l+=1,t.config.playMode===d.PLAYER_MODE_VOD&&t.duration-t.getMaxPTS()<t.frameDur&&t.audioWAudio.sampleQueue.length>0&&t.audioWAudio.sampleQueue[t.audioWAudio.sampleQueue.length-1].pts>=t.bufLastADTS&&(window.clearInterval(t.avFeedAudioInterval),t.avFeedAudioInterval=null)}else t.config.playMode===d.PLAYER_MODE_VOD&&t.audioWAudio.sampleQueue.length>0&&t.audioWAudio.sampleQueue[t.audioWAudio.sampleQueue.length-1].pts>=t.duration&&(window.clearInterval(t.avFeedAudioInterval),t.avFeedAudioInterval=null)},5)}}}},{key:\"_probeFinCallback\",value:function(e,t,i,n,r,a,s,o,l){var c=this;this._createYUVCanvas(),d.V_CODEC_NAME_HEVC,this.config.fps=1*n,this.frameTime=1e3/this.config.fps,this.width=t,this.height=i,this.frameDur=1/this.config.fps,this.duration=e-this.frameDur,this.vCodecID=o,this.config.sampleRate=a,this.channels=s,this.audioIdx=r,this.duration<0&&(this.config.playMode=d.PLAYER_MODE_NOTIME_LIVE,this.frameTime,this.frameDur);for(var h=Module.HEAPU8.subarray(l,l+10),f=0;f<h.length;f++)String.fromCharCode(h[f]);d.V_CODEC_NAME_HEVC===this.vCodecID&&(r>=0&&this.config.ignoreAudio<1?(void 0!==this.audioWAudio&&null!==this.audioWAudio&&(this.audioWAudio.stop(),this.audioWAudio=null),this.audioWAudio=u({sampleRate:a,appendType:d.APPEND_TYPE_FRAME}),this.audioWAudio.setDurationMs(1e3*e),this.onLoadCache&&this.audioWAudio.setOnLoadCache(function(){if(c.retryAuSampleNo,c.retryAuSampleNo<=5){c.pause(),c.onLoadCache&&c.onLoadCache();var e=window.setInterval(function(){return c.retryAuSampleNo,c.audioWAudio.sampleQueue.length,c.audioWAudio.sampleQueue.length>2?(c.onLoadCacheFinshed&&c.onLoadCacheFinshed(),c.play(),c.retryAuSampleNo=0,window.clearInterval(e),void(e=null)):(c.retryAuSampleNo+=1,c.retryAuSampleNo>5?(c.play(),c.onLoadCacheFinshed&&c.onLoadCacheFinshed(),window.clearInterval(e),void(e=null)):void 0)},1e3)}})):this.audioNone=!0,this._avRecvPackets(),this._decVFrameIntervalFunc()),this.onProbeFinish&&this.onProbeFinish()}},{key:\"_ptsFixed2\",value:function(e){return Math.ceil(100*e)/100}},{key:\"_naluCallback\",value:function(e,t,i,n,r,a,s){var o=this._ptsFixed2(a),l=Module.HEAPU8.subarray(e,e+t),u=new Uint8Array(l);this.bufObject.appendFrameWithDts(o,s,u,!0,i),this.bufLastVDTS=Math.max(s,this.bufLastVDTS),this.vCachePTS=Math.max(o,this.vCachePTS),this.onCacheProcess&&this.onCacheProcess(this.getCachePTS())}},{key:\"_samplesCallback\",value:function(e,t,i,n){}},{key:\"_aacFrameCallback\",value:function(e,t,i,n,r){var a=this._ptsFixed2(r);if(this.audioWAudio){var s=new Uint8Array(7+i),o=Module.HEAPU8.subarray(e,e+7);s.set(o,0);var l=Module.HEAPU8.subarray(t,t+i);s.set(l,7),this.bufObject.appendFrame(a,s,!1,!0),this.bufLastADTS=Math.max(a,this.bufLastADTS),this.aCachePTS=Math.max(a,this.aCachePTS),this.onCacheProcess&&this.onCacheProcess(this.getCachePTS())}}},{key:\"_decVFrameIntervalFunc\",value:function(){var e=this;null==this.decVFrameInterval&&(this.decVFrameInterval=window.setInterval(function(){if(e._videoQueue.length<50&&e.playVPipe.length>0){var t=e.playVPipe.shift(),i=t.data,n=Module._malloc(i.length);Module.HEAP8.set(i,n);var r=parseInt(1e3*t.pts,10),a=parseInt(1e3*t.dts,10);e.yuvMaxTime=Math.max(t.pts,e.yuvMaxTime),Module.cwrap(\"decodeVideoFrame\",\"number\",[\"number\",\"number\",\"number\",\"number\",\"number\"])(e.corePtr,n,i.length,r,a,e.frameCallTag),Module._free(n),n=null}},10))}},{key:\"_frameCallback\",value:function(e,t,i,n,r,a,s,l,u,d){if(this._videoQueue.length,!(!1===this.openFrameCall||d!==this.frameCallTag||u>this.yuvMaxTime+this.frameDur||this.isNewSeek&&this.seekTarget-u>3*this.frameDur)){var c=this._videoQueue.length;if(this.canvas.width==n&&this.canvas.height==l||(this.canvas.width=n,this.canvas.height=l,this.isCheckDisplay)||this._checkDisplaySize(s,n,l),!(this.playPTS>u)){var f=Module.HEAPU8.subarray(e,e+n*l),p=Module.HEAPU8.subarray(t,t+r*l/2),m=Module.HEAPU8.subarray(i,i+a*l/2),g=new Uint8Array(f),_=new Uint8Array(p),v=new Uint8Array(m);this.config.readyShow&&(o.renderFrame(this.yuv,g,_,v,n,l),this.config.readyShow=!1,this.onReadyShowDone&&this.onReadyShowDone());var y=new h(g,_,v,n,r,a,s,l,u);if(c<=0||u>this._videoQueue[c-1].pts)this._videoQueue.push(y);else if(u<this._videoQueue[0].pts)this._videoQueue.splice(0,0,y);else if(u<this._videoQueue[c-1].pts)for(var b=0;b<c;b++)if(u>this._videoQueue[b].pts&&b+1<c&&u<this._videoQueue[b+1].pts){this._videoQueue.splice(b+1,0,y);break}this._videoQueue,this.vCachePTS=Math.max(u,this.vCachePTS),this.onCacheProcess&&this.onCacheProcess(this.getCachePTS())}}}},{key:\"setProbeSize\",value:function(e){this.probeSize=e}},{key:\"pushBuffer\",value:function(e){var t=Module._malloc(e.length);Module.HEAP8.set(e,t);var i=Module.cwrap(\"pushSniffStreamData\",\"number\",[\"number\",\"number\",\"number\",\"number\"])(this.corePtr,t,e.length,this.probeSize);return i}}])&&n(t.prototype,i),f&&n(t,f),e}();i.CNativeCore=f},{\"../consts\":52,\"../demuxer/buffer\":63,\"../demuxer/bufferFrame\":64,\"../render-engine/webgl-420p\":76,\"../version\":79,\"./audio-core\":53,\"./audio-native-core\":54,\"./av-common\":55,\"./cache\":58,\"./cacheYuv\":59}],58:[function(e,t,n){(function(i){e(\"./cacheYuv\"),i.CACHE_APPEND_STATUS_CODE={FAILED:-1,OVERFLOW:-2,OK:0,NOT_FULL:1,FULL:2,NULL:3},t.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,t={limit:e,yuvCache:[],appendCacheByCacheYuv:function(e){return e.pts,t.yuvCache.length>=t.limit?CACHE_APPEND_STATUS_CODE.OVERFLOW:(t.yuvCache.push(e),t.yuvCache.length>=t.limit?CACHE_APPEND_STATUS_CODE.FULL:CACHE_APPEND_STATUS_CODE.NOT_FULL)},getState:function(){return t.yuvCache.length<=0?CACHE_APPEND_STATUS_CODE.NULL:t.yuvCache.length>=t.limit?CACHE_APPEND_STATUS_CODE.FULL:CACHE_APPEND_STATUS_CODE.NOT_FULL},cleanPipeline:function(){t.yuvCache.length=0},vYuv:function(){return t.yuvCache.length<=0?null:t.yuvCache.shift()}};return t}}).call(this,\"undefined\"!=typeof i?i:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./cacheYuv\":59}],59:[function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(t,i,n,r,a,s){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.pts=t,this.width=i,this.height=n,this.imageBufferY=r,this.imageBufferB=a,this.imageBufferR=s}var t,i,r;return t=e,(i=[{key:\"setYuv\",value:function(e,t,i,n,r,a){this.pts=e,this.width=t,this.height=i,this.imageBufferY=n,this.imageBufferB=r,this.imageBufferR=a}}])&&n(t.prototype,i),r&&n(t,r),e}();i.CacheYuvStruct=r},{}],60:[function(e,t,i){t.exports={HEVC_NAL_TRAIL_N:0,HEVC_NAL_TRAIL_R:1,HEVC_NAL_TSA_N:2,HEVC_NAL_TSA_R:3,HEVC_NAL_STSA_N:4,HEVC_NAL_STSA_R:5,HEVC_NAL_RADL_N:6,HEVC_NAL_RADL_R:7,HEVC_NAL_RASL_N:8,HEVC_NAL_RASL_R:9,HEVC_NAL_VCL_N10:10,HEVC_NAL_VCL_R11:11,HEVC_NAL_VCL_N12:12,HEVC_NAL_VCL_R13:13,HEVC_NAL_VCL_N14:14,HEVC_NAL_VCL_R15:15,HEVC_NAL_BLA_W_LP:16,HEVC_NAL_BLA_W_RADL:17,HEVC_NAL_BLA_N_LP:18,HEVC_NAL_IDR_W_RADL:19,HEVC_NAL_IDR_N_LP:20,HEVC_NAL_CRA_NUT:21,HEVC_NAL_IRAP_VCL22:22,HEVC_NAL_IRAP_VCL23:23,HEVC_NAL_RSV_VCL24:24,HEVC_NAL_RSV_VCL25:25,HEVC_NAL_RSV_VCL26:26,HEVC_NAL_RSV_VCL27:27,HEVC_NAL_RSV_VCL28:28,HEVC_NAL_RSV_VCL29:29,HEVC_NAL_RSV_VCL30:30,HEVC_NAL_RSV_VCL31:31,HEVC_NAL_VPS:32,HEVC_NAL_SPS:33,HEVC_NAL_PPS:34,HEVC_NAL_AUD:35,HEVC_NAL_EOS_NUT:36,HEVC_NAL_EOB_NUT:37,HEVC_NAL_FD_NUT:38,HEVC_NAL_SEI_PREFIX:39,HEVC_NAL_SEI_SUFFIX:40,HEVC_NAL_RSV_NVCL41:41,HEVC_NAL_RSV_NVCL42:42,HEVC_NAL_RSV_NVCL43:43,HEVC_NAL_RSV_NVCL44:44,HEVC_NAL_RSV_NVCL45:45,HEVC_NAL_RSV_NVCL46:46,HEVC_NAL_RSV_NVCL47:47,HEVC_NAL_UNSPEC48:48,HEVC_NAL_UNSPEC49:49,HEVC_NAL_UNSPEC50:50,HEVC_NAL_UNSPEC51:51,HEVC_NAL_UNSPEC52:52,HEVC_NAL_UNSPEC53:53,HEVC_NAL_UNSPEC54:54,HEVC_NAL_UNSPEC55:55,HEVC_NAL_UNSPEC56:56,HEVC_NAL_UNSPEC57:57,HEVC_NAL_UNSPEC58:58,HEVC_NAL_UNSPEC59:59,HEVC_NAL_UNSPEC60:60,HEVC_NAL_UNSPEC61:61,HEVC_NAL_UNSPEC62:62,HEVC_NAL_UNSPEC63:63,SOURCE_CODE_VPS:64,SOURCE_CODE_SPS:66,SOURCE_CODE_PPS:68,SOURCE_CODE_SEI:78,SOURCE_CODE_IDR:38,SOURCE_CODE_P:2,SOURCE_CODE_SEI_END:128,DEFINE_STARTCODE:new Uint8Array([0,0,0,1]),DEFINE_KEY_FRAME:21,DEFINE_P_FRAME:9,DEFINE_OTHERS_FRAME:153}},{}],61:[function(e,t,i){var n=e(\"./hevc-header\"),r=[n.HEVC_NAL_VPS,n.HEVC_NAL_SPS,n.HEVC_NAL_PPS,n.HEVC_NAL_SEI_PREFIX];t.exports={IS_HEV_PS_INFO_CHAR:function(e){var t=(126&e)>>1;return r.indexOf(t)},GET_NALU_TYPE:function(e){var t=(126&e)>>1;if(t>=1&&t<=9)return n.DEFINE_P_FRAME;if(t>=16&&t<=21)return n.DEFINE_KEY_FRAME;var i=r.indexOf(t);return i>=0?r[i]:n.DEFINE_OTHERS_FRAME},PACK_NALU:function(e){var t=e.nalu,i=e.vlc.vlc;null==t.vps&&(t.vps=new Uint8Array);var n=new Uint8Array(t.vps.length+t.sps.length+t.pps.length+t.sei.length+i.length);return n.set(t.vps,0),n.set(t.sps,t.vps.length),n.set(t.pps,t.vps.length+t.sps.length),n.set(t.sei,t.vps.length+t.sps.length+t.pps.length),n.set(i,t.vps.length+t.sps.length+t.pps.length+t.sei.length),n}}},{\"./hevc-header\":60}],62:[function(e,t,i){function n(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}var r=e(\"./av-common\"),a=e(\"./audio-core\"),s=e(\"./cache\"),o=e(\"./cacheYuv\"),l=e(\"../render-engine/webgl-420p\"),u=e(\"../consts\"),d=e(\"../version\");t.exports=function(e){var t={config:{width:e.width||u.DEFAULT_WIDTH,height:e.height||u.DEFAULT_HEIGHT,fps:e.fps||u.DEFAULT_FPS,fixed:e.fixed||u.DEFAULT_FIXED,sampleRate:e.sampleRate||u.DEFAULT_SAMPLERATE,appendHevcType:e.appendHevcType||u.APPEND_TYPE_STREAM,frameDurMs:e.frameDur||u.DEFAULT_FRAME_DUR,playerId:e.playerId||u.DEFAILT_WEBGL_PLAY_ID,audioNone:e.audioNone||!1,token:e.token||null,videoCodec:e.videoCodec||u.CODEC_H265},vcodecerPtr:null,videoCallback:null,frameList:[],cacheInterval:null,cacheYuvBuf:s(30),nowPacket:null,stream:new Uint8Array,audio:null,liveStartMs:-1,durationMs:-1,videoPTS:0,loop:null,debugYUVSwitch:!1,debugID:null,cacheLoop:null,playParams:{seekPos:-1,mode:u.PLAYER_MODE_VOD,accurateSeek:!0,seekEvent:!1,realPlay:!0},calcuteStartTime:-1,fix_poc_err_skip:0,frameTime:0,frameTimeSec:0,preCostTime:0,realVolume:1,isPlaying:!1,isCaching:u.CACHE_NO_LOADCACHE,isNewSeek:!1,flushDecoder:0,isCheckDisplay:!1,isPlayLoadingFinish:0,vCachePTS:0,aCachePTS:0,showScreen:!1,noCacheFrame:0,onPlayingTime:null,onPlayingFinish:null,onSeekFinish:null,onLoadCache:null,onLoadCacheFinshed:null,onRender:null,setScreen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null!=t&&(t.showScreen=e,t.canvas&&(e?t.canvas.setAttribute(\"hidden\",!0):t.canvas.removeAttribute(\"hidden\")))},setSize:function(e,i){t.config.width=e||u.DEFAULT_WIDTH,t.config.height=i||u.DEFAULT_HEIGHT},setFrameRate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:25;t.config.fps=e,t.config.frameDurMs=1e3/e},setDurationMs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;t.durationMs=e,0==t.config.audioNone&&t.audio.setDurationMs(e)},setPlayingCall:function(e){t.onPlayingTime=e},setVoice:function(e){t.realVolume=e,0==t.config.audioNone&&t.audio.setVoice(t.realVolume)},isPlayingState:function(){return t.isPlaying||t.isCaching===u.CACHE_WITH_PLAY_SIGN},appendAACFrame:function(e){t.audio.addSample(e),t.aCachePTS=Math.max(e.pts,t.aCachePTS)},appendHevcFrame:function(e){var i;t.config.appendHevcType==u.APPEND_TYPE_STREAM?t.stream=new Uint8Array((i=n(t.stream)).concat.apply(i,n(e))):t.config.appendHevcType==u.APPEND_TYPE_FRAME&&(t.frameList.push(e),t.vCachePTS=Math.max(e.pts,t.vCachePTS))},getCachePTS:function(){return Math.max(t.vCachePTS,t.aCachePTS)},endAudio:function(){0==t.config.audioNone&&t.audio.stop()},cleanSample:function(){0==t.config.audioNone&&t.audio.cleanQueue()},cleanVideoQueue:function(){t.config.appendHevcType==u.APPEND_TYPE_STREAM?t.stream=new Uint8Array:t.config.appendHevcType==u.APPEND_TYPE_FRAME&&(t.frameList=[],t.frameList.length=0)},cleanCacheYUV:function(){t.cacheYuvBuf.cleanPipeline()},pause:function(){t.loop&&window.clearInterval(t.loop),t.loop=null,0==t.config.audioNone&&t.audio.pause(),t.isPlaying=!1,t.isCaching===u.CACHE_WITH_PLAY_SIGN&&(t.isCaching=u.CACHE_WITH_NOPLAY_SIGN)},checkFinished:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.PLAYER_MODE_VOD;return e==u.PLAYER_MODE_VOD&&t.cacheYuvBuf.yuvCache.length<=0&&(t.videoPTS.toFixed(1)>=(t.durationMs-t.config.frameDurMs)/1e3||t.noCacheFrame>=10)&&(null!=t.onPlayingFinish&&(u.PLAYER_MODE_VOD,t.frameList.length,t.cacheYuvBuf.yuvCache.length,t.videoPTS.toFixed(1),t.durationMs,t.config.frameDurMs,t.noCacheFrame,t.onPlayingFinish()),!0)},clearAllCache:function(){t.nowPacket=null,t.vCachePTS=0,t.aCachePTS=0,t.cleanSample(),t.cleanVideoQueue(),t.cleanCacheYUV()},seek:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isPlaying;t.pause(),t.stopCacheThread(),t.clearAllCache(),e&&e(),t.isNewSeek=!0,t.flushDecoder=1,t.videoPTS=parseInt(i.seekTime);var r={seekPos:i.seekTime||-1,mode:i.mode||u.PLAYER_MODE_VOD,accurateSeek:i.accurateSeek||!0,seekEvent:i.seekEvent||!0,realPlay:n};t.cacheThread(),t.play(r)},getNalu1Packet:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=null,n=-1;if(t.config.appendHevcType==u.APPEND_TYPE_STREAM)i=t.nextNalu();else{if(t.config.appendHevcType!=u.APPEND_TYPE_FRAME)return null;var r=t.frameList.shift();if(!r)return null;i=r.data,n=r.pts,e&&(t.videoPTS=n)}return{nalBuf:i,pts:n}},decodeNalu1Frame:function(e,i){var n=Module._malloc(e.length);Module.HEAP8.set(e,n);var r=parseInt(1e3*i);return Module.cwrap(\"decodeCodecContext\",\"number\",[\"number\",\"number\",\"number\",\"number\",\"number\"])(t.vcodecerPtr,n,e.length,r,t.flushDecoder),t.flushDecoder=0,Module._free(n),!1},cacheThread:function(){t.cacheLoop=window.setInterval(function(){if(t.cacheYuvBuf.getState()!=CACHE_APPEND_STATUS_CODE.FULL){var e=t.getNalu1Packet(!1);if(null!=e){var i=e.nalBuf,n=e.pts;t.decodeNalu1Frame(i,n,!0)}}},10)},stopCacheThread:function(){null!==t.cacheLoop&&(window.clearInterval(t.cacheLoop),t.cacheLoop=null)},loadCache:function(){if(!(t.frameList.length<=3)){var e=t.isPlaying;if(t.cacheYuvBuf.yuvCache.length<=3){t.pause(),null!=t.onLoadCache&&t.onLoadCache(),t.isCaching=e?u.CACHE_WITH_PLAY_SIGN:u.CACHE_WITH_NOPLAY_SIGN;var i=t.frameList.length>30?30:t.frameList.length;null===t.cacheInterval&&(t.cacheInterval=window.setInterval(function(){t.cacheYuvBuf.yuvCache.length>=i&&(null!=t.onLoadCacheFinshed&&t.onLoadCacheFinshed(),window.clearInterval(t.cacheInterval),t.cacheInterval=null,t.isCaching===u.CACHE_WITH_PLAY_SIGN&&t.play(t.playParams),t.isCaching=u.CACHE_NO_LOADCACHE)},40))}}},playFunc:function(){var e=!1;if(t.playParams.seekEvent||r.GetMsTime()-t.calcuteStartTime>=t.frameTime-t.preCostTime){e=!0;var i=!0;if(t.calcuteStartTime=r.GetMsTime(),t.config.audioNone)t.playFrameYUV(i,t.playParams.accurateSeek);else{t.fix_poc_err_skip>0&&(t.fix_poc_err_skip--,i=!1);var n=t.videoPTS-t.audio.getAlignVPTS();if(n>0)return void(t.playParams.seekEvent&&!t.config.audioNone&&t.audio.setVoice(0));if(i){if(!(i=-1*n<=1*t.frameTimeSec)){for(var a=parseInt(n/t.frameTimeSec),s=0;s<a;s++)t.playFrameYUV(!1,t.playParams.accurateSeek);t.playFrameYUV(!0,t.playParams.accurateSeek)}t.playFrameYUV(i,t.playParams.accurateSeek)}}}return t.playParams.seekEvent&&(t.playParams.seekEvent=!1,t.onSeekFinish(),t.isPlaying||(t.playFrameYUV(!0,t.playParams.accurateSeek),t.pause()),t.config.audioNone||t.audio.setVoice(t.realVolume)),t.onPlayingTime&&t.onPlayingTime(t.videoPTS),t.checkFinished(t.playParams.mode),e},play:function(e){if(t.playParams=e,t.calcuteStartTime=r.GetMsTime(),t.noCacheFrame=0,t.isPlaying=t.playParams.realPlay,!0===t.config.audioNone&&t.playParams.mode==u.PLAYER_MODE_NOTIME_LIVE){t.liveStartMs=r.GetMsTime(),t.frameTime=Math.floor(1e3/t.config.fps),t.frameTimeSec=t.frameTime/1e3;var i=0;t.loop=window.setInterval(function(){(r.GetMsTime()-t.liveStartMs)/t.frameTime>=i&&(t.playFrameYUV(!0,t.playParams.accurateSeek),i+=1)},1)}else t.videoPTS>=t.playParams.seekPos&&!t.isNewSeek||0===t.playParams.seekPos||0===t.playParams.seekPos?(t.frameTime=1e3/t.config.fps,t.frameTimeSec=t.frameTime/1e3,0==t.config.audioNone&&t.audio.play(),t.realVolume=t.config.audioNone?0:t.audio.voice,t.playParams.seekEvent&&(t.fix_poc_err_skip=10),t.loop=window.setInterval(function(){var e=r.GetMsTime();t.playFunc(),t.preCostTime=r.GetMsTime()-e},1)):(t.loop=window.setInterval(function(){t.playFrameYUV(!1,t.playParams.accurateSeek),t.checkFinished(t.playParams.mode)?(window.clearInterval(t.loop),t.loop=null):t.videoPTS>=t.playParams.seekPos&&(window.clearInterval(t.loop),t.loop=null,t.play(t.playParams))},1),t.isNewSeek=!1)},stop:function(){t.release(),Module.cwrap(\"initializeDecoder\",\"number\",[\"number\"])(t.vcodecerPtr),t.stream=new Uint8Array},release:function(){return t.endAudio(),t.cacheLoop&&window.clearInterval(t.cacheLoop),t.cacheLoop=null,t.loop&&window.clearInterval(t.loop),t.loop=null,t.pause(),null!==t.videoCallback&&Module.removeFunction(t.videoCallback),t.videoCallback=null,Module.cwrap(\"release\",\"number\",[\"number\"])(t.vcodecerPtr),t.stream=null,t.frameList.length=0,t.durationMs=-1,t.videoPTS=0,t.isPlaying=!1,!0},nextNalu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(t.stream.length<=4)return!1;for(var i=-1,n=0;n<t.stream.length;n++){if(n+5>=t.stream.length){if(-1==i)return!1;var r=t.stream.subarray(i);return t.stream=new Uint8Array,r}var a=\"0 0 1\"==t.stream.slice(0,3).join(\" \"),s=\"0 0 0 1\"==t.stream.slice(0,4).join(\" \");if(a||s){if(-1==i)i=n;else{if(e<=1){var o=t.stream.subarray(i,n);return t.stream=t.stream.subarray(n),o}e-=1}n+=3}}return!1},decodeSendPacket:function(e){var i=Module._malloc(e.length);Module.HEAP8.set(e,i);var n=Module.cwrap(\"decodeSendPacket\",\"number\",[\"number\",\"number\",\"number\"])(t.vcodecerPtr,i,e.length);return Module._free(i),n},decodeRecvFrame:function(){return Module.cwrap(\"decodeRecv\",\"number\",[\"number\"])(t.vcodecerPtr)},playFrameYUV:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.cacheYuvBuf.vYuv();if(null==n)return t.noCacheFrame+=1,e&&!t.playParams.seekEvent&&t.loadCache(),!1;t.noCacheFrame=0;var r=n.pts;return t.videoPTS=r,(!e&&i||e)&&e&&t.drawImage(n.width,n.height,n.imageBufferY,n.imageBufferB,n.imageBufferR),e&&!t.playParams.seekEvent&&t.isPlaying&&t.loadCache(),!0},drawImage:function(e,i,n,r,a){if(t.canvas.width===e&&t.canvas.height==i||(t.canvas.width=e,t.canvas.height=i),t.showScreen&&null!=t.onRender)t.onRender(e,i,n,r,a);else{t.isCheckDisplay||t.checkDisplaySize(e,i);var s=e*i,o=e/2*(i/2),u=new Uint8Array(s+2*o);u.set(n,0),u.set(r,s),u.set(a,s+o),l.renderFrame(t.yuv,n,r,a,e,i)}},debugYUV:function(e){t.debugYUVSwitch=!0,t.debugID=e},checkDisplaySize:function(e,i){var n=e/t.config.width>i/t.config.height,r=(t.config.width/e).toFixed(2),a=(t.config.height/i).toFixed(2),s=n?r:a,o=t.config.fixed,l=o?t.config.width:parseInt(e*s),u=o?t.config.height:parseInt(i*s);if(t.canvas.offsetWidth!=l||t.canvas.offsetHeight!=u){var d=parseInt((t.canvasBox.offsetHeight-u)/2),c=parseInt((t.canvasBox.offsetWidth-l)/2);t.canvas.style.marginTop=d+\"px\",t.canvas.style.marginLeft=c+\"px\",t.canvas.style.width=l+\"px\",t.canvas.style.height=u+\"px\"}return t.isCheckDisplay=!0,[l,u]},makeWasm:function(){null!=t.config.token&&(t.vcodecerPtr=Module.cwrap(\"registerPlayer\",\"number\",[\"string\",\"string\"])(t.config.token,d.PLAYER_VERSION),t.videoCallback=Module.addFunction(function(e,i,n,r,a,s,l,u,d){var c=Module.HEAPU8.subarray(e,e+r*u),h=Module.HEAPU8.subarray(i,i+a*u/2),f=Module.HEAPU8.subarray(n,n+s*u/2),p=new Uint8Array(c),m=new Uint8Array(h),g=new Uint8Array(f),_=1*d/1e3,v=new o.CacheYuvStruct(_,r,u,p,m,g);t.cacheYuvBuf.appendCacheByCacheYuv(v)}),Module.cwrap(\"setCodecType\",\"number\",[\"number\",\"number\",\"number\"])(t.vcodecerPtr,t.config.videoCodec,t.videoCallback),Module.cwrap(\"initMissile\",\"number\",[\"number\"])(t.vcodecerPtr),Module.cwrap(\"initializeDecoder\",\"number\",[\"number\"])(t.vcodecerPtr))},makeIt:function(){var e=document.querySelector(\"div#\"+t.config.playerId),i=document.createElement(\"canvas\");i.style.width=e.clientWidth+\"px\",i.style.height=e.clientHeight+\"px\",i.style.top=\"0px\",i.style.left=\"0px\",e.appendChild(i),t.canvasBox=e,t.canvas=i,t.yuv=l.setupCanvas(i,{preserveDrawingBuffer:!1}),0==t.config.audioNone&&(t.audio=a({sampleRate:t.config.sampleRate,appendType:t.config.appendHevcType})),t.isPlayLoadingFinish=1}};return t.makeWasm(),t.makeIt(),t.cacheThread(),t}},{\"../consts\":52,\"../render-engine/webgl-420p\":76,\"../version\":79,\"./audio-core\":53,\"./av-common\":55,\"./cache\":58,\"./cacheYuv\":59}],63:[function(e,t,i){var n=e(\"./bufferFrame\");t.exports=function(){var e={videoBuffer:[],audioBuffer:[],idrIdxBuffer:[],appendFrame:function(t,i){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=new n.BufferFrame(t,a,i,r),o=parseInt(t);return r?(e.videoBuffer.length-1>=o?e.videoBuffer[o].push(s):e.videoBuffer.push([s]),a&&!e.idrIdxBuffer.includes(t)&&e.idrIdxBuffer.push(t)):e.audioBuffer.length-1>=o&&null!=e.audioBuffer[o]&&null!=e.audioBuffer[o]?e.audioBuffer[o]&&e.audioBuffer[o].push(s):e.audioBuffer.push([s]),!0},appendFrameWithDts:function(t,i,r){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=n.ConstructWithDts(t,i,s,r,a),l=parseInt(i);return a?(e.videoBuffer.length-1>=l?e.videoBuffer[l].push(o):e.videoBuffer.push([o]),s&&!e.idrIdxBuffer.includes(i)&&e.idrIdxBuffer.push(i)):e.audioBuffer.length-1>=l&&null!=e.audioBuffer[l]&&null!=e.audioBuffer[l]?e.audioBuffer[l]&&e.audioBuffer[l].push(o):e.audioBuffer.push([o]),!0},appendFrameByBufferFrame:function(t){var i=t.pts,n=parseInt(i);return t.video?(e.videoBuffer.length-1>=n?e.videoBuffer[n].push(t):e.videoBuffer.push([t]),isKey&&!e.idrIdxBuffer.includes(i)&&e.idrIdxBuffer.push(i)):e.audioBuffer.length-1>=n?e.audioBuffer[n].push(t):e.audioBuffer.push([t]),!0},cleanPipeline:function(){e.videoBuffer.length=0,e.audioBuffer.length=0},vFrame:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(!(t<0||t>e.videoBuffer.length-1))return e.videoBuffer[t]},aFrame:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(!(t<0||t>e.audioBuffer.length-1))return e.audioBuffer[t]},seekIDR:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(e.idrIdxBuffer,e.videoBuffer,t<0)return null;if(e.idrIdxBuffer.includes(t))return t;for(var i=0;i<e.idrIdxBuffer.length;i++)if(i===e.idrIdxBuffer.length-1||e.idrIdxBuffer[i]<t&&e.idrIdxBuffer[i+1]>t||0===i&&e.idrIdxBuffer[i]>=t){for(var n=1;n>=0;n--){var r=i-n;if(r>=0)return e.idrIdxBuffer[r],e.idrIdxBuffer[r]}return e.idrIdxBuffer[i],j,e.idrIdxBuffer[i]}}};return e}},{\"./bufferFrame\":64}],64:[function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(t,i,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.pts=t,this.dts=t,this.isKey=i,this.data=n,this.video=r}var t,i,r;return t=e,(i=[{key:\"setFrame\",value:function(e,t,i,n){this.pts=e,this.isKey=t,this.data=i,this.video=n}}])&&n(t.prototype,i),r&&n(t,r),e}();i.BufferFrame=r,i.ConstructWithDts=function(e,t,i,n,a){var s=new r(e,i,n,a);return s.dts=t,s}},{}],65:[function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=e(\"./m3u8base\"),a=e(\"./mpegts/mpeg.js\"),s=e(\"./bufferFrame\"),o=e(\"./buffer\"),l=e(\"../decoder/hevc-imp\"),u=e(\"../consts\"),d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.hls=new r.M3u8Base,this.mpegTsObj=new a.MPEG_JS({}),this.mpegTsWasmState=!1,this.mpegTsWasmRetryLoadTimes=0,this.tsList=[],this.vStartTime=0,this.aStartTime=0,this.lockWait={state:!1,lockMember:{dur:0}},this.timerFeed=null,this.timerTsWasm=null,this.seekPos=-1,this.vPreFramePTS=0,this.aPreFramePTS=0,this.audioNone=!1,this.isHevcParam=!1,this.vCodec=!1,this.aCodec=!1,this.aChannel=0,this.durationMs=-1,this.bufObject=o(),this.fps=-1,this.sampleRate=-1,this.size={width:-1,height:-1},this.mediaInfo=null,this.extensionInfo=null,this.onReadyOBJ=null,this.onFinished=null,this.onDemuxed=null,this.onSamples=null,this.onCacheProcess=null}var t,i,d;return t=e,(i=[{key:\"getCachePTS\",value:function(){return Math.max(this.vPreFramePTS,this.aPreFramePTS)}},{key:\"demux\",value:function(e){var t=this,i=this;this.vPreFramePTS=0,this.aPreFramePTS=0,this.hls.onTransportStream=function(e,t){i.lockWait.state,i.tsList.length,i.tsList.push({streamURI:e,streamDur:t})},this.hls.onFinished=function(e){e.type==u.PLAYER_IN_TYPE_M3U8_VOD?i.durationMs=1e3*e.duration:i.durationMs=-1,null!=i.onFinished&&i.onFinished(i.onReadyOBJ,e)},this.mpegTsObj.onDemuxedFailed=function(e,t){console.error(\"onDemuxedFailed: \",e,t),i.lockWait.state=!1},this.mpegTsObj.onDemuxed=function(){null==i.mediaInfo&&(i.mediaInfo=i.mpegTsObj.readMediaInfo(),i.mediaInfo,i.isHevcParam=i.mpegTsObj.isHEVC(),i.vCodec=i.mpegTsObj.vCodec,i.aCodec=i.mediaInfo.aCodec,i.aChannel=i.mediaInfo.sampleChannel,i.fps=i.mediaInfo.vFps,i.sampleRate=i.mediaInfo.sampleRate,(null===i.aCodec||\"\"===i.aCodec||i.aChannel<=0)&&(i.audioNone=!0)),null==i.extensionInfo&&(i.extensionInfo=i.mpegTsObj.readExtensionInfo(),i.extensionInfo.vWidth>0&&i.extensionInfo.vHeight>0&&(i.size.width=i.extensionInfo.vWidth,i.size.height=i.extensionInfo.vHeight)),i.mediaInfo.duration,null!=i.onDemuxed&&i.onDemuxed(i.onReadyOBJ);for(var e=!1;void 0!==i.mpegTsObj&&null!==i.mpegTsObj;){var n=i.mpegTsObj.readPacket();if(n.size<=0)break;var r=n.dtime>0?n.dtime:n.ptime;if(!(r<0)){if(0==n.type){r<=i.vPreFramePTS&&(e=!0);var a=l.PACK_NALU(n.layer),o=1==n.keyframe,u=1==e?r+i.vStartTime:r,d=new s.BufferFrame(u,o,a,!0);i.bufObject.appendFrame(d.pts,d.data,!0,d.isKey),i.vPreFramePTS=u,null!=i.onSamples&&i.onSamples(i.onReadyOBJ,d)}else if(r<=i.aPreFramePTS&&(e=!0),\"aac\"==i.mediaInfo.aCodec)for(var c=n.data,h=0;h<c.length;h++){var f=c[h],p=1==e?f.ptime+i.vStartTime:r,m=new s.BufferFrame(p,!0,f.data,!1);i.bufObject.appendFrameByBufferFrame(m),i.aPreFramePTS=p,null!=i.onSamples&&i.onSamples(i.onReadyOBJ,m)}else{var g=1==e?r+i.vStartTime:r,_=new s.BufferFrame(g,!0,n.data,!1);i.bufObject.appendFrameByBufferFrame(_),i.aPreFramePTS=g,null!=i.onSamples&&i.onSamples(i.onReadyOBJ,_)}t.onCacheProcess&&t.onCacheProcess(t.getCachePTS())}}i.vStartTime+=parseFloat(i.lockWait.lockMember.dur),i.aStartTime+=parseFloat(i.lockWait.lockMember.dur),i.vStartTime,i.lockWait.state=!1},this.mpegTsObj.onReady=function(){i._onTsReady(e)},i.mpegTsObj.initDemuxer(),this.timerTsWasm=window.setInterval(function(){i.mpegTsWasmState?(window.clearInterval(i.timerTsWasm),i.timerTsWasm=null):i.mpegTsWasmRetryLoadTimes>=3?(i._onTsReady(e),window.clearInterval(i.timerTsWasm),i.timerTsWasm=null):(i.mpegTsWasmRetryLoadTimes+=1,i.mpegTsObj.initDemuxer())},3e3)}},{key:\"_onTsReady\",value:function(e){var t=this;t.hls.fetchM3u8(e),t.mpegTsWasmState=!0,t.timerFeed=window.setInterval(function(){if(t.tsList.length>0&&0==t.lockWait.state)try{var e=t.tsList.shift();if(null!=e){var i=e.streamURI,n=e.streamDur;t.lockWait.state=!0,t.lockWait.lockMember.dur=n,t.mpegTsObj.isLive=t.hls.isLive(),t.mpegTsObj.demuxURL(i)}else console.error(\"_onTsReady need wait \")}catch(e){console.error(\"onTsReady ERROR:\",e),t.lockWait.state=!1}},50)}},{key:\"release\",value:function(){this.hls&&this.hls.release(),this.hls=null,this.timerFeed&&window.clearInterval(this.timerFeed),this.timerFeed=null,this.timerTsWasm&&window.clearInterval(this.timerTsWasm),this.timerTsWasm=null}},{key:\"bindReady\",value:function(e){this.onReadyOBJ=e}},{key:\"popBuffer\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return t<0?null:1===e?t+1>this.bufObject.videoBuffer.length?null:this.bufObject.vFrame(t):2===e?t+1>this.bufObject.audioBuffer.length?null:this.bufObject.aFrame(t):void 0}},{key:\"getVLen\",value:function(){return this.bufObject.videoBuffer.length}},{key:\"getALen\",value:function(){return this.bufObject.audioBuffer.length}},{key:\"getLastIdx\",value:function(){return this.bufObject.videoBuffer.length-1}},{key:\"getALastIdx\",value:function(){return this.bufObject.audioBuffer.length-1}},{key:\"getACodec\",value:function(){return this.aCodec}},{key:\"getVCodec\",value:function(){return this.vCodec}},{key:\"getDurationMs\",value:function(){return this.durationMs}},{key:\"getFPS\",value:function(){return this.fps}},{key:\"getSampleRate\",value:function(){return this.sampleRate}},{key:\"getSampleChannel\",value:function(){return this.aChannel}},{key:\"getSize\",value:function(){return this.size}},{key:\"seek\",value:function(e){if(e>=0){var t=this.bufObject.seekIDR(e);this.seekPos=t}}}])&&n(t.prototype,i),d&&n(t,d),e}();i.M3u8=d},{\"../consts\":52,\"../decoder/hevc-imp\":61,\"./buffer\":63,\"./bufferFrame\":64,\"./m3u8base\":66,\"./mpegts/mpeg.js\":70}],66:[function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=e(\"../consts\"),a=[/#EXT-X-PROGRAM-DATE-TIME.+\\n/g],s={lineDelimiter:/\\r?\\n/,extensionHeader:\"#EXTM3U\",tagPrefix:\"#EXT\",segmentPrefix:\"#EXTINF\",segmentParse:/^#EXTINF: *([0-9.]+)(, *(.+?)?)?$/,tagParse:/^#EXT-X-([A-Z-]+)(:(.+))?$/,version:\"VERSION\",allowCache:\"ALLOW-CACHE\",combined:\"COMBINED\",endList:\"ENDLIST\",targetDuration:\"TARGETDURATION\",mediaSequence:\"MEDIA-SEQUENCE\",discontinuity:\"DISCONTINUITY\",streamInf:\"STREAM-INF\",isComment:function(e){return e&&\"#\"===e[0]&&!e.startsWith(s.tagPrefix)},isBlank:function(e){return\"\"===e},canStrip:function(e){return s.isBlank(e)||s.isComment(e)},defaultMinDur:99999,hlsSliceLimit:100},o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.initState=!0,this.controller=new AbortController,this._slices=[],this._type=r.PLAYER_IN_TYPE_M3U8_LIVE,this._preURI=\"\",this.duration=-1,this.onTransportStream=null,this.onFinished=null}var t,i,o;return t=e,(i=[{key:\"isLive\",value:function(){return this._type===r.PLAYER_IN_TYPE_M3U8_LIVE?1:0}},{key:\"release\",value:function(){this.initState=!1}},{key:\"fetchM3u8\",value:function(e){var t=this,i=this;this.initState&&fetch(e).then(function(e){return e.text()}).then(function(t){return 1==i._uriParse(e)?i._m3u8Parse(t):null}).then(function(n){null!=n&&!1!==n&&!0!==n&&t._type==r.PLAYER_IN_TYPE_M3U8_LIVE&&setTimeout(function(){i.fetchM3u8(e)},500*n)}).catch(function(t){console.error(\"fetchM3u8 ERROR fetch ERROR ==> \",t),setTimeout(function(){i.fetchM3u8(e)},500)})}},{key:\"_uriParse\",value:function(e){this._preURI=\"\";var t=e.split(\"//\"),i=null,n=null;if(t.length<1)return!1;t.length>1?(i=t[0],n=t[1].split(\"/\"),this._preURI=i+\"//\"):n=t[0].split(\"/\");for(var r=0;r<n.length-1;r++)this._preURI+=n[r]+\"/\";return!0}},{key:\"_m3u8Parse\",value:function(e){for(var t=e,i=0;i<a.length;i++)t=e.replace(a[i],\"\");for(var n=t.split(s.lineDelimiter),o=s.defaultMinDur,l=\"\",u=0;u<n.length;u++){var d=n[u];if(!(d.length<1)){if(null!=l&&\"\"!==l)switch(l){case s.version:case s.mediaSequence:case s.allowCache:case s.discontinuity:\ncase s.targetDuration:case s.combined:break;case s.streamInf:return this.fetchM3u8(d),null}var c=this._readTag(d);if(null!=c)switch(l=c.key,c.key){case s.version:case s.mediaSequence:case s.allowCache:case s.discontinuity:case s.targetDuration:case s.combined:case s.streamInf:break;case s.endList:if(this._type=r.PLAYER_IN_TYPE_M3U8_VOD,null!=this.onFinished){var h={type:this._type,duration:this.duration};this.onFinished(h)}return!0;default:c.key}var f=s.segmentParse.exec(d);if(null!=f){var p=f[1];this.duration+=parseFloat(f[1]),o>p&&(o=p);var m=n[u+=1],g=null;g=m.indexOf(\"http\")>=0?m:this._preURI+m,this._slices.indexOf(g)<0&&(this._slices.push(g),this._slices[this._slices.length-1],null!=this.onTransportStream&&this.onTransportStream(g,p))}}}if(this._slices.length>s.hlsSliceLimit&&this._type==r.PLAYER_IN_TYPE_M3U8_LIVE&&(this._slices=this._slices.slice(-1*s.hlsSliceLimit)),null!=this.onFinished){var _={type:this._type,duration:-1};this.onFinished(_)}return o}},{key:\"_readTag\",value:function(e){var t=s.tagParse.exec(e);return null!==t?{key:t[1],value:t[3]}:null}}])&&n(t.prototype,i),o&&n(t,o),e}();i.M3u8Base=o},{\"../consts\":52}],67:[function(e,t,i){function n(){}var r=e(\"mp4box\"),a=e(\"../decoder/hevc-header\"),s=e(\"../decoder/hevc-imp\"),o=e(\"./buffer\"),l=e(\"../consts\"),u={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12,Reserved:13,\"frequency is written explictly\":15},d=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].toString(16));return t};n.prototype.setStartCode=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=null;return t?((i=e)[0]=a.DEFINE_STARTCODE[0],i[1]=a.DEFINE_STARTCODE[1],i[2]=a.DEFINE_STARTCODE[2],i[3]=a.DEFINE_STARTCODE[3]):((i=new Uint8Array(a.DEFINE_STARTCODE.length+e.length)).set(a.DEFINE_STARTCODE,0),i.set(e,a.DEFINE_STARTCODE.length)),i},n.prototype.setAACAdts=function(e){var t=null,i=this.aacProfile,n=u[this.sampleRate],r=new Uint8Array(7),a=r.length+e.length;return r[0]=255,r[1]=241,r[2]=(i-1<<6)+(n<<2)+0,r[3]=128+(a>>11),r[4]=(2047&a)>>3,r[5]=31+((7&a)<<5),r[6]=252,(t=new Uint8Array(a)).set(r,0),t.set(e,r.length),t},n.prototype.demux=function(){var e=this;e.seekPos=-1,e.mp4boxfile=r.createFile(),e.movieInfo=null,e.videoCodec=null,e.durationMs=-1,e.fps=-1,e.sampleRate=-1,e.aacProfile=2,e.size={width:-1,height:-1},e.bufObject=o(),e.audioNone=!1,e.naluHeader={vps:null,sps:null,pps:null,sei:null},e.mp4boxfile.onError=function(e){},this.mp4boxfile.onReady=function(t){for(var i in e.movieInfo=t,t.tracks)\"VideoHandler\"!==t.tracks[i].name&&\"video\"!==t.tracks[i].type||(t.tracks[i].codec,t.tracks[i].codec.indexOf(\"hev\")>=0||t.tracks[i].codec.indexOf(\"hvc\")>=0?e.videoCodec=l.CODEC_H265:t.tracks[i].codec.indexOf(\"avc\")>=0&&(e.videoCodec=l.CODEC_H264));var n=-1;if(n=t.videoTracks[0].samples_duration/t.videoTracks[0].timescale,e.durationMs=1e3*n,e.fps=t.videoTracks[0].nb_samples/n,e.seekDiffTime=1/e.fps,e.size.width=t.videoTracks[0].track_width,e.size.height=t.videoTracks[0].track_height,t.audioTracks.length>0){e.sampleRate=t.audioTracks[0].audio.sample_rate;var r=t.audioTracks[0].codec.split(\".\");e.aacProfile=r[r.length-1]}else e.audioNone=!0;null!=e.onMp4BoxReady&&e.onMp4BoxReady(e.videoCodec),e.videoCodec===l.CODEC_H265?(e.initializeAllSourceBuffers(),e.mp4boxfile.start()):(e.videoCodec,l.CODEC_H264)},e.mp4boxfile.onSamples=function(t,i,n){var r=window.setInterval(function(){for(var i=0;i<n.length;i++){var o=n[i],u=o.data,c=null;if(!(null==u||u.length<4)&&u){var h=o.dts/o.timescale;if(1===t){var f=null,p=o.is_sync;if(e.videoCodec===l.CODEC_H265){f=o.description.hvcC;var m=s.GET_NALU_TYPE(u[4]);p||(p=m==a.DEFINE_KEY_FRAME||o.is_sync)}else e.videoCodec===l.CODEC_H264&&(f=o.description.avcC);if(p){if(e.videoCodec==l.CODEC_H265){var g=f.nalu_arrays;e.naluHeader.vps=e.setStartCode(g[0][0].data,!1),e.naluHeader.sps=e.setStartCode(g[1][0].data,!1),e.naluHeader.pps=e.setStartCode(g[2][0].data,!1),g.length>3?e.naluHeader.sei=e.setStartCode(g[3][0].data,!1):e.naluHeader.sei=new Uint8Array,e.naluHeader}else e.videoCodec==l.CODEC_H264&&(e.naluHeader.vps=new Uint8Array,e.naluHeader.sps=e.setStartCode(f.SPS[0].nalu,!1),e.naluHeader.pps=e.setStartCode(f.PPS[0].nalu,!1),e.naluHeader.sei=new Uint8Array);u[4].toString(16),e.naluHeader.vps[4].toString(16),d(e.naluHeader.vps),d(u);var _=e.setStartCode(u.subarray(0,e.naluHeader.vps.length),!0);if(d(_),u[4]===e.naluHeader.vps[4]){var v=e.naluHeader.vps.length+4,y=e.naluHeader.vps.length+e.naluHeader.sps.length+4,b=e.naluHeader.vps.length+e.naluHeader.sps.length+e.naluHeader.pps.length+4;if(e.naluHeader.sei.length<=0&&e.naluHeader.sps.length>0&&u[v]===e.naluHeader.sps[4]&&e.naluHeader.pps.length>0&&u[y]===e.naluHeader.pps[4]&&78===u[b]){u[e.naluHeader.vps.length+4],e.naluHeader.sps[4],u[e.naluHeader.vps.length+e.naluHeader.sps.length+4],e.naluHeader.pps[4],u[e.naluHeader.vps.length+e.naluHeader.sps.length+e.naluHeader.pps.length+4];for(var A=0,E=0;E<u.length;E++)if(u[E]===a.SOURCE_CODE_SEI_END&&s.GET_NALU_TYPE(u[E+5])===a.DEFINE_KEY_FRAME){A=E;break}u[3]=1,u[v-1]=1,u[y-1]=1,u[b-1]=1,u[2]=0,u[v-2]=0,u[y-2]=0,u[b-2]=0,u[1]=0,u[v-3]=0,u[y-3]=0,u[b-3]=0,u[A+1]=0,u[A+2]=0,u[A+3]=0,u[A+4]=1,e.naluHeader.vps=null,e.naluHeader.sps=null,e.naluHeader.pps=null,e.naluHeader.vps=new Uint8Array,e.naluHeader.sps=new Uint8Array,e.naluHeader.pps=new Uint8Array}else u[4].toString(16),e.naluHeader.vps[4].toString(16),d(e.naluHeader.vps),d(u),u=u.subarray(e.naluHeader.vps.length+e.naluHeader.sps.length+e.naluHeader.pps.length+e.naluHeader.sei.length)}else if(e.naluHeader.sei.length>4&&u[4]===e.naluHeader.sei[4]){var w=u.subarray(0,10),T=new Uint8Array(e.naluHeader.vps.length+w.length);T.set(w,0),T.set(e.naluHeader.vps,w.length),T[3]=1,e.naluHeader.vps=null,e.naluHeader.vps=new Uint8Array(T),T=null,w=null,(u=u.subarray(10))[4],e.naluHeader.vps[4],e.naluHeader.vps}else if(0===e.naluHeader.sei.length&&78===u[4]){u=e.setStartCode(u,!0);for(var S=0,C=0;C<u.length;C++)if(u[C]===a.SOURCE_CODE_SEI_END&&s.GET_NALU_TYPE(u[C+5])===a.DEFINE_KEY_FRAME){S=C;break}e.naluHeader.sei=u.subarray(0,S+1),u=new Uint8Array(u.subarray(S+1)),e.naluHeader.sei}d(e.naluHeader.vps),d(e.naluHeader.sps),d(e.naluHeader.pps),d(e.naluHeader.sei),d(u),(c=new Uint8Array(e.naluHeader.vps.length+e.naluHeader.sps.length+e.naluHeader.pps.length+e.naluHeader.sei.length+u.length)).set(e.naluHeader.vps,0),c.set(e.naluHeader.sps,e.naluHeader.vps.length),c.set(e.naluHeader.pps,e.naluHeader.vps.length+e.naluHeader.sps.length),c.set(e.naluHeader.sei,e.naluHeader.vps.length+e.naluHeader.sps.length+e.naluHeader.pps.length),c.set(e.setStartCode(u,!0),e.naluHeader.vps.length+e.naluHeader.sps.length+e.naluHeader.pps.length+e.naluHeader.sei.length)}else c=e.setStartCode(u,!0);e.bufObject.appendFrame(h,c,!0,p)}else 2==t&&(c=e.setAACAdts(u),e.bufObject.appendFrame(h,c,!1,!0))}}window.clearInterval(r),r=null},0)}},n.prototype.appendBufferData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.fileStart=t,this.mp4boxfile.appendBuffer(e)},n.prototype.finishBuffer=function(){this.mp4boxfile.flush()},n.prototype.play=function(){},n.prototype.getVideoCoder=function(){return this.videoCodec},n.prototype.getDurationMs=function(){return this.durationMs},n.prototype.getFPS=function(){return this.fps},n.prototype.getSampleRate=function(){return this.sampleRate},n.prototype.getSize=function(){return this.size},n.prototype.seek=function(e){if(e>=0){var t=this.bufObject.seekIDR(e);this.seekPos=t}},n.prototype.popBuffer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return t<0?null:1==e?this.bufObject.vFrame(t):2==e?this.bufObject.aFrame(t):void 0},n.prototype.addBuffer=function(e){var t=e.id;this.mp4boxfile.setExtractionOptions(t)},n.prototype.initializeAllSourceBuffers=function(){if(this.movieInfo){for(var e=this.movieInfo,t=0;t<e.tracks.length;t++){var i=e.tracks[t];this.addBuffer(i)}this.initializeSourceBuffers()}},n.prototype.onInitAppended=function(e){var t=e.target;\"open\"===t.ms.readyState&&(t.sampleNum=0,t.removeEventListener(\"updateend\",this.onInitAppended),t.ms.pendingInits--,0===t.ms.pendingInits&&this.mp4boxfile.start())},n.prototype.initializeSourceBuffers=function(){for(var e=this.mp4boxfile.initializeSegmentation(),t=0;t<e.length;t++){var i=e[t].user;0===t&&(i.ms.pendingInits=0),i.addEventListener(\"updateend\",this.onInitAppended),i.appendBuffer(e[t].buffer),i.segmentIndex=0,i.ms.pendingInits++}},t.exports=n},{\"../consts\":52,\"../decoder/hevc-header\":60,\"../decoder/hevc-imp\":61,\"./buffer\":63,mp4box:40}],68:[function(e,t,i){t.exports={DEFAULT_SAMPLERATE:44100,DEFAULT_CHANNEL:1,H264AUD:[0,0,0,1,9,224],H265AUD:[0,0,0,1,70,1,80],DEF_AAC:\"aac\",DEF_MP3:\"mp3\",DEF_H265:\"h265\",DEF_HEVC:\"hevc\",DEF_H264:\"h264\",DEF_AVC:\"avc\",CODEC_OFFSET_TABLE:[\"hevc\",\"h265\",\"avc\",\"h264\",\"aac\",\"mp3\"]}},{}],69:[function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.sampleRate=t.sampleRate,this.frameDurMs=Math.floor(1024e3/this.sampleRate),this.frameDurSec=this.frameDurMs/1e3}var t,i,r;return t=e,(i=[{key:\"updateConfig\",value:function(e){this.sampleRate=e.sampleRate,this.frameDurMs=1024e3/this.sampleRate,this.frameDurSec=this.frameDurMs/1e3}},{key:\"_getPktLen\",value:function(e,t,i){return((3&e)<<11)+(t<<3)+((224&i)>>5)}},{key:\"sliceAACFrames\",value:function(e,t){for(var i=[],n=e,r=0;r<t.length-1;)if(255==t[r]&&t[r+1]>>4==15){var a=this._getPktLen(t[r+3],t[r+4],t[r+5]);if(a<=0)continue;var s=t.subarray(r,r+a),o=new Uint8Array(a);o.set(s,0),i.push({ptime:n,data:o}),n+=this.frameDurSec,r+=a}else r+=1;return i}}])&&n(t.prototype,i),r&&n(t,r),e}();i.AACDecoder=r},{}],70:[function(e,t,n){(function(t){function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=e(\"./decoder/aac\"),a=e(\"./consts\"),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.configFormat={},this.isLive=0,this.mediaAttr={sampleRate:0,sampleChannel:0,vFps:0,vGop:0,vDuration:0,aDuration:0,duration:0,aCodec:\"\",vCodec:\"\",audioNone:!1},this.extensionInfo={vWidth:0,vHeight:0},this.controller=new AbortController,this.offsetDemux=null,this.wasmState=0,this.onReady=null,this.onDemuxed=null,this.onDemuxedFailed=null,this.aacDec=null}var n,s,o;return n=e,(s=[{key:\"initDemuxer\",value:function(){var e=this;return window.WebAssembly?(Module.run(),1===t.STATIC_MEM_wasmDecoderState?(e.wasmState=1,e.onReady()):(Module.onRuntimeInitialized=function(){null!=e.onReady&&0==e.wasmState&&(e.wasmState=1,e.onReady())},Module.postRun=function(){null!=e.onReady&&0==e.wasmState&&(e.wasmState=1,e.onReady())})):/iPhone|iPad/.test(window.navigator.userAgent),!0}},{key:\"demuxURL\",value:function(e){this._demuxerTsInit(e)}},{key:\"demuxUint8Buf\",value:function(e){this._demuxCore(e)}},{key:\"_demuxerTsInit\",value:function(e){var t=this,i=this.controller.signal;fetch(e,{signal:i}).then(function(e){return e.arrayBuffer()}).then(function(i){i.fileStart=0;var n=new Uint8Array(i);null!=n?t._demuxCore(n):console.error(\"demuxerTsInit ERROR fetch res is null ==> \",e),n=null}).catch(function(i){console.error(\"demuxerTsInit ERROR fetch ERROR ==> \",i),t._releaseOffset(),t.onDemuxedFailed&&t.onDemuxedFailed(i,e)})}},{key:\"_releaseOffset\",value:function(){void 0!==this.offsetDemux&&null!==this.offsetDemux&&(Module._free(this.offsetDemux),this.offsetDemux=null)}},{key:\"_demuxCore\",value:function(e){if(this._releaseOffset(),this._refreshDemuxer(),!(e.length<=0)){this.offsetDemux=Module._malloc(e.length),Module.HEAP8.set(e,this.offsetDemux);var t=Module.cwrap(\"demuxBox\",\"number\",[\"number\",\"number\",\"number\"])(this.offsetDemux,e.length,this.isLive);Module._free(this.offsetDemux),this.offsetDemux=null,t>=0&&(this._setMediaInfo(),this._setExtensionInfo(),null!=this.onDemuxed&&this.onDemuxed())}}},{key:\"_setMediaInfo\",value:function(){var e=Module.cwrap(\"getMediaInfo\",\"number\",[])(),t=Module.HEAPU32[e/4],i=Module.HEAPU32[e/4+1],n=Module.HEAPF64[e/8+1],s=Module.HEAPF64[e/8+1+1],o=Module.HEAPF64[e/8+1+1+1],l=Module.HEAPF64[e/8+1+1+1+1],u=Module.HEAPU32[e/4+2+2+2+2+2];this.mediaAttr.vFps=n,this.mediaAttr.vGop=u,this.mediaAttr.vDuration=s,this.mediaAttr.aDuration=o,this.mediaAttr.duration=l;var d=Module.cwrap(\"getAudioCodecID\",\"number\",[])();d>=0?(this.mediaAttr.aCodec=a.CODEC_OFFSET_TABLE[d],this.mediaAttr.sampleRate=t>0?t:a.DEFAULT_SAMPLERATE,this.mediaAttr.sampleChannel=i>=0?i:a.DEFAULT_CHANNEL):(this.mediaAttr.sampleRate=0,this.mediaAttr.sampleChannel=0,this.mediaAttr.audioNone=!0);var c=Module.cwrap(\"getVideoCodecID\",\"number\",[])();c>=0&&(this.mediaAttr.vCodec=a.CODEC_OFFSET_TABLE[c]),null==this.aacDec?this.aacDec=new r.AACDecoder(this.mediaAttr):this.aacDec.updateConfig(this.mediaAttr)}},{key:\"_setExtensionInfo\",value:function(){var e=Module.cwrap(\"getExtensionInfo\",\"number\",[])(),t=Module.HEAPU32[e/4],i=Module.HEAPU32[e/4+1];this.extensionInfo.vWidth=t,this.extensionInfo.vHeight=i}},{key:\"readMediaInfo\",value:function(){return this.mediaAttr}},{key:\"readExtensionInfo\",value:function(){return this.extensionInfo}},{key:\"readAudioNone\",value:function(){return this.mediaAttr.audioNone}},{key:\"_readLayer\",value:function(){var e={vps:null,sps:null,pps:null,sei:null},t={vlc:null},i=Module.cwrap(\"getSPSLen\",\"number\",[])(),n=Module.cwrap(\"getSPS\",\"number\",[])();if(!(i<0)){e.sps=new Uint8Array(i),e.sps.set(Module.HEAPU8.subarray(n,n+i),0);var r=Module.cwrap(\"getPPSLen\",\"number\",[])(),s=Module.cwrap(\"getPPS\",\"number\",[])();e.pps=new Uint8Array(r),e.pps.set(Module.HEAPU8.subarray(s,s+r),0);var o=Module.cwrap(\"getSEILen\",\"number\",[])(),l=Module.cwrap(\"getSEI\",\"number\",[])();e.sei=new Uint8Array(o),e.sei.set(Module.HEAPU8.subarray(l,l+o),0);var u=Module.cwrap(\"getVLCLen\",\"number\",[])(),d=Module.cwrap(\"getVLC\",\"number\",[])();if(t.vlc=new Uint8Array(u),t.vlc.set(Module.HEAPU8.subarray(d,d+u),0),this.mediaAttr.vCodec==a.DEF_HEVC||this.mediaAttr.vCodec==a.DEF_H265){var c=Module.cwrap(\"getVPSLen\",\"number\",[])(),h=Module.cwrap(\"getVPS\",\"number\",[])();e.vps=new Uint8Array(c),e.vps.set(Module.HEAPU8.subarray(h,h+c),0)}else this.mediaAttr.vCodec==a.DEF_AVC||(this.mediaAttr.vCodec,a.DEF_H264);return{nalu:e,vlc:t}}}},{key:\"isHEVC\",value:function(){return this.mediaAttr.vCodec==a.DEF_HEVC||this.mediaAttr.vCodec==a.DEF_H265}},{key:\"readPacket\",value:function(){var e=Module.cwrap(\"getPacket\",\"number\",[])(),t=Module.HEAPU32[e/4],i=Module.HEAPU32[e/4+1],n=Module.HEAPF64[e/8+1],r=Module.HEAPF64[e/8+1+1],s=Module.HEAPU32[e/4+1+1+2+2],o=Module.HEAPU32[e/4+1+1+2+2+1],l=Module.HEAPU8.subarray(o,o+i),u=this._readLayer();return{type:t,size:i,ptime:n,dtime:r,keyframe:s,src:l,data:1==t&&this.mediaAttr.aCodec==a.DEF_AAC?this.aacDec.sliceAACFrames(n,l):l,layer:u}}},{key:\"_refreshDemuxer\",value:function(){this.releaseTsDemuxer(),this._initDemuxer()}},{key:\"_initDemuxer\",value:function(){Module.cwrap(\"initTsMissile\",\"number\",[])(),Module.cwrap(\"initializeDemuxer\",\"number\",[])()}},{key:\"releaseTsDemuxer\",value:function(){Module.cwrap(\"exitTsMissile\",\"number\",[])()}}])&&i(n.prototype,s),o&&i(n,o),e}();n.MPEG_JS=s}).call(this,\"undefined\"!=typeof i?i:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./consts\":68,\"./decoder/aac\":69}],71:[function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=e(\"./mpegts/mpeg.js\"),a=e(\"./buffer\"),s=e(\"../decoder/hevc-imp\"),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.seekPos=-1,this.durationMs=-1,this.fps=-1,this.sampleRate=-1,this.aCodec=\"\",this.vCodec=\"\",this.size={width:-1,height:-1},this.bufObject=a(),this.mpegTsObj=null,this.bufObject=a(),this.mediaInfo={},this.extensionInfo={},this.onReady=null,this.onDemuxed=null,this.onReadyOBJ=null}var t,i,o;return t=e,(i=[{key:\"initMPEG\",value:function(){var e=this;this.mpegTsObj=new r.MPEG_JS({}),this.mpegTsObj.onDemuxed=function(){e.mediaInfo=e.mpegTsObj.readMediaInfo(),e.mediaInfo,e.extensionInfo=e.mpegTsObj.readExtensionInfo(),e.extensionInfo,e.vCodec=e.mediaInfo.vCodec,e.aCodec=e.mediaInfo.aCodec,e.durationMs=1e3*e.mediaInfo.duration,e.fps=e.mediaInfo.vFps,e.sampleRate=e.mediaInfo.sampleRate,e.extensionInfo.vWidth>0&&e.extensionInfo.vHeight>0&&(e.size.width=e.extensionInfo.vWidth,e.size.height=e.extensionInfo.vHeight);for(var t=null;!((t=e.mpegTsObj.readPacket()).size<=0);){var i=t.dtime;if(0==t.type){var n=s.PACK_NALU(t.layer),r=1==t.keyframe;e.bufObject.appendFrame(i,n,!0,r)}else if(\"aac\"==e.mediaInfo.aCodec)for(var a=t.data,o=0;o<a.length;o++){var l=a[o];e.bufObject.appendFrame(l.ptime,l.data,!1,!0)}else e.bufObject.appendFrame(i,t.data,!1,!0)}e.bufObject.videoBuffer,e.bufObject.audioBuffer,null!=e.onDemuxed&&e.onDemuxed(e.onReadyOBJ)},this.mpegTsObj.onReady=function(){null!=e.onReady&&e.onReady(e.onReadyOBJ)},this.mpegTsObj.initDemuxer()}},{key:\"bindReady\",value:function(e){this.onReadyOBJ=e}},{key:\"releaseTsDemuxer\",value:function(){this.mpegTsObj&&this.mpegTsObj.releaseTsDemuxer(),this.mpegTsObj=null}},{key:\"demux\",value:function(e){this.mpegTsObj.demuxUint8Buf(e)}},{key:\"popBuffer\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return t<0?null:1==e?this.bufObject.vFrame(t):2==e?this.bufObject.aFrame(t):void 0}},{key:\"isHEVC\",value:function(){return this.mpegTsObj.isHEVC()}},{key:\"getACodec\",value:function(){return this.aCodec}},{key:\"getVCodec\",value:function(){return this.vCodec}},{key:\"getAudioNone\",value:function(){return this.mpegTsObj.mediaAttr.audioNone}},{key:\"getDurationMs\",value:function(){return this.durationMs}},{key:\"getFPS\",value:function(){return this.fps}},{key:\"getSampleRate\",value:function(){return this.sampleRate}},{key:\"getSize\",value:function(){return this.size}},{key:\"seek\",value:function(e){if(e>=0){var t=this.bufObject.seekIDR(e);this.seekPos=t}}}])&&n(t.prototype,i),o&&n(t,o),e}();i.MpegTs=o},{\"../decoder/hevc-imp\":61,\"./buffer\":63,\"./mpegts/mpeg.js\":70}],72:[function(e,t,n){(function(t){function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=e(\"./decoder/player-core\"),a=e(\"./native/mp4-player\"),s=e(\"./decoder/c-native-core\"),o=e(\"./decoder/c-httplive-core\"),l=e(\"./native/nv-videojs-core\"),u=e(\"./native/nv-flvjs-core\"),d=e(\"./decoder/av-common\"),c=(e(\"./demuxer/mpegts/mpeg.js\"),e(\"./demuxer/mp4\")),h=e(\"./demuxer/ts\"),f=e(\"./demuxer/m3u8\"),p=e(\"./consts\"),m=(e(\"./utils/static-mem\"),e(\"./utils/ui/ui\")),g=(e(\"./decoder/cache\"),{moovStartFlag:!0,readyShow:!0,rawFps:24,autoCrop:!1,core:p.PLAYER_CORE_TYPE_DEFAULT,coreProbePart:1,checkProbe:!0,ignoreAudio:0,probeSize:4096}),_=function(e,t){return t-1e3/e};void 0!==t.Module&&null!==t.Module||(t.Module={}),Module.onRuntimeInitialized=function(){t.STATIC_MEM_wasmDecoderState=1,t.STATIC_MEM_wasmDecoderState};var v=function(){function e(i,n){if(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),t.STATICE_MEM_playerCount+=1,this.playerIndex=t.STATICE_MEM_playerCount,this.mp4Obj=null,this.mpegTsObj=null,this.hlsObj=null,this.hlsConf={hlsType:p.PLAYER_IN_TYPE_M3U8_VOD},this.videoURL=i,this.configFormat={playerId:n.player||p.DEFAILT_WEBGL_PLAY_ID,playerW:n.width||p.DEFAULT_WIDTH,playerH:n.height||p.DEFAULT_HEIGHT,type:n.type||d.GetUriFormat(this.videoURL),accurateSeek:n.accurateSeek||!0,playIcon:n.playIcon||\"assets/icon-play@300.png\",loadIcon:n.loadIcon||\"assets/icon-loading.gif\",token:n.token||null,extInfo:g},this.mediaExtFormat=this.configFormat.type,null!=this.configFormat.token){for(var r in this.configFormat.extInfo.core=d.GetFormatPlayCore(this.configFormat.type),n.extInfo)r in this.configFormat.extInfo&&(this.configFormat.extInfo[r]=n.extInfo[r]);this.playMode=p.PLAYER_MODE_VOD,this.seekTarget=0,this.playParam=null,this.timerFeed=null,this.player=null,this.volume=1,this.rawModePts=0,this.autoScreenClose=!0,this.feedMP4Data=null,this.onPlayTime=null,this.onLoadFinish=null,this.onSeekStart=null,this.onSeekFinish=null,this.onRender=null,this.onLoadCache=null,this.onLoadCacheFinshed=null,this.onPlayFinish=null,this.onCacheProcess=null,this.onReadyShowDone=null,this.onOpenFullScreen=null,this.onCloseFullScreen=null,this.onNetworkError=null,this.onMakeItReady=null,this.filterConfigParams(),this.configFormat;var a=this;document.addEventListener(\"fullscreenchange\",function(e){a._isFullScreen()?a.onOpenFullScreen&&a.onOpenFullScreen():(!0===a.autoScreenClose&&a.closeFullScreen(!0),a.onCloseFullScreen&&a.onCloseFullScreen())}),this.screenW=window.screen.width,this.screenH=window.screen.height}}var n,v,y;return n=e,(v=[{key:\"filterConfigParams\",value:function(){void 0!==this.configFormat.extInfo.checkProbe&&null!==this.configFormat.extInfo.checkProbe||(this.configFormat.extInfo.checkProbe=!0),this.configFormat.type===p.PLAYER_IN_TYPE_FLV?(this.configFormat.extInfo.core=p.PLAYER_CORE_TYPE_CNATIVE,this.configFormat.type=p.PLAYER_IN_TYPE_MP4):this.configFormat.type===p.PLAYER_IN_TYPE_HTTPFLV&&(this.configFormat.extInfo.core=p.PLAYER_CORE_TYPE_CNATIVE,this.configFormat.type=p.PLAYER_IN_TYPE_MP4,this.playMode=p.PLAYER_MODE_NOTIME_LIVE)}},{key:\"do\",value:function(){var e=this,i=!1;this.configFormat.type===p.PLAYER_IN_TYPE_RAW_265&&(i=!0,this.playMode=p.PLAYER_MODE_NOTIME_LIVE),this.playParam={durationMs:0,fps:0,sampleRate:0,size:{width:0,height:0},audioNone:i,videoCodec:p.CODEC_H265},m.UI.createPlayerRender(this.configFormat.playerId,this.configFormat.playerW,this.configFormat.playerH);var n=window.setInterval(function(){t.STATICE_MEM_playerIndexPtr===e.playerIndex&&(t.STATICE_MEM_playerIndexPtr,e.playerIndex,window.WebAssembly?(t.STATIC_MEM_wasmDecoderState,1==t.STATIC_MEM_wasmDecoderState&&(e._makeMP4Player(),t.STATICE_MEM_playerIndexPtr+=1,window.clearInterval(n),n=null)):(/iPhone|iPad/.test(window.navigator.userAgent),t.STATICE_MEM_playerIndexPtr+=1,window.clearInterval(n),n=null))},500)}},{key:\"release\",value:function(){return void 0!==this.player&&null!==this.player&&(this.player,this.playParam.videoCodec===p.CODEC_H265&&this.player?(this.configFormat.type==p.PLAYER_IN_TYPE_M3U8&&this.hlsObj.release(),this.player.release()):this.player.release(),!0)}},{key:\"debugYUV\",value:function(e){this.player.debugYUV(e)}},{key:\"setRenderScreen\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return void 0!==this.player&&null!==this.player&&(this.player.setScreen(e),!0)}},{key:\"play\",value:function(){if(void 0===this.player||null===this.player)return!1;if(this.playParam.videoCodec===p.CODEC_H265){var e={seekPos:this._getSeekTarget(),mode:this.playMode,accurateSeek:this.configFormat.accurateSeek,seekEvent:!1,realPlay:!0};this.player.play(e)}else this.player.play();return!0}},{key:\"pause\",value:function(){return void 0!==this.player&&null!==this.player&&(this.player.pause(),!0)}},{key:\"isPlaying\",value:function(){return void 0!==this.player&&null!==this.player&&this.player.isPlayingState()}},{key:\"setVoice\",value:function(e){return!(e<0||void 0===this.player||null===this.player||(this.volume=e,this.player&&this.player.setVoice(e),0))}},{key:\"getVolume\",value:function(){return this.volume}},{key:\"mediaInfo\",value:function(){var e={meta:this.playParam,videoType:this.playMode};return e.meta.isHEVC=0===this.playParam.videoCodec,e}},{key:\"_seekHLS\",value:function(e,t,i){return void 0!==this.player&&null!==this.player&&void setTimeout(function(){t.player.getCachePTS(),t.player.getCachePTS()>e?i():t._seekHLS(e,t,i)},100)}},{key:\"seek\",value:function(e){if(void 0===this.player||null===this.player)return!1;var t=this;this.seekTarget=e,this.onSeekStart&&this.onSeekStart(e),this.timerFeed&&(window.clearInterval(this.timerFeed),this.timerFeed=null);var i=this._getSeekTarget();return this.playParam.videoCodec===p.CODEC_H264?(this.player.seek(e),this.onSeekFinish&&this.onSeekFinish()):this.configFormat.extInfo.core===p.PLAYER_CORE_TYPE_CNATIVE?(this.pause(),this._seekHLS(e,this,function(){t.player.seek(function(){},{seekTime:i,mode:t.playMode,accurateSeek:t.configFormat.accurateSeek})})):this._seekHLS(e,this,function(){t.player.seek(function(){t.configFormat.type==p.PLAYER_IN_TYPE_MP4?t.mp4Obj.seek(e):t.configFormat.type==p.PLAYER_IN_TYPE_TS||t.configFormat.type==p.PLAYER_IN_TYPE_MPEGTS?t.mpegTsObj.seek(e):t.configFormat.type==p.PLAYER_IN_TYPE_M3U8&&(t.hlsObj.onSamples=null,t.hlsObj.seek(e));var i,n=(i=0,i=t.configFormat.accurateSeek?e:t._getBoxBufSeekIDR(),parseInt(i)),r=parseInt(t._getBoxBufSeekIDR())||0;t._avFeedMP4Data(r,n)},{seekTime:i,mode:t.playMode,accurateSeek:t.configFormat.accurateSeek})}),!0}},{key:\"fullScreen\",value:function(){if(this.autoScreenClose=!0,this.player.vCodecID===p.V_CODEC_NAME_HEVC){var e=document.querySelector(\"#\"+this.configFormat.playerId),t=e.getElementsByTagName(\"canvas\")[0];e.style.width=this.screenW+\"px\",e.style.height=this.screenH+\"px\";var i=this._checkScreenDisplaySize(this.screenW,this.screenH,this.playParam.size.width,this.playParam.size.height);t.style.marginTop=i[0]+\"px\",t.style.marginLeft=i[1]+\"px\",t.style.width=i[2]+\"px\",t.style.height=i[3]+\"px\",this._requestFullScreen(e)}else this._requestFullScreen(this.player.videoTag)}},{key:\"closeFullScreen\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!1===e&&(this.autoScreenClose=!1,this._exitFull()),this.player.vCodecID===p.V_CODEC_NAME_HEVC){var t=document.querySelector(\"#\"+this.configFormat.playerId),i=t.getElementsByTagName(\"canvas\")[0];t.style.width=this.configFormat.playerW+\"px\",t.style.height=this.configFormat.playerH+\"px\";var n=this._checkScreenDisplaySize(this.configFormat.playerW,this.configFormat.playerH,this.playParam.size.width,this.playParam.size.height);i.style.marginTop=n[0]+\"px\",i.style.marginLeft=n[1]+\"px\",i.style.width=n[2]+\"px\",i.style.height=n[3]+\"px\"}}},{key:\"_checkScreenDisplaySize\",value:function(e,t,i,n){var r=i/e>n/t,a=(e/i).toFixed(2),s=(t/n).toFixed(2),o=r?a:s,l=this.fixed?e:parseInt(i*o),u=this.fixed?t:parseInt(n*o);return[parseInt((t-u)/2),parseInt((e-l)/2),l,u]}},{key:\"_isFullScreen\",value:function(){var e=document.fullscreenElement||document.mozFullscreenElement||document.webkitFullscreenElement;return document.fullscreenEnabled||document.mozFullscreenEnabled||document.webkitFullscreenEnabled,null!=e}},{key:\"_requestFullScreen\",value:function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullScreen()}},{key:\"_exitFull\",value:function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}},{key:\"_durationText\",value:function(e){if(e<0)return\"Play\";var t=Math.round(e);return Math.floor(t/3600)+\":\"+Math.floor(t%3600/60)+\":\"+Math.floor(t%60)}},{key:\"_getSeekTarget\",value:function(){return this.configFormat.accurateSeek?this.seekTarget:this._getBoxBufSeekIDR()}},{key:\"_getBoxBufSeekIDR\",value:function(){return this.configFormat.type==p.PLAYER_IN_TYPE_MP4?this.mp4Obj.seekPos:this.configFormat.type==p.PLAYER_IN_TYPE_TS||this.configFormat.type==p.PLAYER_IN_TYPE_MPEGTS?this.mpegTsObj.seekPos:this.configFormat.type==p.PLAYER_IN_TYPE_M3U8?this.hlsObj.seekPos:void 0}},{key:\"_playControl\",value:function(){this.isPlaying()?this.pause():this.play()}},{key:\"_avFeedMP4Data\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(void 0===this.player||null===this.player)return!1;var r=parseInt(this.playParam.durationMs/1e3);this.player.clearAllCache(),this.timerFeed=window.setInterval(function(){var a=null,s=null,o=!0,l=!0;if(e.configFormat.type==p.PLAYER_IN_TYPE_MP4?(a=e.mp4Obj.popBuffer(1,t),s=e.mp4Obj.audioNone?null:e.mp4Obj.popBuffer(2,i)):e.configFormat.type==p.PLAYER_IN_TYPE_TS||e.configFormat.type==p.PLAYER_IN_TYPE_MPEGTS?(a=e.mpegTsObj.popBuffer(1,t),s=e.mpegTsObj.getAudioNone()?null:e.mpegTsObj.popBuffer(2,i)):e.configFormat.type==p.PLAYER_IN_TYPE_M3U8&&(a=e.hlsObj.popBuffer(1,t),s=e.hlsObj.audioNone?null:e.hlsObj.popBuffer(2,i),t<r-1&&t>=e.hlsObj.getLastIdx()&&(o=!1),i<r-1&&i>=e.hlsObj.getALastIdx()&&(l=!1)),!0===o&&null!=a)for(var u=0;u<a.length;u++)e.player.appendHevcFrame(a[u]);if(!0===l&&null!=s)for(var d=0;d<s.length;d++)e.player.appendAACFrame(s[d]);if(e.playMode!==p.PLAYER_MODE_NOTIME_LIVE&&e.configFormat.type!==p.PLAYER_IN_TYPE_M3U8&&e.onCacheProcess&&e.onCacheProcess(e.player.getCachePTS()),!0===o&&null!=a&&(a.length,e.configFormat.extInfo.readyShow&&(e.configFormat.type===p.PLAYER_IN_TYPE_M3U8?e.configFormat.extInfo.readyShow=!1:e.configFormat.extInfo.core===p.PLAYER_CORE_TYPE_CNATIVE||e.player.cacheYuvBuf.getState()!=CACHE_APPEND_STATUS_CODE.NULL&&(e.player.playFrameYUV(!0,!0),e.configFormat.extInfo.readyShow=!1,e.onReadyShowDone&&e.onReadyShowDone())),t++),!0===l&&null!=s&&i++,t>r)return window.clearInterval(e.timerFeed),e.timerFeed=null,e.player.vCachePTS,e.player.aCachePTS,void(null!=n&&n())},5)}},{key:\"_makeMP4Player\",value:function(){null!=this.configFormat.extInfo.core&&null!==this.configFormat.extInfo.core&&this.configFormat.extInfo.core===p.PLAYER_CORE_TYPE_CNATIVE?this._cDemuxDecoderEntry():this.configFormat.type==p.PLAYER_IN_TYPE_MP4?this.configFormat.extInfo.moovStartFlag?this._mp4EntryVodStream():this._mp4Entry():this.configFormat.type==p.PLAYER_IN_TYPE_TS||this.configFormat.type==p.PLAYER_IN_TYPE_MPEGTS?this._mpegTsEntry():this.configFormat.type==p.PLAYER_IN_TYPE_M3U8?this._m3u8Entry():this.configFormat.type===p.PLAYER_IN_TYPE_RAW_265&&this._raw265Entry()}},{key:\"_makeMP4PlayerViewEvent\",value:function(e,t,i,n){var a=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=this;if(this.playParam.durationMs=e,this.playParam.fps=t,this.playParam.sampleRate=i,this.playParam.size=n,this.playParam.audioNone=s,this.playParam.videoCodec=o||p.CODEC_H265,this.playParam,(this.configFormat.type==p.PLAYER_IN_TYPE_M3U8&&this.hlsConf.hlsType==p.PLAYER_IN_TYPE_M3U8_LIVE||this.configFormat.type==p.PLAYER_IN_TYPE_RAW_265)&&(this.playMode=p.PLAYER_MODE_NOTIME_LIVE),l.configFormat.extInfo.autoCrop){var u=document.querySelector(\"#\"+this.configFormat.playerId),d=n.width/n.height,c=this.configFormat.playerW/this.configFormat.playerH;d>c?u.style.height=this.configFormat.playerW/d+\"px\":d<c&&(u.style.width=this.configFormat.playerH*d+\"px\")}this.player=r({width:this.configFormat.playerW,height:this.configFormat.playerH,sampleRate:i,fps:t,appendHevcType:p.APPEND_TYPE_FRAME,fixed:!1,playerId:this.configFormat.playerId,audioNone:s,token:this.configFormat.token,videoCodec:o}),this.player.onPlayingTime=function(t){l._durationText(t),l._durationText(e/1e3),null!=l.onPlayTime&&l.onPlayTime(t)},this.player.onPlayingFinish=function(){a.pause(),a.seek(0),null!=a.onPlayFinish&&a.onPlayFinish()},this.player.onSeekFinish=function(){null!=l.onSeekFinish&&l.onSeekFinish()},this.player.onRender=function(e,t,i,n,r){null!=a.onRender&&a.onRender(e,t,i,n,r)},this.player.onLoadCache=function(){null!=a.onLoadCache&&a.onLoadCache()},this.player.onLoadCacheFinshed=function(){null!=a.onLoadCacheFinshed&&a.onLoadCacheFinshed()},l.player.setDurationMs(e),l.player.setFrameRate(t),\nnull!=l.onLoadFinish&&(l.onLoadFinish(),l.configFormat.type==p.PLAYER_IN_TYPE_M3U8&&l.onReadyShowDone&&l.onReadyShowDone())}},{key:\"_makeNativePlayer\",value:function(e,t,i,n,r,s){var o=this;this.playParam.durationMs=e,this.playParam.fps=t,this.playParam.sampleRate=i,this.playParam.size=n,this.playParam.audioNone=r,this.playParam.videoCodec=s||p.CODEC_H264,this.configFormat.type==p.PLAYER_IN_TYPE_M3U8&&this.hlsConf.hlsType==p.PLAYER_IN_TYPE_M3U8_LIVE&&(this.playMode=p.PLAYER_MODE_NOTIME_LIVE),this.player=new a.Mp4Player({width:this.configFormat.playerW,height:this.configFormat.playerH,sampleRate:i,fps:t,appendHevcType:p.APPEND_TYPE_FRAME,fixed:!1,playerId:this.configFormat.playerId,audioNone:r,token:this.configFormat.token,videoCodec:s}),this.player.makeIt(this.videoURL),this.player.onPlayingTime=function(t){o._durationText(t),o._durationText(e/1e3),null!=o.onPlayTime&&o.onPlayTime(t)},this.player.onPlayingFinish=function(){null!=o.onPlayFinish&&o.onPlayFinish()},this.player.onLoadFinish=function(){o.playParam.durationMs=1e3*o.player.duration,o.onLoadFinish&&o.onLoadFinish()}}},{key:\"_initMp4BoxObject\",value:function(){var e=this;this.timerFeed=null,this.mp4Obj=new c,this.mp4Obj.onMp4BoxReady=function(t){var i=e.mp4Obj.getFPS(),n=_(i,e.mp4Obj.getDurationMs()),r=e.mp4Obj.getSampleRate(),a=e.mp4Obj.getSize(),s=e.mp4Obj.getVideoCoder();t===p.CODEC_H265?(e._makeMP4PlayerViewEvent(n,i,r,a,e.mp4Obj.audioNone,s),parseInt(n/1e3),e._avFeedMP4Data(0,0)):e._makeNativePlayer(n,i,r,a,e.mp4Obj.audioNone,s)}}},{key:\"_mp4Entry\",value:function(){var e=this,t=this;fetch(this.videoURL).then(function(e){return e.arrayBuffer()}).then(function(i){t._initMp4BoxObject(),e.mp4Obj.demux(),e.mp4Obj.appendBufferData(i,0),e.mp4Obj.finishBuffer(),e.mp4Obj.seek(-1)})}},{key:\"_mp4EntryVodStream\",value:function(){var e=this,t=this;this.timerFeed=null,this.mp4Obj=new c,this._initMp4BoxObject(),this.mp4Obj.demux();var i=0,n=!1,r=window.setInterval(function(){n||(n=!0,fetch(e.videoURL).then(function(e){return function e(n){return n.read().then(function(a){if(a.done)return t.mp4Obj.finishBuffer(),t.mp4Obj.seek(-1),void window.clearInterval(r);var s=a.value;return t.mp4Obj.appendBufferData(s.buffer,i),i+=s.byteLength,e(n)})}(e.body.getReader())}).catch(function(e){}))},1)}},{key:\"_cDemuxDecoderEntry\",value:function(){var e=this;this.configFormat.type;var t=this,i=new AbortController,n=i.signal,r={width:this.configFormat.playerW,height:this.configFormat.playerH,playerId:this.configFormat.playerId,token:this.configFormat.token,readyShow:this.configFormat.extInfo.readyShow,checkProbe:this.configFormat.extInfo.checkProbe,ignoreAudio:this.configFormat.extInfo.ignoreAudio,playMode:this.playMode};this.player=new s.CNativeCore(r),this.player.onReadyShowDone=function(){t.configFormat.extInfo.readyShow=!1,t.onReadyShowDone&&t.onReadyShowDone()},this.player.onProbeFinish=function(){t.player.mediaInfo,t.player.config,t.playParam.fps=t.player.config.fps,t.playParam.durationMs=_(t.playParam.fps,1e3*t.player.duration),t.player.duration<0&&(t.playMode=p.PLAYER_MODE_NOTIME_LIVE),t.playParam.sampleRate=t.player.config.sampleRate,t.playParam.size={width:t.player.width,height:t.player.height},t.playParam.audioNone=t.player.audioNone,t.player.vCodecID===p.V_CODEC_NAME_HEVC?(t.playParam.audioIdx<0&&(t.playParam.audioNone=!0),t.playParam.videoCodec=p.CODEC_H265,t.onLoadFinish&&t.onLoadFinish()):(t.playParam.videoCodec=p.CODEC_H264,i.abort(),t.player.release(),t.player=null,t.mediaExtFormat===p.PLAYER_IN_TYPE_MP4?t._makeNativePlayer(t.playParam.durationMs,t.playParam.fps,t.playParam.sampleRate,t.playParam.size,!1,t.playParam.videoCodec):t.mediaExtFormat===p.PLAYER_IN_TYPE_FLV?t._flvJsPlayer():t.onLoadFinish&&t.onLoadFinish())},this.player.onPlayingTime=function(e){t._durationText(e),t._durationText(t.player.duration),null!=t.onPlayTime&&t.onPlayTime(e)},this.player.onPlayingFinish=function(){t.pause(),null!=t.onPlayTime&&t.onPlayTime(0),t.onPlayFinish&&t.onPlayFinish(),t.player.reFull=!0,t.seek(0)},this.player.onCacheProcess=function(t){e.onCacheProcess&&e.onCacheProcess(t)},this.player.onLoadCache=function(){null!=e.onLoadCache&&e.onLoadCache()},this.player.onLoadCacheFinshed=function(){null!=e.onLoadCacheFinshed&&e.onLoadCacheFinshed()},this.player.onRender=function(t,i,n,r,a){null!=e.onRender&&e.onRender(t,i,n,r,a)},this.player.onSeekFinish=function(){null!=e.onSeekFinish&&e.onSeekFinish()};var a=!1,o=0;!function e(s){setTimeout(function(){if(!1===a){if(i.abort(),i=null,n=null,s>=p.FETCH_FIRST_MAX_TIMES)return;i=new AbortController,n=i.signal,e(s+1)}},p.FETCH_HTTP_FLV_TIMEOUT_MS),fetch(t.videoURL,{signal:n}).then(function(e){if(a=!0,e.headers.has(\"Content-Length\"))o=e.headers.get(\"Content-Length\"),t.player&&t.player.setProbeSize(o*t.configFormat.extInfo.coreProbePart);else{if(t.mediaExtFormat===p.PLAYER_IN_TYPE_FLV)return i.abort(),t.player.release(),t.player=null,t._cLiveFLVDecoderEntry(r),!0;t.player&&t.player.setProbeSize(4096)}return e.headers.get(\"Content-Length\"),t.configFormat.type,t.mediaExtFormat,function e(i){return i.read().then(function(n){if(!n.done){n.value.buffer;var r=new Uint8Array(n.value.buffer);return t.player&&t.player.pushBuffer(r)<0?(t.player.release(),t.player=null,t._mp4EntryVodStream(),!1):e(i)}t.player&&t.player.pushDone()})}(e.body.getReader())}).catch(function(e){e.toString().includes(\"user aborted\")||console.error(\"cdemuxdecoder error\",e)})}(0)}},{key:\"_cLiveFLVDecoderEntry\",value:function(e){var t=this,i=this;e.probeSize=this.configFormat.extInfo.probeSize,this.player=new o.CHttpLiveCore(e),e.probeSize,this.player.onProbeFinish=function(){i.playParam.fps=i.player.mediaInfo.fps,i.playParam.durationMs=-1,i.playMode=p.PLAYER_MODE_NOTIME_LIVE,i.playParam.sampleRate=i.player.mediaInfo.sampleRate,i.playParam.size={width:i.player.mediaInfo.width,height:i.player.mediaInfo.height},i.playParam.audioNone=i.player.mediaInfo.audioNone,i.player.mediaInfo,i.player.vCodecID===p.V_CODEC_NAME_HEVC?(i.playParam.audioIdx<0&&(i.playParam.audioNone=!0),i.playParam.videoCodec=p.CODEC_H265,i.onLoadFinish&&i.onLoadFinish()):(i.playParam.videoCodec=p.CODEC_H264,i.player.release(),i.player=null,i._flvJsPlayer())},this.player.onNetworkError=function(e){i.onNetworkError&&i.onNetworkError(e)},this.player.onReadyShowDone=function(){i.configFormat.extInfo.readyShow=!1,i.onReadyShowDone&&i.onReadyShowDone()},this.player.onLoadCache=function(){null!=t.onLoadCache&&t.onLoadCache()},this.player.onLoadCacheFinshed=function(){null!=t.onLoadCacheFinshed&&t.onLoadCacheFinshed()},this.player.start(this.videoURL)}},{key:\"_mpegTsEntry\",value:function(){var e=this,t=new AbortController,i=t.signal;this.timerFeed=null,this.mpegTsObj=new h.MpegTs,this.mpegTsObj.bindReady(e),this.mpegTsObj.onDemuxed=this._mpegTsEntryReady.bind(this),this.mpegTsObj.onReady=function(){fetch(e.videoURL,{signal:i}).then(function(e){return e.arrayBuffer()}).then(function(i){if(void 0!==e.mpegTsObj&&null!==e.mpegTsObj){i.fileStart=0;var n=new Uint8Array(i);e.mpegTsObj.demux(n)}else t.abort()})},this.mpegTsObj.initMPEG()}},{key:\"_mpegTsEntryReady\",value:function(e){var t=e,i=(t.mpegTsObj.getVCodec(),t.mpegTsObj.getACodec()),n=t.mpegTsObj.getDurationMs(),r=t.mpegTsObj.getFPS(),a=t.mpegTsObj.getSampleRate(),s=t.mpegTsObj.getSize(),o=this.mpegTsObj.isHEVC();return o?(t._makeMP4PlayerViewEvent(n,r,a,s,\"\"==i),parseInt(n/1e3),t._avFeedMP4Data(0,0),void 0):(this.mpegTsObj.releaseTsDemuxer(),this.mpegTsObj=null,this.playParam.durationMs=n,this.playParam.fps=r,this.playParam.sampleRate=a,this.playParam.size=s,this.playParam.audioNone=\"\"==i,this.playParam.videoCodec=o?0:1,this.playParam,void(this.onLoadFinish&&this.onLoadFinish()))}},{key:\"_m3u8Entry\",value:function(){var e=this,t=this,i=!1,n=0;this.hlsObj=new f.M3u8,this.hlsObj.bindReady(t),this.hlsObj.onFinished=function(e,r){0==i&&(n=t.hlsObj.getDurationMs(),t.hlsConf.hlsType=r.type,i=!0)},this.hlsObj.onCacheProcess=function(t){e.playMode!==p.PLAYER_MODE_NOTIME_LIVE&&e.onCacheProcess&&e.onCacheProcess(t)},this.hlsObj.onDemuxed=function(e){if(null==t.player){var i=t.hlsObj.isHevcParam,r=(t.hlsObj.getVCodec(),t.hlsObj.getACodec()),a=t.hlsObj.getFPS(),s=t.hlsObj.getSampleRate(),o=t.hlsObj.getSize(),l=!1;if(l=t.hlsObj.getSampleChannel()<=0||\"\"===r,!i)return t.hlsObj.release(),t.hlsObj.mpegTsObj&&t.hlsObj.mpegTsObj.releaseTsDemuxer(),t.hlsObj=null,t.playParam.durationMs=-1,t.playParam.fps=a,t.playParam.sampleRate=s,t.playParam.size=o,t.playParam.audioNone=\"\"==r,t.playParam.videoCodec=i?0:1,t.playParam,void t._videoJsPlayer();t._makeMP4PlayerViewEvent(n,a,s,o,l)}},this.hlsObj.onSamples=this._hlsOnSamples.bind(this),this.hlsObj.demux(this.videoURL)}},{key:\"_hlsOnSamples\",value:function(e,t){1==t.video?this.player.appendHevcFrame(t):!1===this.hlsObj.audioNone&&this.player.appendAACFrame(t)}},{key:\"_videoJsPlayer\",value:function(){var e=this,t={width:this.configFormat.playerW,height:this.configFormat.playerH,playerId:this.configFormat.playerId,ignoreAudio:this.configFormat.extInfo.ignoreAudio};this.player=new l.NvVideojsCore(t),this.player.onMakeItReady=function(){e.onMakeItReady&&e.onMakeItReady()},this.player.onLoadFinish=function(){e.playParam.size=e.player.getSize(),e.player.duration===1/0||e.player.duration<0?(e.playParam.durationMs=-1,e.playMode=p.PLAYER_MODE_NOTIME_LIVE):(e.playParam.durationMs=1e3*e.player.duration,e.playMode=p.PLAYER_MODE_VOD),e.onLoadFinish&&e.onLoadFinish()},this.player.onReadyShowDone=function(){e.onReadyShowDone&&e.onReadyShowDone()},this.player.onPlayingFinish=function(){e.pause(),e.seek(0),null!=e.onPlayFinish&&e.onPlayFinish()},this.player.onPlayingTime=function(t){e._durationText(t),e._durationText(e.player.duration),null!=e.onPlayTime&&e.onPlayTime(t)},this.player.onSeekFinish=function(){e.onSeekFinish&&e.onSeekFinish()},this.player.makeIt(this.videoURL)}},{key:\"_flvJsPlayer\",value:function(){var e=this,t={width:this.configFormat.playerW,height:this.configFormat.playerH,playerId:this.configFormat.playerId,ignoreAudio:this.configFormat.extInfo.ignoreAudio};this.player=new u.NvFlvjsCore(t),this.player.onLoadFinish=function(){e.playParam.size=e.player.getSize(),!e.player.duration||NaN===e.player.duration||e.player.duration===1/0||e.player.duration<0?(e.playParam.durationMs=-1,e.playMode=p.PLAYER_MODE_NOTIME_LIVE):(e.playParam.durationMs=1e3*e.player.duration,e.playMode=p.PLAYER_MODE_VOD),e.onLoadFinish&&e.onLoadFinish()},this.player.onReadyShowDone=function(){e.onReadyShowDone&&e.onReadyShowDone()},this.player.onPlayingTime=function(t){e._durationText(t),e._durationText(e.player.duration),null!=e.onPlayTime&&e.onPlayTime(t)},this.player.onPlayingFinish=function(){e.pause(),e.seek(0),null!=e.onPlayFinish&&e.onPlayFinish()},this.player.makeIt(this.videoURL)}},{key:\"_raw265Entry\",value:function(){this._makeMP4PlayerViewEvent(-1,this.configFormat.extInfo.rawFps,-1,{width:this.configFormat.playerW,height:this.configFormat.playerH},!0,p.CODEC_H265),this.timerFeed&&(window.clearInterval(this.timerFeed),this.timerFeed=null)}},{key:\"append265NaluFrame\",value:function(e){var t={data:e,pts:this.rawModePts};this.player.appendHevcFrame(t),this.configFormat.extInfo.readyShow&&this.player.cacheYuvBuf.getState()!=CACHE_APPEND_STATUS_CODE.NULL&&(this.player.playFrameYUV(!0,!0),this.configFormat.extInfo.readyShow=!1,this.onReadyShowDone&&this.onReadyShowDone()),this.rawModePts+=1/this.configFormat.extInfo.rawFps}}])&&i(n.prototype,v),y&&i(n,y),e}();n.H265webjs=v,t.new265webjs=function(e,t){return new v(e,t)}}).call(this,\"undefined\"!=typeof i?i:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./consts\":52,\"./decoder/av-common\":55,\"./decoder/c-httplive-core\":56,\"./decoder/c-native-core\":57,\"./decoder/cache\":58,\"./decoder/player-core\":62,\"./demuxer/m3u8\":65,\"./demuxer/mp4\":67,\"./demuxer/mpegts/mpeg.js\":70,\"./demuxer/ts\":71,\"./native/mp4-player\":73,\"./native/nv-flvjs-core\":74,\"./native/nv-videojs-core\":75,\"./utils/static-mem\":77,\"./utils/ui/ui\":78}],73:[function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=e(\"../consts\"),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.configFormat={width:t.width||r.DEFAULT_WIDTH,height:t.height||r.DEFAULT_HEIGHT,fps:t.fps||r.DEFAULT_FPS,fixed:t.fixed||r.DEFAULT_FIXED,sampleRate:t.sampleRate||r.DEFAULT_SAMPLERATE,appendHevcType:t.appendHevcType||r.APPEND_TYPE_STREAM,frameDurMs:t.frameDur||r.DEFAULT_FRAME_DUR,playerId:t.playerId||r.DEFAILT_WEBGL_PLAY_ID,audioNone:t.audioNone||!1,token:t.token||null,videoCodec:t.videoCodec||r.CODEC_H265},this.videoTag=null,this.isPlaying=!1,this.duration=-1,this.onLoadFinish=null,this.onPlayingTime=null,this.onPlayingFinish=null}var t,i,a;return t=e,(i=[{key:\"makeIt\",value:function(e){var t=this,i=document.querySelector(\"div#\"+this.configFormat.playerId);this.videoTag=document.createElement(\"video\"),this.videoTag.ontimeupdate=function(){t.onPlayingTime&&t.onPlayingTime(t.videoTag.currentTime)},this.videoTag.onended=function(){t.onPlayingFinish&&t.onPlayingFinish()},this.videoTag.onloadedmetadata=function(){t.duration=t.videoTag.duration,t.onLoadFinish&&t.onLoadFinish()},this.videoTag.src=e,this.videoTag.style.width=\"100%\",this.videoTag.style.height=\"100%\",i.appendChild(this.videoTag)}},{key:\"play\",value:function(){this.videoTag.play()}},{key:\"seek\",value:function(e){this.videoTag.currentTime=e}},{key:\"pause\",value:function(){this.videoTag.pause()}},{key:\"setVoice\",value:function(e){this.videoTag.volume=e}},{key:\"isPlayingState\",value:function(){return!this.videoTag.paused}},{key:\"release\",value:function(){this.videoTag&&this.videoTag.remove(),this.videoTag=null,this.onLoadFinish=null,this.onPlayingTime=null,this.onPlayingFinish=null}}])&&n(t.prototype,i),a&&n(t,a),e}();i.Mp4Player=a},{\"../consts\":52}],74:[function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=e(\"../consts\"),a=(e(\"../version\"),e(\"flv.js\")),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.configFormat={width:t.width||r.DEFAULT_WIDTH,height:t.height||r.DEFAULT_HEIGHT,playerId:t.playerId||r.DEFAILT_WEBGL_PLAY_ID,ignoreAudio:t.ignoreAudio},this.audioVoice=1,this.myPlayerID=this.configFormat.playerId+\"-flvjs\",this.myPlayer=null,this.videoContaner=null,this.videoTag=null,this.duration=-1,this.width=-1,this.height=-1,this.isPlaying=!1,this.vCodecID=r.V_CODEC_NAME_AVC,this.audioNone=!1,this.showScreen=!1,this.playPTS=0,this.vCachePTS=0,this.aCachePTS=0,this.onLoadFinish=null,this.onPlayingTime=null,this.onPlayingFinish=null,this.onReadyShowDone=null}var t,i,s;return t=e,(i=[{key:\"_onVideoJsReady\",value:function(){var e=this;this.videoContaner=document.querySelector(\"#\"+this.myPlayerID),this.videoTag=this.videoContaner.querySelector(\"video\"),this.videoTag.style.width=this.configFormat.width+\"px\",this.videoTag.style.height=this.configFormat.height+\"px\",this.videoTag,this.duration=this.myPlayer.duration(),this.duration,this.onLoadFinish&&this.onLoadFinish(),this.onReadyShowDone&&this.onReadyShowDone(),this.myPlayer.on(\"progress\",function(){e.myPlayer.buffered().length,e.myPlayer.duration()}),this.myPlayer.on(\"timeupdate\",function(){e.videoTag.currentTime,e.myPlayer.duration(),e.onPlayingTime&&e.onPlayingTime(e.myPlayer.currentTime())})}},{key:\"makeIt\",value:function(e){var t=this;if(a.isSupported()){var i=document.querySelector(\"#\"+this.configFormat.playerId);this.videoTag=document.createElement(\"video\"),this.videoTag.id=this.myPlayerID,this.videoTag.style.width=this.configFormat.width+\"px\",this.videoTag.style.height=this.configFormat.height+\"px\",i.appendChild(this.videoTag);var n={type:\"flv\",url:e};this.myPlayer=a.createPlayer(n),this.myPlayer.on(a.Events.METADATA_ARRIVED,function(e){t.duration=e.duration,t.width=e.width,t.height=e.height,t.duration,t.onLoadFinish&&t.onLoadFinish(),t.onReadyShowDone&&t.onReadyShowDone(),t.videoTag.ontimeupdate=function(){t.onPlayingTime&&t.onPlayingTime(t.videoTag.currentTime)},t.videoTag.onended=function(){t.onPlayingFinish&&t.onPlayingFinish()}}),this.myPlayer.attachMediaElement(this.videoTag),this.myPlayer.load()}else console.error(\"FLV is AVC/H.264, But your brower do not support mse!\")}},{key:\"getSize\",value:function(){return{width:this.videoTag.videoWidth,height:this.videoTag.videoHeight}}},{key:\"play\",value:function(){this.myPlayer.play()}},{key:\"seek\",value:function(e){this.myPlayer.currentTime=e}},{key:\"pause\",value:function(){this.myPlayer.pause()}},{key:\"setVoice\",value:function(e){this.myPlayer.volume=e}},{key:\"isPlayingState\",value:function(){return!this.videoTag.paused}},{key:\"release\",value:function(){this.myPlayer.pause(),this.myPlayer.unload(),this.myPlayer.detachMediaElement(),this.myPlayer.destroy(),this.myPlayerID=null,this.myPlayer=null,this.videoContaner=null,this.videoTag.remove(),this.videoTag=null,this.onLoadFinish=null,this.onPlayingTime=null,this.onPlayingFinish=null,this.onReadyShowDone=null}}])&&n(t.prototype,i),s&&n(t,s),e}();i.NvFlvjsCore=s},{\"../consts\":52,\"../version\":79,\"flv.js\":33}],75:[function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=e(\"../consts\"),a=(e(\"../version\"),e(\"video.js\")),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.configFormat={width:t.width||r.DEFAULT_WIDTH,height:t.height||r.DEFAULT_HEIGHT,playerId:t.playerId||r.DEFAILT_WEBGL_PLAY_ID,ignoreAudio:t.ignoreAudio},this.audioVoice=1,this.myPlayerID=this.configFormat.playerId+\"-vjs\",this.myPlayer=null,this.videoContaner=null,this.videoTag=null,this.duration=-1,this.vCodecID=r.V_CODEC_NAME_AVC,this.audioNone=!1,this.showScreen=!1,this.playPTS=0,this.vCachePTS=0,this.aCachePTS=0,this.onMakeItReady=null,this.onLoadFinish=null,this.onPlayingTime=null,this.onPlayingFinish=null,this.onSeekFinish=null,this.onReadyShowDone=null}var t,i,s;return t=e,(i=[{key:\"_hiddenUnusedPlugins\",value:function(){this._hiddenUnused(\"vjs-loading-spinner\"),this._hiddenUnused(\"vjs-hidden\"),this._hiddenUnused(\"vjs-control-bar\"),this._hiddenUnused(\"vjs-control\"),this._hiddenUnused(\"vjs-text-track-display\"),this._hiddenUnused(\"vjs-big-play-button\")}},{key:\"_hiddenUnused\",value:function(e){Array.from(document.getElementsByClassName(e)).forEach(function(e){status?e&&e.setAttribute(\"style\",\"display: block;\"):e&&e.setAttribute(\"style\",\"display: none;\")})}},{key:\"_onVideoJsReady\",value:function(){var e=this;this._hiddenUnusedPlugins(),this.videoContaner=document.querySelector(\"#\"+this.myPlayerID),this.videoTag=this.videoContaner.querySelector(\"video\"),this.videoTag.style.width=this.configFormat.width+\"px\",this.videoTag.style.height=this.configFormat.height+\"px\",this.videoTag,this.duration=this.myPlayer.duration(),this.duration,this.myPlayer.on(\"progress\",function(){e.myPlayer.buffered().length,e.myPlayer.duration()}),this.myPlayer.on(\"timeupdate\",function(){e.videoTag.currentTime,e.myPlayer.duration(),e.onPlayingTime&&e.onPlayingTime(e.myPlayer.currentTime())})}},{key:\"makeIt\",value:function(e){var t=this,i={techOrder:[\"html5\"],width:this.configFormat.width,height:this.configFormat.height,controls:!1,bigPlayButton:!1,textTrackDisplay:!1,posterImage:!0,errorDisplay:!1,controlBar:!1,preload:\"auto\",autoplay:!1,sources:[{src:e,type:\"application/x-mpegURL\"}]},n=document.querySelector(\"#\"+this.configFormat.playerId),r=document.createElement(\"video\");r.id=this.myPlayerID,n.appendChild(r),this.myPlayer=a(this.myPlayerID,i,function(){t.myPlayer.on(\"canplaythrough\",function(){}),t.myPlayer.on(\"loadedmetadata\",function(){t._onVideoJsReady()}),t.myPlayer.on(\"ended\",function(){t.pause(),t.onPlayingFinish&&t.onPlayingFinish()}),t.myPlayer.on(\"seeking\",function(){}),t.myPlayer.on(\"seeked\",function(){t.onSeekFinish&&t.onSeekFinish()}),t.onMakeItReady&&t.onMakeItReady(),t.onLoadFinish&&t.onLoadFinish(),t.onReadyShowDone&&t.onReadyShowDone()}),this.myPlayer.options.controls=!1,this.myPlayer.options.autoplay=!1,this._hiddenUnusedPlugins()}},{key:\"getSize\",value:function(){return{width:this.myPlayer.videoWidth(),height:this.myPlayer.videoHeight()}}},{key:\"play\",value:function(){void 0===this.videoTag||null===this.videoTag?this.myPlayer.play():this.videoTag.play()}},{key:\"seek\",value:function(e){void 0===this.videoTag||null===this.videoTag?this.myPlayer.currentTime=e:this.videoTag.currentTime=e}},{key:\"pause\",value:function(){void 0===this.videoTag||null===this.videoTag?this.myPlayer.pause():this.videoTag.pause()}},{key:\"setVoice\",value:function(e){void 0===this.videoTag||null===this.videoTag?this.myPlayer.volume=e:this.videoTag.volume=e}},{key:\"isPlayingState\",value:function(){return!this.myPlayer.paused()}},{key:\"release\",value:function(){this.myPlayer.dispose(),this.myPlayerID=null,this.myPlayer=null,this.videoContaner=null,this.videoTag=null,this.onLoadFinish=null,this.onPlayingTime=null,this.onPlayingFinish=null,this.onSeekFinish=null,this.onReadyShowDone=null}}])&&n(t.prototype,i),s&&n(t,s),e}();i.NvVideojsCore=s},{\"../consts\":52,\"../version\":79,\"video.js\":47}],76:[function(e,t,i){function n(e){this.gl=e,this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}n.prototype.bind=function(e,t,i){var n=this.gl;n.activeTexture([n.TEXTURE0,n.TEXTURE1,n.TEXTURE2][e]),n.bindTexture(n.TEXTURE_2D,this.texture),n.uniform1i(n.getUniformLocation(t,i),e)},n.prototype.fill=function(e,t,i){var n=this.gl;n.bindTexture(n.TEXTURE_2D,this.texture),n.texImage2D(n.TEXTURE_2D,0,n.LUMINANCE,e,t,0,n.LUMINANCE,n.UNSIGNED_BYTE,i)},t.exports={renderFrame:function(e,t,i,n,r,a){e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.y.fill(r,a,t),e.u.fill(r>>1,a>>1,i),e.v.fill(r>>1,a>>1,n),e.drawArrays(e.TRIANGLE_STRIP,0,4)},setupCanvas:function(e,t){var i=e.getContext(\"webgl\")||e.getContext(\"experimental-webgl\");if(!i)return i;var r=i.createProgram(),a=[\"attribute highp vec4 aVertexPosition;\",\"attribute vec2 aTextureCoord;\",\"varying highp vec2 vTextureCoord;\",\"void main(void) {\",\" gl_Position = aVertexPosition;\",\" vTextureCoord = aTextureCoord;\",\"}\"].join(\"\\n\"),s=i.createShader(i.VERTEX_SHADER);i.shaderSource(s,a),i.compileShader(s);var o=[\"precision highp float;\",\"varying lowp vec2 vTextureCoord;\",\"uniform sampler2D YTexture;\",\"uniform sampler2D UTexture;\",\"uniform sampler2D VTexture;\",\"const mat4 YUV2RGB = mat4\",\"(\",\" 1.1643828125, 0, 1.59602734375, -.87078515625,\",\" 1.1643828125, -.39176171875, -.81296875, .52959375,\",\" 1.1643828125, 2.017234375, 0, -1.081390625,\",\" 0, 0, 0, 1\",\");\",\"void main(void) {\",\" gl_FragColor = vec4( texture2D(YTexture, vTextureCoord).x, texture2D(UTexture, vTextureCoord).x, texture2D(VTexture, vTextureCoord).x, 1) * YUV2RGB;\",\"}\"].join(\"\\n\"),l=i.createShader(i.FRAGMENT_SHADER);i.shaderSource(l,o),i.compileShader(l),i.attachShader(r,s),i.attachShader(r,l),i.linkProgram(r),i.useProgram(r),i.getProgramParameter(r,i.LINK_STATUS);var u=i.getAttribLocation(r,\"aVertexPosition\");i.enableVertexAttribArray(u);var d=i.getAttribLocation(r,\"aTextureCoord\");i.enableVertexAttribArray(d);var c=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,c),i.bufferData(i.ARRAY_BUFFER,new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0]),i.STATIC_DRAW),i.vertexAttribPointer(u,3,i.FLOAT,!1,0,0);var h=i.createBuffer();return i.bindBuffer(i.ARRAY_BUFFER,h),i.bufferData(i.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),i.STATIC_DRAW),i.vertexAttribPointer(d,2,i.FLOAT,!1,0,0),i.y=new n(i),i.u=new n(i),i.v=new n(i),i.y.bind(0,r,\"YTexture\"),i.u.bind(1,r,\"UTexture\"),i.v.bind(2,r,\"VTexture\"),i}}},{}],77:[function(e,t,n){(function(e){e.STATIC_MEM_wasmDecoderState=-1,e.STATICE_MEM_playerCount=-1,e.STATICE_MEM_playerIndexPtr=0}).call(this,\"undefined\"!=typeof i?i:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],78:[function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}var t,i,r;return t=e,r=[{key:\"createPlayerRender\",value:function(e,t,i){var n=document.querySelector(\"div#\"+e);return n.style.position=\"relative\",n.style.backgroundColor=\"black\",n.style.width=t+\"px\",n.style.height=i+\"px\",n}}],(i=null)&&n(t.prototype,i),r&&n(t,r),e}();i.UI=r},{}],79:[function(e,t,i){t.exports={PLAYER_VERSION:\"4.0.0\"}},{}]},{},[72])}).call(t,function(){return this}())},function(e,t,i){(function(n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0,i(112);var a=function(){function e(){r(this,e)}return e.createPlayer=function(e,t){return window.new265webjs(e,t)},e.clear=function(){n.STATICE_MEM_playerCount=-1,n.STATICE_MEM_playerIndexPtr=0},e}();t.default=a,e.exports=t.default}).call(t,function(){return this}())},function(e,t,i){var n,r;n=[i(47),i(2),i(185),i(80)],r=function(e,t){return i.p=t.loadFrom(),e.selectPlayer}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(8)],r=function(e){function t(e){e||i()}function i(){throw new Error(\"Invalid DFXP file\")}var n=e.seconds;return function(r){t(r);var a=[],s=r.getElementsByTagName(\"p\");t(s),s.length||(s=r.getElementsByTagName(\"tt:p\"),s.length||(s=r.getElementsByTagName(\"tts:p\")));for(var o=0;o<s.length;o++){var l=s[o],u=l.innerHTML||l.textContent||l.text||\"\",d=e.trim(u).replace(/>\\s+</g,\"><\").replace(/tts?:/g,\"\");if(d){var c=l.getAttribute(\"begin\"),h=l.getAttribute(\"dur\"),f=l.getAttribute(\"end\"),p={begin:n(c),text:d};f?p.end=n(f):h&&(p.end=p.begin+n(h)),a.push(p)}}return a.length||i(),a}}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(20),i(8),i(2)],r=function(e,t,i){var n=\"jwplayer\",r=function(r,a){for(var s=[],o=[],l=t.xmlAttribute,u=\"default\",d=\"label\",c=\"file\",h=\"type\",f=0;f<r.childNodes.length;f++){var p=r.childNodes[f];if(p.prefix===n){var m=e.localName(p);\"source\"===m?(delete a.sources,s.push({file:l(p,c),default:l(p,u),label:l(p,d),type:l(p,h)})):\"track\"===m?(delete a.tracks,o.push({file:l(p,c),default:l(p,u),kind:l(p,\"kind\"),label:l(p,d)})):(a[m]=i.serialize(e.textContent(p)),\"file\"===m&&a.sources&&delete a.sources)}a[c]||(a[c]=a.link)}if(s.length)for(a.sources=[],f=0;f<s.length;f++)s[f].file.length>0&&(s[f][u]=\"true\"===s[f][u],s[f].label.length||delete s[f].label,a.sources.push(s[f]));if(o.length)for(a.tracks=[],f=0;f<o.length;f++)o[f].file.length>0&&(o[f][u]=\"true\"===o[f][u],o[f].kind=o[f].kind.length?o[f].kind:\"captions\",o[f].label.length||delete o[f].label,a.tracks.push(o[f]));return a};return r}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(20),i(8),i(2)],r=function(e,t,i){function n(e){for(var t=[],i=0;i<o(e);i++){var n=e.childNodes[i];\"jwplayer\"===n.prefix&&\"mediatypes\"===a(n).toLowerCase()&&t.push(s(n))}return t}var r=t.xmlAttribute,a=e.localName,s=e.textContent,o=e.numChildren,l=\"media\",u=function e(t,u){function d(e){var t={zh:\"Chinese\",nl:\"Dutch\",en:\"English\",fr:\"French\",de:\"German\",it:\"Italian\",ja:\"Japanese\",pt:\"Portuguese\",ru:\"Russian\",es:\"Spanish\"};return t[e]?t[e]:e}var c,h,f=\"tracks\",p=[];for(h=0;h<o(t);h++)if(c=t.childNodes[h],c.prefix===l){if(!a(c))continue;switch(a(c).toLowerCase()){case\"content\":if(r(c,\"duration\")&&(u.duration=i.seconds(r(c,\"duration\"))),r(c,\"url\")){u.sources||(u.sources=[]);var m={file:r(c,\"url\"),type:r(c,\"type\"),width:r(c,\"width\"),label:r(c,\"label\")},g=n(c);g.length&&(m.mediaTypes=g),u.sources.push(m)}o(c)>0&&(u=e(c,u));break;case\"title\":u.title=s(c);break;case\"description\":u.description=s(c);break;case\"guid\":u.mediaid=s(c);break;case\"thumbnail\":u.image||(u.image=r(c,\"url\"));break;case\"player\":break;case\"group\":e(c,u);break;case\"subtitle\":var _={};_.file=r(c,\"url\"),_.kind=\"captions\",r(c,\"lang\").length>0&&(_.label=d(r(c,\"lang\"))),p.push(_)}}for(u.hasOwnProperty(f)||(u[f]=[]),h=0;h<p.length;h++)u[f].push(p[h]);return u};return u}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(8),i(20),i(116),i(117),i(57)],r=function(e,t,i,n,r){function a(t){for(var a={},o=0;o<t.childNodes.length;o++){var l=t.childNodes[o],d=u(l);if(d)switch(d.toLowerCase()){case\"enclosure\":a.file=e.xmlAttribute(l,\"url\");break;case\"title\":a.title=s(l);break;case\"guid\":a.mediaid=s(l);break;case\"pubdate\":a.date=s(l);break;case\"description\":a.description=s(l);break;case\"link\":a.link=s(l);break;case\"category\":a.tags?a.tags+=s(l):a.tags=s(l)}}return a=n(t,a),a=i(t,a),new r(a)}var s=t.textContent,o=t.getChildNode,l=t.numChildren,u=t.localName,d={};return d.parse=function(e){for(var t=[],i=0;i<l(e);i++){var n=o(e,i),r=u(n).toLowerCase();if(\"channel\"===r)for(var s=0;s<l(n);s++){var d=o(n,s);\"item\"===u(d).toLowerCase()&&t.push(a(d))}}return t},d}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(57),i(59),i(1),i(22)],r=function(e,t,i,n){function r(e,t){for(var i=0;i<e.length;i++){var n=e[i],r=t.choose(n);if(r)return n.type}return null}function a(e,t){return i.isUndefined(e)?t:e}var s=function(t){return t=i.isArray(t)?t:[t],i.compact(i.map(t,e))};s.filterPlaylist=function(e,t,n,r,s,u,d,c){var h=[];return i.each(e,function(e){e=i.extend({},e),e.allSources=o(e.sources,n,e.drm||r,e.preload||s,a(e.withCredentials,d),c),e.sources=l(e.allSources,t),e.sources.length&&(e.file=e.sources[0].file,(e.preload||s)&&(e.preload=e.preload||s),(e.feedid||u)&&(e.feedid=e.feedid||u),h.push(e))}),h};var o=function(e,n,r,s,o,l){return i.compact(i.map(e,function(e){if(i.isObject(e))return void 0!==n&&null!==n&&(e.androidhls=n),(e.drm||r)&&(e.drm=e.drm||r),(e.preload||s)&&(e.preload=e.preload||s),e.withCredentials=a(e.withCredentials,o),e.isHEVC=l,t(e)}))},l=function(e,t){t&&t.choose||(t=new n({primary:t?\"flash\":null}));var a=r(e,t);return i.where(e,{type:a})};return s}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(1)],r=function(e){var t={kind:\"captions\",default:!1},i=function(i){if(i&&i.file)return e.extend({},t,i)};return i}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(28),i(2),i(4),i(3),i(1),i(45)],r=function(e,t,i,n,r,a){function s(e,i,n){return function(){var r=t.getElementsByClassName(\"jw-overlays\",e.getContainer())[0];r&&(r.appendChild(n),n.left=r.style.left,n.top=r.style.top,i.displayArea=r)}}function o(e){function t(){var t=e.displayArea;t&&e.resize(t.clientWidth,t.clientHeight)}return function(){t(),setTimeout(t,400)}}var l=function(l,u){function d(){g||(g=!0,m=a.loaderstatus.COMPLETE,p.trigger(i.COMPLETE))}function c(){if(!v&&(u&&0!==r.keys(u).length||d(),!g)){var n=l.getPlugins();f=r.after(_,d),r.each(u,function(r,s){var o=e.getPluginName(s),l=n[o],u=l.getJS(),d=l.getTarget(),c=l.getStatus();c!==a.loaderstatus.LOADING&&c!==a.loaderstatus.NEW&&(u&&!t.versionCheck(d)&&p.trigger(i.ERROR,{message:\"Incompatible player version\"}),f())})}}function h(e){if(!v){var n=\"File not found\";e.url&&t.log(n,e.url),this.off(),this.trigger(i.ERROR,{message:n}),c()}}var f,p=r.extend(this,n),m=a.loaderstatus.NEW,g=!1,_=r.size(u),v=!1;this.setupPlugins=function(i,n){var a=[],u=l.getPlugins(),d=n.get(\"plugins\");r.each(d,function(n,l){var c=e.getPluginName(l),h=u[c],f=h.getFlashPath(),p=h.getJS(),m=h.getURL();if(f){var g=r.extend({name:c,swf:f,pluginmode:h.getPluginmode()},n);a.push(g)}var _=t.tryCatch(function(){if(p&&d[m]){var e=document.createElement(\"div\");e.id=i.id+\"_\"+c,e.className=\"jw-plugin jw-reset\";var t=r.extend({},d[m]),n=h.getNewInstance(i,t,e);\nn.addToPlayer=s(i,n,e),n.resizeHandler=o(n),i.addPlugin(c,n,e)}});_ instanceof t.Error&&t.log(\"ERROR: Failed to load \"+c+\".\")}),n.set(\"flashPlugins\",a)},this.load=function(){if(t.exists(u)&&\"object\"!==t.typeOf(u))return void c();m=a.loaderstatus.LOADING,r.each(u,function(e,n){if(t.exists(n)){var r=l.addPlugin(n);r.on(i.COMPLETE,c),r.on(i.ERROR,h)}});var e=l.getPlugins();r.each(e,function(e){e.load()}),c()},this.destroy=function(){v=!0,this.off()},this.getStatus=function(){return m}};return l}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r,a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};n=[i(63),i(18),i(62)],r=function(e,t){function i(e){var t=new Date,i=t.getFullYear(),n=t.getMonth()+1,r=t.getDate(),a=t.getHours(),s=t.getMinutes(),o=t.getSeconds(),l=t.getMilliseconds();n=n<10?\"0\"+n:n,r=r<10?\"0\"+r:r,a=a<10?\"0\"+a:a,s=s<10?\"0\"+s:s,o=o<10?\"0\"+o:o;var u=i+\"-\"+n+\"-\"+r+\" \"+a+\":\"+s+\":\"+o;return e&&(u=u+\".\"+l),u}function n(){return{flashVersion:e.flashVersion(),cyberPlayerVersion:t,ak:l.ak||\"\",provider:o.get(\"provider\")?o.get(\"provider\").name:\"\",config:\"\"}}function r(e){var t=[];for(var i in e)\"object\"===a(e[i])?t.push(i+\"=\"+encodeURIComponent(JSON.stringify(e[i]))):t.push(i+\"=\"+e[i]);return t.join(\"&\")}function s(e){if(!v){var t=e.action;delete e.action,e.sendTime=i(),e=r(e),u&&h.removeChild(u),u=document.createElement(\"script\"),u.setAttribute(\"type\",\"text/javascript\"),u.src=f+t+\"?\"+e,h.insertBefore(u,h.getElementsByTagName(\"script\")[0])}}var o,l,u,d,c={},h=document.getElementsByTagName(\"script\")[0].parentNode,f=\"https://drm.media.baidubce.com:8888/v1/sdk-player\",p=0,m=0,g=!1,_=(new Date).getTime()+\"\",v=!1,y=function(e,t){if(o=t,l=o.getConfiguration(),l.withLog===!1)return!1;var r,a={},u=0;e.on(\"meta\",function(e){for(var t in e.metadata)c[t]=e.metadata[t];c.cdn_ip&&(a={action:\"/user/web/cdn\",url:o.get(\"file\")||o.getCurrentItem().file,cdn:c.cdn_ip},s(a))}),e.on(\"beforePlay\",function(){v=!1,g=!1,r=setInterval(function(){u+=100},100)}),e.on(\"play\",function(){return g?(clearInterval(r),void(r=null)):(r&&(a={action:\"/media/web/available\",videoUrl:o.get(\"file\")||o.getCurrentItem().file,type:\"play\",duration:u,time:i(!0),sessionTime:_,env:n()},s(a),clearInterval(r),r=null),m=o.get(\"position\"),a={action:\"/user/web/play\",videoUrl:o.get(\"file\")||o.getCurrentItem().file,videoHeight:encodeURIComponent(c.height)||\"\",videoWidth:encodeURIComponent(c.width)||\"\",playerHeight:encodeURIComponent(l.height),playerWidth:encodeURIComponent(l.width),duration:c.duration||\"\",size:c.filesize||\"\",startPosition:o.get(\"position\"),service:this.getDuration()>0?\"vod\":\"lss\",time:i(!0),sessionTime:_,env:n()},s(a),g=!0,void(d||(d=setInterval(function(){a={action:\"/user/web/count\",session:_,url:o.get(\"file\")||o.getCurrentItem().file},s(a)},6e4),a={action:\"/user/web/count\",session:_,url:o.get(\"file\")||o.getCurrentItem().file},s(a))))}),e.on(\"seek\",function(e){p+=e.position-m,m=e.offset,a={action:\"/user/web/seek\",videoUrl:o.get(\"file\")||o.getCurrentItem().file,from:e.position,to:e.offset,time:i(!0),sessionTime:_,env:n()},s(a)}),e.on(\"pause\",function(){p+=o.get(\"position\")-m,a={action:\"/user/web/pause\",videoUrl:o.get(\"file\")||o.getCurrentItem().file,time:i(!0),sessionTime:_,env:n()},s(a)}),e.on(\"idle\",function(e){\"complete\"===e.reason&&(p+=o.get(\"duration\")-m,a={action:\"/user/web/end\",videoUrl:o.get(\"file\")||o.getCurrentItem().file,playInterval:p,time:i(!0),sessionTime:_,env:n()},s(a))}),e.on(\"stop\",function(){v=!0,clearInterval(r),r=null,clearInterval(d),d=null,c.duration&&(p+=o.get(\"position\")-m,a={action:\"/user/web/end\",videoUrl:o.get(\"file\")||o.getCurrentItem().file,playInterval:p,time:i(!0),sessionTime:_,env:n()},s(a))}),e.on(\"error\",function(e){clearInterval(r),a={action:\"/core/web/error\",videoUrl:o.get(\"file\")||o.getCurrentItem().file,error:e.code,errorInfo:e.message,time:i(!0),sessionTime:_,env:n()},s(a)}),e.on(\"setupError\",function(e){a={action:\"/core/web/error\",videoUrl:o.get(\"file\")||o.getCurrentItem().file,error:e.code,errorInfo:e.message,time:i(!0),sessionTime:_,env:n()},s(a)});var h,f;e.on(\"alive\",function(){h=(new Date).getTime()}),e.on(\"liveStop\",function(){f=(new Date).getTime(),a={action:\"/user/web/end\",videoUrl:o.get(\"file\")||o.getCurrentItem().file,playInterval:(f-h)/1e3,time:i(!0),sessionTime:_,env:n()},s(a)});var y,b=!0,A=!1,E=0,w=0;e.on(\"alive\",function(){return A=!0,b?void(b=!1):void(y&&(E=(new Date).getTime()-y,w++,a={action:\"/user/web/buffer\",session:_,url:o.get(\"file\")||o.getCurrentItem().file,bt:E,bc:w,env:n()},s(a),y=null))}),e.on(\"noLiveStream\",function(){A&&(y||(y=(new Date).getTime()))})};return y}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(28),i(60)],r=function(e,t){var i=function(i){this.addPlugin=function(n){var r=e.getPluginName(n);return i[r]||(i[r]=new t(n)),i[r]},this.getPlugins=function(){return i}};return i}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(14),i(2),i(24),i(1),i(4),i(7),i(21),i(3),i(43),i(25),i(113)],r=function(e,t,i,n,r,a,s,o,l,u,d){function c(i,u){function c(e,t,i){e===N&&i===D||(N=e,I.trigger(r.JWPLAYER_MEDIA_BUFFER,{bufferPercent:100*e,position:t,duration:i}))}function m(e){D<0&&(e=-(y()-e)),O=e}function g(e){D=e,j&&e&&e!==1/0&&I.seek(j)}function _(){}function v(){M||(M=!0,I.trigger(r.JWPLAYER_MEDIA_BUFFER_FULL))}function y(){return!0}function b(){return I.h265webPlay()}function A(e,t){}function E(e){}function w(){return G||[]}function T(){return Y}var S=this,C=u.file,k=u.width,L=u.height,x=\"base64:QXV0aG9yOmNoYW5neWFubG9uZ3xudW1iZXJ3b2xmLEdpdGh1YjpodHRwczovL2dpdGh1Yi5jb20vbnVtYmVyd29sZixFbWFpbDpwb3JzY2hlZ3QyM0Bmb3htYWlsLmNvbSxRUTo1MzEzNjU4NzIsSG9tZVBhZ2U6aHR0cDovL3h2aWRlby52aWRlbyxEaXNjb3JkOm51bWJlcndvbGYjODY5NCx3ZWNoYXI6bnVtYmVyd29sZjExLEJlaWppbmcsV29ya0luOkJhaWR1\",I=this,P={player:i,width:k,height:L,token:x,extInfo:{probeSize:8192,coreProbePart:.1,moovStartFlag:!0,ignoreAudio:0}};this.extNeedManualClickBoot=!1,this.extPlayerContainer=null,this.extPlayerPTS=0,this.extPlayerDur=0,this.extPlayerGL=null,this.extPlayerLoadOK=!1,this.extPlayerMediaInfo=null,this.extPlayer=d.createPlayer(C,P),this.extPlayer.onMakeItReady=function(){var e=document.querySelector(\"#\"+i),t=e.getElementsByTagName(\"div\");I.extPlayerGL=e.getElementsByTagName(\"video\")[0],I.extPlayerGL.parentNode.parentNode.insertBefore(I.extPlayerGL.parentNode,t[0]),I.trigger(r.JWPLAYER_H265WEB_COVERLOADED),I.extNeedManualClickBoot=!0},this.extPlayer.onReadyShowDone=function(){S.trigger(r.JWPLAYER_H265WEB_COVERLOADED),v()},this.extPlayer.onLoadFinish=function(){S.setState(a.PAUSED),S.extNeedManualClickBoot=!1;try{S.extPlayerMediaInfo=S.extPlayer.mediaInfo(),S.extPlayerDur=S.extPlayerMediaInfo.meta.durationMs/1e3}catch(e){console.error(e)}if(S.extPlayerLoadOK=!0,S.extPlayerContainer=document.querySelector(\"#\"+i),void 0===S.extPlayerGL||null===S.extPlayerGL)if(S.extPlayerMediaInfo.meta.isHEVC===!0)S.extPlayerGL=S.extPlayerContainer.getElementsByTagName(\"canvas\")[0];else if(S.extPlayerGL=S.extPlayerContainer.getElementsByTagName(\"video\")[0],void 0!==S.extPlayerGL&&null!==S.extPlayerGL&&S.extPlayerGL){var e=S.extPlayerContainer.getElementsByTagName(\"div\");S.extPlayerGL.parentNode.insertBefore(S.extPlayerGL,e[0])}S.extPlayer.setVoice(1);var t={duration:S.extPlayerDur,height:S.extPlayerMediaInfo.meta.size.height,width:S.extPlayerMediaInfo.meta.size.width};S.setState(a.PAUSED),S.trigger(r.JWPLAYER_MEDIA_META,t),_(),g(S.extPlayerDur)},this.extPlayer.onLoadCache=function(){S.setState(a.LOADING)},this.extPlayer.onLoadCacheFinshed=function(){S.extPlayer.isPlaying()?S.setState(a.PLAYING):S.setState(a.PAUSED)},this.extPlayer.onPlayTime=function(e){S.extPlayerPTS=Math.min(e,D),m(e),S.state===a.PLAYING&&S.trigger(r.JWPLAYER_MEDIA_TIME,{position:O,duration:D})},this.extPlayer.onCacheProcess=function(e){c(Math.min(1*e/D,1),S.extPlayerPTS,D)},this.extPlayer.onSeekFinish=function(){S.seeking=!1,S.state===a.COMPLETE?S.setState(a.PAUSED):S.setState(a.PLAYING)},this.extPlayer.onPlayFinish=function(){h(B),I.setState(a.PAUSED),H=!1},this.extPlayer.onRender=function(e,t,i,n,r){},this.extPlayer.do(),this.h265webPlay=function(){S.extPlayer&&!S.extPlayer.isPlaying()?(S.setState(a.PLAYING),S.extPlayer.play()):(S.setState(a.PAUSED),S.extPlayer.pause())},this.h265webPause=function(){S.extPlayer.pause()},this.state=a.IDLE,this.seeking=!1,n.extend(this,o,l),this.trigger=function(e,t){if(F)return o.trigger.call(this,e,t)},this.setState=function(e){return s.setState.call(this,e)},this.setControls=function(e){};var R,D,O,M,U,I=this,j=0,B=-1,N=-1,F=!0,V=!!u.sdkplatform,H=!1,z=!1,G=null,Y=-1,W=null,q={level:{}},Q=null,J=document.getElementById(i);this.isSDK=V,this.itemTracks=W,this.video=J,this.stop=function(){h(B),F&&this.setState(a.IDLE)},this.destroy=function(){this.remove()},this.init=function(e,t){F&&(W=null,U=e.sources,e.sources.length&&\"hls\"!==e.sources[0].type&&this.sendMediaType(e.sources),O=e.starttime||0,D=e.duration||0,q.reason=\"\",this.setupSideloadedTracks(e.tracks),W=this.itemTracks,Q=t)},this.load=function(e){F&&(e.sources.length&&\"hls\"!==e.sources[0].type&&this.sendMediaType(e.sources),A(e.starttime||0,e.duration||0))},this.play=function(){return I.seeking?(I.setState(a.LOADING),void I.once(r.JWPLAYER_MEDIA_SEEKED,I.play)):(I.extNeedManualClickBoot===!0&&I.setState(a.LOADING),void b())},this.pause=function(){h(B),this.h265webPause(),this.setState(a.PAUSED)},this.seek=function(e){F&&(this.extPlayer.seek(e),this.trigger(r.JWPLAYER_MEDIA_SEEK,{position:this.extPlayerPTS,offset:e}),this.extPlayerMediaInfo.meta.isHEVC===!0&&(this.seeking=!0,this.setState(a.LOADING)))},this.volume=function(e){e=t.between(e/100,0,1),this.extPlayerLoadOK===!0&&this.extPlayer.setVoice(e)},this.enableGPU=function(){throw\"只有使用Flash播放才支持开启GPU\"},this.disableGPU=function(){throw\"只有使用Flash播放才支持开启GPU\"},this.mute=function(e){this.extPlayerLoadOK===!0&&(e===!0?this.extPlayer.setVoice(0):this.extPlayer.setVoice(1))},this.checkComplete=function(){return H},this.detachMedia=function(){h(B),this.disableTextTrack(),F=!1},this.setContainer=function(e){R=e},this.getContainer=function(){return R},this.remove=function(){h(B),null!==this.extPlayer&&(this.extPlayer.pause(),this.extPlayer.release(),this.extPlayer=null,void 0!==this.extPlayerGL&&null!==this.extPlayerGL&&this.extPlayerGL.remove(),this.extPlayerGL=null)},this.setVisibility=function(t){t=!!t,t||f?e.style(R,{visibility:\"visible\",opacity:1}):e.style(R,{visibility:\"\",opacity:0})},this.resize=function(e,t,i){if(null!==this.extPlayerMediaInfo&&null!==this.extPlayerGL){if(!(e&&t&&this.extPlayerMediaInfo.meta.size.width&&this.extPlayerMediaInfo.meta.size.height))return!1;if(mediaW=this.extPlayerMediaInfo.meta.size.width,mediaH=this.extPlayerMediaInfo.meta.size.height,this.extPlayerMediaInfo.meta.isHEVC===!0){var n=function(e,t){var i=mediaW/e>mediaH/t,n=(e/mediaW).toFixed(2),r=(t/mediaH).toFixed(2),a=i?n:r,s=parseInt(mediaW*a,10),o=parseInt(mediaH*a,10),l=parseInt((t-o)/2,10),u=parseInt((e-s)/2,10);return[l,u,s,o]},r=n(e,t);this.extPlayerGL.style.marginTop=r[0]+\"px\",this.extPlayerGL.style.marginLeft=r[1]+\"px\",this.extPlayerGL.style.width=r[2]+\"px\",this.extPlayerGL.style.height=r[3]+\"px\"}else this.extPlayerGL.style.width=e+\"px\",this.extPlayerGL.style.height=t+\"px\"}return!1},this.setFullscreen=function(e){},I.getFullScreen=function(){return z||!!_videotag.webkitDisplayingFullscreen},this.getCurrentQuality=function(){},this.getQualityLevels=function(){return _getPublicLevels(U)},this.getName=function(){return{name:p}},this.setCurrentAudioTrack=E,this.getAudioTracks=w,this.getCurrentAudioTrack=T,this.setPlaybackRate=function(e){}}var h=window.clearTimeout,f=(t.isIE(),t.isMSIE(),t.isMobile(),t.isFF(),t.isAndroidNative()),p=(t.isIOS(7),t.isIOS(8),\"h265web\"),m=function(){};return m.prototype=s,c.prototype=new m,c.getName=function(){return{name:\"h265web\"}},c}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(124),i(42),i(41),i(126)],r=function(e,t,i,n){var r={h265web:e,html5:t,flash:i,videojs:n};return r}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(14),i(2),i(24),i(1),i(4),i(7),i(21),i(3),i(43)],r=function(e,t,i,n,r,a,s,o,l){function u(e,i){t.foreach(e,function(e,n){t.addEventListener(i,e,n,!1)})}function d(e,i){t.foreach(e,function(e,n){t.removeEventListener(i,e,n,!1)})}function c(c,b){function A(){be&&(re(Pe.audioTracks),pe.setTextTracks(Pe.textTracks),Pe.setAttribute(\"jw-loaded\",\"data\"))}function E(){be&&Pe.setAttribute(\"jw-loaded\",\"started\")}function w(e){pe.trigger(\"click\",e)}function T(){be&&(I(x()),k(K(),ce,de))}function S(){be&&k(K(),ce,de)}function C(){p(ve),ge=!0,be&&(pe.state===a.STALLED?pe.setState(a.PLAYING):pe.state===a.PLAYING&&(ve=setTimeout(J,m)),Pe.duration===1/0&&0===Pe.currentTime||(I(x()),L(Pe.currentTime),k(K(),ce,de),pe.state===a.PLAYING&&pe.trigger(r.JWPLAYER_MEDIA_TIME,{position:ce,duration:de})))}function k(e,t,i){e===ye&&i===de||(ye=e,pe.trigger(r.JWPLAYER_MEDIA_BUFFER,{bufferPercent:100*e,position:t,duration:i}))}function L(e){de<0&&(e=-(W()-e)),ce=e}function x(){return Re.duration()}function I(e){de=e,_e&&e&&e!==1/0&&pe.seek(_e)}function P(){var e=x();e===1/0&&(e=0);var t={duration:e,height:Pe.videoHeight,width:Pe.videoWidth};pe.trigger(r.JWPLAYER_MEDIA_META,t),I(e)}function R(){be&&(ge=!0,le(),O())}function D(){be&&(Pe.muted&&(Pe.muted=!1,Pe.muted=!0),Pe.setAttribute(\"jw-loaded\",\"meta\"),P())}function O(){he||(he=!0,pe.trigger(r.JWPLAYER_MEDIA_BUFFER_FULL))}function M(){pe.setState(a.PLAYING),Pe.hasAttribute(\"jw-played\")||Pe.setAttribute(\"jw-played\",\"\"),pe.trigger(r.JWPLAYER_PROVIDER_FIRST_FRAME,{})}function U(){pe.state!==a.COMPLETE&&Pe.currentTime!==Pe.duration&&pe.setState(a.PAUSED)}function j(){Pe.paused||Pe.ended||pe.state!==a.LOADING&&pe.state!==a.ERROR&&(pe.seeking||pe.setState(a.STALLED))}function B(){be&&(h.hls&&h.hls.reconnecttime?setTimeout(function(){return pe.load(f)},1e3*h.hls.reconnecttime):y<h.retryCount&&f?(y++,setTimeout(function(){return pe.load(f)},3e3)):(t.log(\"Error playing media: %o %s\",Pe.error,Pe.src),pe.trigger(r.JWPLAYER_MEDIA_ERROR,{message:\"加载失败: 不能播放当前文件\",code:\"111\"})))}function N(e){var i;return\"array\"===t.typeOf(e)&&e.length>0&&(i=n.map(e,function(e,t){return{file:e.file,label:e.label||t}})),i}function F(e){fe=e,Ae=V(e);var t=N(e);t&&pe.trigger(r.JWPLAYER_MEDIA_LEVELS,{levels:t,currentQuality:Ae})}function V(e){var t=Math.max(0,Ae),i=b.qualityLabel;if(e)for(var n=0;n<e.length;n++)if(e[n].default&&(t=n),i&&e[n].label===i)return n;return xe.reason=\"initial choice\",xe.level={},t}function H(e,t){_e=0,p(ve);var i=document.createElement(\"source\");i.src=fe[Ae].file;var n=Pe.src!==i.src,r=Pe.getAttribute(\"jw-loaded\");if(n||\"none\"===r||\"started\"===r){de=t,pe.setupSideloadedTracks(Le),z(fe[Ae]);var a=_?1e3:500;setTimeout(function(){e>0&&pe.seek(e),Re.play(),h.playbackRate>1&&pe.setPlaybackRate(h.playbackRate)},a),_&&Pe.paused&&setTimeout(function(){Re.play()},2500)}else 0===e&&Pe.currentTime>0&&(_e=-1,pe.seek(e)),Re.play();ce=Pe.currentTime,e>0&&pe.seek(e)}function z(e){Se=null,Ce=-1,ke=-1,xe.reason||(xe.reason=\"initial choice\",xe.level={}),ge=!1,he=!1,e.preload&&e.preload!==Pe.getAttribute(\"preload\")&&Pe.setAttribute(\"preload\",e.preload);var t=document.createElement(\"source\");t.src=e.file;var i=Pe.src!==t.src;i&&(Pe.setAttribute(\"jw-loaded\",\"none\"),Re.src({src:e.file,type:\"application/x-mpegURL\"}))}function G(){Pe&&(pe.disableTextTrack(),Pe.removeAttribute(\"crossorigin\"),Pe.removeAttribute(\"preload\"),Pe.removeAttribute(\"src\"),Pe.removeAttribute(\"jw-loaded\"),Pe.removeAttribute(\"jw-played\"),i.emptyElement(Pe),Ae=-1,Le=null,!g&&\"load\"in Pe&&Re.load())}function Y(){for(var e=Pe.seekable?Pe.seekable.length:0,t=1/0;e--;)t=Math.min(t,Pe.seekable.start(e));return t}function W(){for(var e=Pe.seekable?Pe.seekable.length:0,t=0;e--;)t=Math.max(t,Pe.seekable.end(e));return t}function q(){pe.seeking=!1,pe.trigger(r.JWPLAYER_MEDIA_SEEKED)}function Q(){pe.trigger(\"volume\",{volume:Math.round(100*Pe.volume)}),pe.trigger(\"mute\",{mute:Pe.muted})}function J(){Pe.currentTime===ce&&j()}function K(){var e=Pe.buffered,i=Pe.duration;return!e||0===e.length||i<=0||i===1/0?0:t.between(e.end(e.length-1)/i,0,1)}function X(){if(be&&pe.state!==a.IDLE&&pe.state!==a.COMPLETE){if(p(ve),Ae=-1,we=!0,pe.trigger(r.JWPLAYER_MEDIA_BEFORECOMPLETE),!be)return;Z()}}function Z(){p(ve),pe.setState(a.COMPLETE),we=!1,pe.trigger(r.JWPLAYER_MEDIA_COMPLETE)}function $(e){Te=!0,ie(e)}function ee(){for(var e=-1,t=0;t<Pe.audioTracks.length;t++)if(Pe.audioTracks[t].enabled){e=t;break}ae(e)}function te(e){Te=!1,ie(e)}function ie(e){pe.trigger(\"fullscreenchange\",{target:e.target,jwstate:Te})}function ne(e){n.each(e,function(e){e.label=e.height?e.height+\"p\":e.width+\"px\"})}function re(e){if(Se=null,e){if(e.length){for(var t=0;t<e.length;t++)if(e[t].enabled){Ce=t;break}Ce===-1&&(Ce=0,e[Ce].enabled=!0),Se=n.map(e,function(e){var t={name:e.label||e.language,language:e.language};return t})}pe.addTracksListener(e,\"change\",ee),Se&&pe.trigger(\"audioTracks\",{currentTrack:Ce,tracks:Se})}}function ae(e){Pe&&Pe.audioTracks&&Se&&e>-1&&e<Pe.audioTracks.length&&e!==Ce&&(Pe.audioTracks[Ce].enabled=!1,Ce=e,Pe.audioTracks[Ce].enabled=!0,pe.trigger(\"audioTrackChanged\",{currentTrack:Ce,tracks:Se}))}function se(){return Se||[]}function oe(){return Ce}function le(){pe.trigger(\"mediaType\",{mediaType:\"video\"})}this.state=a.IDLE,this.seeking=!1,n.extend(this,o,l),this.trigger=function(e,t){if(be)return o.trigger.call(this,e,t)},this.setState=function(e){if(be)return s.setState.call(this,e)};var ue,de,ce,he,fe,pe=this,me={click:w,durationchange:T,ended:X,loadstart:E,loadeddata:A,loadedmetadata:D,canplay:R,playing:M,progress:S,pause:U,seeked:q,timeupdate:C,volumechange:Q,webkitbeginfullscreen:$,webkitendfullscreen:te},ge=!1,_e=0,ve=-1,ye=-1,be=!0,Ae=-1,Ee=!!b.sdkplatform,we=!1,Te=!1,Se=null,Ce=-1,ke=-1,Le=null,xe={level:{}},Ie=document.getElementById(c),Pe=Ie?Ie.querySelector(\"video\"):void 0;Pe=Pe||document.createElement(\"video\"),Pe.className=\"jw-video jw-reset\";var Re=window.videojs(Pe);this.isSDK=Ee,this.itemTracks=Le,this.video=Pe,n.isObject(b.cast)&&b.cast.appid&&Pe.setAttribute(\"disableRemotePlayback\",\"\"),u(me,Pe),Pe.controls=!0,Pe.controls=!1,Pe.setAttribute(\"disableRemotePlayback\",\"\"),Pe.setAttribute(\"x-webkit-airplay\",\"allow\"),Pe.setAttribute(\"webkit-playsinline\",\"\"),Pe.setAttribute(\"playsinline\",\"\"),Pe.setAttribute(\"x5-playsinline\",\"\"),this.stop=function(){p(ve),be&&(G(),t.isIETrident()&&Re.pause(),this.setState(a.IDLE))},this.setToken=function(e){for(var t={token:{}},i=0;i<e.length;i++)t.token[e[i].file]=e[i].tokenText;setTimeout(function(){Re.tech({IWillNotUseThisInPlugins:!0}).hls.options(t)},0)},this.destroy=function(){d(me,Pe),this.removeTracksListener(Pe.audioTracks,\"change\",ee),this.removeTracksListener(Pe.textTracks,\"change\",pe.textTrackChangeHandler),this.remove(),this.off()},this.init=function(e,t){be&&(y=0,h=t,Le=null,fe=e.sources,Ae=V(e.sources),f=e,e.sources.length&&\"hls\"!==e.sources[0].type&&this.sendMediaType(e.sources),ce=e.starttime||0,de=e.duration||0,xe.reason=\"\",z(fe[Ae]),this.setupSideloadedTracks(e.tracks),Le=this.itemTracks,t.minBufferLength>0&&(videojs.Hls.MAX_GOAL_BUFFER_LENGTH=t.minBufferLength,t.minBufferLength<30&&(videojs.Hls.GOAL_BUFFER_LENGTH=t.minBufferLength)))},this.load=function(e){be&&(F(e.sources),e.sources.length&&\"hls\"!==e.sources[0].type&&this.sendMediaType(e.sources),pe.setState(a.LOADING),H(e.starttime||0,e.duration||0))},this.play=function(){return pe.seeking?(pe.setState(a.LOADING),void pe.once(r.JWPLAYER_MEDIA_SEEKED,pe.play)):void Re.play()},this.pause=function(){p(ve),Re.pause(),this.setState(a.PAUSED)},this.seek=function(e){if(be)if(e<0&&(e+=Y()+W()),0===_e&&this.trigger(r.JWPLAYER_MEDIA_SEEK,{position:Pe.currentTime,offset:e}),ge||(ge=!!W()),ge){_e=0;try{pe.seeking=!0,Re.currentTime(e)}catch(t){pe.seeking=!1,_e=e}}else _e=e,_&&Pe.paused&&Re.play()},this.volume=function(e){e=t.between(e/100,0,1),Pe.volume=e},this.enableGPU=function(){throw\"只有使用Flash播放才支持开启GPU\"},this.disableGPU=function(){throw\"只有使用Flash播放才支持开启GPU\"},this.mute=function(e){Pe.muted=!!e},this.checkComplete=function(){return we},this.detachMedia=function(){return p(ve),this.disableTextTrack(),be=!1,Pe},this.attachMedia=function(){be=!0,ge=!1,this.seeking=!1,Pe.loop=!1,we&&Z()},this.setContainer=function(e){var i=this;ue=e,e.appendChild(Pe),Re.on(r.JWPLAYER_MEDIA_LEVELS,function(e){if(!t.isMutipleHls(fe)){ne(e.levels),Ae=e.currentQuality,_qualityLevels=e.levels;var n={type:\"levels\",levels:e.levels,currentQuality:e.currentQuality};i.trigger(\"levels\",n)}}),Re.on(r.JWPLAYER_MEDIA_LEVEL_CHANGED,function(e){if(!t.isMutipleHls(fe)){ne(e.levels),Ae=e.currentQuality,_qualityLevels=e.levels;var n={type:\"levelsChanged\",levels:e.levels,currentQuality:e.currentQuality};i.trigger(\"levelsChanged\",n)}}),Re.on(r.JWPLAYER_CONNECTING,function(e){o.trigger.call(i,\"connecting\",e)}),Re.on(r.JWPLAYER_ERROR,B),Re.tech({IWillNotUseThisInPlugins:!0}).on(r.JWPLAYER_ALIVE,function(){i.trigger(r.JWPLAYER_ALIVE)}),Re.tech({IWillNotUseThisInPlugins:!0}).on(r.JWPLAYER_NO_LIVE_STREAM,function(){i.trigger(r.JWPLAYER_NO_LIVE_STREAM)}),Re.tech({IWillNotUseThisInPlugins:!0}).on(\"retryplaylist\",function(){i.trigger(r.JWPLAYER_NO_LIVE_STREAM)})},this.getContainer=function(){return ue},this.remove=function(){G(),p(ve),ue===Pe.parentNode&&ue.removeChild(Pe),Re.dispose()},this.setVisibility=function(t){t=!!t,t?e.style(ue,{visibility:\"visible\",opacity:1}):e.style(ue,{visibility:\"\",opacity:0})},this.resize=function(t,i,n){if(!(t&&i&&Pe.videoWidth&&Pe.videoHeight))return!1;var r={objectFit:\"\"};if(\"uniform\"===n){var a=t/i,s=Pe.videoWidth/Pe.videoHeight;Math.abs(a-s)<.09&&(r.objectFit=\"fill\",n=\"exactfit\")}return e.style(Pe,r),!1},this.setFullscreen=function(e){if(e=!!e){var i=t.tryCatch(function(){var e=Pe.webkitEnterFullscreen||Pe.webkitEnterFullScreen;e&&e.apply(Pe)});return!(i instanceof t.Error)&&pe.getFullScreen()}var n=Pe.webkitExitFullscreen||Pe.webkitExitFullScreen;return n&&n.apply(Pe),e},pe.getFullScreen=function(){return Te||!!Pe.webkitDisplayingFullscreen},this.setCurrentQuality=function(e){if(!(Ae===e||e<0))if(t.isMutipleHls(fe)){Ae=e,this.trigger(r.JWPLAYER_MEDIA_LEVEL_CHANGED,{currentQuality:e,levels:N(fe)});var i=Pe.currentTime||0,n=Pe.duration||0;n<=0&&(n=de),pe.setState(a.LOADING),H(i,n)}else{var s=Re.qualityLevels();s[e]&&Re.tech({IWillNotUseThisInPlugins:!0}).hls.playlists.media(s[e].id)}},this.getCurrentQuality=function(){return Ae},this.getQualityLevels=function(){return N(fe)},this.getName=function(){return{name:v}},this.setCurrentAudioTrack=ae,this.getAudioTracks=se,this.getCurrentAudioTrack=oe,this.setPlaybackRate=function(e){h.isLive||(Pe.playbackRate=e,this.trigger(r.JWPLAYER_PLAYBACKRATE,{playbackRate:e}))}}var h,f,p=window.clearTimeout,m=256,g=t.isMSIE(),_=t.isFF(),v=\"videojs\",y=0,b=function(){};return b.prototype=s,c.prototype=new b,c.getName=function(){return{name:\"videojs\"}},c}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[],r=function(){return{DOM_REMOVE_IGNORE:\"dom-remove-ignore\"}}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r,a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};n=[i(2),i(3),i(1)],r=function(e,t,i){function n(e,t,i){var n=document.createElement(\"param\");n.setAttribute(\"name\",t),n.setAttribute(\"value\",i),e.appendChild(n)}function r(r,s,u,d,c,h){var f;if(d=d||\"opaque\",e.isMSIE()||e.isPoorIE()){var p=document.createElement(\"div\");s.appendChild(p),p.outerHTML='<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\"100%\" height=\"100%\" id=\"'+u+'\" name=\"'+u+'\" tabindex=\"0\"><param name=\"movie\" value=\"'+r+'\"><param name=\"allowfullscreen\" value=\"true\"><param name=\"allowscriptaccess\" value=\"always\"><param name=\"wmode\" value=\"'+d+'\"><param name=\"bgcolor\" value=\"'+l+'\"><param name=\"menu\" value=\"false\">'+(h?'<param name=\"flashVars\" value=\"enableControlbar=true\">':\"\")+\"</object>\";for(var m=s.getElementsByTagName(\"object\"),g=m.length;g--;)m[g].id===u&&(f=m[g])}else f=document.createElement(\"object\"),f.setAttribute(\"type\",\"application/x-shockwave-flash\"),f.setAttribute(\"data\",r),f.setAttribute(\"width\",\"100%\"),f.setAttribute(\"height\",\"100%\"),f.setAttribute(\"bgcolor\",l),f.setAttribute(\"id\",u),f.setAttribute(\"name\",u),h&&n(f,\"flashVars\",\"enableControlbar=true\"),n(f,\"allowfullscreen\",\"true\"),n(f,\"allowscriptaccess\",\"always\"),n(f,\"wmode\",d),n(f,\"menu\",\"false\"),s.appendChild(f,s);return f.className=\"jw-swf jw-reset\",f.style.display=\"block\",f.style.position=\"absolute\",f.style.left=0,f.style.right=0,f.style.top=0,f.style.bottom=0,i.extend(f,t),f.queueCommands=!0,f.triggerFlash=function(t){var n=this;if(\"setup\"!==t&&n.queueCommands||!n.__externalCall){for(var r=n.__commandQueue,s=r.length;s--;)r[s][0]===t&&r.splice(s,1);return r.push(Array.prototype.slice.call(arguments)),n}var l=Array.prototype.slice.call(arguments,1),u=e.tryCatch(function(){if(l.length){for(var e=l.length;e--;)\"object\"===a(l[e])&&i.each(l[e],o);var r=JSON.stringify(l);n.__externalCall(t,r)}else n.__externalCall(t)});return u instanceof e.Error&&(console.error(t,u),\"setup\"===t)?(u.name=\"Failed to setup flash\",u):n},f.__commandQueue=[],f}function s(e){e&&e.parentNode&&(e.style.display=\"none\",e.parentNode.removeChild(e))}function o(t,i,n){(e.isPoorIE()&&t&&t.childNodes||window.HTMLElement&&t instanceof window.HTMLElement)&&delete n[i]}var l=\"#000000\";return{embed:r,remove:s}}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[],r=function(){return{hasClass:function(e,t){var i=\" \"+t+\" \";return 1===e.nodeType&&(\" \"+e.className+\" \").replace(/[\\t\\r\\n\\f]/g,\" \").indexOf(i)>=0}}}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(23),i(1),i(25),i(44),i(18)],r=function(e,t,i,n,r){var a={};return a.repo=t.memoize(function(){var t=r.split(\"+\")[0],n=e.repo+t+\"/\";return i.isHTTPS()?n.replace(/^http:/,\"https:\"):n}),a.versionCheck=function(e){var t=(\"0\"+e).split(/\\W/),i=r.split(/\\W/),n=parseFloat(t[0]),a=parseFloat(i[0]);return!(n>a)&&!(n===a&&parseFloat(\"0\"+t[1])>parseFloat(i[1]))},a.loadFrom=function(){return a.repo()},a}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[],r=function(){var e={};return e.getElementsByClassName=function(e,t,i){if(t=t||document,i=i||\"*\",t.getElementsByClassName)return t.getElementsByClassName(e);for(var n=[],r=t.getElementsByTagName(i),a=r.length,s=new RegExp(\"(^|\\\\s)\"+e+\"(\\\\s|$)\"),o=0;o<a;o++)s.test(r[o].className)&&n.push(r[o]);return n},e.addEventListener=function(e,t,i,n){e=e||document,n=n||!1,e.addEventListener?e.addEventListener(t,i,n):e.attachEvent(\"on\"+t,i)},e.removeEventListener=function(e,t,i,n){e=e||document,n=n||!1,e.removeEventListener?e.removeEventListener(t,i,n):e.detachEvent(\"on\"+t,i)},e.arrayFilter=function(){Array.prototype.filter||(Array.prototype.filter=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),i=t.length>>>0;if(\"function\"!=typeof e)throw TypeError();var n,r=[],a=arguments[1];for(n=0;n<i;n++)if(n in t){var s=t[n];e.call(a,s,n,t)&&r.push(s)}return r})},e.funcBind=function(){Function.prototype.bind||(Function.prototype.bind=function(e){if(\"function\"!=typeof this)throw new TypeError(\"Function.prototype.bind - what is trying to be bound is not callable\");var t=Array.prototype.slice.call(arguments,1),i=this,n=function(){},r=function(){return i.apply(this instanceof n&&e?this:e||window,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,r.prototype=new n,r})},e.arrayFilter(),e.funcBind(),e}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(1),i(3)],r=function(e,t){var i=e.extend({get:function(e){return this.attributes=this.attributes||{},this.attributes[e]},set:function(e,t){if(this.attributes=this.attributes||{},this.attributes[e]!==t){var i=this.attributes[e];this.attributes[e]=t,this.trigger(\"change:\"+e,this,t,i)}},clone:function(){return e.clone(this.attributes)}},t);return i}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[],r=function(){var e=function(e,i,n){if(i=i||this,n=n||[],window.jwplayer&&window.jwplayer.debug)return e.apply(i,n);try{return e.apply(i,n)}catch(i){return new t(e.name,i)}},t=function(e,t){this.name=e,this.message=t.message||t.toString(),this.error=t};return{tryCatch:e,Error:t}}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[],r=function(){return document.createElement(\"video\")}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(174),i(2),i(1),i(9),i(14)],r=function(e,t,i,n,r){var a=function(e,t){this.model=e,this.api=t,this.imageUrl=\"\",this.setup(),this.isHide=!0,this.startAdvPlayed=!1};return i.extend(a.prototype,{setup:function(){var i=e();this.el=t.createElement(i);var n=this;t.addEventListener(this.el,\"click\",function(){window.open(n.imageUrl)},!1)},loadAdv:function(e){var n=this.model.get(\"imageAdvs\");if(n&&n[e]&&n[e].image){var a=n[e].image,s=t.getElementsByClassName(\"jw-media\",this.api.getContainer())[0],o=this,l={display:\"block\",\"z-index\":1e3,width:\"100%\",height:\"100%\",top:0,left:0};if(i.isString(a)?(a=encodeURI(a),l.backgroundImage='url(\"'+a+'\")'):l.backgroundImage=\"\",\"end\"===e&&(l[\"z-index\"]=0),\"pause\"===e){var u=s?s.clientHeight:this.model.get(\"height\"),d=s?s.clientWidth:this.model.get(\"width\");l.width=\"400px\",l.height=\"300px\",l.top=(u-300)/2,l.left=(d-400)/2}r.style(this.el,l);var c=t.getElementsByClassName(\"adv-close\",this.el)[0],h=t.getElementsByClassName(\"adv-countdown\",this.el)[0];if(c.style.display=\"none\",h.style.display=\"none\",\"start\"===e){var f=n[e].time<=60?n[e].time:60;h.style.display=\"block\",h.innerHTML=\"广告: \"+f+\"秒\"}\"pause\"===e&&(c.addEventListener(\"click\",function(e){o.el.style.display=\"none\",e.stopPropagation()},!1),c.style.display=\"block\"),this.imageUrl=n[e].url,this.element()&&this.api.getContainer().replaceChild(this.el,this.element()),this.isHide=!1}},beginStartAdv:function(){if(this.startAdvPlayed)return void this.model.loadVideo();var e=this.model.get(\"imageAdvs\").start;this.loadAdv(\"start\");var i=e.time<=60?e.time:60,n=this.element(),r=this,a=setInterval(function(){if(i--,i>0){var e=\"广告: \"+i+\"秒\";t.getElementsByClassName(\"adv-countdown\",n)[0].innerHTML=e}else n.style.display=\"none\",clearInterval(a),r.isHide=!0,r.startAdvPlayed=!0,r.model.loadVideo()},1e3)},element:function(){var e=this.api.getContainer();return t.getElementsByClassName(\"jw-adv\",e).length>0?t.getElementsByClassName(\"jw-adv\",e)[0]:this.el},isHidden:function(){return this.isHide},hide:function(){this.isHide=!0,this.element().style.display=\"none\"},resizePauseAdv:function(e,t){r.style(this.element(),{top:(t-300)/2,left:(e-400)/2})}}),a}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(2),i(14),i(7),i(1)],r=function(e,t,i,n){var r=t.style,a={back:!0,fontSize:15,fontFamily:\"Arial,sans-serif\",fontOpacity:100,color:\"#FFF\",backgroundColor:\"#000\",backgroundOpacity:100,edgeStyle:null,windowColor:\"#FFF\",windowOpacity:0,preprocessor:n.identity},s=function(s){function o(t){t=t||\"\";var i=\"jw-captions-window jw-reset\";t?(y.innerHTML=t,v.className=i+\" jw-captions-window-active\"):(v.className=i,e.empty(y))}function l(e){g=e,d(p,g)}function u(e,t){var i=e.source,r=t.metadata;return i?!(!r||!n.isNumber(r[i]))&&r[i]:t.position}function d(e,t){if(e&&e.data&&t){var i=u(e,t);if(i!==!1){var n=e.data;if(!(m>=0&&c(n,m,i))){for(var r=-1,a=0;a<n.length;a++)if(c(n,a,i)){r=a;break}r===-1?o(\"\"):r!==m&&(m=r,o(b.preprocessor(n[m].text)))}}}}function c(e,t,i){return e[t].begin<=i&&(!e[t].end||e[t].end>=i)&&(t===e.length-1||e[t+1].begin>=i)}function h(e,i,n){if(t.css(\"#\"+e+\" .jw-video::-webkit-media-text-track-display\",i,e),t.css(\"#\"+e+\" .jw-video::cue\",n,e),n.backgroundColor){var r=\"{background-color: \"+n.backgroundColor+\" !important;}\";t.css(\"#\"+e+\" .jw-video::-webkit-media-text-track-display-backdrop\",r,e);\n}}function f(e,i,n){var r=t.hexToRgba(\"#000000\",n);\"dropshadow\"===e?i.textShadow=\"0 2px 1px \"+r:\"raised\"===e?i.textShadow=\"0 0 5px \"+r+\", 0 1px 5px \"+r+\", 0 2px 5px \"+r:\"depressed\"===e?i.textShadow=\"0 -2px 1px \"+r:\"uniform\"===e&&(i.textShadow=\"-2px 0 1px \"+r+\",2px 0 1px \"+r+\",0 -2px 1px \"+r+\",0 2px 1px \"+r+\",-1px 1px 1px \"+r+\",1px 1px 1px \"+r+\",1px -1px 1px \"+r+\",1px 1px 1px \"+r)}var p,m,g,_,v,y,b={};_=document.createElement(\"div\"),_.className=\"jw-captions jw-reset\",this.show=function(){_.className=\"jw-captions jw-captions-enabled jw-reset\"},this.hide=function(){_.className=\"jw-captions jw-reset\"},this.populate=function(e){return m=-1,p=e,e?void d(e,g):void o(\"\")},this.resize=function(){var e=_.clientWidth,t=Math.pow(e/400,.6);if(t){var i=b.fontSize*t;r(_,{fontSize:Math.round(i)+\"px\"})}},this.setup=function(e,i){if(v=document.createElement(\"div\"),y=document.createElement(\"span\"),v.className=\"jw-captions-window jw-reset\",y.className=\"jw-captions-text jw-reset\",b=n.extend({},a,i),i){var o=b.fontOpacity,l=b.windowOpacity,u=b.edgeStyle,d=b.backgroundColor,c={},p={color:t.hexToRgba(b.color,o),fontFamily:b.fontFamily,fontStyle:b.fontStyle,fontWeight:b.fontWeight,textDecoration:b.textDecoration};l&&(c.backgroundColor=t.hexToRgba(b.windowColor,l)),f(u,p,o),b.back?p.backgroundColor=t.hexToRgba(d,b.backgroundOpacity):null===u&&f(\"uniform\",p),r(v,c),r(y,p),h(e,c,p)}v.appendChild(y),_.appendChild(v),this.populate(s.get(\"captionsTrack\")),s.set(\"captions\",b)},this.clear=function(){e.empty(_)},this.element=function(){return _},s.on(\"change:playlistItem\",function(){g=null,m=-1,o(\"\")},this),s.on(\"change:captionsTrack\",function(e,t){this.populate(t)},this),s.mediaController.on(\"seek\",function(){m=-1},this),s.mediaController.on(\"time seek\",l,this),s.mediaController.on(\"subtitlesTrackData\",function(){d(p,g)},this),s.on(\"change:state\",function(e,t){switch(t){case i.IDLE:case i.ERROR:case i.COMPLETE:this.hide();break;default:this.show()}},this)};return s}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(9),i(4),i(3),i(1)],r=function(e,t,i,n){var r=function(r,a,s){function o(e){if(!r.get(\"flashBlocked\"))return d?void d(e):void p.trigger(e.type===t.touchEvents.CLICK?\"click\":\"tap\")}function l(){return c?void c():void p.trigger(\"doubleClick\")}var u,d,c,h={enableDoubleTap:!0,useMove:!0};n.extend(this,i),u=a,this.element=function(){return u};var f=new e(u,n.extend(h,s));f.on(\"click tap\",o),f.on(\"doubleClick doubleTap\",l),f.on(\"move\",function(){p.trigger(\"move\")}),f.on(\"over\",function(){p.trigger(\"over\")}),f.on(\"out\",function(){p.trigger(\"out\")}),this.clickHandler=o;var p=this;this.setAlternateClickHandlers=function(e,t){d=e,c=t||null},this.revertAlternateClickHandlers=function(){d=null,c=null}};return r}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(1),i(2),i(36)],r=function(e,t,i){function n(e,t){this.time=e,this.text=t,this.el=document.createElement(\"div\"),this.el.className=\"jw-cue jw-reset\",this.el.time=e}e.extend(n.prototype,{align:function(e){if(\"%\"===this.time.toString().slice(-1))this.pct=this.time;else{var t=this.time/e*100;this.pct=t+\"%\"}this.el.style.left=this.pct}});var r={loadChapters:function(e){t.ajax(e,this.chaptersLoaded.bind(this),this.chaptersFailed,{plainText:!0})},chaptersLoaded:function(t){var n=i(t.responseText);e.isArray(n)&&(e.each(n,this.addCue,this),this.drawCues())},chaptersFailed:function(){},addCue:function(e){this.cues.push(new n(e.begin,e.text))},drawCues:function(){var i=this._model.mediaModel.get(\"duration\");if(!i||i<=0)return void this._model.mediaModel.once(\"change:duration\",this.drawCues,this);var n=this;e.each(this.cues,function(e){e.align(i),t.addEventListener(e.el,\"mouseover\",function(){n.activeCue=e}),t.addEventListener(e.el,\"mouseout\",function(){n.activeCue=null}),t.addEventListener(e.el,\"click\",function(e){n._api.seek(e.target.time)}),n.elementRail.appendChild(e.el)})},resetChapters:function(){e.each(this.cues,function(e){e.el.parentNode&&e.el.parentNode.removeChild(e.el)},this),this.cues=[]}};return r}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(26),i(2),i(1),i(9)],r=function(e,t,i,n){var r=e.extend({constructor:function(t){e.call(this,t),this.container.className=\"jw-overlay-horizontal jw-reset\",this.openClass=\"jw-open-drawer\",this.componentType=\"drawer\"},setup:function(e,r){this.iconUI||(this.iconUI=new n(this.el,{useHover:!0,directSelect:!0}),this.toggleOpenStateListener=this.toggleOpenState.bind(this),this.openTooltipListener=this.openTooltip.bind(this),this.closeTooltipListener=this.closeTooltip.bind(this)),this.reset(),e=i.isArray(e)?e:[],this.activeContents=i.filter(e,function(e){return e.isActive}),t.toggleClass(this.el,\"jw-hidden\",!r||this.activeContents.length<2),r&&this.activeContents.length>1&&(t.removeClass(this.el,\"jw-off\"),this.iconUI.on(\"tap\",this.toggleOpenStateListener).on(\"over\",this.openTooltipListener).on(\"out\",this.closeTooltipListener),i.each(e,function(e){this.container.appendChild(e.el)},this))},reset:function(){t.addClass(this.el,\"jw-off\"),this.iconUI.off(),this.contentUI&&this.contentUI.off().destroy(),this.removeContent()}});return r}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(26),i(2),i(1),i(9),i(179)],r=function(e,t,i,n,r){var a=e.extend({setup:function(e,a,s){this.iconUI||(this.iconUI=new n(this.el,{useHover:!0,directSelect:!0}),this.toggleValueListener=this.toggleValue.bind(this),this.toggleOpenStateListener=this.toggleOpenState.bind(this),this.openTooltipListener=this.openTooltip.bind(this),this.closeTooltipListener=this.closeTooltip.bind(this),this.selectListener=this.select.bind(this)),this.reset(),e=i.isArray(e)?e:[],this.list=e,t.toggleClass(this.el,\"jw-hidden\",e.length<2);var o=e.length>2||2===e.length&&s&&s.toggle===!1,l=!o&&2===e.length;if(t.toggleClass(this.el,\"jw-toggle\",l),t.toggleClass(this.el,\"jw-button-color\",!l),this.isActive=o||l,o){t.removeClass(this.el,\"jw-off\"),this.iconUI.on(\"tap\",this.toggleOpenStateListener).on(\"over\",this.openTooltipListener).on(\"out\",this.closeTooltipListener);var u=r(e),d=t.createElement(u);this.addContent(d),this.contentUI=new n(this.content).on(\"click tap\",this.selectListener)}else l&&this.iconUI.on(\"click tap\",this.toggleValueListener);this.selectItem(a)},toggleValue:function(){this.trigger(\"toggleValue\")},select:function(e){if(e.target.parentElement===this.content){var n=t.classList(e.target),r=i.find(n,function(e){return 0===e.indexOf(\"jw-item\")});r&&(this.trigger(\"select\",parseInt(r.split(\"-\")[2])),this.closeTooltipListener())}},selectItem:function(e){if(this.content)for(var i=0;i<this.content.children.length;i++)t.toggleClass(this.content.children[i],\"jw-active-option\",e===i);else t.toggleClass(this.el,\"jw-off\",0===e);if(this.isHDMenu()&&this.list&&this.list.length>=2){var n=this.list[e].label,r=t.getElementsByClassName(\"jw-hd-label\",this.el)[0];r.innerHTML=n}if(this.isCCMenu()&&this.list&&this.list.length>=2&&this.list[e]){var r=t.getElementsByClassName(\"jw-cc-label\",this.el)[0];r.innerHTML=this.list[e].label}this.isPlayrateMenu()&&this.list[e]&&(t.getElementsByClassName(\"jw-playrate-label\",this.el)[0].innerHTML=this.list[e].label)},reset:function(){t.addClass(this.el,\"jw-off\"),this.iconUI.off(),this.contentUI&&this.contentUI.off().destroy(),this.removeContent()},isHDMenu:function(){return t.hasClass(this.el,\"jw-icon-hd\")},isPlayrateMenu:function(){return t.hasClass(this.el,\"jw-icon-playrate\")},isCCMenu:function(){return t.hasClass(this.el,\"jw-icon-cc\")},show:function(){this.el.style.display=\"\"},hide:function(){this.el.style.display=\"none\"}});return a}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(2),i(1),i(26),i(9),i(181)],r=function(e,t,i,n,r){var a=i.extend({setup:function(i,r){if(this.iconUI||(this.iconUI=new n(this.el,{useHover:!0}),this.toggleOpenStateListener=this.toggleOpenState.bind(this),this.openTooltipListener=this.openTooltip.bind(this),this.closeTooltipListener=this.closeTooltip.bind(this),this.selectListener=this.onSelect.bind(this)),this.reset(),i=t.isArray(i)?i:[],e.toggleClass(this.el,\"jw-hidden\",i.length<2),i.length>=2){this.iconUI=new n(this.el,{useHover:!0}).on(\"tap\",this.toggleOpenStateListener).on(\"over\",this.openTooltipListener).on(\"out\",this.closeTooltipListener);var a=this.menuTemplate(i,r),s=e.createElement(a);this.addContent(s),this.contentUI=new n(this.content),this.contentUI.on(\"click tap\",this.selectListener)}this.originalList=i},menuTemplate:function(i,n){var a=t.map(i,function(t,i){var r=\"\";if(t.title){var a=e.createElement(t.title);r=a.textContent?a.textContent:a.data}return{active:i===n,label:i+1+\".\",title:r}});return r(a)},onSelect:function(i){var n=i.target;if(\"UL\"!==n.tagName){\"LI\"!==n.tagName&&(n=n.parentElement);var r=e.classList(n),a=t.find(r,function(e){return 0===e.indexOf(\"jw-item\")});a&&(this.trigger(\"select\",parseInt(a.split(\"-\")[2])),this.closeTooltip())}},selectItem:function(e){this.setup(this.originalList,e)},reset:function(){this.iconUI.off(),this.contentUI&&this.contentUI.off().destroy(),this.removeContent()}});return a}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(1),i(2),i(36)],r=function(e,t,i){function n(e){this.begin=e.begin,this.end=e.end,this.img=e.text}var r={loadThumbnails:function(e){e&&(this.vttPath=e.split(\"?\")[0].split(\"/\").slice(0,-1).join(\"/\"),this.individualImage=null,t.ajax(e,this.thumbnailsLoaded.bind(this),this.thumbnailsFailed.bind(this),{plainText:!0}))},thumbnailsLoaded:function(t){var r=i(t.responseText);e.isArray(r)&&(e.each(r,function(e){this.thumbnails.push(new n(e))},this),this.drawCues())},thumbnailsFailed:function(){},addThumbnail:function(e){this.thumbnails.push(new n(e))},chooseThumbnail:function(t){if(!e.find(this.thumbnails,function(e){return e.begin<=t&&e.end>=t}))return\"\";var i=e.sortedIndex(this.thumbnails,{end:t},e.property(\"end\"));i>=this.thumbnails.length&&(i=this.thumbnails.length-1);var n=this.thumbnails[i].img;return n.indexOf(\"://\")<0&&(n=this.vttPath?this.vttPath+\"/\"+n:n),n},loadThumbnail:function(t){var i=this.chooseThumbnail(t),n={display:\"block\",margin:\"0 auto\",backgroundPosition:\"0 0\",backgroundRepeat:\"no-repeat\"},r=i.indexOf(\"#xywh\");if(r>0)try{var a=/(.+)\\#xywh=(\\d+),(\\d+),(\\d+),(\\d+)/.exec(i);i=a[1],n.backgroundPosition=a[2]*-1+\"px \"+a[3]*-1+\"px\",n.width=a[4],n.height=a[5]}catch(e){return}else i&&(this.individualImage?(n.width=this.individualImage.width,n.height=this.individualImage.height):(this.individualImage=new Image,this.individualImage.onload=e.bind(function(){this.individualImage.onload=null,this.timeTip.image({width:this.individualImage.width,height:this.individualImage.height})},this),this.individualImage.src=i));return\"\"===i&&(n.width=0,n.height=0),n.backgroundImage='url(\"'+i+'\")',n},showThumbnail:function(e){this.thumbnails.length<1||this.timeTip.image(this.loadThumbnail(e))},resetThumbnails:function(){this.timeTip.image({backgroundImage:\"\",width:0,height:0}),this.thumbnails=[]}};return r}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(1),i(2),i(23),i(46),i(26),i(138),i(142)],r=function(e,t,i,n,r,a,s){var o=r.extend({setup:function(){this.text=document.createElement(\"span\"),this.text.className=\"jw-text jw-reset\",this.img=document.createElement(\"div\"),this.img.className=\"jw-reset\";var e=document.createElement(\"div\");e.className=\"jw-time-tip jw-background-color jw-reset\",e.appendChild(this.img),e.appendChild(this.text),t.removeClass(this.el,\"jw-hidden\"),this.addContent(e)},image:function(e){t.style(this.img,e)},update:function(e){this.text.innerHTML=e}}),l=n.extend({constructor:function(t,i){this._model=t,this._api=i,this.timeTip=new o(\"jw-tooltip-time\"),this.timeTip.setup(),this.cues=[],this.seekThrottled=e.throttle(this.performSeek,400),this._model.on(\"change:playlistItem\",this.onPlaylistItem,this).on(\"change:position\",this.onPosition,this).on(\"change:duration\",this.onDuration,this).on(\"change:buffer\",this.onBuffer,this),n.call(this,\"jw-slider-time\",\"horizontal\")},setup:function(){n.prototype.setup.apply(this,arguments),this._model.get(\"playlistItem\")&&this.onPlaylistItem(this._model,this._model.get(\"playlistItem\")),this.elementRail.appendChild(this.timeTip.element()),t.addEventListener(this.el,\"mousemove\",this.showTimeTooltip.bind(this),!1),t.addEventListener(this.el,\"mouseout\",this.hideTimeTooltip.bind(this),!1)},limit:function(n){if(this.activeCue&&e.isNumber(this.activeCue.pct))return this.activeCue.pct;var r=this._model.get(\"duration\"),a=t.adaptiveType(r);if(\"DVR\"===a){var s=(1-n/100)*r,o=this._model.get(\"position\"),l=Math.min(s,Math.max(i.dvrSeekLimit,o)),u=100*l/r;return 100-u}return n},update:function(e){this.seekTo=e,this.seekThrottled(),n.prototype.update.apply(this,arguments)},dragStart:function(){this._model.set(\"scrubbing\",!0),n.prototype.dragStart.apply(this,arguments)},dragEnd:function(){n.prototype.dragEnd.apply(this,arguments),this._model.set(\"scrubbing\",!1)},onSeeked:function(){this._model.get(\"scrubbing\")&&this.performSeek()},onBuffer:function(e,t){this.updateBuffer(t)},onPosition:function(e,t){this.updateTime(t,e.get(\"duration\"))},onDuration:function(e,t){this.updateTime(e.get(\"position\"),t)},updateTime:function(e,i){var n=0;if(i){var r=t.adaptiveType(i);\"DVR\"===r?n=(i-e)/i*100:\"VOD\"===r&&(n=e/i*100)}this.render(n)},onPlaylistItem:function(t,i){this.reset(),t.mediaModel.on(\"seeked\",this.onSeeked,this);var n=i.tracks;e.each(n,function(e){e&&e.kind&&\"thumbnails\"===e.kind.toLowerCase()?this.loadThumbnails(e.file):e&&e.kind&&\"chapters\"===e.kind.toLowerCase()&&this.loadChapters(e.file)},this)},performSeek:function(){var e,i=this.seekTo,n=this._model.get(\"duration\"),r=t.adaptiveType(n);0===n?this._api.play():\"DVR\"===r?(e=(100-i)/100*n,this._api.seek(e)):this._model.attributes.controlbar.canDrag&&(e=i/100*n,this._api.seek(Math.min(e,n-.25)))},showTimeTooltip:function(e){var n=this._model.get(\"duration\");if(0!==n){var r=t.bounds(this.elementRail),a=document.documentElement.scrollLeft||document.body.scrollLeft,s=e.pageX||e.clientX+a,o=s-r.left;o=t.between(o,0,r.width);var l=o/r.width,u=n*l;n<0&&(u=n-u);var d;if(this.activeCue)d=this.activeCue.text;else{var c=!0;d=t.timeFormat(u,c),n<0&&u>i.dvrSeekLimit&&(d=\"Live\")}this.timeTip.update(d),this.showThumbnail(u),t.addClass(this.timeTip.el,\"jw-open\"),this.timeTip.el.style.left=100*l+\"%\"}},hideTimeTooltip:function(){t.removeClass(this.timeTip.el,\"jw-open\")},reset:function(){this.resetChapters(),this.resetThumbnails()}});return e.extend(l.prototype,a,s),l}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(26),i(46),i(9),i(2)],r=function(e,t,i,n){var r=e.extend({constructor:function(r,a){this._model=r,e.call(this,a),this.volumeSlider=new t(\"jw-slider-volume jw-volume-tip\",\"vertical\"),this.addContent(this.volumeSlider.element()),this.addVolumeValueTip(),this.volumeSlider.on(\"update\",function(e){this.trigger(\"update\",e)},this),n.removeClass(this.el,\"jw-hidden\"),new i(this.el,{useHover:!0,directSelect:!0}).on(\"click\",this.toggleValue,this).on(\"tap\",this.toggleOpenState,this).on(\"over\",this.openTooltip,this).on(\"out\",this.closeTooltip,this)},toggleValue:function(){this.trigger(\"toggleValue\")},addVolumeValueTip:function(){var e=document.createElement(\"div\");e.className=\"jw-volume-value-tip\",n.getElementsByClassName(\"jw-overlay\",this.el)[0].appendChild(e),this.valuetip=e}});return r}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(2),i(1),i(3),i(23),i(9),i(46),i(143),i(140),i(141),i(144),i(139)],r=function(e,t,i,n,r,a,s,o,l,u,d){function c(e,t){var i=document.createElement(\"div\");return i.className=\"jw-icon jw-icon-inline jw-button-color jw-reset \"+e,i.style.display=\"none\",t&&new r(i).on(\"click tap\",function(){t()}),{element:function(){return i},toggle:function(e){e?this.show():this.hide()},show:function(){i.style.display=\"\"},hide:function(){i.style.display=\"none\"}}}function h(e){var t=document.createElement(\"span\");return t.className=\"jw-text jw-reset \"+e,t}function f(e){var t=new o(e);return t}function p(e,i){var n=document.createElement(\"div\");return n.className=\"jw-group jw-controlbar-\"+e+\"-group jw-reset\",t.each(i,function(e){e.element&&(e=e.element()),n.appendChild(e)}),n}function m(t,i){this._api=t,this._model=i,this._isMobile=e.isMobile(),this._compactModeMaxSize=400,this._maxCompactWidth=-1,this.setup()}return t.extend(m.prototype,i,{setup:function(){this.build(),this.initialize()},build:function(){var e,i,n,r,o=this,m=new s(this._model,this._api),g=new d(\"jw-icon-more\");this._model.get(\"visualplaylist\")!==!1&&(e=new l(\"jw-icon-playlist\")),this._isMobile||(r=c(\"jw-icon-volume\",this._api.setMute),i=new a(\"jw-slider-volume\",\"horizontal\"),n=new u(this._model,\"jw-icon-volume\")),this.elements={alt:h(\"jw-text-alt\"),barLogo:c(\"jw-icon-barlogo-new\",function(){window.open(o._model.get(\"controlbar\").barLogoUrl)}),play:c(\"jw-icon-playback\",this._api.play.bind(this,{reason:\"interaction\"})),prev:c(\"jw-icon-prev\",this._api.playlistPrev.bind(this,{reason:\"interaction\"})),next:c(\"jw-icon-next\",this._api.playlistNext.bind(this,{reason:\"interaction\"})),playlist:e,elapsed:h(\"jw-text-elapsed\"),split:h(\"jw-text-split\"),time:m,duration:h(\"jw-text-duration\"),playRate:f(\"jw-icon-playrate\"),drawer:g,hd:f(\"jw-icon-hd\"),cc:f(\"jw-icon-cc\"),audiotracks:f(\"jw-icon-audio-tracks\"),mute:r,volume:i,volumetooltip:n,cast:c(\"jw-icon-cast jw-off\",this._api.castToggle),fullscreen:c(\"jw-icon-fullscreen\",this._api.setFullscreen)},this.elements.split.innerHTML=\"/\",this.layout={left:[this.elements.barLogo,this.elements.play,this.elements.prev,this.elements.playlist,this.elements.next,this.elements.elapsed,this.elements.split,this.elements.duration],center:[this.elements.time,this.elements.alt],right:[this.elements.playRate,this.elements.hd,this.elements.cc,this.elements.audiotracks,this.elements.drawer,this.elements.mute,this.elements.cast,this.elements.volume,this.elements.volumetooltip,this.elements.fullscreen],drawer:[this.elements.hd,this.elements.cc,this.elements.audiotracks]},this.menus=t.compact([this.elements.playlist,this.elements.hd,this.elements.cc,this.elements.audiotracks,this.elements.volumetooltip]),this.layout.left=t.compact(this.layout.left),this.layout.center=t.compact(this.layout.center),this.layout.right=t.compact(this.layout.right),this.layout.drawer=t.compact(this.layout.drawer),this.el=document.createElement(\"div\"),this.el.className=\"jw-controlbar jw-background-color jw-reset\",this.elements.left=p(\"left\",this.layout.left),this.elements.center=p(\"center\",this.layout.center),this.elements.right=p(\"right\",this.layout.right),this.el.appendChild(this.elements.left),this.el.appendChild(this.elements.center),this.el.appendChild(this.elements.right)},initialize:function(){this._model.get(\"controlbar\").barLogo&&this.elements.barLogo.show(),this.elements.play.show(),this.elements.fullscreen.show(),this.elements.mute&&this.elements.mute.show(),this.onVolume(this._model,this._model.get(\"volume\")),this.onPlaylist(this._model,this._model.get(\"playlist\")),this.onPlaylistItem(this._model,this._model.get(\"playlistItem\")),this.onMediaModel(this._model,this._model.get(\"mediaModel\")),this.onCastAvailable(this._model,this._model.get(\"castAvailable\")),this.onCastActive(this._model,this._model.get(\"castActive\")),this.onCaptionsList(this._model,this._model.get(\"captionsList\")),this._model.on(\"change:volume\",this.onVolume,this),this._model.on(\"change:mute\",this.onMute,this),this._model.on(\"change:playlist\",this.onPlaylist,this),this._model.on(\"change:playlistItem\",this.onPlaylistItem,this),this._model.on(\"change:mediaModel\",this.onMediaModel,this),this._model.on(\"change:castAvailable\",this.onCastAvailable,this),this._model.on(\"change:castActive\",this.onCastActive,this),this._model.on(\"change:duration\",this.onDuration,this),this._model.on(\"change:position\",this.onElapsed,this),this._model.on(\"change:fullscreen\",this.onFullscreen,this),this._model.on(\"change:captionsList\",this.onCaptionsList,this),this._model.on(\"change:captionsIndex\",this.onCaptionsIndex,this),this._model.on(\"change:compactUI\",this.onCompactUI,this),this._model.on(\"change:provider\",this.onProvider,this),this.elements.volume&&this.elements.volume.on(\"update\",function(e){var t=e.percentage;this._api.setVolume(t)},this),this.elements.volumetooltip&&(this.elements.volumetooltip.on(\"update\",function(e){var t=e.percentage;this._api.setVolume(t)},this),this.elements.volumetooltip.on(\"toggleValue\",function(){this._api.setMute()},this)),this.elements.playlist&&this.elements.playlist.on(\"select\",function(e){this._model.once(\"itemReady\",function(){this._api.play({reason:\"interaction\"})},this),this._api.load(e)},this),this.elements.playRate.on(\"select\",function(e){var t=this._model.get(\"playRateConfig\")[e].label;t=parseFloat(t.substring(1)),this._model.setPlaybackRate(t)},this),this.elements.hd.on(\"select\",function(e){this._model.setCurrentQuality(e)},this),this.elements.hd.on(\"toggleValue\",function(){this._model.getVideo().setCurrentQuality(0===this._model.getVideo().getCurrentQuality()?1:0)},this),this.elements.cc.on(\"select\",function(e){this._api.setCurrentCaptions(e)},this),this.elements.cc.on(\"toggleValue\",function(){var e=this._model.get(\"captionsIndex\");this._api.setCurrentCaptions(e?0:1)},this),this.elements.audiotracks.on(\"select\",function(e){this._model.getVideo().setCurrentAudioTrack(e)},this),new r(this.elements.duration).on(\"click tap\",function(){if(\"DVR\"===e.adaptiveType(this._model.get(\"duration\"))){var t=this._model.get(\"position\");this._api.seek(Math.max(n.dvrSeekLimit,t))}},this),new r(this.el).on(\"click tap drag\",function(){this.trigger(\"userAction\")},this),this.elements.drawer.on(\"open-drawer close-drawer\",function(t,i){e.toggleClass(this.el,\"jw-drawer-expanded\",i.isOpen),i.isOpen||this.closeMenus()},this),t.each(this.menus,function(e){e.on(\"open-tooltip\",this.closeMenus,this)},this)},onCaptionsList:function(e,t){var i=e.get(\"captionsIndex\");this.elements.cc.setup(t,i),this.clearCompactMode()},onCaptionsIndex:function(e,t){this.elements.cc.selectItem(t)},onPlaylist:function(e,t){var i=t.length>1;this.elements.next.toggle(i),this.elements.prev.toggle(i),this.elements.playlist&&this.elements.playlist.setup(t,e.get(\"item\"))},onPlaylistItem:function(e){this.elements.time.updateBuffer(0),this.elements.time.render(0),this.elements.duration.innerHTML=\"00:00\",this.elements.elapsed.innerHTML=\"00:00\",this.clearCompactMode();var t=e.get(\"item\");this.elements.playlist&&this.elements.playlist.selectItem(t),this.elements.audiotracks.setup()},onMediaModel:function(i,n){n.on(\"change:levels\",function(e,t){this.elements.hd.setup(t,e.get(\"currentLevel\"),{toggle:!1}),this.clearCompactMode()},this),n.on(\"change:currentLevel\",function(e,t){this.elements.hd.selectItem(t)},this),n.on(\"change:audioTracks\",function(e,i){var n=t.map(i,function(e){return{label:e.name}});this.elements.audiotracks.setup(n,e.get(\"currentAudioTrack\"),{toggle:!1}),this.clearCompactMode()},this),n.on(\"change:currentAudioTrack\",function(e,t){this.elements.audiotracks.selectItem(t)},this),n.on(\"change:state\",function(t,i){\"complete\"===i&&(this.elements.drawer.closeTooltip(),e.removeClass(this.el,\"jw-drawer-expanded\"))},this),n.on(\"change:playbackRate\",function(e,t){for(var i=this._model.get(\"playRateConfig\"),n=-1,r=0;r<i.length;r++)i[r].label===\"×\"+t&&(n=r);this.elements.playRate.selectItem(n)},this)},onProvider:function(e,t){/(html5|videojs)/.test(t.name)&&e.get(\"playRate\")&&!this._isMobile?this.elements.playRate.setup(e.get(\"playRateConfig\"),0):this.elements.playRate.hide()},onVolume:function(e,t,i){this.renderVolume(e.get(\"mute\"),t,i)},onMute:function(e,t){this.renderVolume(t,e.get(\"volume\"))},renderVolume:function(t,i,n){var r;n||(n=i),this.elements.mute&&e.toggleClass(this.elements.mute.element(),\"jw-off\",t),this.elements.volume&&this.elements.volume.render(t?0:i),this.elements.volumetooltip&&(this.elements.volumetooltip.volumeSlider.render(t?0:i),e.toggleClass(this.elements.volumetooltip.element(),\"jw-off\",t)),this.elements.volumetooltip&&this.elements.volumetooltip.valuetip&&(r=this.elements.volumetooltip.valuetip,t?r.innerHTML=\"0%\":100===i&&i>n&&this._model.get(\"provider\")&&/^flash/.test(this._model.get(\"provider\").name)?r.innerHTML=\"100%(按↑可以继续增大音量)\":r.innerHTML=i+\"%\")},onCastAvailable:function(e,t){this.elements.cast.toggle(t),this.clearCompactMode()},onCastActive:function(t,i){e.toggleClass(this.elements.cast.element(),\"jw-off\",!i)},onElapsed:function(t,i){var n,r=t.get(\"duration\");n=\"DVR\"===e.adaptiveType(r)?\"-\"+e.timeFormat(-r):e.timeFormat(i),this.elements.elapsed.innerHTML=n},onDuration:function(t,i){var n;\"DVR\"===e.adaptiveType(i)?(n=\"Live\",this.clearCompactMode()):n=e.timeFormat(i),/NaN/.test(n)||(this.elements.duration.innerHTML=n)},onFullscreen:function(t,i){e.toggleClass(this.elements.fullscreen.element(),\"jw-off\",i)},element:function(){return this.el},getVisibleBounds:function(){var t,i=this.el,n=getComputedStyle?getComputedStyle(i):i.currentStyle;return\"table\"===n.display?e.bounds(i):(i.style.visibility=\"hidden\",i.style.display=\"table\",t=e.bounds(i),i.style.visibility=i.style.display=\"\",t)},setAltText:function(e){this.elements.alt.innerHTML=e},addCues:function(e){this.elements.time&&(t.each(e,function(e){this.elements.time.addCue(e)},this),0===e.length&&this.elements.time.resetChapters(),this.elements.time.drawCues())},addThumbnails:function(e){this.elements.time&&(t.each(e,function(e){this.elements.time.addThumbnail(e)},this),this.elements.time.drawCues())},closeMenus:function(e){t.each(this.menus,function(t){e&&e.target===t.el||t.closeTooltip(e)})},hideComponents:function(){this.closeMenus(),this.elements.drawer.closeTooltip(),e.removeClass(this.el,\"jw-drawer-expanded\")},clearCompactMode:function(){this._maxCompactWidth=-1,this._model.set(\"compactUI\",!1),this._containerWidth&&this.checkCompactMode(this._containerWidth)},setCompactModeBounds:function(){if(this.element().offsetWidth>0){var t=this.elements.left.offsetWidth+this.elements.right.offsetWidth;if(\"LIVE\"===e.adaptiveType(this._model.get(\"duration\")))this._maxCompactWidth=t+this.elements.alt.offsetWidth;else{var i=t+(this.elements.center.offsetWidth-this.elements.time.el.offsetWidth),n=.2;this._maxCompactWidth=i/(1-n)}}},checkCompactMode:function(e){this.setCompactModeBounds(),this._containerWidth=e,this._maxCompactWidth!==-1&&(e>=this._compactModeMaxSize&&e>this._maxCompactWidth?this._model.set(\"compactUI\",!1):(e<this._compactModeMaxSize||e<=this._maxCompactWidth)&&this._model.set(\"compactUI\",!0))},onCompactUI:function(i,n){e.removeClass(this.el,\"jw-drawer-expanded\"),this.elements.drawer.setup(this.layout.drawer,n),(!n||this.elements.drawer.activeContents.length<2)&&t.each(this.layout.drawer,function(e){this.elements.right.insertBefore(e.el,this.elements.drawer.el)},this)}}),m}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(2),i(3),i(9),i(175),i(1)],r=function(e,t,i,n,r){var a=function(a){r.extend(this,t),this.model=a,this.el=e.createElement(n({}));var s=this;this.iconUI=new i(this.el).on(\"click tap\",function(e){s.trigger(e.type)})};return r.extend(a.prototype,{element:function(){return this.el}}),a}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(176),i(2),i(1),i(9)],r=function(e,t,i,n){var r=function(e){this.model=e,this.setup(),this.model.on(\"change:dock\",this.render,this)};return i.extend(r.prototype,{setup:function(){var i=this.model.get(\"dock\"),r=this.click.bind(this),a=e(i);this.el=t.createElement(a),new n(this.el).on(\"click tap\",r)},getDockButton:function(e){return t.hasClass(e.target,\"jw-dock-button\")?e.target:t.hasClass(e.target,\"jw-dock-text\")?e.target.parentElement.parentElement:e.target.parentElement},click:function(e){var t=this.getDockButton(e),n=t.getAttribute(\"button\"),r=this.model.get(\"dock\"),a=i.findWhere(r,{id:n});a&&a.callback&&a.callback(e)},render:function(){var i=this.model.get(\"dock\"),n=e(i),r=t.createElement(n);this.el.innerHTML=r.innerHTML},element:function(){return this.el}}),r}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(177)],r=function(e){function t(t,i,n,r){return e({id:t,skin:i,title:n,body:r})}return t}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(9),i(2),i(4),i(1),i(3),i(178)],r=function(e,t,i,n,r,a){var s=t.style,o={linktarget:\"_blank\",margin:8,hide:!1,position:\"top-right\"},l=function(l){var u,d,c=new Image,h=n.extend({},l.get(\"logo\"));return n.extend(this,r),this.setup=function(r){if(d=n.extend({},o,h),d.hide=\"true\"===d.hide.toString(),u=t.createElement(a()),d.file){d.hide&&t.addClass(u,\"jw-hide\"),t.addClass(u,\"jw-logo-\"+(d.position||o.position)),\"top-right\"===d.position&&(l.on(\"change:dock\",this.topRight,this),l.on(\"change:controls\",this.topRight,this),this.topRight(l)),l.set(\"logo\",d),c.onload=function(){var e={backgroundImage:'url(\"'+this.src+'\")',width:this.width,height:this.height};if(d.margin!==o.margin){var t=/(\\w+)-(\\w+)/.exec(d.position);3===t.length&&(e[\"margin-\"+t[1]]=d.margin,e[\"margin-\"+t[2]]=d.margin)}s(u,e),l.set(\"logoWidth\",e.width)},c.src=d.file;var f=new e(u);f.on(\"click tap\",function(e){t.exists(e)&&e.stopPropagation&&e.stopPropagation(),this.trigger(i.JWPLAYER_LOGO_CLICK,{link:d.link,linktarget:d.linktarget})},this),r.appendChild(u)}},this.topRight=function(e){var t=e.get(\"controls\"),i=e.get(\"dock\"),n=t&&(i&&i.length||e.get(\"sharing\")||e.get(\"related\"));s(u,{top:n?\"3.5em\":0})},this.element=function(){return u},this.position=function(){return d.position},this.destroy=function(){c.onload=null},this};return l}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(2),i(1),i(14)],r=function(e,t,i){function n(e){return e>100?30+Math.random()*(e-100):e/2}var r=function(e,t){this.model=e,this.element=t,this.times=0,this.init()};return t.extend(r.prototype,{init:function(){if(e.isMSIE(9))return i.style(this.element,{display:\"none\"}),!1;var t=this.model.get(\"marquee\").text,n=this.model.get(\"marquee\").color,r=this.model.get(\"marquee\").fontSize;t&&(this.element.innerHTML=t),n&&i.style(this.element,{color:n}),r&&i.style(this.element,{fontSize:r,lineHeight:r+8}),this.reset()},start:function(){return!e.isMSIE(9)&&void i.style(this.element,{animationPlayState:\"running\",opacity:1,display:\"block\"})},stop:function(){this.reset(),i.style(this.element,{animationPlayState:\"paused\",opacity:0,display:\"none\"})},pause:function(){\"running\"===this.element.style.animationPlayState&&i.style(this.element,{animationPlayState:\"paused\"}),i.style(this.element,{opacity:0})},reset:function(t,n){t=t||this.model.get(\"width\"),n=n||this.model.get(\"height\");var r=18,a=this.element,s=this.times%2===0?\"marquee1\":\"marquee2\",o=this;i.animation(a,s+\" \"+r+\"s infinite\"),this.randomTop(a,n),e.addEventListener(a,\"webkitAnimationIteration\",function(){o.randomTop(a,n)},!1),e.addEventListener(a,\"animationiteration\",function(){o.randomTop(a,n)},!1),this.times++},randomTop:function(){var e=0;this.model.get(\"containerHeight\")&&(e=this.model.get(\"containerHeight\")),i.style(this.element,{top:n(e)})}}),r}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(1),i(2)],r=function(e,t){function i(e,t){t.off(\"change:mediaType\",null,this),t.on(\"change:mediaType\",function(t,i){\"audio\"===i&&this.setImage(e.get(\"playlistItem\").image)},this)}function n(e,i){var n=e.get(\"autostart\")&&!t.isMobile()||e.get(\"item\")>0;return n?(this.setImage(null),e.off(\"change:state\",null,this),void e.on(\"change:state\",function(e,t){\"complete\"!==t&&\"idle\"!==t&&\"error\"!==t||this.setImage(i.image)},this)):void this.setImage(i.image)}var r=function(e){this.model=e,e.on(\"change:playlistItem\",n,this),e.on(\"change:mediaModel\",i,this)};return e.extend(r.prototype,{setup:function(e){this.el=e;var t=this.model.get(\"playlistItem\");t&&this.setImage(t.image)},setImage:function(i){var n=this.image;n&&(n.onload=null,this.image=null),this.model.off(\"change:state\",null,this);var r=\"\";e.isString(i)&&(r='url(\"'+i+'\")',n=this.image=new Image,n.src=i),t.isPoorIE()?this.el.style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\"'+i+'\",sizingMethod=\"scale\"':t.style(this.el,{\nbackgroundImage:r})},resize:function(e,i,n){if(\"uniform\"===n){var r=e/i,a=this.image,s=null;if(a){if(0===a.width){var o=this;return void(a.onload=function(){o.resize(e,i,n)})}var l=a.width/a.height;Math.abs(r-l)<.09&&(s=\"cover\")}t.style(this.el,{backgroundSize:s})}},element:function(){return this.el}}),r}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(2),i(183),i(1),i(9),i(18)],r=function(e,t,i,n,r){var a=function(){};return i.extend(a.prototype,{buildArray:function(){var t=r.split(\"+\"),n=t[0],a={items:[]},s=this.model.get(\"rightclick\");s&&i.isArray(s)&&s.length>0?i.each(s,function(e){a.items.push({title:e.title,link:e.link})}):a.items.push({title:\"About Cyber Player \"+n,link:\"https://bce.baidu.com/doc/MCT/Web-SDK.html#.E6.92.AD.E6.94.BE.E5.99.A8.20Web.20SDK.20.E7.AE.80.E4.BB.8B\"});var o=this.model.get(\"provider\");if(o&&o.name.indexOf(\"flash\")>=0){var l=\"Flash Version \"+e.flashVersion();a.items.push({title:l,link:\"http://www.adobe.com/software/flash/about/\"})}return a},buildMenu:function(){var i=this.buildArray();return e.createElement(t(i))},updateHtml:function(){this.el.innerHTML=this.buildMenu().innerHTML},rightClick:function(e){return this.lazySetup(),!this.mouseOverContext&&(this.hideMenu(),this.showMenu(e),!1)},getOffset:function(t){var i=t.target,n=t.layerX||t.offsetX,r=t.layerY||t.offsetY;if(e.isIE()&&(e.hasClass(i,\"jw-video\")||e.hasClass(i,\"jw-warning\")))return{x:n,y:r+40};for(;i!==this.playerElement;)n+=i.offsetLeft,r+=i.offsetTop,i=i.parentNode;return n=n<=this.playerElement.clientWidth?n:this.playerElement.clientWidth,r=r<=this.playerElement.clientHeight?r:this.playerElement.clientHeight,{x:n,y:r}},showMenu:function(t){var i=this.getOffset(t);return this.el.style.left=i.x+\"px\",this.el.style.top=i.y+\"px\",e.addClass(this.playerElement,\"jw-flag-rightclick-open\"),e.addClass(this.el,\"jw-open\"),!1},hideMenu:function(){this.mouseOverContext||(e.removeClass(this.playerElement,\"jw-flag-rightclick-open\"),e.removeClass(this.el,\"jw-open\"))},lazySetup:function(){this.el||(this.el=this.buildMenu(),this.layer.appendChild(this.el),this.hideMenuHandler=this.hideMenu.bind(this),this.addOffListener(this.playerElement),this.addOffListener(document),this.model.on(\"change:provider\",this.updateHtml,this),this.elementUI=new n(this.el,{useHover:!0}).on(\"over\",function(){this.mouseOverContext=!0},this).on(\"out\",function(){this.mouseOverContext=!1},this))},setup:function(t,i,n){this.playerElement=i,this.model=t,this.mouseOverContext=!1,this.layer=n,e.isPoorIE()||(i.oncontextmenu=this.rightClick.bind(this))},addOffListener:function(t){e.addEventListener(t,\"mousedown\",this.hideMenuHandler),e.addEventListener(t,\"touchstart\",this.hideMenuHandler),e.addEventListener(t,\"pointerdown\",this.hideMenuHandler)},removeOffListener:function(t){e.removeEventListener(t,\"mousedown\",this.hideMenuHandler),e.removeEventListener(t,\"touchstart\",this.hideMenuHandler),e.removeEventListener(t,\"pointerdown\",this.hideMenuHandler)},destroy:function(){this.el&&(this.hideMenu(),this.elementUI.off(),this.removeOffListener(this.playerElement),this.removeOffListener(document),this.hideMenuHandler=null,this.el=null),this.playerElement&&(this.playerElement.oncontextmenu=null,this.playerElement=null),this.model&&(this.model.off(\"change:provider\",this.updateHtml),this.model=null)}}),a}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(1),i(2)],r=function(e,t){var i=function(e){this.model=e,this.model.on(\"change:playlistItem\",this.playlistItem,this)};return e.extend(i.prototype,{hide:function(){this.el.style.display=\"none\"},show:function(){this.el.style.display=\"\"},setup:function(e){this.el=e;var t=this.el.getElementsByTagName(\"div\");this.title=t[0],this.description=t[1],this.model.get(\"playlistItem\")&&this.playlistItem(this.model,this.model.get(\"playlistItem\")),this.model.on(\"change:logoWidth\",this.update,this),this.model.on(\"change:dock\",this.update,this)},update:function(e){var i={paddingLeft:0,paddingRight:0},n=e.get(\"controls\"),r=e.get(\"dock\"),a=e.get(\"logo\");if(a){var s=1*(\"\"+a.margin).replace(\"px\",\"\"),o=e.get(\"logoWidth\")+(isNaN(s)?0:s);\"top-left\"===a.position?i.paddingLeft=o:\"top-right\"===a.position&&(i.paddingRight=o)}if(n&&r&&r.length){var l=56*r.length;i.paddingRight=Math.max(i.paddingRight,l)}t.style(this.el,i)},playlistItem:function(e,t){if(e.get(\"displaytitle\")||e.get(\"displaydescription\")){var i=\"\",n=\"\";t.title&&e.get(\"displaytitle\")&&(i=t.title),t.description&&e.get(\"displaydescription\")&&(n=t.description),this.updateText(i,n)}else this.hide()},updateText:function(e,t){this.title.innerHTML=e,this.description.innerHTML=t,this.title.firstChild||this.description.firstChild?this.show():this.hide()},element:function(){return this.el}}),i}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t,i){var n,r;n=[i(2),i(4),i(3),i(23),i(7),i(136),i(137),i(146),i(147),i(149),i(145),i(151),i(135),i(150),i(152),i(153),i(1),i(180)],r=function(e,t,i,n,r,a,s,o,l,u,d,c,h,f,p,m,g,_){var v=e.style,y=e.bounds,b=e.isMobile(),A=[\"fullscreenchange\",\"webkitfullscreenchange\",\"mozfullscreenchange\",\"MSFullscreenChange\"],E=function(E,w){function T(t){var i=0,r=w.get(\"duration\"),a=w.get(\"position\");\"DVR\"===e.adaptiveType(r)&&(i=r,r=Math.max(a,n.dvrSeekLimit));var s=e.between(a+t,i,r);E.seek(s)}function S(t){var i,n=w.get(\"volume\");\"-\"===t?i=n>100?-50:-10:(i=n>=100?50:10,n<100&&n+i>100&&(i=100-n));var r=w.getVideo(),a=r&&0===r.getName().name.indexOf(\"flash\"),s=a?500:100,o=e.between(w.get(\"volume\")+i,0,s);E.setVolume(o)}function C(e){return!e.ctrlKey&&!e.metaKey&&!!w.get(\"controls\")}function k(e){var t=w.get(\"keyControls\");if(!C(e))return!0;switch(Ue||ie(),e.keyCode){case 27:E.setFullscreen(!1);break;case 13:case 32:t&&E.play({reason:\"interaction\"});break;case 37:Ue||T(-5);break;case 39:Ue||T(5);break;case 38:S(\"+\");break;case 40:S(\"-\");break;case 67:var i=E.getCaptionsList(),n=i.length;if(n){var r=(E.getCurrentCaptions()+1)%n;E.setCurrentCaptions(r)}break;case 77:t&&E.setMute();break;case 70:t&&E.setFullscreen();break;default:if(t&&e.keyCode>=48&&e.keyCode<=59){var a=e.keyCode-48,s=a/10*w.get(\"duration\");E.seek(s)}}return/13|32|37|38|39|40/.test(e.keyCode)?(e.preventDefault&&e.preventDefault(),!1):void 0}function L(){Ve=!1,e.removeClass(ce,\"jw-no-focus\")}function x(){Ve=!0,e.addClass(ce,\"jw-no-focus\")}function I(){Ve||L(),Ue||ie()}function P(){var i=y(ce),n=Math.round(i.width),r=Math.round(i.height);return document.body.contains(ce)?n&&r&&(n===pe&&r===me||(pe=n,me=r,clearTimeout(Be),Be=setTimeout(X,50),w.set(\"containerWidth\",n),w.set(\"containerHeight\",r),He.trigger(t.JWPLAYER_RESIZE,{width:n,height:r}))):(e.removeEventListener(window,\"resize\",P),b&&e.removeEventListener(window,\"orientationchange\",P)),i}function R(t,i){i=i||!1,e.toggleClass(ce,\"jw-flag-casting\",i)}function D(t,i){e.toggleClass(ce,\"jw-flag-cast-available\",i),e.toggleClass(he,\"jw-flag-cast-available\",i)}function O(t,i){e.replaceClass(ce,/jw-stretch-\\S+/,\"jw-stretch-\"+i)}function M(t,i){e.toggleClass(ce,\"jw-flag-compact-player\",i)}function U(t){t&&!b&&(e.addEventListener(t.element(),\"mousemove\",N,!1),e.addEventListener(t.element(),\"mouseout\",F,!1))}function j(){w.get(\"state\")!==r.IDLE&&w.get(\"state\")!==r.COMPLETE&&w.get(\"state\")!==r.PAUSED||!w.get(\"controls\")||E.play({reason:\"interaction\"}),je?te():ie()}function B(e){e.link?(E.pause(!0),E.setFullscreen(!1),window.open(e.link,e.linktarget)):w.get(\"controls\")&&E.play({reason:\"interaction\"})}function N(){clearTimeout(De)}function F(){ie()}function V(e){He.trigger(e.type,e)}function H(t,i){i?(Le&&Le.destroy(),e.addClass(ce,\"jw-flag-flash-blocked\")):(Le&&Le.setup(w,ce,ce),e.removeClass(ce,\"jw-flag-flash-blocked\"))}function z(){w.get(\"controls\")&&E.setFullscreen()}function G(){var i=e.getElementsByClassName(\"jw-overlays\",ce)[0];e.addEventListener(i,\"mousemove\",ie),Ae=new s(w,fe,{useHover:!0}),Ae.on(\"click\",function(){V({type:t.JWPLAYER_DISPLAY_CLICK}),w.get(\"controls\")&&!w.get(\"flashUI\")&&w.get(\"allowClickToDisplay\")&&E.play({reason:\"interaction\"})}),Ae.on(\"tap\",function(){V({type:t.JWPLAYER_DISPLAY_CLICK}),j()}),w.get(\"allowDoubleClickFullscreen\")&&Ae.on(\"doubleClick\",z),Ae.on(\"move\",ie),Ae.on(\"over\",ie);var n=new o(w);n.on(\"click\",function(){V({type:t.JWPLAYER_DISPLAY_CLICK}),E.play({reason:\"interaction\"})}),n.on(\"tap\",function(){V({type:t.JWPLAYER_DISPLAY_CLICK}),j()}),he.appendChild(n.element()),we=new l(w),Te=new u(w),Te.on(t.JWPLAYER_LOGO_CLICK,B);var r=document.createElement(\"div\");r.className=\"jw-controls-right jw-reset\",Te.setup(r),r.appendChild(we.element()),he.appendChild(r),Ce=new a(w),Ce.setup(ce.id,w.get(\"captions\")),he.parentNode.insertBefore(Ce.element(),Se.element());var c=w.get(\"height\");b&&(\"string\"==typeof c||c>=1.5*Me)?e.addClass(ce,\"jw-flag-touch\"):(Le=new p,Le.setup(w,ce,ce)),_e=new d(E,w),_e.on(t.JWPLAYER_USER_ACTION,ie),w.on(\"change:scrubbing\",W),w.on(\"change:compactUI\",M),he.appendChild(_e.element()),e.addEventListener(ce,\"focus\",I),e.addEventListener(ce,\"blur\",L),e.addEventListener(ce,\"keydown\",k),ce.onmousedown=x}function Y(t){return t.get(\"state\")===r.PAUSED?void t.once(\"change:state\",Y):void(t.get(\"scrubbing\")===!1&&e.removeClass(ce,\"jw-flag-dragging\"))}function W(t,i){t.off(\"change:state\",Y),i?e.addClass(ce,\"jw-flag-dragging\"):Y(t)}function q(t,i,n){var r,a=ce.className;n=!!n,n&&(a=a.replace(/\\s*aspectMode/,\"\"),ce.className!==a&&(ce.className=a),e.style(ce,{display:\"block\"},n)),e.exists(t)&&e.exists(i)&&(w.set(\"width\",t),w.set(\"height\",i)),r={width:t},e.hasClass(ce,\"jw-flag-aspect-mode\")||(r.height=i),v(ce,r,!0),Q(i),X(t,i)}function Q(t){if(ke=J(t),_e&&!ke){var i=Ue?ge:w;de(i,i.get(\"state\"))}e.toggleClass(ce,\"jw-flag-audio-player\",ke)}function J(e){if(w.get(\"aspectratio\"))return!1;if(g.isString(e)&&e.indexOf(\"%\")>-1)return!1;var t=g.isNumber(e)?e:w.get(\"containerHeight\");return K(t)}function K(e){return e&&e<=Me*(b?1.75:1)}function X(t,i){if(!t||isNaN(Number(t))){if(!fe)return;t=fe.clientWidth}if(!i||isNaN(Number(i))){if(!fe)return;i=fe.clientHeight}ve&&ve.resize(t,i,w.get(\"stretching\")),e.isMSIE(9)&&document.all&&!window.atob&&(t=i=\"100%\");var n=w.getVideo();if(n){var a=n.resize(t,i,w.get(\"stretching\"));a&&(clearTimeout(Be),Be=setTimeout(X,250)),Ce.resize(),_e.checkCompactMode(t),w.get(\"state\")===r.PAUSED&&w.get(\"imageAdvs\")&&w.get(\"imageAdvs\").pause&&ye&&!ye.isHidden()&&ye.resizePauseAdv(t,i)}}function Z(){if(Fe){var e=document.fullscreenElement||document.webkitCurrentFullScreenElement||document.mozFullScreenElement||document.msFullscreenElement;return!(!e||e.id!==w.get(\"id\"))}return Ue?ge.getVideo().getFullScreen():w.getVideo().getFullScreen()}function $(e){var t=w.get(\"fullscreen\"),i=void 0!==e.jwstate?e.jwstate:Z();t!==i&&w.set(\"fullscreen\",i),clearTimeout(Be),Be=setTimeout(X,200)}function ee(t,i){i?(e.addClass(t,\"jw-flag-fullscreen\"),v(document.body,{\"overflow-y\":\"hidden\"}),ie()):(e.removeClass(t,\"jw-flag-fullscreen\"),v(document.body,{\"overflow-y\":\"\"})),X()}function te(){je=!1,clearTimeout(De),_e.hideComponents(),e.addClass(ce,\"jw-flag-user-inactive\")}function ie(){je||(e.removeClass(ce,\"jw-flag-user-inactive\"),_e.checkCompactMode(fe.clientWidth)),je=!0,clearTimeout(De),De=setTimeout(te,Oe)}function ne(){E.setFullscreen(!1),w.get(\"imageAdvs\")&&w.get(\"imageAdvs\").end&&ye&&ye.loadAdv(\"end\")}function re(){Ee&&Ee.setState(w.get(\"state\")),ae(w,w.mediaModel.get(\"mediaType\")),w.mediaModel.on(\"change:mediaType\",ae,this)}function ae(t,i){var n=\"audio\"===i,r=w.getVideo(),a=r&&0===r.getName().name.indexOf(\"flash\");e.toggleClass(ce,\"jw-flag-media-audio\",n),n&&!a?ce.insertBefore(ve.el,fe):ce.insertBefore(ve.el,Ce.element())}function se(t,i){var n=t.get(\"isLive\")===!0||(\"LIVE\"===e.adaptiveType(i)||\"DVR\"===e.adaptiveType(i));e.toggleClass(ce,\"jw-flag-live\",n),n||He.setAltText(\"\")}function oe(e,t){return t?void(t.name?Se.updateText(t.name,t.message):Se.updateText(t.message,\"\")):void Se.playlistItem(e,e.get(\"playlistItem\"))}function le(){var e=w.getVideo();return!!e&&e.isCaster}function ue(){e.replaceClass(ce,/jw-state-\\S+/,\"jw-state-\"+xe)}function de(t,i){if(xe=i,clearTimeout(Ne),i===r.COMPLETE||i===r.IDLE?Ne=setTimeout(ue,100):ue(),le())return void e.addClass(fe,\"jw-media-show\");switch(i){case r.PLAYING:ye&&ye.hide(),X(),be&&w.get(\"marquee\").show&&be.start();break;case r.PAUSED:ye&&w.get(\"imageAdvs\")&&w.get(\"imageAdvs\").pause&&ye.loadAdv(\"pause\"),ie(),be&&w.get(\"marquee\").show&&be.pause();break;case r.IDLE:be&&w.get(\"marquee\").show&&be.pause();break;case r.COMPLETE:be&&be.stop()}}var ce,he,fe,pe,me,ge,_e,ve,ye,be,Ae,Ee,we,Te,Se,Ce,ke,Le,xe,Ie,Pe,Re,De=-1,Oe=2e3,Me=40,Ue=!1,je=!1,Be=-1,Ne=-1,Fe=!1,Ve=!1,He=g.extend(this,i);this.model=w,this.api=E,ce=e.createElement(_({id:w.get(\"id\")})),e.isIE()&&e.addClass(ce,\"jw-ie\"),e.isPoorIE()&&e.addClass(ce,\"jw-ie-poorie\"),w.get(\"flashUI\")&&e.addClass(ce,\"jw-flashui\");var ze=w.get(\"width\"),Ge=w.get(\"height\");v(ce,{width:ze.toString().indexOf(\"%\")>0?ze:ze+\"px\",height:Ge.toString().indexOf(\"%\")>0?Ge:Ge+\"px\"}),Pe=ce.requestFullscreen||ce.webkitRequestFullscreen||ce.webkitRequestFullScreen||ce.mozRequestFullScreen||ce.msRequestFullscreen,Re=document.exitFullscreen||document.webkitExitFullscreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen,Fe=Pe&&Re,this.onChangeSkin=function(t,i){e.replaceClass(ce,/jw-skin-\\S+/,i?\"jw-skin-\"+i:\"\")},this.handleColorOverrides=function(){function t(t,n,r){if(r){t=e.prefix(t,\"#\"+i+\" \");var a={};a[n]=r,e.css(t.join(\", \"),a,i)}}var i=w.get(\"id\"),n=w.get(\"skinColorActive\"),r=w.get(\"skinColorInactive\"),a=w.get(\"skinColorBackground\");t([\".jw-toggle\",\".jw-button-color:hover\"],\"color\",n),t([\".jw-active-option\",\".jw-progress\",\".jw-playlist-container .jw-option.jw-active-option\",\".jw-playlist-container .jw-option:hover\"],\"background\",n),t([\".jw-text\",\".jw-option\",\".jw-button-color\",\".jw-toggle.jw-off\",\".jw-tooltip-title\",\".jw-skip .jw-skip-icon\",\".jw-playlist-container .jw-icon\"],\"color\",r),t([\".jw-cue\",\".jw-knob\"],\"background\",r),t([\".jw-playlist-container .jw-option\"],\"border-bottom-color\",r),t([\".jw-background-color\",\".jw-tooltip-title\",\".jw-playlist\",\".jw-playlist-container .jw-option\"],\"background\",a),t([\".jw-playlist-container ::-webkit-scrollbar\"],\"border-color\",a)},this.setup=function(){this.handleColorOverrides(),w.get(\"skin-loading\")===!0&&(e.addClass(ce,\"jw-flag-skin-loading\"),w.once(\"change:skin-loading\",function(){e.removeClass(ce,\"jw-flag-skin-loading\")})),this.onChangeSkin(w,w.get(\"skin\"),\"\"),w.on(\"change:skin\",this.onChangeSkin,this),fe=e.getElementsByClassName(\"jw-media\",ce)[0],he=e.getElementsByClassName(\"jw-controls\",ce)[0];var i=e.getElementsByClassName(\"jw-preview\",ce)[0];ve=new c(w),ve.setup(i);var n=e.getElementsByClassName(\"jw-title\",ce)[0];if(Se=new m(w),Se.setup(n),e.isPoorIE())e.style(e.getElementsByClassName(\"jw-marquee\",ce)[0],{display:\"none\"});else if(ye=new h(w,E),w.get(\"imageAdvs\")&&ce.appendChild(ye.element()),w.get(\"marquee\").show){var a=e.getElementsByClassName(\"jw-marquee\",ce)[0];be=new f(w,a),e.style(ce,{overflow:\"hidden\"})}w.advManage&&w.advManage.hasProcessAdv&&ce.appendChild(w.advManage.element()),G(),ie(),w.set(\"mediaContainer\",fe),w.mediaController.on(\"fullscreenchange\",$);for(var s=A.length;s--;)e.addEventListener(document,A[s],$,!1);e.removeEventListener(window,\"resize\",P),e.addEventListener(window,\"resize\",P,!1),b&&(e.removeEventListener(window,\"orientationchange\",P),e.addEventListener(window,\"orientationchange\",P,!1)),w.on(\"change:errorEvent\",oe),w.on(\"change:controls\",Ye),Ye(w,w.get(\"controls\")),w.on(\"change:state\",de),w.on(\"change:duration\",se,this),w.on(\"change:flashBlocked\",H),H(w,w.get(\"flashBlocked\")),E.onPlaylistComplete(ne),E.onPlaylistItem(re),w.on(\"change:castAvailable\",D),D(w,w.get(\"castAvailable\")),w.on(\"change:castActive\",R),R(w,w.get(\"castActive\")),w.get(\"stretching\")&&O(w,w.get(\"stretching\")),w.on(\"change:stretching\",O),de(w,r.IDLE),w.on(\"change:fullscreen\",We),U(_e),U(Te);var o=w.get(\"aspectratio\");if(o){e.addClass(ce,\"jw-flag-aspect-mode\");var l=e.getElementsByClassName(\"jw-aspect\",ce)[0];v(l,{paddingTop:o})}E.on(t.JWPLAYER_READY,function(){P(),q(w.get(\"width\"),w.get(\"height\"))}),w.on(\"connecting\",function(){He.setAltText(\"正在与服务器建立连接\"),e.toggleClass(ce,\"jw-flag-live\",!0)}),w.on(\"connectFaild\",function(){E.stop(),He.setAltText(\"连接已断开，请稍后重试\"),e.toggleClass(ce,\"jw-flag-live\",!0),e.getElementsByClassName(\"jw-controlbar\",ce)[0].style.display=\"block\"}),w.on(\"alive\",function(){\"idle\"!==He.model.get(\"state\")&&(He.setAltText(\"直播中\"),e.toggleClass(ce,\"jw-flag-live\",!0),i.style.display=\"none\",e.getElementsByClassName(\"jw-controlbar\",ce)[0].style.removeProperty(\"display\"))}),w.on(\"noLiveStream\",function(){\"idle\"!==He.model.get(\"state\")&&w.get(\"isLive\")&&(He.setAltText(\"无直播流\"),e.toggleClass(ce,\"jw-flag-live\",!0),w.get(\"image\")&&(i.style.display=\"block\"),e.getElementsByClassName(\"jw-controlbar\",ce)[0].style.display=\"block\")}),w.on(\"liveStop\",function(){E.stop(),He.setAltText(\"直播结束\"),e.toggleClass(ce,\"jw-flag-live\",!0),e.getElementsByClassName(\"jw-controlbar\",ce)[0].style.display=\"block\"}),w.on(\"seekAfterLoadSuccess\",function(){He.setAltText(\"自动跳转到上次的播放时间...\"),e.addClass(_e.element(),\"jw-controlbar-textshow\"),setTimeout(function(){e.removeClass(_e.element(),\"jw-controlbar-textshow\")},1e3)})};var Ye=function(t,i){if(i){var n=Ue?ge.get(\"state\"):w.get(\"state\");de(t,n)}e.toggleClass(ce,\"jw-flag-controls-disabled\",!i)},We=function(t,i){var n=w.getVideo();Fe?(i?Pe.apply(ce):Re.apply(document),ee(ce,i)):e.isIE()?ee(ce,i):(ge&&ge.getVideo()&&ge.getVideo().setFullscreen(i),n.setFullscreen(i)),n&&0===n.getName().name.indexOf(\"flash\")&&n.setFullscreen(i),be&&w.get(\"marquee\").show&&be.reset(ce.clientWidth,ce.clientHeight)};this.resize=function(e,t){var i=!0;q(e,t,i),P()},this.resizeMedia=X,this.reset=function(){document.contains(ce)&&ce.parentNode.replaceChild(Ie,ce),e.emptyElement(ce)},this.setupInstream=function(t){this.instreamModel=ge=t,ge.on(\"change:controls\",Ye,this),ge.on(\"change:state\",de,this),Ue=!0,e.addClass(ce,\"jw-flag-ads\"),ie()},this.setAltText=function(e){_e.setAltText(e)},this.useExternalControls=function(){e.addClass(ce,\"jw-flag-ads-hide-controls\")},this.destroyInstream=function(){if(Ue=!1,ge&&(ge.off(null,null,this),ge=null),this.setAltText(\"\"),e.removeClass(ce,\"jw-flag-ads\"),e.removeClass(ce,\"jw-flag-ads-hide-controls\"),w.getVideo){var t=w.getVideo();t.setContainer(fe)}se(w,w.get(\"duration\")),Ae.revertAlternateClickHandlers()},this.addCues=function(e){_e&&_e.addCues(e)},this.addThumbnails=function(e){_e&&_e.addThumbnails(e)},this.clickHandler=function(){return Ae},this.controlsContainer=function(){return he},this.getContainer=this.element=function(){return ce},this.getSafeRegion=function(t){var i={x:0,y:0,width:w.get(\"containerWidth\")||0,height:w.get(\"containerHeight\")||0},n=w.get(\"dock\");return n&&n.length&&w.get(\"controls\")&&(i.y=we.element().clientHeight,i.height-=i.y),t=t||!e.exists(t),t&&w.get(\"controls\")&&(i.height-=_e.element().clientHeight),i},this.setCaptions=function(e){Ce.clear(),Ce.setup(w.get(\"id\"),e),Ce.resize()},this.destroy=function(){e.removeEventListener(window,\"resize\",P),e.removeEventListener(window,\"orientationchange\",P);for(var t=A.length;t--;)e.removeEventListener(document,A[t],$,$,!1);w.mediaController&&w.mediaController.off(\"fullscreenchange\",$),e.removeEventListener(ce,\"keydown\",k),Le&&Le.destroy(),Ee&&(w.off(\"change:state\",Ee.statusDelegate),Ee.destroy(),Ee=null),Ue&&this.destroyInstream(),Te&&Te.destroy(),e.clearCss(w.get(\"id\"))},this.showAdv=function(e){ye&&ye.loadAdv(e)},this.beginStartAdv=function(){ye&&ye.beginStartAdv()}};return E}.apply(t,n),!(void 0!==r&&(e.exports=r))},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var i=this[t];i[2]?e.push(\"@media \"+i[2]+\"{\"+i[1]+\"}\"):e.push(i[1])}return e.join(\"\")},e.i=function(t,i){\"string\"==typeof t&&(t=[[null,t,\"\"]]);for(var n={},r=0;r<this.length;r++){var a=this[r][0];\"number\"==typeof a&&(n[a]=!0)}for(r=0;r<t.length;r++){var s=t[r];\"number\"==typeof s[0]&&n[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]=\"(\"+s[2]+\") and (\"+i+\")\"),e.push(s))}},e}},function(e,t,i){(function(t,i){/*!\n\t * @overview es6-promise - a tiny implementation of Promises/A+.\n\t * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n\t * @license   Licensed under MIT license\n\t *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n\t * @version   v4.2.8+1e68dce6\n\t */\n!function(t,i){e.exports=i()}(this,function(){\"use strict\";function e(e){var t=typeof e;return null!==e&&(\"object\"===t||\"function\"===t)}function n(e){return\"function\"==typeof e}function r(e){z=e}function a(e){G=e}function s(){return function(){return t.nextTick(c)}}function o(){return\"undefined\"!=typeof H?function(){H(c)}:d()}function l(){var e=0,t=new q(c),i=document.createTextNode(\"\");return t.observe(i,{characterData:!0}),function(){i.data=e=++e%2}}function u(){var e=new MessageChannel;return e.port1.onmessage=c,function(){return e.port2.postMessage(0)}}function d(){var e=setTimeout;return function(){return e(c,1)}}function c(){for(var e=0;e<V;e+=2){var t=K[e],i=K[e+1];t(i),K[e]=void 0,K[e+1]=void 0}V=0}function h(){try{var e=Function(\"return this\")().require(\"vertx\");return H=e.runOnLoop||e.runOnContext,o()}catch(e){return d()}}function f(e,t){var i=this,n=new this.constructor(m);void 0===n[Z]&&P(n);var r=i._state;if(r){var a=arguments[r-1];G(function(){return L(r,n,a,i._result)})}else C(i,n,e,t);return n}function p(e){var t=this;if(e&&\"object\"==typeof e&&e.constructor===t)return e;var i=new t(m);return E(i,e),i}function m(){}function g(){return new TypeError(\"You cannot resolve a promise with itself\")}function _(){return new TypeError(\"A promises callback cannot return that same promise.\")}function v(e,t,i,n){try{e.call(t,i,n)}catch(e){return e}}function y(e,t,i){G(function(e){var n=!1,r=v(i,t,function(i){n||(n=!0,t!==i?E(e,i):T(e,i))},function(t){n||(n=!0,S(e,t))},\"Settle: \"+(e._label||\" unknown promise\"));!n&&r&&(n=!0,S(e,r))},e)}function b(e,t){t._state===ee?T(e,t._result):t._state===te?S(e,t._result):C(t,void 0,function(t){return E(e,t)},function(t){return S(e,t)})}function A(e,t,i){t.constructor===e.constructor&&i===f&&t.constructor.resolve===p?b(e,t):void 0===i?T(e,t):n(i)?y(e,t,i):T(e,t)}function E(t,i){if(t===i)S(t,g());else if(e(i)){var n=void 0;try{n=i.then}catch(e){return void S(t,e)}A(t,i,n)}else T(t,i)}function w(e){e._onerror&&e._onerror(e._result),k(e)}function T(e,t){e._state===$&&(e._result=t,e._state=ee,0!==e._subscribers.length&&G(k,e))}function S(e,t){e._state===$&&(e._state=te,e._result=t,G(w,e))}function C(e,t,i,n){var r=e._subscribers,a=r.length;e._onerror=null,r[a]=t,r[a+ee]=i,r[a+te]=n,0===a&&e._state&&G(k,e)}function k(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var n=void 0,r=void 0,a=e._result,s=0;s<t.length;s+=3)n=t[s],r=t[s+i],n?L(i,n,r,a):r(a);e._subscribers.length=0}}function L(e,t,i,r){var a=n(i),s=void 0,o=void 0,l=!0;if(a){try{s=i(r)}catch(e){l=!1,o=e}if(t===s)return void S(t,_())}else s=r;t._state!==$||(a&&l?E(t,s):l===!1?S(t,o):e===ee?T(t,s):e===te&&S(t,s))}function x(e,t){try{t(function(t){E(e,t)},function(t){S(e,t)})}catch(t){S(e,t)}}function I(){return ie++}function P(e){e[Z]=ie++,e._state=void 0,e._result=void 0,e._subscribers=[]}function R(){return new Error(\"Array Methods must be provided an Array\")}function D(e){return new ne(this,e).promise}function O(e){var t=this;return new t(F(e)?function(i,n){for(var r=e.length,a=0;a<r;a++)t.resolve(e[a]).then(i,n)}:function(e,t){return t(new TypeError(\"You must pass an array to race.\"))})}function M(e){var t=this,i=new t(m);return S(i,e),i}function U(){throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\")}function j(){throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\")}function B(){var e=void 0;if(\"undefined\"!=typeof i)e=i;else if(\"undefined\"!=typeof self)e=self;else try{e=Function(\"return this\")()}catch(e){throw new Error(\"polyfill failed because global object is unavailable in this environment\")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if(\"[object Promise]\"===n&&!t.cast)return}e.Promise=re}var N=void 0;N=Array.isArray?Array.isArray:function(e){return\"[object Array]\"===Object.prototype.toString.call(e)};var F=N,V=0,H=void 0,z=void 0,G=function(e,t){K[V]=e,K[V+1]=t,V+=2,2===V&&(z?z(c):X())},Y=\"undefined\"!=typeof window?window:void 0,W=Y||{},q=W.MutationObserver||W.WebKitMutationObserver,Q=\"undefined\"==typeof self&&\"undefined\"!=typeof t&&\"[object process]\"==={}.toString.call(t),J=\"undefined\"!=typeof Uint8ClampedArray&&\"undefined\"!=typeof importScripts&&\"undefined\"!=typeof MessageChannel,K=new Array(1e3),X=void 0;X=Q?s():q?l():J?u():void 0===Y?h():d();var Z=Math.random().toString(36).substring(2),$=void 0,ee=1,te=2,ie=0,ne=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(m),this.promise[Z]||P(this.promise),F(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&T(this.promise,this._result))):S(this.promise,R())}return e.prototype._enumerate=function(e){for(var t=0;this._state===$&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,n=i.resolve;if(n===p){var r=void 0,a=void 0,s=!1;try{r=e.then}catch(e){s=!0,a=e}if(r===f&&e._state!==$)this._settledAt(e._state,t,e._result);else if(\"function\"!=typeof r)this._remaining--,this._result[t]=e;else if(i===re){var o=new i(m);s?S(o,a):A(o,e,r),this._willSettleAt(o,t)}else this._willSettleAt(new i(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,i){var n=this.promise;n._state===$&&(this._remaining--,e===te?S(n,i):this._result[t]=i),0===this._remaining&&T(n,this._result)},e.prototype._willSettleAt=function(e,t){var i=this;C(e,void 0,function(e){return i._settledAt(ee,t,e)},function(e){return i._settledAt(te,t,e)})},e}(),re=function(){function e(t){this[Z]=I(),this._result=this._state=void 0,this._subscribers=[],m!==t&&(\"function\"!=typeof t&&U(),this instanceof e?x(this,t):j())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this,i=t.constructor;return n(e)?t.then(function(t){return i.resolve(e()).then(function(){return t})},function(t){return i.resolve(e()).then(function(){throw t})}):t.then(e,e)},e}();return re.prototype.then=f,re.all=D,re.race=O,re.resolve=p,re.reject=M,re._setScheduler=r,re._setAsap=a,re._asap=G,re.polyfill=B,re.Promise=re,re})}).call(t,i(172),function(){return this}())},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function a(){var e=new o.HandlebarsEnvironment;return f.extend(e,o),e.SafeString=u.default,e.Exception=c.default,e.Utils=f,e.escapeExpression=f.escapeExpression,e.VM=m,e.template=function(t){return m.template(t,e)},e}t.__esModule=!0;var s=i(67),o=r(s),l=i(171),u=n(l),d=i(17),c=n(d),h=i(12),f=r(h),p=i(170),m=r(p),g=i(169),_=n(g),v=a();v.create=a,_.default(v),v.default=v,t.default=v,e.exports=t.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){s.default(e)}t.__esModule=!0,t.registerDefaultDecorators=r;var a=i(159),s=n(a)},function(e,t,i){\"use strict\";t.__esModule=!0;var n=i(12);t.default=function(e){e.registerDecorator(\"inline\",function(e,t,i,r){var a=e;return t.partials||(t.partials={},a=function(r,a){var s=i.partials;i.partials=n.extend({},s,t.partials);var o=e(r,a);return i.partials=s,o}),t.partials[r.args[0]]=r.fn,a})},e.exports=t.default},function(e,t,i){\"use strict\";t.__esModule=!0;var n=i(12);t.default=function(e){e.registerHelper(\"blockHelperMissing\",function(t,i){var r=i.inverse,a=i.fn;if(t===!0)return a(this);if(t===!1||null==t)return r(this);if(n.isArray(t))return t.length>0?(i.ids&&(i.ids=[i.name]),e.helpers.each(t,i)):r(this);if(i.data&&i.ids){var s=n.createFrame(i.data);s.contextPath=n.appendContextPath(i.data.contextPath,i.name),i={data:s}}return a(t,i)})},e.exports=t.default},function(e,t,i){(function(n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=i(12),s=i(17),o=r(s);t.default=function(e){e.registerHelper(\"each\",function(e,t){function i(t,i,n){d&&(d.key=t,d.index=i,d.first=0===i,d.last=!!n,c&&(d.contextPath=c+t)),u+=r(e[t],{data:d,blockParams:a.blockParams([e[t],t],[c+t,null])})}if(!t)throw new o.default(\"Must pass iterator to #each\");var r=t.fn,s=t.inverse,l=0,u=\"\",d=void 0,c=void 0;if(t.data&&t.ids&&(c=a.appendContextPath(t.data.contextPath,t.ids[0])+\".\"),a.isFunction(e)&&(e=e.call(this)),t.data&&(d=a.createFrame(t.data)),e&&\"object\"==typeof e)if(a.isArray(e))for(var h=e.length;l<h;l++)l in e&&i(l,l,l===e.length-1);else if(n.Symbol&&e[n.Symbol.iterator]){for(var f=[],p=e[n.Symbol.iterator](),m=p.next();!m.done;m=p.next())f.push(m.value);e=f;for(var h=e.length;l<h;l++)i(l,l,l===e.length-1)}else!function(){var t=void 0;Object.keys(e).forEach(function(e){void 0!==t&&i(t,l-1),t=e,l++}),void 0!==t&&i(t,l-1,!0)}();return 0===l&&(u=s(this)),u})},e.exports=t.default}).call(t,function(){return this}())},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=i(17),a=n(r);t.default=function(e){e.registerHelper(\"helperMissing\",function(){if(1!==arguments.length)throw new a.default('Missing helper: \"'+arguments[arguments.length-1].name+'\"')})},e.exports=t.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=i(12),a=i(17),s=n(a);t.default=function(e){e.registerHelper(\"if\",function(e,t){if(2!=arguments.length)throw new s.default(\"#if requires exactly one argument\");return r.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper(\"unless\",function(t,i){if(2!=arguments.length)throw new s.default(\"#unless requires exactly one argument\");return e.helpers.if.call(this,t,{fn:i.inverse,inverse:i.fn,hash:i.hash})})},e.exports=t.default},function(e,t){\"use strict\";t.__esModule=!0,t.default=function(e){e.registerHelper(\"log\",function(){for(var t=[void 0],i=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)t.push(arguments[n]);var r=1;null!=i.hash.level?r=i.hash.level:i.data&&null!=i.data.level&&(r=i.data.level),t[0]=r,e.log.apply(e,t)})},e.exports=t.default},function(e,t){\"use strict\";t.__esModule=!0,t.default=function(e){e.registerHelper(\"lookup\",function(e,t,i){return e?i.lookupProperty(e,t):e})},e.exports=t.default},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=i(12),a=i(17),s=n(a);t.default=function(e){e.registerHelper(\"with\",function(e,t){if(2!=arguments.length)throw new s.default(\"#with requires exactly one argument\");r.isFunction(e)&&(e=e.call(this));var i=t.fn;if(r.isEmpty(e))return t.inverse(this);var n=t.data;return t.data&&t.ids&&(n=r.createFrame(t.data),n.contextPath=r.appendContextPath(t.data.contextPath,t.ids[0])),i(e,{data:n,blockParams:r.blockParams([e],[n&&n.contextPath])})})},e.exports=t.default},function(e,t,i){\"use strict\";function n(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return r.extend.apply(void 0,[Object.create(null)].concat(t))}t.__esModule=!0,t.createNewLookupObject=n;var r=i(12)},function(e,t){\"use strict\";function i(e,t){if(\"function\"!=typeof e)return e;var i=function(){var i=arguments[arguments.length-1];return arguments[arguments.length-1]=t(i),e.apply(this,arguments)};return i}t.__esModule=!0,t.wrapHelper=i},function(e,t){(function(i){\"use strict\";t.__esModule=!0,t.default=function(e){var t=\"undefined\"!=typeof i?i:window,n=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=n),e}},e.exports=t.default}).call(t,function(){return this}())},function(e,t,i){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function a(e){var t=e&&e[0]||1,i=y.COMPILER_REVISION;if(!(t>=y.LAST_COMPATIBLE_COMPILER_REVISION&&t<=y.COMPILER_REVISION)){if(t<y.LAST_COMPATIBLE_COMPILER_REVISION){var n=y.REVISION_CHANGES[i],r=y.REVISION_CHANGES[t];throw new v.default(\"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (\"+n+\") or downgrade your runtime to an older version (\"+r+\").\")}throw new v.default(\"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (\"+e[1]+\").\")}}function s(e,t){function i(i,n,r){r.hash&&(n=g.extend({},n,r.hash),r.ids&&(r.ids[0]=!0)),i=t.VM.resolvePartial.call(this,i,n,r);var a=g.extend({},r,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),s=t.VM.invokePartial.call(this,i,n,a);if(null==s&&t.compile&&(r.partials[r.name]=t.compile(i,e.compilerOptions,t),s=r.partials[r.name](n,a)),null!=s){if(r.indent){for(var o=s.split(\"\\n\"),l=0,u=o.length;l<u&&(o[l]||l+1!==u);l++)o[l]=r.indent+o[l];s=o.join(\"\\n\")}return s}throw new v.default(\"The partial \"+r.name+\" could not be compiled when running in runtime-only mode\")}function n(t){function i(t){return\"\"+e.main(a,t,a.helpers,a.partials,s,l,o)}var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=r.data;n._setup(r),!r.partial&&e.useData&&(s=c(t,s));var o=void 0,l=e.useBlockParams?[]:void 0;return e.useDepths&&(o=r.depths?t!=r.depths[0]?[t].concat(r.depths):r.depths:[t]),(i=h(e.main,i,a,r.depths||[],s,l))(t,r)}if(!t)throw new v.default(\"No environment passed to template\");if(!e||!e.main)throw new v.default(\"Unknown template object: \"+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var r=e.compiler&&7===e.compiler[0],a={strict:function(e,t,i){if(!(e&&t in e))throw new v.default('\"'+t+'\" not defined in '+e,{loc:i});return a.lookupProperty(e,t)},lookupProperty:function(e,t){var i=e[t];return null==i?i:Object.prototype.hasOwnProperty.call(e,t)?i:E.resultIsAllowed(i,a.protoAccessControl,t)?i:void 0},lookup:function(e,t){for(var i=e.length,n=0;n<i;n++){var r=e[n]&&a.lookupProperty(e[n],t);if(null!=r)return e[n][t]}},lambda:function(e,t){return\"function\"==typeof e?e.call(t):e},escapeExpression:g.escapeExpression,invokePartial:i,fn:function(t){var i=e[t];return i.decorator=e[t+\"_d\"],i},programs:[],program:function(e,t,i,n,r){var a=this.programs[e],s=this.fn(e);return t||r||n||i?a=o(this,e,s,t,i,n,r):a||(a=this.programs[e]=o(this,e,s)),a},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){var i=e||t;return e&&t&&e!==t&&(i=g.extend({},t,e)),i},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};return n.isTop=!0,n._setup=function(i){if(i.partial)a.protoAccessControl=i.protoAccessControl,a.helpers=i.helpers,a.partials=i.partials,a.decorators=i.decorators,a.hooks=i.hooks;else{var n=g.extend({},t.helpers,i.helpers);f(n,a),a.helpers=n,e.usePartial&&(a.partials=a.mergeIfNeeded(i.partials,t.partials)),(e.usePartial||e.useDecorators)&&(a.decorators=g.extend({},t.decorators,i.decorators)),a.hooks={},a.protoAccessControl=E.createProtoAccessControl(i);var s=i.allowCallsToHelperMissing||r;b.moveHelperToHooks(a,\"helperMissing\",s),b.moveHelperToHooks(a,\"blockHelperMissing\",s)}},n._child=function(t,i,n,r){if(e.useBlockParams&&!n)throw new v.default(\"must pass block params\");if(e.useDepths&&!r)throw new v.default(\"must pass parent depths\");return o(a,t,e[t],i,0,n,r)},n}function o(e,t,i,n,r,a,s){function o(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=s;return!s||t==s[0]||t===e.nullContext&&null===s[0]||(o=[t].concat(s)),i(e,t,e.helpers,e.partials,r.data||n,a&&[r.blockParams].concat(a),o)}return o=h(i,o,e,s,n,a),o.program=t,o.depth=s?s.length:0,o.blockParams=r||0,o}function l(e,t,i){return e?e.call||i.name||(i.name=e,e=i.partials[e]):e=\"@partial-block\"===i.name?i.data[\"partial-block\"]:i.partials[i.name],e}function u(e,t,i){var n=i.data&&i.data[\"partial-block\"];i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var r=void 0;if(i.fn&&i.fn!==d&&!function(){i.data=y.createFrame(i.data);var e=i.fn;r=i.data[\"partial-block\"]=function(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return i.data=y.createFrame(i.data),i.data[\"partial-block\"]=n,e(t,i)},e.partials&&(i.partials=g.extend({},i.partials,e.partials))}(),void 0===e&&r&&(e=r),void 0===e)throw new v.default(\"The partial \"+i.name+\" could not be found\");if(e instanceof Function)return e(t,i)}function d(){return\"\"}function c(e,t){return t&&\"root\"in t||(t=t?y.createFrame(t):{},t.root=e),t}function h(e,t,i,n,r,a){if(e.decorator){var s={};t=e.decorator(t,s,i,n&&n[0],r,a,n),g.extend(t,s)}return t}function f(e,t){Object.keys(e).forEach(function(i){var n=e[i];e[i]=p(n,t)})}function p(e,t){var i=t.lookupProperty;return A.wrapHelper(e,function(e){return g.extend({lookupProperty:i},e)})}t.__esModule=!0,t.checkRevision=a,t.template=s,t.wrapProgram=o,t.resolvePartial=l,t.invokePartial=u,t.noop=d;var m=i(12),g=r(m),_=i(17),v=n(_),y=i(67),b=i(68),A=i(168),E=i(69)},function(e,t){\"use strict\";function i(e){this.string=e}t.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return\"\"+this.string},t.default=i,e.exports=t.default},function(e,t){function i(){throw new Error(\"setTimeout has not been defined\")}function n(){throw new Error(\"clearTimeout has not been defined\")}function r(e){if(d===setTimeout)return setTimeout(e,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function a(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function s(){m&&f&&(m=!1,f.length?p=f.concat(p):g=-1,p.length&&o())}function o(){if(!m){var e=r(s);m=!0;for(var t=p.length;t;){for(f=p,p=[];++g<t;)f&&f[g].run();g=-1,t=p.length}f=null,m=!1,a(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var d,c,h=e.exports={};!function(){try{d=\"function\"==typeof setTimeout?setTimeout:i}catch(e){d=i}try{c=\"function\"==typeof clearTimeout?clearTimeout:n}catch(e){c=n}}();var f,p=[],m=!1,g=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];p.push(new l(e,t)),1!==p.length||m||r(o)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title=\"browser\",h.browser=!0,h.env={},h.argv=[],h.version=\"\",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(e){return[]},h.binding=function(e){throw new Error(\"process.binding is not supported\")},h.cwd=function(){return\"/\"},h.chdir=function(e){throw new Error(\"process.chdir is not supported\")},h.umask=function(){return 0}},function(e,t){var i=arguments[3],n=arguments[4],r=arguments[5],a=JSON.stringify;e.exports=function(e,t){function s(e){g[e]=!0;for(var t in n[e][1]){var i=n[e][1][t];g[i]||s(i)}}for(var o,l=Object.keys(r),u=0,d=l.length;u<d;u++){var c=l[u],h=r[c].exports;if(h===e||h&&h.default===e){o=c;break}}if(!o){o=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var f={},u=0,d=l.length;u<d;u++){var c=l[u];f[c]=c}n[o]=[\"function(require,module,exports){\"+e+\"(self); }\",f]}var p=Math.floor(Math.pow(16,8)*Math.random()).toString(16),m={};m[o]=o,n[p]=[\"function(require,module,exports){var f = require(\"+a(o)+\");(f.default ? f.default : f)(self);}\",m];var g={};s(p);var _=\"(\"+i+\")({\"+Object.keys(g).map(function(e){return a(e)+\":[\"+n[e][0]+\",\"+a(n[e][1])+\"]\"}).join(\",\")+\"},{},[\"+a(p)+\"])\",v=window.URL||window.webkitURL||window.mozURL||window.msURL,y=new Blob([_],{type:\"text/javascript\"});if(t&&t.bare)return y;var b=v.createObjectURL(y),A=new Worker(b);return A.objectURL=b,A}},function(e,t,i){var n=i(10);e.exports=(n.default||n).template({compiler:[8,\">= 4.3.0\"],main:function(e,t,i,n,r){return'<div class=\"jw-adv jw-reset\">\\n    <div class=\"adv-countdown\"></div>\\n    <div class=\"adv-close\">X</div>\\n</div>'},useData:!0})},function(e,t,i){var n=i(10);e.exports=(n.default||n).template({compiler:[8,\">= 4.3.0\"],main:function(e,t,i,n,r){return'<div class=\"jw-display-icon-container jw-background-color jw-reset\">\\n    <div class=\"jw-icon jw-icon-display jw-button-color jw-reset\"></div>\\n</div>\\n'},useData:!0})},function(e,t,i){var n=i(10);e.exports=(n.default||n).template({1:function(e,t,i,n,r){var a,s,o=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class=\"jw-dock-button jw-background-color jw-reset'+(null!=(a=l(i,\"if\").call(o,null!=t?l(t,\"btnClass\"):t,{name:\"if\",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:59},end:{line:3,column:95}}}))?a:\"\")+'\" button=\"'+e.escapeExpression((s=null!=(s=l(i,\"id\")||(null!=t?l(t,\"id\"):t))?s:e.hooks.helperMissing,\"function\"==typeof s?s.call(o,{name:\"id\",hash:{},data:r,loc:{start:{line:3,column:105},end:{line:3,column:111}}}):s))+'\">\\n        <div class=\"jw-icon jw-dock-image jw-reset\" '+(null!=(a=l(i,\"if\").call(o,null!=t?l(t,\"img\"):t,{name:\"if\",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r,loc:{start:{line:4,column:52},end:{line:4,column:110}}}))?a:\"\")+'></div>\\n        <div class=\"jw-arrow jw-reset\"></div>\\n'+(null!=(a=l(i,\"if\").call(o,null!=t?l(t,\"tooltip\"):t,{name:\"if\",hash:{},fn:e.program(6,r,0),inverse:e.noop,data:r,loc:{start:{line:6,column:8},end:{line:10,column:15}}}))?a:\"\")+\"    </div>\\n\"},2:function(e,t,i,n,r){var a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return\" \"+e.escapeExpression((a=null!=(a=s(i,\"btnClass\")||(null!=t?s(t,\"btnClass\"):t))?a:e.hooks.helperMissing,\"function\"==typeof a?a.call(null!=t?t:e.nullContext||{},{name:\"btnClass\",hash:{},data:r,loc:{start:{line:3,column:76},end:{line:3,column:88}}}):a))},4:function(e,t,i,n,r){var a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return\"style='background-image: url(\\\"\"+e.escapeExpression((a=null!=(a=s(i,\"img\")||(null!=t?s(t,\"img\"):t))?a:e.hooks.helperMissing,\"function\"==typeof a?a.call(null!=t?t:e.nullContext||{},{name:\"img\",hash:{},data:r,loc:{start:{line:4,column:93},end:{line:4,column:100}}}):a))+\"\\\")'\"},6:function(e,t,i,n,r){var a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <div class=\"jw-overlay jw-background-color jw-reset\">\\n            <span class=\"jw-text jw-dock-text jw-reset\">'+e.escapeExpression((a=null!=(a=s(i,\"tooltip\")||(null!=t?s(t,\"tooltip\"):t))?a:e.hooks.helperMissing,\"function\"==typeof a?a.call(null!=t?t:e.nullContext||{},{name:\"tooltip\",hash:{},data:r,loc:{start:{line:8,column:56},end:{line:8,column:67}}}):a))+\"</span>\\n        </div>\\n\"},compiler:[8,\">= 4.3.0\"],main:function(e,t,i,n,r){var a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class=\"jw-dock jw-reset\">\\n'+(null!=(a=s(i,\"each\").call(null!=t?t:e.nullContext||{},t,{name:\"each\",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:2,column:4},end:{line:12,column:13}}}))?a:\"\")+\"</div>\"},useData:!0})},function(e,t,i){var n=i(10);e.exports=(n.default||n).template({compiler:[8,\">= 4.3.0\"],main:function(e,t,i,n,r){var a,s,o=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,u=\"function\",d=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div id=\"'+d((s=null!=(s=c(i,\"id\")||(null!=t?c(t,\"id\"):t))?s:l,typeof s===u?s.call(o,{name:\"id\",hash:{},data:r,loc:{start:{line:1,column:9},end:{line:1,column:15}}}):s))+'\"class=\"jw-skin-'+d((s=null!=(s=c(i,\"skin\")||(null!=t?c(t,\"skin\"):t))?s:l,typeof s===u?s.call(o,{name:\"skin\",hash:{},data:r,loc:{start:{line:1,column:31},end:{line:1,column:39}}}):s))+' jw-error jw-reset\">\\n    <div class=\"jw-title jw-reset\">\\n        <div class=\"jw-title-primary jw-reset\">'+(null!=(s=null!=(s=c(i,\"title\")||(null!=t?c(t,\"title\"):t))?s:l,a=typeof s===u?s.call(o,{name:\"title\",hash:{},data:r,loc:{start:{line:3,column:47},end:{line:3,column:58}}}):s)?a:\"\")+'</div>\\n        <div class=\"jw-title-secondary jw-reset\">'+d((s=null!=(s=c(i,\"body\")||(null!=t?c(t,\"body\"):t))?s:l,typeof s===u?s.call(o,{name:\"body\",hash:{},data:r,loc:{start:{line:4,column:49},end:{line:4,column:57}}}):s))+'</div>\\n    </div>\\n\\n    <div class=\"jw-icon-container jw-reset\">\\n        <div class=\"jw-display-icon-container jw-background-color jw-reset\">\\n            <div class=\"jw-icon jw-icon-display jw-reset\"></div>\\n        </div>\\n    </div>\\n</div>\\n'},useData:!0})},function(e,t,i){var n=i(10);e.exports=(n.default||n).template({1:function(e,t,i,n,r){var a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'src=\"'+e.escapeExpression((a=null!=(a=s(i,\"file\")||(null!=t?s(t,\"file\"):t))?a:e.hooks.helperMissing,\"function\"==typeof a?a.call(null!=t?t:e.nullContext||{},{name:\"file\",hash:{},data:r,loc:{start:{line:2,column:48},end:{line:2,column:56}}}):a))+'\"'},compiler:[8,\">= 4.3.0\"],main:function(e,t,i,n,r){var a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class=\"jw-logo jw-reset\">\\n    <img class=\"jw-logo-image\" '+(null!=(a=s(i,\"if\").call(null!=t?t:e.nullContext||{},null!=t?s(t,\"file\"):t,{name:\"if\",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:2,column:31},end:{line:2,column:64}}}))?a:\"\")+\">\\n</div>\"},useData:!0})},function(e,t,i){var n=i(10);e.exports=(n.default||n).template({1:function(e,t,i,n,r){var a,s=e.escapeExpression,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return\"        <li class='jw-text jw-option jw-item-\"+s((a=null!=(a=o(i,\"index\")||r&&o(r,\"index\"))?a:e.hooks.helperMissing,\"function\"==typeof a?a.call(null!=t?t:e.nullContext||{},{name:\"index\",hash:{},data:r,loc:{start:{line:3,column:45},end:{line:3,column:55}}}):a))+\" jw-reset'>\"+s(e.lambda(null!=t?o(t,\"label\"):t,t))+\"</li>\\n\"},compiler:[8,\">= 4.3.0\"],main:function(e,t,i,n,r){var a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<ul class=\"jw-menu jw-background-color jw-reset\">\\n'+(null!=(a=s(i,\"each\").call(null!=t?t:e.nullContext||{},t,{name:\"each\",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:2,column:4},end:{line:4,column:13}}}))?a:\"\")+\"</ul>\"},useData:!0})},function(e,t,i){var n=i(10);e.exports=(n.default||n).template({compiler:[8,\">= 4.3.0\"],main:function(e,t,i,n,r){var a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div id=\"'+e.escapeExpression((a=null!=(a=s(i,\"id\")||(null!=t?s(t,\"id\"):t))?a:e.hooks.helperMissing,\"function\"==typeof a?a.call(null!=t?t:e.nullContext||{},{name:\"id\",hash:{},data:r,loc:{start:{line:1,column:9},end:{line:1,column:15}}}):a))+'\" class=\"jwplayer jw-reset\" tabindex=\"0\">\\n    <div class=\"jw-aspect jw-reset\"></div>\\n    <div class=\"jw-media jw-reset\"></div>\\n    <div class=\"jw-preview jw-reset\"></div>\\n    <div class=\"jw-title jw-reset\">\\n        <div class=\"jw-title-primary jw-reset\"></div>\\n        <div class=\"jw-title-secondary jw-reset\"></div>\\n    </div>\\n    <div class=\"jw-overlays jw-reset\"></div>\\n    <div class=\"jw-controls jw-reset\"></div>\\n    <div class=\"jw-warning jw-reset\">\\n        用户鉴权失败，请先<a target=\"_blank\" href=\"http://bce.baidu.com\">注册</a>成为百度云用户\\n    </div>\\n    <div class=\"jw-marquee\">百度云</div>\\n</div>'},useData:!0})},function(e,t,i){var n=i(10);e.exports=(n.default||n).template({1:function(e,t,i,n,r){var a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=s(i,\"if\").call(null!=t?t:e.nullContext||{},null!=t?s(t,\"active\"):t,{name:\"if\",hash:{},fn:e.program(2,r,0),inverse:e.program(4,r,0),data:r,loc:{start:{line:14,column:12},end:{line:24,column:19}}}))?a:\"\"},2:function(e,t,i,n,r){var a,s=e.escapeExpression,o=e.lambda,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return\"                <li class='jw-option jw-text jw-active-option jw-item-\"+s((a=null!=(a=l(i,\"index\")||r&&l(r,\"index\"))?a:e.hooks.helperMissing,\"function\"==typeof a?a.call(null!=t?t:e.nullContext||{},{name:\"index\",hash:{},data:r,loc:{start:{line:15,column:70},end:{line:15,column:80}}}):a))+' jw-reset\\'>\\n                    <span class=\"jw-label jw-reset\"><span class=\"jw-icon jw-icon-play jw-reset\"></span></span>\\n                    <span class=\"jw-name jw-reset\" title=\"'+s(o(null!=t?l(t,\"title\"):t,t))+'\">'+s(o(null!=t?l(t,\"title\"):t,t))+\"</span>\\n                </li>\\n\"},4:function(e,t,i,n,r){var a,s=e.escapeExpression,o=e.lambda,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return\"                <li class='jw-option jw-text jw-item-\"+s((a=null!=(a=l(i,\"index\")||r&&l(r,\"index\"))?a:e.hooks.helperMissing,\"function\"==typeof a?a.call(null!=t?t:e.nullContext||{},{name:\"index\",hash:{},data:r,loc:{start:{line:20,column:53},end:{line:20,column:63}}}):a))+' jw-reset\\'>\\n                    <span class=\"jw-label jw-reset\">'+s(o(null!=t?l(t,\"label\"):t,t))+'</span>\\n                    <span class=\"jw-name jw-reset\" title=\"'+s(o(null!=t?l(t,\"title\"):t,t))+'\">'+s(o(null!=t?l(t,\"title\"):t,t))+\"</span>\\n                </li>\\n\"},compiler:[8,\">= 4.3.0\"],main:function(e,t,i,n,r){var a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class=\"jw-menu jw-playlist-container jw-background-color jw-reset\">\\n\\n    <div class=\"jw-tooltip-title jw-reset\">\\n        <span class=\"jw-icon jw-icon-inline jw-icon-playlist jw-reset\"></span>\\n        <span class=\"jw-text jw-reset\">播放列表</span>\\n    </div>\\n\\n    <ul class=\"jw-playlist jw-reset\">\\n'+(null!=(a=s(i,\"each\").call(null!=t?t:e.nullContext||{},t,{name:\"each\",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:13,column:8},end:{line:25,column:17}}}))?a:\"\")+\"    </ul>\\n</div>\"},useData:!0})},function(e,t,i){var n=i(10);e.exports=(n.default||n).template({compiler:[8,\">= 4.3.0\"],main:function(e,t,i,n,r){return'<div class=\"jw-process-adv jw-reset\">\\n    <a target=\"_blank\"><img/></a>\\n</div>'},useData:!0})},function(e,t,i){var n=i(10);e.exports=(n.default||n).template({1:function(e,t,i,n,r){var a,s,o=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,u=\"function\",d=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <li class=\"jw-reset'+(null!=(a=c(i,\"if\").call(o,null!=t?c(t,\"featured\"):t,{name:\"if\",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r,loc:{start:{line:4,column:27},end:{line:4,column:62}}}))?a:\"\")+'\">\\n            <a href=\"'+d((s=null!=(s=c(i,\"link\")||(null!=t?c(t,\"link\"):t))?s:l,typeof s===u?s.call(o,{name:\"link\",hash:{},data:r,loc:{start:{line:5,column:21},end:{line:5,column:29}}}):s))+'\" class=\"jw-reset\" target=\"_blank\">\\n'+(null!=(a=c(i,\"if\").call(o,null!=t?c(t,\"showLogo\"):t,{name:\"if\",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r,loc:{start:{line:6,column:16},end:{line:8,column:23}}}))?a:\"\")+\"                \"+d((s=null!=(s=c(i,\"title\")||(null!=t?c(t,\"title\"):t))?s:l,typeof s===u?s.call(o,{name:\"title\",hash:{},data:r,loc:{start:{line:9,column:16},end:{line:9,column:25}}}):s))+\"\\n            </a>\\n        </li>\\n\"},2:function(e,t,i,n,r){return\" jw-featured\"},4:function(e,t,i,n,r){return'                <span class=\"jw-icon jw-rightclick-logo jw-reset\"></span>\\n'},compiler:[8,\">= 4.3.0\"],main:function(e,t,i,n,r){var a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class=\"jw-rightclick jw-reset\">\\n    <ul class=\"jw-reset\">\\n'+(null!=(a=s(i,\"each\").call(null!=t?t:e.nullContext||{},null!=t?s(t,\"items\"):t,{name:\"each\",hash:{},fn:e.program(1,r,0),\ninverse:e.noop,data:r,loc:{start:{line:3,column:4},end:{line:12,column:13}}}))?a:\"\")+\"    </ul>\\n</div>\"},useData:!0})},function(e,t,i){var n=i(10);e.exports=(n.default||n).template({compiler:[8,\">= 4.3.0\"],main:function(e,t,i,n,r){var a,s=null!=t?t:e.nullContext||{},o=e.hooks.helperMissing,l=\"function\",u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class=\"'+u((a=null!=(a=d(i,\"className\")||(null!=t?d(t,\"className\"):t))?a:o,typeof a===l?a.call(s,{name:\"className\",hash:{},data:r,loc:{start:{line:1,column:12},end:{line:1,column:25}}}):a))+\" \"+u((a=null!=(a=d(i,\"orientation\")||(null!=t?d(t,\"orientation\"):t))?a:o,typeof a===l?a.call(s,{name:\"orientation\",hash:{},data:r,loc:{start:{line:1,column:26},end:{line:1,column:41}}}):a))+' jw-reset\">\\n    <div class=\"jw-slider-container jw-reset\">\\n        <div class=\"jw-rail jw-reset\"></div>\\n        <div class=\"jw-buffer jw-reset\"></div>\\n        <div class=\"jw-progress jw-reset\"></div>\\n        <div class=\"jw-knob jw-reset\"></div>\\n    </div>\\n</div>'},useData:!0})},function(e,t,i){var n=i(73);\"string\"==typeof n&&(n=[[\"all-players\",n,\"\"]]),i(71).style(n,\"all-players\"),n.locals&&(e.exports=n.locals)},function(e,t){e.exports=\"data:application/font-woff;base64,d09GRgABAAAAABBsAAwAAAAAGrQAAQABAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAABHAAAABwAAAAceNAbgU9TLzIAAAE4AAAAPAAAAGAPEwN7Y21hcAAAAXQAAABVAAABXhpX0/hnYXNwAAABzAAAAAgAAAAIAAAAEGdseWYAAAHUAAAMJQAAE8DyWIwraGVhZAAADfwAAAAzAAAANg6NKpBoaGVhAAAOMAAAACAAAAAkCUEFmmhtdHgAAA5QAAAATAAAAHh6CweJbG9jYQAADpwAAAA+AAAAPkNgPzJtYXhwAAAO3AAAABgAAAAgACcBc25hbWUAAA70AAAA7wAAAdeoyha4cG9zdAAAD+QAAACIAAABNQYi66kAAAABAAAAANIEFAUAAAAA0dQiKwAAAADU9+VQeJxjYGapYJzAwMrAwDST6QwDA0M/hGZ8zWDMyMmAChgFGDAA4zMJ5gP/DzA4MAMxiI8kp8DACABAdAqXeJxjYGBgZoBgGQZGBhCIAPIYwXwWBhsgzcXAwcAEhIwMCs8k/v/9/x+sSuEZA4T9/4kUK1gHFwMMMILMY2QDYmaoABOQYGJABUA7WBiGNwAAPDoNNAAAAAABAAH//wAPeJy1V1tsXMUZnsuZM+d+8bnsOrZ3vRfvxuuNb+vdzcXebOLcGpQEkoBzAeSEKBdChQuq2kZJ2CoPRSIRQRFBRYoaiUpASkSUqEiNKuqWFqmVUvWhFVKfEA9ItEVCagtSsTf956zXcQK9PMDRnLnPP//MfPP9/yCM2h9BaBVB/6ssoWmE2GXaQKvRWrQBfQOhviA9SMpjleogLo/VSGk0QQJf5gkc+BbJuKNhrAYNgySTtqBBlEruCA5S5VRsMcL1wZ0TGQ2+TSdeeeSRV05sEvnMxM7BwtYEJqsPP7tt27OHV2OS2FogDxJ9/p8X8bebz23FA80/JRKiX+dgkJxMi5FCQnoyGUAVyMSzPZ1mlyVGCylWl9nZ03yUHnzxxfejACvDqI4QnYU1pRDy/AQsoUbKJaF9tDJYUyB0H3murcd9bS1FGik2256gXSvS+0QFgj0D+ZKQb6FuVEAjsGeDOJ9yUy4kEKd4ZpDmywkaGxnAd3LlBI6NkGcok4gxt0kf0KXx+V/s2qdsOH52x8E3zuxSfrqf51dvLUwc31lW3vr+0CZjvb5cI79sfkQ1grfM/Wr99h8cXa/sUe5vvDrdv2VVju/hYw8cGT+lbxgUJ8qW6NWJ8qiMxr+gGS5DBCqN4P+iYoPIjJhzdaOgSfX52WaD1pu98Y17n6jhFfuUjULdq2d2qjf28fyarYXxx3dW1JuN4Q1G3VhukNnmx0SheNPcLP7DJ/OzE0d2r4vNf7Lt2aPr+T7Q/DXQfGUOsuUHjqw5ZUwOLuwnE3pLSEVH0G8QKkW6Cr1ZDVcBYYA6UK0VMrCWdsikZW7hVhBgbHcqjVZgWLXUboOQSecWhwl4Q/NI6muVXmeNfzVY5XNf+ttcxkp5fjHekXLsbtPwFUUn+zFjkgYzKIqjOst0vYNzjUafxnmHri9zwpRh2HQfUbnimUa362T9eNH3UpYZ8OgLTHzTTPlesdNNOU63YQSKopF9hEmSLssg2VWcri9K7nKCtGFYdD9RFe4bRo/jZr3OouenTMvnXFE49y3amGvQ8nxI/vKeE1dUlTFma1rchpWoFucGYwqlRJZlF2pNs9syl5lmTNNcqDJNKx36WdfphsmhrCpqzLazvl+MxVcEftb+6iUiuogjBz2Jfo9QP07nyu5YpZQaDQPXlzM4Ou57T7z0/594K2S+9MRX4dTXK54VP39tYmpqQtoj4rmX4Szl6CxVR1EsmWuSJON9RFMUH7Di2KmOe7EiMDjQ6Wcdp8cADHKV7KO2YaSDCCMggUqUSvhniygB+HBblnVJYni/kBwYINlJufdipYVBD45HSOaKSvZTyzBTwV3om6qRh2pTU7X5K7Up/A8zrukOnCShVGHM4NxSQVs7rmmWzJiqKnEHzjdYEY8VfThfOwZHDt1BsW6Aqx+mLdNsYSVmmsssMAVfvUQU2ZP30WXaS95HPhSWmhFhGmnviu3HxsePbV/RTvHs0pJIUYRNR6rT85BzUBKhqopTfaOV8lgOMAFQKHmtnAtZqHbrBCz0HPxWEFjiz7QSK3DEvZwJHTseuk6IPxRp8z0R437o37Z9HNmCR2PVGI8JKs3zfDVfb1w7d63RfBr/HZ+LsgsJhboos2hHFvk4RCW0Yykj41K55GbKmSDjloK+NoKFi9BG9gB2S8KQcHcprmGpi4AewEu5cfdb09NvHTpEHvYTlg2QUmXOPcNIeV6x69q1sOBd3qzGVK1D4SYwhkSJGbX3utWIoirzMfJRc/Zqsz47i2evXgI42ukwGO6KD3ph2rbimsrxLOF8svlha3BMCHd7oiZbYkzYoIlF7uhBa9DeL2MPWHIZFl0uBSWX3VnK3auEylVL9mEJEyxsEVzkwuev1/bsqUlTIp6/MX3j0KEb0/ga6GUlPS8fXrvWVfS8hG14nMtEUb+jdGiqb2yueglD1OkSBa2ZyffUyO5Ixhu1PeTS1YUtOAVAFvsoN+sqV4Fe+7ywGO8ZDj9QTAL3Oym1eTfpeknbiHHA+OTt2/QyPY2eFz5TupwfzuWjAxNM1Y2DaAWtJY5URoNhn7fpa8nqadTUcguhLVxCajVaHY8gkINNoCNyujw8Ttpl3K6KEBLVjATnZUmRFMIsjas05DxlOzbnFTh/ypmuajGDmYzr3PAUNdkdMAbkpTAeuG7WFXUdzOo05NGVQ5LKjVCiE1vGJTaUddNwazQ53dcNUCI0vjyf03gR3wS+iNtM46ISIKJz/7jlmlzptb0LmnZp2CsLqaIZOtkZy59cP6Jpu57+bp+XccGacazxQHP7nPy2nPfmb9+wmUy4SSVgmBevPq+q5d2HR8prOIzWuh19+vEHNe1EmNzB6Oakd562PPJNAMRKdO8UhFIuXDOVuPTdmRlAeaP9N+vNOm1E/SGmjYV7ilKLN5Q0MLqNmkjEd8ZBsSGADjmYTsUulpCox7NCXrMO8rZC++r2/DC7W4L5b87MtATcM73ADOqlk/Qy6ofCwvugTY1lE5ejB8KC+w0nXaXmsu7xY2d37Dh7dGLi6NkduN68iypDbxd5bOCxcrtdpI2rNxpLqbT/vuTwgo9/mPRSD8mAV7fU5/Zl6rew1/z4Fi5h79b8rlsLfvp5UDaGBuB9sw72KF+j4u2SryaoUJePDOEWM4kKi/KRfLsYXdc8a4mmfy7kagOx2EAtVyhMDnd2Dk8Wfty/asOGVf2psayP/Wwp9U56+fJ0ITc8nCvM32qpkln+6LGnxse/dezR/szA4adOrlt38qnDA2cy5Rd2736hnElsuX/P0NDeBzb33Ai39A9sCjLdD4+V9yb76cIK0AKfv9PmcxxLRYyOBZkDp9PCTPP1mZe+98Nm7uKJizN46pvkaYhnLp640MyImuaVJ4TtwR6bJdPIgHdBTtgwGbwLcCqAnYLUfyzgcwc3bjxwYOPGgyQUsSiRnnYO32yl7fKdtIWN9YjQt4FPeoXWoc/l9BCGKJ8bWwtXfKxaGU1iiKDJxuSVz7LZ7GM9n34KUTb72d0lPPul1QslBAjYgCT6c3oyugcW8lAcOBzhFLxE3cUIl4C93cUIv0qC+b+2/+al69FHT+7d27zU+sm716+LevEj5fbbgLeX6UuA9fvRM+hNXMDjeC+eQajDwmlL8hNKTRtU0znvDuWJkB8kY+XB9jtB9heokeXCFtUJpxAIL50TzX64YEKJLzpHPYWYVEtIvoDzcmWhAyRtB7M1VwWu3RikWTktpy0wggBgP6GN1thogoKnMlqzxwbN9GCQztFIumB2eTSaIx/jrXfPEG5xdcuNreG1uBRNsRYnMc+A0rm06Fiuln4nq3LcNDgBk+oBMbMuZnoS87BEJAKBMcKIEufKBw7FssY4Zphi0ySYEn1VUurqYpqEOzzJkpsfaOBw9lgqVSiDt44GMvSQYSJhQjChUbAdtUMbAaeT9MnwRui1qNK9IgaOnQpisYaxhJnidlW4wZlBRJFQuXnGVnTGhPMHryGD8ZxqwIuHya4qycxRGOZgRwnI0zoNagQPabxHDY2apQWKypap6zu4zVSDqWAxwaPEIhBZclQma5rKqJ1nmgwN0M4NWaImSFVk1TjLYcGgu3CnqWpVcZ38QI+rkq5gortgvOGFLPSjHdkOafVuSngV0zWYnFc1HVYNJo+upi9hucPpjMfjSUVL22I7CTYYTYDi8nCPbJkykziYuWZTphi2TmYqCPWqcQILJj1DKvF79ZihB3q834aNBefRd3t1DlNTODXYokAHJYRBA9sJPpciLasEqs6J2jXURWCE3csYp/AuMKAziFzRBw8C3YWHhkQtSbgSFB6aqRrsMBZbqVlSh2QWZbB9OgbDTWTFdhlXXdXqsh1Fs9wuMLqqOCrCcDQGpEDWwIrMJd/itjGsmbJisoDJXNh3ux/Oy4Itl6mtcsplMVKSmp9SCpuowfwmt2wZH7wAZ6gzN6yoyxzYCkIANPBRvPk9gN4FSn4NVTJWbeNlKvzx6+g03U6PIxN1oSKwRXlsCLt+jIk0x7jcg/vADRepT/M5zmLhWlypVpIYUrwmf8DAhdxJA58+mcMF40C+csowmn88kM+dJlRTT+VzB/Fz54phtXnV4leeLIabOd8cFp+8ApduVzUsnjPxj6DqJyvDcAsoybaE4UqgzX8D/xsA5QAAAHicY2BkYGBglJx1TCcpIp7f5isDNwsDCFz5/kwXRv/f9/8/6wHmBUAuBwMTSBQAjKUO+QB4nGNgZGBgPvD/AAMDG8P/ff93sx5gAIqgADkAqTMG5XicY2GAAMZQCM0ExGwMDAksDAwOrFDMBsVAsQcsDWAaJmbL/IDBGSjmBhRrAOMGBi/mBqDYAaC6Awi1QNoJiF2YQv/vA9KbAI3bDwgAAAAAAAgACAAQABgAggCyAP4BWgJ+A6oDzAQABCIEnAUcBd4F9gYOBh4GNgZ0BoYG6AcKB0QHegesCZQJ4AAAeJxjYGRgYJBjLGTgYAABJgY0AAAPZgCceJyNjTFqw0AQRZ9s2SFOcBmCK3WpJBAEUqYLuHCTwpBSljdCxuyCJGO7ywVyjLSBnCMXyHHyJeYAXpjdN3/n/wHmfBPRn4hbFsYjrngyHkt/M47FH8YTbvgynkr/NZ6xiOZyRfG1lPshoeeRdj0Yj6U/G8fid+MJd3waT6X/GM945I8dR1Jaak56a0oCXj27Y9rWp7Qug1f3iqPiwJ6CRq2rDvtCcKH9wrG1tjTDWP+dkJOpWLumrYNP8iy/OOplkDuFVAr1Q3Ch3rGVtuGsezmYV6p+NpMp+C6pnHdN0bltsjknyzKsQvAZ/zFPTQYAeJx9zckOAVEYROF7btNtnmfiGe5vaG1paK+CRMTGwttLKFu1+VKr47z7v7lzeOeJXESBIjEJJcpUqFKjToMmLdp06NKjz4AhI8ZMmDKLz7fX42LJ834NIXzM0xDk7y/kUq7kWqZyIzO5lTu5lwd5lLk8fTX1TX1T39Q39U19U9/Ut+wNCxs9kg==\"},function(e,t){e.exports=\"data:application/octet-stream;base64,AAEAAAAMAIAAAwBARkZUTXjQG4EAABqYAAAAHE9TLzIPEwN7AAABSAAAAGBjbWFwGlfT+AAAAiAAAAFeZ2FzcAAAABAAABqQAAAACGdseWbyWIwrAAADwAAAE8BoZWFkDo0pogAAAMwAAAA2aGhlYQlBBZoAAAEEAAAAJGhtdHh6CweJAAABqAAAAHhsb2NhQ2A/MgAAA4AAAAA+bWF4cAAnAXMAAAEoAAAAIG5hbWWoyha4AAAXgAAAAddwb3N0BiLrqQAAGVgAAAE1AAEAAAABGZrGLGQ0Xw889QALBAAAAAAA1PfltgAAAADU9+W2/77//wXAA6AAAAAIAAIAAAAAAAAAAQAAA8D/wAAABgD/vv+7BcAAAQAAAAAAAAAAAAAAAAAAAB4AAQAAAB4BcQAIAAAAAAACAAAAAAAAAAAAAAAAAAAAAAADBHgBkAAFAAACmQLMAAAAjwKZAswAAAHrADMBCQAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAAAAAAAAAAAeYYA8D/wABAA8AAQAAAAAEAAAAAAAAAAAAAACAAAQQAAAAAAAAAAVUAAAAAAAACAAAABgAAYAQAAEAFAABABQAAQAYAAEAGAABABAAA4ASAAEAEAABABgAAQAYAAD0D4ABDBIAARgQAAIAEAACABIAASgOAAEMEwABABMAAQAQAAEAGAABABAAAQgQAAEQCVf++BAAAsgAAAAMAAAADAAAAHAABAAAAAABYAAMAAQAAABwABAA8AAAACgAIAAIAAgABACDmGP/9//8AAAAAACDmAP/9//8AAP/kGgUAAwABAAoAAAAAAAAAAAABAAMAAAEGAAABAwAAAAAAAAECAAAAAgAAAAAAAAAAAAAAAAAAAAEAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgACAAQABgAggCyAP4BWgJ+A6oDzAQABCIEnAUcBd4F9gYOBh4GNgZ0BoYG6AcKB0QHegesCZQJ4AAAAAEAAAAAAAAAAAACAAA5AgABAAAAAAAAAAAAAgAAOQIAAQAAAAAAAAAAAAIAADkCAAQAYAAABaADgAA6AD8ARABJAAAlFSIuAjU0NjcuATU0PgIzMh4CFRQGBx4BFRQOAiMRMhYXPgE1NC4CIyIOAhUUFhc+ATMRMQEVITUhFxUhNSEXFSE1IQFALlI9IwoKCgpGeqNdXaN6RgoKCgojPVIuKkoeAQI6ZohNTYhmOgECHkoqAlUCC/31lgF1/otKASv+1R4eIz1SLhkuFR9DIl2jekZGeqNdIkMfFS4ZLlI9IwHAHRkNGw5NiGY6OmaITQ4bDRkd/l4DYpWV4JWV4JWVAAAAAQBAAAADwAOAACEAABMUHgIzMj4CNTMUDgIjIi4CNTQ+AjMVIg4CFTGLOmaITU2IZjpLRnqjXV2jekZGeqNdTYhmOgHATYhmOjpmiE1do3pGRnqjXV2jekZLOmaITQAABABAAAAEwAOAAA4AHAAqADEAACUuASchESERLgEnESERIQcjLgMnNR4DFzErAS4DJzUeAxcxKwE1HgEXMQJ/AwUEAgz8RgsrCwQ8/b9TWghEa4xPYqyDUwi1WwcnOkoqPWtSNQi2gS9GDEILKAoCwf7pAwoCAUj8wkJOh2hCCFgIUICnYClIOSYHWAc0UWc8fQtELgAAAAAFAEAAAATAA4AADgAZACcANQA8AAAlLgEnIREhES4BJxEhESEBNSERIS4DJzEBIy4DJzUeAxcxKwEuAyc1HgMXMSsBNR4BFzECgAIGBQIN/EAMKgoEQP3A/oADQP4gGEVZbD4BLVoIRWuMT2Ktg1IJs1oHJztKKjxqUjYJuoAwRAxADCgMAsD+7QIIAwFG/MAB0PD9wD1nVEEX/fBNiGhCB1oIUICoYClIOCYHWgg1UWc7fQxDLgAABABAAAAFwAOAAAQACQBnAMUAADMRIREhASERIREFPgE3PgEzMhYXHgEXHgEXHgEXIy4BJy4BJy4BJy4BIyIGBw4BBw4BBw4BFRQWFx4BFx4BFx4BMzI2Nz4BNzMOAQcOAQcOAQcOASMiJicuAScuAScuATU0Njc+ATcxIT4BNz4BMzIWFx4BFx4BFx4BFyMuAScuAScuAScuASMiBgcOAQcOAQcOARUUFhceARceARceATMyNjc+ATczDgEHDgEHDgEHDgEjIiYnLgEnLgEnLgE1NDY3PgE3MUAFgPqABTb7FATs/CMOIRMULBgSIRAPHA0MFAgICwJbAQUFBAoGBw4ICBAJEBoLCxIHBwoDAwMDAwMKBwcSCwsaEBYhDAwPA1oCCQcIEw0MHBEQJBQYLBQTIQ4NFQcHBwcHBxUNAboNIRQTLBkRIRAQHAwMFQgICgJaAgUEBAsGBg4ICBEIEBsLCxIHBwoDAwMDAwMKBwcSCwsbEBUiDAwOA1sCCQgHFAwMHRARJBMZLBMUIQ0OFAcHCAgHBxQOA4D8gAM1/RYC6tcQGAgJCQUFBQ8KChgPDiETCQ4HBwwFBQgDAwIGBgYRCgoYDQ0cDg0aDQ0XCgoRBgYGDQ0OIhYUJBEQHAsLEgYGBgkICRcPDyQUFCwXGC0VFCQPEBgICQkFBQUPCgoYDw4hEwkOBwcMBQUIAwMCBgYGEQoKGA0NHA4NGg0NFwoKEQYGBg0NDiIWFCQREBwLCxIGBgYJCAkXDw8kFBQsFxgtFRQkDwADAEAAAAXAA4AAEABvAM4AACkBIiY1ETQ2MyEyFhURFAYjAT4BNz4BNz4BMzIWFx4BFx4BFx4BFzMuAScuAScuAScuASMiBgcOAQcOAQcOARUUFhceARceARceATMyNjc+ATc+ATc+ATcjDgEHDgEjIiYnLgEnLgEnLgE1NDY3OQEhPgE3PgE3PgEzMhYXHgEXHgEXHgEXMy4BJy4BJy4BJy4BIyIGBw4BBw4BBw4BFRQWFx4BFx4BFx4BMzI2Nz4BNz4BNz4BNyMOAQcOASMiJicuAScuAScuATU0Njc5AQUs+6g9V1c9BFg9V1c9/JoDCgcGEgsLGxAJEAgIDgYHCgQEBgFaAgoICBQNDBwQDyESGCwUEyEODRUHBwcHBwcVDQ4hExQrGRQkEBAdDAwUCAcJAloDDwwMIhUQGwsLEgYHCgMEAwMEAbkDCgcHEgsLGxAIEQgHDwYGCwQEBQFbAgoICBUMDBwQECERGSwTFCENDhQHBwgIBwcUDg0hFBMsGRMkERAdDAwUBwgJAlsDDgwNIRUQGwsLEgcHCgMDAwMDVz4CVj5XVz79qj5XAfQNGAoLEAYGBgIDAwgFBQwHBw4JEyEODxgKCg4GBQUJCQgYEA8kFBUtGBcsFBQkDw8XCQgJBgYGEgsLHBARJBQWIg4NDQYGBhEKChcNDRoODhsNDRgKCxAGBgYCAwMIBQUMBwcOCRMhDg8YCgoOBgUFCQkIGBAPJBQVLRgXLBQUJA8PFwkICQYGBhILCxwQESQUFiIODQ0GBgYRCgoXDQ0aDg4bDQAAAAABAOAAoAMgAuAAFAAAARQOAiMiLgI1ND4CMzIeAhUDIC1OaTw8aU4tLU5pPDxpTi0BwDxpTi0tTmk8PGlOLS1OaTwAAAMAQAAQBEADkAADABAAHwAANwkBISUyNjU0JiMiBhUUFjMTNCYjIgYVERQWMzI2NRFAAgACAPwAAgAOFRUODhUVDiMVDg4VFQ4OFRADgPyAcBYQDxgWERAWAeYPGBYR/tcPGBYRASkAAgBAAAADwAOAAAcADwAAMxEXNxcHFyEBIREnByc3J0CAsI2wgP5zAfMBjYCwjbCAAY2AsI2wgAOA/nOAsI2wgAAAAAAFAEAAAAXAA4AABAAJABYAMwBPAAAzESERIQEhESERATM1MxEjNSMVIxEzFSUeARceARceARUUBgcOAQcOAQcOASsBETMeARcxBxEzMjY3PgE3PgE3PgE1NCYnLgEnLgEnLgErAUAFgPqABTb7FATs/FS2YGC2ZGQCXBQeDg8UBwcJBgcHEwwMIRMTLBuwsBYqE6BHCRcJChIIBw0FBQUEAwINBwcTDAwgETcDgPyAAzb9FwLp/sCt/kDAwAHArZ0HFA4PIhYVMBsYLhMWIg8OGAoJBwHAAgcHQ/7mBAMCDQcHFwwMIRMRHQ8OGAoJDwQFBQAABAA9AAAFwAOAABAAHQA7AFkAACkBIiY1ETQ2MyEyFhURFAYjASMVIzUjETM1MxUzEQUuAScuAScuASsBETMyNjc+ATc+ATc+ATUuASc5AQcOAQcOASsBETMyFhceARceARceARUUBgcOAQc5AQUq+6k+WFg+BFc+WFg+/bNgs2Rks2ABsAcXDA4fExMnFrCwGywTEx4PDBMHBwYCCAl3CBIKCRQMRzcTHgwMEwcHCwQDBAUFBQ0HWD4CVD5YWD79rD5YAp2trf5AwMABwH0WIg4PFAcHBv5ACQcJGA8OJRMWLBgdMBbiCA0CAwQBHwQFBQ8KChgPDh8REx8PDBcHAAEAQ///A6ADfgCPAAATFCI1JzAmJzQmJy4BBw4BFRwBFR4BFx4BNz4BNz4BMTYyFTAUBxQWFx4BFx4BMzI2Nz4BNz4BNz4DMTYyFTAOAhUUFhceARcWNjc+ATc+ATc+ATc+Azc8ATU0JicmBgcOAzEGIjUwPAI1NCYnJgYHDgEHDgMxBiI1MCYnLgEnJgYHDgExFZAGBAgECAIFDgoHCQMWBwchDxAPBwc2BQQDAwcFCwkKFwwFDQUHCwcMEwgJHxwVBQUDBAMIBQcVEREkEQwTCAkSBQ4ZDAYyOC8ECQcMFgQDPUg8BAUvJBEiERAWCgYiJRwFBQQCAxgoJyYKBywBugUFDBgPBQoHBQQCAw0HBwsHFGsOEQ0HCCAPE5MKCp0wEzURDBMIBwUEAgUKBw8jDhRDQjEKClNzeCUTIxEQGAgHAQoHFQoRJRAnTSYTr8msDwUGAgcNAwQICQaVrY8JCTVUZjE1OwcCBQoKHBALYGpVCgp6Fh9PBQNHHxOQAwAAAAACAEYAAAQ2A4AABAAIAAAhETMRIwkCEQPGcHD8gAOA/IADgPyAA4D+QP5AA4AAAAACAIAAAAOAA4AABAAJAAAhESERIQEhESERAoABAP8A/gABAP8AA4D8gAOA/IADgAABAIAAAAQAA4AAAwAACQERAQQA/IADgAHA/kADgP5AAAIASgAABDoDgAAEAAgAADMRIxEzCQIRunBwA4D8gAOAA4D8gAOA/kD+QAOAAAAAAAEAQwAgA0MDoAApAAABHgEVFA4CIyIuAjU0PgIzNQ0BNSIOAhUUHgIzMj4CNTQmJzcDDRocPGmMT0+MaD09aIxPAUD+wDxpTi0tTmk8PGlOLRYTUwJjK2M1T4xoPT1ojE9PjGg9gK2zgC1OaTw8aU4tLU5pPClLHzAAAAABAEAAZgIgAxMABgAAExEzJRElI0DNARP+7c0BMwETzf1TzQAEAEAAAASQA4AAFwArADoAQQAAISc+AzU0LgInNx4DFRQOAgcxLwE+ATU0Jic3HgMVDgMHMSc+ATU0Jic3HgEVFAYHJwURMyURJSMD2iomPisXFys+JioqQzAZGTBDKqQpOUREOSkhNCQUARQkMyHDIigoIiomMDAmKv3NzQET/u3NIyheaXI8PHFpXikjK2ZyfEFBfHJmK4MjNZFUVJE1Ix5IUFgvL1lRRx2zFkgpK0YVIxxcNDVZHykDARPN/VPNAAAAAgBAAAADwwOAAAcADwAAARchERc3FwcBByc3JyERJwMqcP6pcJd5mf4mlnqWcAFXbQJzcAFXcJZ6k/4jlnqWcP6qbAADAEABEwXAAmAADAAZACYAAAEUBiMiJjU0NjMyFhUhFAYjIiY1NDYzMhYVIRQGIyImNTQ2MzIWFQGNYkVFYWFFRWICFmFFRWJiRUVhAh1hRUViYkVFYQG6RWJiRUVhYUVFYmJFRWFhRUViYkVFYWFFAAAAAAEAQgACA74DfgAgAAABFxYUBwYiLwEHBiInJjQ/AScmNDc2Mh8BNzYyFxYUDwECo/ckJCRjHfb2JGMdJCT39yQkJGMd9vYkYx0kJPcBwPYkYx0kJPf3JCQkYx329iRjHSQk9/ckJCRjHfYAAAYARAAEA7wDfAAEAAkADgATABgAHQAAASEVITURIRUhNREhFSE1ATMVIzURMxUjNREzFSM1AacCFf3rAhX96wIV/ev+nbKysrKysgN8WVn+nVlZ/p1ZWQLGsrL+nbKy/p2ysgAI/74AZgKaA5cAKQBQAH8ArwEqATwBWQFwAAASDgEiDgQUHgg+Ci4JIiYTPgE3PgE3PgE3PgE3PgEnLgI0NS4BBw4BBw4BBwYUFRQWFx4BFwUmFicuAScmBicuASMmBgciJgcOAQcUFg4BBw4BBw4CFA4BBwYWFx4BFzc+ATchLgI0NS4BJyoBJwY2Bw4BBw4CFAcOARceARceARczPgE3PgE3NjQ+AjQ+ATckBiIGIg4HFA4VFAYUHgoyPgUyHgMyHgIyPg80Lg0iLhUiJgMOAQcGFgcOARUGMhceARc3JxcHIy4BJy4BLwE+ATc+Azc+ATc+ATM+AT8BMxceARczPwEfAQcjJhYnJiIjLgEnNTczygYJBhgNDAcCBAMCEw8HBwUbBQ0TBAUTAQQCBAICBAIFBQIFAggYBwjiEAMBBgoFBwEFAQMBDQ0CAQMCCzkfBBsbBQoEARITBA4G/uIKCgcHHQ4JAwgDBQIJBwoBBAILFgUBAgQBAgIBAgMBAgMBAg8QCRIKMRQhDQIlBgMCBiAOAwgcLRcKDgYJAQMBAQoBAQQBBQgRGzYHDAcFDAIBAQQBAgMG/oMPCAsFBQYFBQkGBg4MBQcmCQwJCAcFBhEJBAYFEAgFAQcFBQUCAwIGChkMAwwVVgoHHQkWDD4OChUICQUaCUISBw8FCQwFCQQFBQgFBQEFBQEFAgYEEAkFBgoKCQUDDycFCgYIBQUJBAUHDAYEAw0EBgUIBgkMjAcKBQcCAgEEAwMEAwkONwFAAocLGAkECwgBAgsRAwQFCAMBAQIDBgMSJBIEOlQDAgc3AQM7AQKQCQoLAgQBDgoHAzoDlwEGEhAZGBgYHwgKIg8FAgUCAgEMBQMeBgUQBjAdBg4NBgUEBwkSBf7+BgMBAwgDBgUJAQECEzcYAgUGBQIdLwkCFCALFwwLFQsYKQ8DBQIVDg4UESALBwMBAQMCBAMBAQQVCwECAwQCBQoFAwQGBwcIBBo2FQkLBwIJGy8bAgMFAg8gBQUHAwYHCgwBAQQFAh0tJQgRCAsRCgQEBAMOBAIDBAEDBQQEIT4FBQYBBQEHBQoOBBIEDSwGDwUGCwEFDgoCBggPEQUHCREJDhsPEAgKDhEbBQUECQEEAQUCBQEGAQUBBwQCAwIFAQwBCAYHBBQOBw8MMAoNBggNBRUFBgcFDQUHDykJCAcOBgQQBgMPCQcDBwYFAgUBBAT+9gMDBQgDCgMFBA0HDg8GAWKTAgYKCwURFjYJGhADBgUCAgIDAQEBAQMBR9cHAQWTAwLEAgICBgEJDwyaAwAAAwCyAH4DTgNrAA0AGwAsAAABNTQvAREUFwU1NC8BJgUHBh0BJTY1EQcGHQEUAycmBwUXFj8BNjc2HwEWPwEBOydhDAEqJnwMAX58JgEqDGEnNn0MDP7UYScmfgIDCgl9JyZiAYuNLBY3/q0OB6pvLBZHBwdHFixvqgcOAVM3FiyNDQGfRwcHqzgWFkgBAQMFSBYWOAAAAAAAAA4ArgABAAAAAAABAAwAGgABAAAAAAACAAcANwABAAAAAAADAAwAWQABAAAAAAAEAAwAgAABAAAAAAAFAAsApQABAAAAAAAGAAwAywABAAAAAAAKABoBDgADAAEECQABABgAAAADAAEECQACAA4AJwADAAEECQADABgAPwADAAEECQAEABgAZgADAAEECQAFABYAjQADAAEECQAGABgAsQADAAEECQAKADQA2ABqAHcALQBzAGkAeAAtAGkAYwBvAG4AcwAAanctc2l4LWljb25zAABSAGUAZwB1AGwAYQByAABSZWd1bGFyAABqAHcALQBzAGkAeAAtAGkAYwBvAG4AcwAAanctc2l4LWljb25zAABqAHcALQBzAGkAeAAtAGkAYwBvAG4AcwAAanctc2l4LWljb25zAABWAGUAcgBzAGkAbwBuACAAMQAuADEAAFZlcnNpb24gMS4xAABqAHcALQBzAGkAeAAtAGkAYwBvAG4AcwAAanctc2l4LWljb25zAABGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAEZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeAAABAgACAQMAAwEEAQUBBgEHAQgBCQEKAQsBDAENAQ4BDwEQAREBEgETARQBFQEWARcBGAEZARoBGwEcBmdseXBoMQd1bmkwMDAxB3VuaUU2MDAHdW5pRTYwMQd1bmlFNjAyB3VuaUU2MDMHdW5pRTYwNAd1bmlFNjA1B3VuaUU2MDYHdW5pRTYwNwd1bmlFNjA4B3VuaUU2MDkHdW5pRTYwQQd1bmlFNjBCB3VuaUU2MEMHdW5pRTYwRAd1bmlFNjBFB3VuaUU2MEYHdW5pRTYxMAd1bmlFNjExB3VuaUU2MTIHdW5pRTYxMwd1bmlFNjE0B3VuaUU2MTUHdW5pRTYxNgd1bmlFNjE3B3VuaUU2MTgAAAAAAQAB//8ADwAAAAEAAAAA0gQUBQAAAADR1CIrAAAAANT35VA=\"}])});\n\n\n// WEBPACK FOOTER //\n// cyberplayer.js"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourceRoot":""}